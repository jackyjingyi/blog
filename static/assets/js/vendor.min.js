var g,V,Vectorizer,UUID;!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(b,t){function e(t,e){return e.toUpperCase()}var n=[],w=b.document,c=n.slice,g=n.concat,s=n.push,r=n.indexOf,i={},o=i.toString,p=i.hasOwnProperty,m={},a="2.2.4",M=function(t,e){return new M.fn.init(t,e)},l=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/^-ms-/,h=/-([\da-z])/gi;function d(t){var e=!!t&&"length"in t&&t.length,n=M.type(t);return"function"!==n&&!M.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}M.fn=M.prototype={jquery:a,constructor:M,selector:"",length:0,toArray:function(){return c.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:c.call(this)},pushStack:function(t){t=M.merge(this.constructor(),t);return t.prevObject=this,t.context=this.context,t},each:function(t){return M.each(this,t)},map:function(n){return this.pushStack(M.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(c.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,t=+t+(t<0?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},M.extend=M.fn.extend=function(){var t,e,n,i,r,o=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||M.isFunction(o)||(o={}),a===s&&(o=this,a--);a<s;a++)if(null!=(t=arguments[a]))for(e in t)r=o[e],o!==(n=t[e])&&(l&&n&&(M.isPlainObject(n)||(i=M.isArray(n)))?(r=i?(i=!1,r&&M.isArray(r)?r:[]):r&&M.isPlainObject(r)?r:{},o[e]=M.extend(l,r,n)):void 0!==n&&(o[e]=n));return o},M.extend({expando:"jQuery"+(a+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===M.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!M.isArray(t)&&0<=e-parseFloat(e)+1},isPlainObject:function(t){if("object"!==M.type(t)||t.nodeType||M.isWindow(t))return!1;if(t.constructor&&!p.call(t,"constructor")&&!p.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(var e in t);return void 0===e||p.call(t,e)},isEmptyObject:function(t){for(var e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?i[o.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=M.trim(t))&&(1===t.indexOf("use strict")?((e=w.createElement("script")).text=t,w.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(u,"ms-").replace(h,e)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(d(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(l,"")},makeArray:function(t,e){e=e||[];return null!=t&&(d(Object(t))?M.merge(e,"string"==typeof t?[t]:t):s.call(e,t)),e},inArray:function(t,e,n){return null==e?-1:r.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,a=!n;r<o;r++)!e(t[r],r)!=a&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,a=[];if(d(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return g.apply([],a)},guid:1,proxy:function(t,e){var n,i;if("string"==typeof e&&(i=t[e],e=t,t=i),M.isFunction(t))return n=c.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(c.call(arguments)))}).guid=t.guid=t.guid||M.guid++,i},now:Date.now,support:m}),"function"==typeof Symbol&&(M.fn[Symbol.iterator]=n[Symbol.iterator]),M.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){i["[object "+e+"]"]=e.toLowerCase()});var f=function(n){function h(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)}function e(){w()}var t,p,_,o,i,g,d,m,b,l,u,w,M,r,A,y,a,s,v,I="sizzle"+ +new Date,x=n.document,C=0,c=0,f=rt(),S=rt(),T=rt(),D=function(t,e){return t===e&&(u=!0),0},N={}.hasOwnProperty,L=[],k=L.pop,E=L.push,O=L.push,P=L.slice,z=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Y="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",B="\\["+Y+"*("+R+")(?:"+Y+"*([*^$|!~]?=)"+Y+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+Y+"*\\]",F=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",H=new RegExp(Y+"+","g"),W=new RegExp("^"+Y+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Y+"+$","g"),G=new RegExp("^"+Y+"*,"+Y+"*"),U=new RegExp("^"+Y+"*([>+~]|"+Y+")"+Y+"*"),Z=new RegExp("="+Y+"*([^\\]'\"]*?)"+Y+"*\\]","g"),V=new RegExp(F),X=new RegExp("^"+R+"$"),q={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Y+"*(even|odd|(([+-]|)(\\d*)n|)"+Y+"*(?:([+-]|)"+Y+"*(\\d+)|))"+Y+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+Y+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Y+"*((?:-\\d)?\\d*)"+Y+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,$=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+Y+"?|("+Y+")|.)","ig");try{O.apply(L=P.call(x.childNodes),x.childNodes),L[x.childNodes.length].nodeType}catch(t){O={apply:L.length?function(t,e){E.apply(t,P.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function it(t,e,n,i){var r,o,a,s,l,u,c,h,d=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!i&&((e?e.ownerDocument||e:x)!==M&&w(e),e=e||M,A)){if(11!==f&&(u=K.exec(t)))if(r=u[1]){if(9===f){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(d&&(a=d.getElementById(r))&&v(e,a)&&a.id===r)return n.push(a),n}else{if(u[2])return O.apply(n,e.getElementsByTagName(t)),n;if((r=u[3])&&p.getElementsByClassName&&e.getElementsByClassName)return O.apply(n,e.getElementsByClassName(r)),n}if(p.qsa&&!T[t+" "]&&(!y||!y.test(t))){if(1!==f)d=e,h=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(et,"\\$&"):e.setAttribute("id",s=I),o=(c=g(t)).length,l=X.test(s)?"#"+s:"[id='"+s+"']";o--;)c[o]=l+" "+dt(c[o]);h=c.join(","),d=tt.test(t)&&ct(e.parentNode)||e}if(h)try{return O.apply(n,d.querySelectorAll(h)),n}catch(t){}finally{s===I&&e.removeAttribute("id")}}}return m(t.replace(W,"$1"),e,n,i)}function rt(){var n=[];function i(t,e){return n.push(t+" ")>_.cacheLength&&delete i[n.shift()],i[t+" "]=e}return i}function ot(t){return t[I]=!0,t}function at(t){var e=M.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function st(t,e){for(var n=t.split("|"),i=n.length;i--;)_.attrHandle[n[i]]=e}function lt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ut(a){return ot(function(o){return o=+o,ot(function(t,e){for(var n,i=a([],t.length,o),r=i.length;r--;)t[n=i[r]]&&(t[n]=!(e[n]=t[n]))})})}function ct(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in p=it.support={},i=it.isXML=function(t){t=t&&(t.ownerDocument||t).documentElement;return!!t&&"HTML"!==t.nodeName},w=it.setDocument=function(t){var t=t?t.ownerDocument||t:x;return t!==M&&9===t.nodeType&&t.documentElement&&(r=(M=t).documentElement,A=!i(M),(t=M.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",e,!1):t.attachEvent&&t.attachEvent("onunload",e)),p.attributes=at(function(t){return t.className="i",!t.getAttribute("className")}),p.getElementsByTagName=at(function(t){return t.appendChild(M.createComment("")),!t.getElementsByTagName("*").length}),p.getElementsByClassName=Q.test(M.getElementsByClassName),p.getById=at(function(t){return r.appendChild(t).id=I,!M.getElementsByName||!M.getElementsByName(I).length}),p.getById?(_.find.ID=function(t,e){if(void 0!==e.getElementById&&A){t=e.getElementById(t);return t?[t]:[]}},_.filter.ID=function(t){var e=t.replace(nt,h);return function(t){return t.getAttribute("id")===e}}):(delete _.find.ID,_.filter.ID=function(t){var e=t.replace(nt,h);return function(t){t=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return t&&t.value===e}}),_.find.TAG=p.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):p.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"!==t)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},_.find.CLASS=p.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&A)return e.getElementsByClassName(t)},a=[],y=[],(p.qsa=Q.test(M.querySelectorAll))&&(at(function(t){r.appendChild(t).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+Y+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||y.push("\\["+Y+"*(?:value|"+j+")"),t.querySelectorAll("[id~="+I+"-]").length||y.push("~="),t.querySelectorAll(":checked").length||y.push(":checked"),t.querySelectorAll("a#"+I+"+*").length||y.push(".#.+[+~]")}),at(function(t){var e=M.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&y.push("name"+Y+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||y.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),y.push(",.*:")})),(p.matchesSelector=Q.test(s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&at(function(t){p.disconnectedMatch=s.call(t,"div"),s.call(t,"[s!='']:x"),a.push("!=",F)}),y=y.length&&new RegExp(y.join("|")),a=a.length&&new RegExp(a.join("|")),t=Q.test(r.compareDocumentPosition),v=t||Q.test(r.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,e=e&&e.parentNode;return t===e||!(!e||1!==e.nodeType||!(n.contains?n.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},D=t?function(t,e){if(t===e)return u=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===n?t===M||t.ownerDocument===x&&v(x,t)?-1:e===M||e.ownerDocument===x&&v(x,e)?1:l?z(l,t)-z(l,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!r||!o)return t===M?-1:e===M?1:r?-1:o?1:l?z(l,t)-z(l,e):0;if(r===o)return lt(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?lt(a[i],s[i]):a[i]===x?-1:s[i]===x?1:0}),M},it.matches=function(t,e){return it(t,null,null,e)},it.matchesSelector=function(t,e){if((t.ownerDocument||t)!==M&&w(t),e=e.replace(Z,"='$1']"),p.matchesSelector&&A&&!T[e+" "]&&(!a||!a.test(e))&&(!y||!y.test(e)))try{var n=s.call(t,e);if(n||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return 0<it(e,M,null,[t]).length},it.contains=function(t,e){return(t.ownerDocument||t)!==M&&w(t),v(t,e)},it.attr=function(t,e){(t.ownerDocument||t)!==M&&w(t);var n=_.attrHandle[e.toLowerCase()],n=n&&N.call(_.attrHandle,e.toLowerCase())?n(t,e,!A):void 0;return void 0!==n?n:p.attributes||!A?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},it.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},it.uniqueSort=function(t){var e,n=[],i=0,r=0;if(u=!p.detectDuplicates,l=!p.sortStable&&t.slice(0),t.sort(D),u){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return l=null,t},o=it.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(_=it.selectors={cacheLength:50,createPseudo:ot,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(nt,h),t[3]=(t[3]||t[4]||t[5]||"").replace(nt,h),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||it.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&it.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return q.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&V.test(n)&&(e=g(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(nt,h).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=f[t+" "];return e||(e=new RegExp("(^|"+Y+")"+t+"("+Y+"|$)"))&&f(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(t){t=it.attr(t,e);return null==t?"!="===n:!n||(t+="","="===n?t===i:"!="===n?t!==i:"^="===n?i&&0===t.indexOf(i):"*="===n?i&&-1<t.indexOf(i):"$="===n?i&&t.slice(-i.length)===i:"~="===n?-1<(" "+t.replace(H," ")+" ").indexOf(i):"|="===n&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,t,e,g,m){var y="nth"!==p.slice(0,3),v="last"!==p.slice(-4),x="of-type"===t;return 1===g&&0===m?function(t){return!!t.parentNode}:function(t,e,n){var i,r,o,a,s,l,u=y!=v?"nextSibling":"previousSibling",c=t.parentNode,h=x&&t.nodeName.toLowerCase(),d=!n&&!x,f=!1;if(c){if(y){for(;u;){for(a=t;a=a[u];)if(x?a.nodeName.toLowerCase()===h:1===a.nodeType)return!1;l=u="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?c.firstChild:c.lastChild],v&&d){for(f=(s=(i=(r=(o=(a=c)[I]||(a[I]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===C&&i[1])&&i[2],a=s&&c.childNodes[s];a=++s&&a&&a[u]||(f=s=0)||l.pop();)if(1===a.nodeType&&++f&&a===t){r[p]=[C,s,f];break}}else if(!1===(f=d?s=(i=(r=(o=(a=t)[I]||(a[I]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]||[])[0]===C&&i[1]:f))for(;(a=++s&&a&&a[u]||(f=s=0)||l.pop())&&((x?a.nodeName.toLowerCase()!==h:1!==a.nodeType)||!++f||(d&&((r=(o=a[I]||(a[I]={}))[a.uniqueID]||(o[a.uniqueID]={}))[p]=[C,f]),a!==t)););return(f-=m)===g||f%g==0&&0<=f/g}}},PSEUDO:function(t,o){var e,a=_.pseudos[t]||_.setFilters[t.toLowerCase()]||it.error("unsupported pseudo: "+t);return a[I]?a(o):1<a.length?(e=[t,t,"",o],_.setFilters.hasOwnProperty(t.toLowerCase())?ot(function(t,e){for(var n,i=a(t,o),r=i.length;r--;)t[n=z(t,i[r])]=!(e[n]=i[r])}):function(t){return a(t,0,e)}):a}},pseudos:{not:ot(function(t){var i=[],r=[],s=d(t.replace(W,"$1"));return s[I]?ot(function(t,e,n,i){for(var r,o=s(t,null,i,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))}):function(t,e,n){return i[0]=t,s(i,null,n,r),i[0]=null,!r.pop()}}),has:ot(function(e){return function(t){return 0<it(e,t).length}}),contains:ot(function(e){return e=e.replace(nt,h),function(t){return-1<(t.textContent||t.innerText||o(t)).indexOf(e)}}),lang:ot(function(n){return X.test(n||"")||it.error("unsupported lang: "+n),n=n.replace(nt,h).toLowerCase(),function(t){var e;do{if(e=A?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=n.location&&n.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===r},focus:function(t){return t===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!_.pseudos.empty(t)},header:function(t){return $.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:ut(function(){return[0]}),last:ut(function(t,e){return[e-1]}),eq:ut(function(t,e,n){return[n<0?n+e:n]}),even:ut(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:ut(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:ut(function(t,e,n){for(var i=n<0?n+e:n;0<=--i;)t.push(i);return t}),gt:ut(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=_.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})_.pseudos[t]=function(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}(t);function ht(){}function dt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function ft(a,t,e){var s=t.dir,l=e&&"parentNode"===s,u=c++;return t.first?function(t,e,n){for(;t=t[s];)if(1===t.nodeType||l)return a(t,e,n)}:function(t,e,n){var i,r,o=[C,u];if(n){for(;t=t[s];)if((1===t.nodeType||l)&&a(t,e,n))return!0}else for(;t=t[s];)if(1===t.nodeType||l){if((r=(i=(r=t[I]||(t[I]={}))[t.uniqueID]||(r[t.uniqueID]={}))[s])&&r[0]===C&&r[1]===u)return o[2]=r[2];if((i[s]=o)[2]=a(t,e,n))return!0}}}function pt(r){return 1<r.length?function(t,e,n){for(var i=r.length;i--;)if(!r[i](t,e,n))return!1;return!0}:r[0]}function gt(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),u&&e.push(s)));return a}function mt(f,p,g,m,y,t){return m&&!m[I]&&(m=mt(m)),y&&!y[I]&&(y=mt(y,t)),ot(function(t,e,n,i){var r,o,a,s=[],l=[],u=e.length,c=t||function(t,e,n){for(var i=0,r=e.length;i<r;i++)it(t,e[i],n);return n}(p||"*",n.nodeType?[n]:n,[]),h=!f||!t&&p?c:gt(c,s,f,n,i),d=g?y||(t?f:u||m)?[]:e:h;if(g&&g(h,d,n,i),m)for(r=gt(d,l),m(r,[],n,i),o=r.length;o--;)(a=r[o])&&(d[l[o]]=!(h[l[o]]=a));if(t){if(y||f){if(y){for(r=[],o=d.length;o--;)(a=d[o])&&r.push(h[o]=a);y(null,d=[],r,i)}for(o=d.length;o--;)(a=d[o])&&-1<(r=y?z(t,a):s[o])&&(t[r]=!(e[r]=a))}}else d=gt(d===e?d.splice(u,d.length):d),y?y(null,e,d,i):O.apply(e,d)})}function yt(m,y){function t(t,e,n,i,r){var o,a,s,l=0,u="0",c=t&&[],h=[],d=b,f=t||x&&_.find.TAG("*",r),p=C+=null==d?1:Math.random()||.1,g=f.length;for(r&&(b=e===M||e||r);u!==g&&null!=(o=f[u]);u++){if(x&&o){for(a=0,e||o.ownerDocument===M||(w(o),n=!A);s=m[a++];)if(s(o,e||M,n)){i.push(o);break}r&&(C=p)}v&&((o=!s&&o)&&l--,t&&c.push(o))}if(l+=u,v&&u!==l){for(a=0;s=y[a++];)s(c,h,e,n);if(t){if(0<l)for(;u--;)c[u]||h[u]||(h[u]=k.call(i));h=gt(h)}O.apply(i,h),r&&!t&&0<h.length&&1<l+y.length&&it.uniqueSort(i)}return r&&(C=p,b=d),c}var v=0<y.length,x=0<m.length;return v?ot(t):t}return ht.prototype=_.filters=_.pseudos,_.setFilters=new ht,g=it.tokenize=function(t,e){var n,i,r,o,a,s,l,u=S[t+" "];if(u)return e?0:u.slice(0);for(a=t,s=[],l=_.preFilter;a;){for(o in n&&!(i=G.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=U.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(W," ")}),a=a.slice(n.length)),_.filter)!(i=q[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return e?a.length:a?it.error(t):S(t,s).slice(0)},d=it.compile=function(t,e){var n,i=[],r=[],o=T[t+" "];if(!o){for(n=(e=e||g(t)).length;n--;)((o=function t(e){for(var i,n,r,o=e.length,a=_.relative[e[0].type],s=a||_.relative[" "],l=a?1:0,u=ft(function(t){return t===i},s,!0),c=ft(function(t){return-1<z(i,t)},s,!0),h=[function(t,e,n){return n=!a&&(n||e!==b)||((i=e).nodeType?u:c)(t,e,n),i=null,n}];l<o;l++)if(n=_.relative[e[l].type])h=[ft(pt(h),n)];else{if((n=_.filter[e[l].type].apply(null,e[l].matches))[I]){for(r=++l;r<o&&!_.relative[e[r].type];r++);return mt(1<l&&pt(h),1<l&&dt(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(W,"$1"),n,l<r&&t(e.slice(l,r)),r<o&&t(e=e.slice(r)),r<o&&dt(e))}h.push(n)}return pt(h)}(e[n]))[I]?i:r).push(o);(o=T(t,yt(r,i))).selector=t}return o},m=it.select=function(t,e,n,i){var r,o,a,s,l,u="function"==typeof t&&t,c=!i&&g(t=u.selector||t);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&p.getById&&9===e.nodeType&&A&&_.relative[o[1].type]){if(!(e=(_.find.ID(a.matches[0].replace(nt,h),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=q.needsContext.test(t)?0:o.length;r--&&(a=o[r],!_.relative[s=a.type]);)if((l=_.find[s])&&(i=l(a.matches[0].replace(nt,h),tt.test(o[0].type)&&ct(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&dt(o)))return O.apply(n,i),n;break}}return(u||d(t,c))(i,e,!A,n,!e||tt.test(t)&&ct(e.parentNode)||e),n},p.sortStable=I.split("").sort(D).join("")===I,p.detectDuplicates=!!u,w(),p.sortDetached=at(function(t){return 1&t.compareDocumentPosition(M.createElement("div"))}),at(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||st("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),p.attributes&&at(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||st("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),at(function(t){return null==t.getAttribute("disabled")})||st(j,function(t,e,n){if(!n)return!0===t[e]?e.toLowerCase():(e=t.getAttributeNode(e))&&e.specified?e.value:null}),it}(b);M.find=f,M.expr=f.selectors,M.expr[":"]=M.expr.pseudos,M.uniqueSort=M.unique=f.uniqueSort,M.text=f.getText,M.isXMLDoc=f.isXML,M.contains=f.contains;function y(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&M(t).is(n))break;i.push(t)}return i}function v(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}var x=M.expr.match.needsContext,_=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,A=/^.[^:#\[\.,]*$/;function I(t,n,i){if(M.isFunction(n))return M.grep(t,function(t,e){return!!n.call(t,e,t)!==i});if(n.nodeType)return M.grep(t,function(t){return t===n!==i});if("string"==typeof n){if(A.test(n))return M.filter(n,t,i);n=M.filter(n,t)}return M.grep(t,function(t){return-1<r.call(n,t)!==i})}M.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?M.find.matchesSelector(i,t)?[i]:[]:M.find.matches(t,M.grep(e,function(t){return 1===t.nodeType}))},M.fn.extend({find:function(t){var e,n=this.length,i=[],r=this;if("string"!=typeof t)return this.pushStack(M(t).filter(function(){for(e=0;e<n;e++)if(M.contains(r[e],this))return!0}));for(e=0;e<n;e++)M.find(t,r[e],i);return(i=this.pushStack(1<n?M.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(I(this,t||[],!1))},not:function(t){return this.pushStack(I(this,t||[],!0))},is:function(t){return!!I(this,"string"==typeof t&&x.test(t)?M(t):t||[],!1).length}});var C=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(M.fn.init=function(t,e,n){if(!t)return this;if(n=n||S,"string"!=typeof t)return t.nodeType?(this.context=this[0]=t,this.length=1,this):M.isFunction(t)?void 0!==n.ready?n.ready(t):t(M):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),M.makeArray(t,this));if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:C.exec(t))||!i[1]&&e)return(!e||e.jquery?e||n:this.constructor(e)).find(t);if(i[1]){if(e=e instanceof M?e[0]:e,M.merge(this,M.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:w,!0)),_.test(i[1])&&M.isPlainObject(e))for(var i in e)M.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(n=w.getElementById(i[2]))&&n.parentNode&&(this.length=1,this[0]=n),this.context=w,this.selector=t,this}).prototype=M.fn;var S=M(w),T=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}M.fn.extend({has:function(t){var e=M(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(M.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],a=x.test(t)||"string"!=typeof t?M(t,e||this.context):0;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&M.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(1<o.length?M.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?r.call(M(t),this[0]):r.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(M.uniqueSort(M.merge(this.get(),M(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),M.each({parent:function(t){t=t.parentNode;return t&&11!==t.nodeType?t:null},parents:function(t){return y(t,"parentNode")},parentsUntil:function(t,e,n){return y(t,"parentNode",n)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return y(t,"nextSibling")},prevAll:function(t){return y(t,"previousSibling")},nextUntil:function(t,e,n){return y(t,"nextSibling",n)},prevUntil:function(t,e,n){return y(t,"previousSibling",n)},siblings:function(t){return v((t.parentNode||{}).firstChild,t)},children:function(t){return v(t.firstChild)},contents:function(t){return t.contentDocument||M.merge([],t.childNodes)}},function(i,r){M.fn[i]=function(t,e){var n=M.map(this,r,t);return(e="Until"!==i.slice(-5)?t:e)&&"string"==typeof e&&(n=M.filter(e,n)),1<this.length&&(D[i]||M.uniqueSort(n),T.test(i)&&n.reverse()),this.pushStack(n)}});var L,k=/\S+/g;function E(){w.removeEventListener("DOMContentLoaded",E),b.removeEventListener("load",E),M.ready()}M.Callbacks=function(i){var t,n;i="string"==typeof i?(t=i,n={},M.each(t.match(k)||[],function(t,e){n[e]=!0}),n):M.extend({},i);function r(){for(s=i.once,a=o=!0;u.length;c=-1)for(e=u.shift();++c<l.length;)!1===l[c].apply(e[0],e[1])&&i.stopOnFalse&&(c=l.length,e=!1);i.memory||(e=!1),o=!1,s&&(l=e?[]:"")}var o,e,a,s,l=[],u=[],c=-1,h={add:function(){return l&&(e&&!o&&(c=l.length-1,u.push(e)),function n(t){M.each(t,function(t,e){M.isFunction(e)?i.unique&&h.has(e)||l.push(e):e&&e.length&&"string"!==M.type(e)&&n(e)})}(arguments),e&&!o&&r()),this},remove:function(){return M.each(arguments,function(t,e){for(var n;-1<(n=M.inArray(e,l,n));)l.splice(n,1),n<=c&&c--}),this},has:function(t){return t?-1<M.inArray(t,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=u=[],l=e="",this},disabled:function(){return!l},lock:function(){return s=u=[],e||(l=e=""),this},locked:function(){return!!s},fireWith:function(t,e){return s||(e=[t,(e=e||[]).slice?e.slice():e],u.push(e),o||r()),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!a}};return h},M.extend({Deferred:function(t){var o=[["resolve","done",M.Callbacks("once memory"),"resolved"],["reject","fail",M.Callbacks("once memory"),"rejected"],["notify","progress",M.Callbacks("memory")]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var r=arguments;return M.Deferred(function(i){M.each(o,function(t,e){var n=M.isFunction(r[t])&&r[t];s[e[1]](function(){var t=n&&n.apply(this,arguments);t&&M.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this===a?i.promise():this,n?[t]:arguments)})}),r=null}).promise()},promise:function(t){return null!=t?M.extend(t,a):a}},s={};return a.pipe=a.then,M.each(o,function(t,e){var n=e[2],i=e[3];a[e[1]]=n.add,i&&n.add(function(){r=i},o[1^t][2].disable,o[2][2].lock),s[e[0]]=function(){return s[e[0]+"With"](this===s?a:this,arguments),this},s[e[0]+"With"]=n.fireWith}),a.promise(s),t&&t.call(s,s),s},when:function(t){function e(e,n,i){return function(t){n[e]=this,i[e]=1<arguments.length?c.call(arguments):t,i===r?u.notifyWith(n,i):--l||u.resolveWith(n,i)}}var r,n,i,o=0,a=c.call(arguments),s=a.length,l=1!==s||t&&M.isFunction(t.promise)?s:0,u=1===l?t:M.Deferred();if(1<s)for(r=new Array(s),n=new Array(s),i=new Array(s);o<s;o++)a[o]&&M.isFunction(a[o].promise)?a[o].promise().progress(e(o,n,r)).done(e(o,i,a)).fail(u.reject):--l;return l||u.resolveWith(i,a),u.promise()}}),M.fn.ready=function(t){return M.ready.promise().done(t),this},M.extend({isReady:!1,readyWait:1,holdReady:function(t){t?M.readyWait++:M.ready(!0)},ready:function(t){(!0===t?--M.readyWait:M.isReady)||(M.isReady=!0)!==t&&0<--M.readyWait||(L.resolveWith(w,[M]),M.fn.triggerHandler&&(M(w).triggerHandler("ready"),M(w).off("ready")))}}),M.ready.promise=function(t){return L||(L=M.Deferred(),"complete"===w.readyState||"loading"!==w.readyState&&!w.documentElement.doScroll?b.setTimeout(M.ready):(w.addEventListener("DOMContentLoaded",E),b.addEventListener("load",E))),L.promise(t)},M.ready.promise();function O(t,e,n,i,r,o,a){var s=0,l=t.length,u=null==n;if("object"===M.type(n))for(s in r=!0,n)O(t,e,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,M.isFunction(i)||(a=!0),e=u?a?(e.call(t,i),null):(u=e,function(t,e,n){return u.call(M(t),n)}):e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):o}function P(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function z(){this.expando=M.expando+z.uid++}z.uid=1,z.prototype={register:function(t,e){e=e||{};return t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!P(t))return{};var e=t[this.expando];return e||(e={},P(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[e]=n;else for(i in e)r[i]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,M.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,r,o=t[this.expando];if(void 0!==o){if(void 0===e)this.register(t);else{n=(i=M.isArray(e)?e.concat(e.map(M.camelCase)):(r=M.camelCase(e),e in o?[e,r]:(i=r)in o?[i]:i.match(k)||[])).length;for(;n--;)delete o[i[n]]}void 0!==e&&!M.isEmptyObject(o)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&&!M.isEmptyObject(t)}};var j=new z,Y=new z,R=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,B=/[A-Z]/g;function F(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(B,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:R.test(n)?M.parseJSON(n):n)}catch(t){}Y.set(t,e,n)}else n=void 0;return n}M.extend({hasData:function(t){return Y.hasData(t)||j.hasData(t)},data:function(t,e,n){return Y.access(t,e,n)},removeData:function(t,e){Y.remove(t,e)},_data:function(t,e,n){return j.access(t,e,n)},_removeData:function(t,e){j.remove(t,e)}}),M.fn.extend({data:function(i,t){var e,n,r,o=this[0],a=o&&o.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){Y.set(this,i)}):O(this,function(e){var t,n;return o&&void 0===e?void 0!==(t=Y.get(o,i)||Y.get(o,i.replace(B,"-$&").toLowerCase()))?t:(n=M.camelCase(i),void 0!==(t=Y.get(o,n))||void 0!==(t=F(o,n,void 0))?t:void 0):(n=M.camelCase(i),void this.each(function(){var t=Y.get(this,n);Y.set(this,n,e),-1<i.indexOf("-")&&void 0!==t&&Y.set(this,i,e)}))},null,t,1<arguments.length,null,!0);if(this.length&&(r=Y.get(o),1===o.nodeType&&!j.get(o,"hasDataAttrs"))){for(e=a.length;e--;)a[e]&&0===(n=a[e].name).indexOf("data-")&&(n=M.camelCase(n.slice(5)),F(o,n,r[n]));j.set(o,"hasDataAttrs",!0)}return r},removeData:function(t){return this.each(function(){Y.remove(this,t)})}}),M.extend({queue:function(t,e,n){var i;if(t)return i=j.get(t,e=(e||"fx")+"queue"),n&&(!i||M.isArray(n)?i=j.access(t,e,M.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=M.queue(t,e),i=n.length,r=n.shift(),o=M._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){M.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return j.get(t,n)||j.access(t,n,{empty:M.Callbacks("once memory").add(function(){j.remove(t,[e+"queue",n])})})}}),M.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?M.queue(this[0],e):void 0===n?this:this.each(function(){var t=M.queue(this,e,n);M._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&M.dequeue(this,e)})},dequeue:function(t){return this.each(function(){M.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--r||o.resolveWith(a,[a])}var i,r=1,o=M.Deferred(),a=this,s=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=j.get(a[s],t+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(e)}});function H(t,e){return"none"===M.css(t=e||t,"display")||!M.contains(t.ownerDocument,t)}var a=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,W=new RegExp("^(?:([+-])=|)("+a+")([a-z%]*)$","i"),G=["Top","Right","Bottom","Left"];function U(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return M.css(t,e,"")},l=s(),u=n&&n[3]||(M.cssNumber[e]?"":"px"),c=(M.cssNumber[e]||"px"!==u&&+l)&&W.exec(M.css(t,e));if(c&&c[3]!==u)for(u=u||c[3],n=n||[],c=+l||1;c/=o=o||".5",M.style(t,e,c+u),o!==(o=s()/l)&&1!==o&&--a;);return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var Z=/^(?:checkbox|radio)$/i,V=/<([\w:-]+)/,X=/^$|\/(?:java|ecma)script/i,q={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function J(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&M.nodeName(t,e)?M.merge([t],n):n}function $(t,e){for(var n=0,i=t.length;n<i;n++)j.set(t[n],"globalEval",!e||j.get(e[n],"globalEval"))}q.optgroup=q.option,q.tbody=q.tfoot=q.colgroup=q.caption=q.thead,q.th=q.td;var Q=/<|&#?\w+;/;function K(t,e,n,i,r){for(var o,a,s,l,u,c=e.createDocumentFragment(),h=[],d=0,f=t.length;d<f;d++)if((o=t[d])||0===o)if("object"===M.type(o))M.merge(h,o.nodeType?[o]:o);else if(Q.test(o)){for(a=a||c.appendChild(e.createElement("div")),s=(V.exec(o)||["",""])[1].toLowerCase(),s=q[s]||q._default,a.innerHTML=s[1]+M.htmlPrefilter(o)+s[2],u=s[0];u--;)a=a.lastChild;M.merge(h,a.childNodes),(a=c.firstChild).textContent=""}else h.push(e.createTextNode(o));for(c.textContent="",d=0;o=h[d++];)if(i&&-1<M.inArray(o,i))r&&r.push(o);else if(l=M.contains(o.ownerDocument,o),a=J(c.appendChild(o),"script"),l&&$(a),n)for(u=0;o=a[u++];)X.test(o.type||"")&&n.push(o);return c}n=w.createDocumentFragment().appendChild(w.createElement("div")),(f=w.createElement("input")).setAttribute("type","radio"),f.setAttribute("checked","checked"),f.setAttribute("name","t"),n.appendChild(f),m.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue;var tt=/^key/,et=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,nt=/^([^.]*)(?:\.(.+)|)/;function it(){return!0}function rt(){return!1}function ot(){try{return w.activeElement}catch(t){}}function at(t,e,n,i,r,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)at(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=rt;else if(!r)return t;return 1===o&&(a=r,(r=function(t){return M().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=M.guid++)),t.each(function(){M.event.add(this,e,r,i,n)})}M.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,h,d,f,p=j.get(e);if(p)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=M.guid++),(s=p.events)||(s=p.events={}),(a=p.handle)||(a=p.handle=function(t){return void 0!==M&&M.event.triggered!==t.type?M.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(k)||[""]).length;l--;)h=f=(u=nt.exec(t[l])||[])[1],d=(u[2]||"").split(".").sort(),h&&(c=M.event.special[h]||{},h=(r?c.delegateType:c.bindType)||h,c=M.event.special[h]||{},u=M.extend({type:h,origType:f,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&M.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=s[h])||((f=s[h]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,i,d,a)||e.addEventListener&&e.addEventListener(h,a)),c.add&&(c.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),M.event.global[h]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,u,c,h,d,f,p,g,m=j.hasData(t)&&j.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(k)||[""]).length;u--;)if(f=g=(s=nt.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),f){for(h=M.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,p,m.handle)||M.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)M.event.remove(t,f+e[u],n,i,!0);M.isEmptyObject(l)&&j.remove(t,"handle events")}},dispatch:function(t){t=M.event.fix(t);var e,n,i,r,o,a=c.call(arguments),s=(j.get(this,"events")||{})[t.type]||[],l=M.event.special[t.type]||{};if((a[0]=t).delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,t)){for(o=M.event.handlers.call(this,t,s),e=0;(i=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,void 0!==(r=((M.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,a))&&!1===(t.result=r)&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;n<s;n++)void 0===i[r=(o=e[n]).selector+" "]&&(i[r]=o.needsContext?-1<M(r,this).index(l):M.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r=e.button;return null==t.pageX&&null!=e.clientX&&(n=(i=t.target.ownerDocument||w).documentElement,i=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||i&&i.scrollLeft||0)-(n&&n.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||i&&i.scrollTop||0)-(n&&n.clientTop||i&&i.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[M.expando])return t;var e,n,i,r=t.type,o=t,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=et.test(r)?this.mouseHooks:tt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,t=new M.Event(o),e=i.length;e--;)t[n=i[e]]=o[n];return t.target||(t.target=w),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ot()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ot()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&M.nodeName(this,"input"))return this.click(),!1},_default:function(t){return M.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},M.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},M.Event=function(t,e){if(!(this instanceof M.Event))return new M.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?it:rt):this.type=t,e&&M.extend(this,e),this.timeStamp=t&&t.timeStamp||M.now(),this[M.expando]=!0},M.Event.prototype={constructor:M.Event,isDefaultPrevented:rt,isPropagationStopped:rt,isImmediatePropagationStopped:rt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=it,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=it,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=it,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},M.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,r){M.event.special[t]={delegateType:r,bindType:r,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||M.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=r),e}}}),M.fn.extend({on:function(t,e,n,i){return at(this,t,e,n,i)},one:function(t,e,n,i){return at(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,M(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=rt),this.each(function(){M.event.remove(this,t,n,e)});for(r in t)this.off(r,e,t[r]);return this}});var st=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,lt=/<script|<style|<link/i,ut=/checked\s*(?:[^=]|=\s*.checked.)/i,ct=/^true\/(.*)/,ht=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function dt(t,e){return M.nodeName(t,"table")&&M.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function pt(t){var e=ct.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function gt(t,e){var n,i,r,o,a,s;if(1===e.nodeType){if(j.hasData(t)&&(o=j.access(t),a=j.set(e,o),s=o.events))for(r in delete a.handle,a.events={},s)for(n=0,i=s[r].length;n<i;n++)M.event.add(e,r,s[r][n]);Y.hasData(t)&&(t=Y.access(t),t=M.extend({},t),Y.set(e,t))}}function mt(n,i,r,o){i=g.apply([],i);var t,e,a,s,l,u,c=0,h=n.length,d=h-1,f=i[0],p=M.isFunction(f);if(p||1<h&&"string"==typeof f&&!m.checkClone&&ut.test(f))return n.each(function(t){var e=n.eq(t);p&&(i[0]=f.call(this,t,e.html())),mt(e,i,r,o)});if(h&&(e=(t=K(i,n[0].ownerDocument,!1,n,o)).firstChild,1===t.childNodes.length&&(t=e),e||o)){for(s=(a=M.map(J(t,"script"),ft)).length;c<h;c++)l=t,c!==d&&(l=M.clone(l,!0,!0),s&&M.merge(a,J(l,"script"))),r.call(n[c],l,c);if(s)for(u=a[a.length-1].ownerDocument,M.map(a,pt),c=0;c<s;c++)l=a[c],X.test(l.type||"")&&!j.access(l,"globalEval")&&M.contains(u,l)&&(l.src?M._evalUrl&&M._evalUrl(l.src):M.globalEval(l.textContent.replace(ht,"")))}return n}function yt(t,e,n){for(var i,r=e?M.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||M.cleanData(J(i)),i.parentNode&&(n&&M.contains(i.ownerDocument,i)&&$(J(i,"script")),i.parentNode.removeChild(i));return t}M.extend({htmlPrefilter:function(t){return t.replace(st,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s,l,u,c=t.cloneNode(!0),h=M.contains(t.ownerDocument,t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||M.isXMLDoc(t)))for(a=J(c),i=0,r=(o=J(t)).length;i<r;i++)s=o[i],l=a[i],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&Z.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(e)if(n)for(o=o||J(t),a=a||J(c),i=0,r=o.length;i<r;i++)gt(o[i],a[i]);else gt(t,c);return 0<(a=J(c,"script")).length&&$(a,!h&&J(t,"script")),c},cleanData:function(t){for(var e,n,i,r=M.event.special,o=0;void 0!==(n=t[o]);o++)if(P(n)){if(e=n[j.expando]){if(e.events)for(i in e.events)r[i]?M.event.remove(n,i):M.removeEvent(n,i,e.handle);n[j.expando]=void 0}n[Y.expando]&&(n[Y.expando]=void 0)}}}),M.fn.extend({domManip:mt,detach:function(t){return yt(this,t,!0)},remove:function(t){return yt(this,t)},text:function(t){return O(this,function(t){return void 0===t?M.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return mt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||dt(this,t).appendChild(t)})},prepend:function(){return mt(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=dt(this,t)).insertBefore(t,e.firstChild)})},before:function(){return mt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return mt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(M.cleanData(J(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return M.clone(this,t,e)})},html:function(t){return O(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!lt.test(t)&&!q[(V.exec(t)||["",""])[1].toLowerCase()]){t=M.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(M.cleanData(J(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return mt(this,arguments,function(t){var e=this.parentNode;M.inArray(this,n)<0&&(M.cleanData(J(this)),e&&e.replaceChild(t,this))},n)}}),M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,a){M.fn[t]=function(t){for(var e,n=[],i=M(t),r=i.length-1,o=0;o<=r;o++)e=o===r?this:this.clone(!0),M(i[o])[a](e),s.apply(n,e.get());return this.pushStack(n)}});var vt,xt={HTML:"block",BODY:"block"};function _t(t,e){t=M(e.createElement(t)).appendTo(e.body),e=M.css(t[0],"display");return t.detach(),e}function bt(t){var e=w,n=xt[t];return n||("none"!==(n=_t(t,e))&&n||((e=(vt=(vt||M("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=_t(t,e),vt.detach()),xt[t]=n),n}function wt(t){var e=t.ownerDocument.defaultView;return(e=!e||!e.opener?b:e).getComputedStyle(t)}function Mt(t,e,n,i){var r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in i=n.apply(t,i||[]),e)t.style[r]=o[r];return i}var At,It,Ct,St,Tt,Dt,Nt=/^margin/,Lt=new RegExp("^("+a+")(?!px)[a-z%]+$","i"),kt=w.documentElement;function Et(){Dt.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",Dt.innerHTML="",kt.appendChild(Tt);var t=b.getComputedStyle(Dt);At="1%"!==t.top,St="2px"===t.marginLeft,It="4px"===t.width,Dt.style.marginRight="50%",Ct="4px"===t.marginRight,kt.removeChild(Tt)}function Ot(t,e,n){var i,r,o=t.style;return""!==(r=(n=n||wt(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==r||M.contains(t.ownerDocument,t)||(r=M.style(t,e)),n&&!m.pixelMarginRight()&&Lt.test(r)&&Nt.test(e)&&(i=o.width,t=o.minWidth,e=o.maxWidth,o.minWidth=o.maxWidth=o.width=r,r=n.width,o.width=i,o.minWidth=t,o.maxWidth=e),void 0!==r?r+"":r}function Pt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}Tt=w.createElement("div"),(Dt=w.createElement("div")).style&&(Dt.style.backgroundClip="content-box",Dt.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===Dt.style.backgroundClip,Tt.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",Tt.appendChild(Dt),M.extend(m,{pixelPosition:function(){return Et(),At},boxSizingReliable:function(){return null==It&&Et(),It},pixelMarginRight:function(){return null==It&&Et(),Ct},reliableMarginLeft:function(){return null==It&&Et(),St},reliableMarginRight:function(){var t,e=Dt.appendChild(w.createElement("div"));return e.style.cssText=Dt.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",Dt.style.width="1px",kt.appendChild(Tt),t=!parseFloat(b.getComputedStyle(e).marginRight),kt.removeChild(Tt),Dt.removeChild(e),t}}));var zt=/^(none|table(?!-c[ea]).+)/,jt={position:"absolute",visibility:"hidden",display:"block"},Yt={letterSpacing:"0",fontWeight:"400"},Rt=["Webkit","O","Moz","ms"],Bt=w.createElement("div").style;function Ft(t){if(t in Bt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Rt.length;n--;)if((t=Rt[n]+e)in Bt)return t}function Ht(t,e,n){var i=W.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Wt(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=M.css(t,n+G[o],!0,r)),i?("content"===n&&(a-=M.css(t,"padding"+G[o],!0,r)),"margin"!==n&&(a-=M.css(t,"border"+G[o]+"Width",!0,r))):(a+=M.css(t,"padding"+G[o],!0,r),"padding"!==n&&(a+=M.css(t,"border"+G[o]+"Width",!0,r)));return a}function Gt(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=wt(t),a="border-box"===M.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=Ot(t,e,o))<0||null==r)&&(r=t.style[e]),Lt.test(r))return r;i=a&&(m.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+Wt(t,e,n||(a?"border":"content"),i,o)+"px"}function Ut(t,e){for(var n,i,r,o=[],a=0,s=t.length;a<s;a++)(i=t[a]).style&&(o[a]=j.get(i,"olddisplay"),n=i.style.display,e?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&H(i)&&(o[a]=j.access(i,"olddisplay",bt(i.nodeName)))):(r=H(i),"none"===n&&r||j.set(i,"olddisplay",r?n:M.css(i,"display"))));for(a=0;a<s;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[a]||"":"none"));return t}function Zt(t,e,n,i,r){return new Zt.prototype.init(t,e,n,i,r)}M.extend({cssHooks:{opacity:{get:function(t,e){if(e){t=Ot(t,"opacity");return""===t?"1":t}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=M.camelCase(e),l=t.style;if(e=M.cssProps[s]||(M.cssProps[s]=Ft(s)||s),a=M.cssHooks[e]||M.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:l[e];"string"===(o=typeof n)&&(r=W.exec(n))&&r[1]&&(n=U(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(M.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l[e]=n))}},css:function(t,e,n,i){var r,o=M.camelCase(e);return e=M.cssProps[o]||(M.cssProps[o]=Ft(o)||o),"normal"===(r=void 0===(r=(o=M.cssHooks[e]||M.cssHooks[o])&&"get"in o?o.get(t,!0,n):r)?Ot(t,e,i):r)&&e in Yt&&(r=Yt[e]),""===n||n?(e=parseFloat(r),!0===n||isFinite(e)?e||0:r):r}}),M.each(["height","width"],function(t,o){M.cssHooks[o]={get:function(t,e,n){if(e)return zt.test(M.css(t,"display"))&&0===t.offsetWidth?Mt(t,jt,function(){return Gt(t,o,n)}):Gt(t,o,n)},set:function(t,e,n){var i,r=n&&wt(t),r=n&&Wt(t,o,n,"border-box"===M.css(t,"boxSizing",!1,r),r);return r&&(i=W.exec(e))&&"px"!==(i[3]||"px")&&(t.style[o]=e,e=M.css(t,o)),Ht(0,e,r)}}}),M.cssHooks.marginLeft=Pt(m.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ot(t,"marginLeft"))||t.getBoundingClientRect().left-Mt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),M.cssHooks.marginRight=Pt(m.reliableMarginRight,function(t,e){if(e)return Mt(t,{display:"inline-block"},Ot,[t,"marginRight"])}),M.each({margin:"",padding:"",border:"Width"},function(r,o){M.cssHooks[r+o]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[r+G[e]+o]=i[e]||i[e-2]||i[0];return n}},Nt.test(r)||(M.cssHooks[r+o].set=Ht)}),M.fn.extend({css:function(t,e){return O(this,function(t,e,n){var i,r,o={},a=0;if(M.isArray(e)){for(i=wt(t),r=e.length;a<r;a++)o[e[a]]=M.css(t,e[a],!1,i);return o}return void 0!==n?M.style(t,e,n):M.css(t,e)},t,e,1<arguments.length)},show:function(){return Ut(this,!0)},hide:function(){return Ut(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){H(this)?M(this).show():M(this).hide()})}}),((M.Tween=Zt).prototype={constructor:Zt,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||M.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(M.cssNumber[n]?"":"px")},cur:function(){var t=Zt.propHooks[this.prop];return(t&&t.get?t:Zt.propHooks._default).get(this)},run:function(t){var e,n=Zt.propHooks[this.prop];return this.options.duration?this.pos=e=M.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:Zt.propHooks._default).set(this),this}}).init.prototype=Zt.prototype,(Zt.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=M.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){M.fx.step[t.prop]?M.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[M.cssProps[t.prop]]&&!M.cssHooks[t.prop]?t.elem[t.prop]=t.now:M.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=Zt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},M.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},M.fx=Zt.prototype.init,M.fx.step={};var Vt,Xt,qt=/^(?:toggle|show|hide)$/,Jt=/queueHooks$/;function $t(){return b.setTimeout(function(){Vt=void 0}),Vt=M.now()}function Qt(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=G[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function Kt(t,e,n){for(var i,r=(te.tweeners[e]||[]).concat(te.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function te(r,t,e){var n,o,i=0,a=te.prefilters.length,s=M.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Vt||$t(),t=Math.max(0,u.startTime+u.duration-t),e=1-(t/u.duration||0),n=0,i=u.tweens.length;n<i;n++)u.tweens[n].run(e);return s.notifyWith(r,[u,e,t]),e<1&&i?t:(s.resolveWith(r,[u]),!1)},u=s.promise({elem:r,props:M.extend({},t),opts:M.extend(!0,{specialEasing:{},easing:M.easing._default},e),originalProperties:t,originalOptions:e,startTime:Vt||$t(),duration:e.duration,tweens:[],createTween:function(t,e){t=M.Tween(r,u.opts,t,e,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(t),t},stop:function(t){var e=0,n=t?u.tweens.length:0;if(o)return this;for(o=!0;e<n;e++)u.tweens[e].run(1);return t?(s.notifyWith(r,[u,1,0]),s.resolveWith(r,[u,t])):s.rejectWith(r,[u,t]),this}}),c=u.props;for(!function(t,e){var n,i,r,o,a;for(n in t)if(r=e[i=M.camelCase(n)],o=t[n],M.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(a=M.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);i<a;i++)if(n=te.prefilters[i].call(u,r,c,u.opts))return M.isFunction(n.stop)&&(M._queueHooks(u.elem,u.opts.queue).stop=M.proxy(n.stop,n)),n;return M.map(c,Kt,u),M.isFunction(u.opts.start)&&u.opts.start.call(r,u),M.fx.timer(M.extend(l,{elem:r,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}M.Animation=M.extend(te,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return U(n.elem,t,W.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,r=(t=M.isFunction(t)?(e=t,["*"]):t.match(k)).length;i<r;i++)n=t[i],te.tweeners[n]=te.tweeners[n]||[],te.tweeners[n].unshift(e)},prefilters:[function(e,t,n){var i,r,o,a,s,l,u,c=this,h={},d=e.style,f=e.nodeType&&H(e),p=j.get(e,"fxshow");for(i in n.queue||(null==(s=M._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,M.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(u=M.css(e,"display"))?j.get(e,"olddisplay")||bt(e.nodeName):u)&&"none"===M.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(r=t[i],qt.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!p||void 0===p[i])continue;f=!0}h[i]=p&&p[i]||M.style(e,i)}else u=void 0;if(M.isEmptyObject(h))"inline"===("none"===u?bt(e.nodeName):u)&&(d.display=u);else for(i in p?"hidden"in p&&(f=p.hidden):p=j.access(e,"fxshow",{}),o&&(p.hidden=!f),f?M(e).show():c.done(function(){M(e).hide()}),c.done(function(){for(var t in j.remove(e,"fxshow"),h)M.style(e,t,h[t])}),h)a=Kt(f?p[i]:0,i,c),i in p||(p[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],prefilter:function(t,e){e?te.prefilters.unshift(t):te.prefilters.push(t)}}),M.speed=function(t,e,n){var i=t&&"object"==typeof t?M.extend({},t):{complete:n||!n&&e||M.isFunction(t)&&t,duration:t,easing:n&&e||e&&!M.isFunction(e)&&e};return i.duration=M.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in M.fx.speeds?M.fx.speeds[i.duration]:M.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){M.isFunction(i.old)&&i.old.call(this),i.queue&&M.dequeue(this,i.queue)},i},M.fn.extend({fadeTo:function(t,e,n,i){return this.filter(H).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){var r=M.isEmptyObject(e),o=M.speed(t,n,i),i=function(){var t=te(this,M.extend({},e),o);(r||j.get(this,"finish"))&&t.stop(!0)};return i.finish=i,r||!1===o.queue?this.each(i):this.queue(o.queue,i)},stop:function(r,t,o){function a(t){var e=t.stop;delete t.stop,e(o)}return"string"!=typeof r&&(o=t,t=r,r=void 0),t&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var t=!0,e=null!=r&&r+"queueHooks",n=M.timers,i=j.get(this);if(e)i[e]&&i[e].stop&&a(i[e]);else for(e in i)i[e]&&i[e].stop&&Jt.test(e)&&a(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=r&&n[e].queue!==r||(n[e].anim.stop(o),t=!1,n.splice(e,1));!t&&o||M.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var t,e=j.get(this),n=e[a+"queue"],i=e[a+"queueHooks"],r=M.timers,o=n?n.length:0;for(e.finish=!0,M.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===a&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),M.each(["toggle","show","hide"],function(t,i){var r=M.fn[i];M.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?r.apply(this,arguments):this.animate(Qt(i,!0),t,e,n)}}),M.each({slideDown:Qt("show"),slideUp:Qt("hide"),slideToggle:Qt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){M.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),M.timers=[],M.fx.tick=function(){var t,e=0,n=M.timers;for(Vt=M.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||M.fx.stop(),Vt=void 0},M.fx.timer=function(t){M.timers.push(t),t()?M.fx.start():M.timers.pop()},M.fx.interval=13,M.fx.start=function(){Xt=Xt||b.setInterval(M.fx.tick,M.fx.interval)},M.fx.stop=function(){b.clearInterval(Xt),Xt=null},M.fx.speeds={slow:600,fast:200,_default:400},M.fn.delay=function(i,t){return i=M.fx&&M.fx.speeds[i]||i,this.queue(t=t||"fx",function(t,e){var n=b.setTimeout(t,i);e.stop=function(){b.clearTimeout(n)}})},f=w.createElement("input"),n=w.createElement("select"),a=n.appendChild(w.createElement("option")),f.type="checkbox",m.checkOn=""!==f.value,m.optSelected=a.selected,n.disabled=!0,m.optDisabled=!a.disabled,(f=w.createElement("input")).value="t",f.type="radio",m.radioValue="t"===f.value;var ee,ne=M.expr.attrHandle;M.fn.extend({attr:function(t,e){return O(this,M.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){M.removeAttr(this,t)})}}),M.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?M.prop(t,e,n):(1===o&&M.isXMLDoc(t)||(e=e.toLowerCase(),r=M.attrHooks[e]||(M.expr.match.bool.test(e)?ee:void 0)),void 0!==n?null===n?void M.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):!(r&&"get"in r&&null!==(i=r.get(t,e)))&&null==(i=M.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&M.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(k);if(o&&1===t.nodeType)for(;n=o[r++];)i=M.propFix[n]||n,M.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),ee={set:function(t,e,n){return!1===e?M.removeAttr(t,n):t.setAttribute(n,n),n}},M.each(M.expr.match.bool.source.match(/\w+/g),function(t,e){var o=ne[e]||M.find.attr;ne[e]=function(t,e,n){var i,r;return n||(r=ne[e],ne[e]=i,i=null!=o(t,e,n)?e.toLowerCase():null,ne[e]=r),i}});var ie=/^(?:input|select|textarea|button)$/i,re=/^(?:a|area)$/i;M.fn.extend({prop:function(t,e){return O(this,M.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[M.propFix[t]||t]})}}),M.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&M.isXMLDoc(t)||(e=M.propFix[e]||e,r=M.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=M.find.attr(t,"tabindex");return e?parseInt(e,10):ie.test(t.nodeName)||re.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(M.propHooks.selected={get:function(t){t=t.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),M.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){M.propFix[this.toLowerCase()]=this});var oe=/[\t\r\n\f]/g;function ae(t){return t.getAttribute&&t.getAttribute("class")||""}M.fn.extend({addClass:function(e){var t,n,i,r,o,a,s=0;if(M.isFunction(e))return this.each(function(t){M(this).addClass(e.call(this,t,ae(this)))});if("string"==typeof e&&e)for(t=e.match(k)||[];n=this[s++];)if(a=ae(n),i=1===n.nodeType&&(" "+a+" ").replace(oe," ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a!==(a=M.trim(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,a,s=0;if(M.isFunction(e))return this.each(function(t){M(this).removeClass(e.call(this,t,ae(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(k)||[];n=this[s++];)if(a=ae(n),i=1===n.nodeType&&(" "+a+" ").replace(oe," ")){for(o=0;r=t[o++];)for(;-1<i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");a!==(a=M.trim(i))&&n.setAttribute("class",a)}return this},toggleClass:function(r,e){var o=typeof r;return"boolean"==typeof e&&"string"==o?e?this.addClass(r):this.removeClass(r):M.isFunction(r)?this.each(function(t){M(this).toggleClass(r.call(this,t,ae(this),e),e)}):this.each(function(){var t,e,n,i;if("string"==o)for(e=0,n=M(this),i=r.match(k)||[];t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==r&&"boolean"!=o||((t=ae(this))&&j.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==r&&j.get(this,"__className__")||""))})},hasClass:function(t){for(var e,n=0,i=" "+t+" ";e=this[n++];)if(1===e.nodeType&&-1<(" "+ae(e)+" ").replace(oe," ").indexOf(i))return!0;return!1}});var se=/\r/g,le=/[\x20\t\r\n\f]+/g;M.fn.extend({val:function(e){var n,t,i,r=this[0];return arguments.length?(i=M.isFunction(e),this.each(function(t){1===this.nodeType&&(null==(t=i?e.call(this,t,M(this).val()):e)?t="":"number"==typeof t?t+="":M.isArray(t)&&(t=M.map(t,function(t){return null==t?"":t+""})),(n=M.valHooks[this.type]||M.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):r?(n=M.valHooks[r.type]||M.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(r,"value"))?t:"string"==typeof(t=r.value)?t.replace(se,""):null==t?"":t:void 0}}),M.extend({valHooks:{option:{get:function(t){var e=M.find.attr(t,"value");return null!=e?e:M.trim(M.text(t)).replace(le," ")}},select:{get:function(t){for(var e,n=t.options,i=t.selectedIndex,r="select-one"===t.type||i<0,o=r?null:[],a=r?i+1:n.length,s=i<0?a:r?i:0;s<a;s++)if(((e=n[s]).selected||s===i)&&(m.optDisabled?!e.disabled:null===e.getAttribute("disabled"))&&(!e.parentNode.disabled||!M.nodeName(e.parentNode,"optgroup"))){if(e=M(e).val(),r)return e;o.push(e)}return o},set:function(t,e){for(var n,i,r=t.options,o=M.makeArray(e),a=r.length;a--;)((i=r[a]).selected=-1<M.inArray(M.valHooks.option.get(i),o))&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]={set:function(t,e){if(M.isArray(e))return t.checked=-1<M.inArray(M(t).val(),e)}},m.checkOn||(M.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var ue=/^(?:focusinfocus|focusoutblur)$/;M.extend(M.event,{trigger:function(t,e,n,i){var r,o,a,s,l,u,c=[n||w],h=p.call(t,"type")?t.type:t,d=p.call(t,"namespace")?t.namespace.split("."):[],f=o=n=n||w;if(3!==n.nodeType&&8!==n.nodeType&&!ue.test(h+M.event.triggered)&&(-1<h.indexOf(".")&&(h=(d=h.split(".")).shift(),d.sort()),s=h.indexOf(":")<0&&"on"+h,(t=t[M.expando]?t:new M.Event(h,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=d.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:M.makeArray(e,[t]),u=M.event.special[h]||{},i||!u.trigger||!1!==u.trigger.apply(n,e))){if(!i&&!u.noBubble&&!M.isWindow(n)){for(a=u.delegateType||h,ue.test(a+h)||(f=f.parentNode);f;f=f.parentNode)c.push(f),o=f;o===(n.ownerDocument||w)&&c.push(o.defaultView||o.parentWindow||b)}for(r=0;(f=c[r++])&&!t.isPropagationStopped();)t.type=1<r?a:u.bindType||h,(l=(j.get(f,"events")||{})[t.type]&&j.get(f,"handle"))&&l.apply(f,e),(l=s&&f[s])&&l.apply&&P(f)&&(t.result=l.apply(f,e),!1===t.result&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(c.pop(),e)||!P(n)||s&&M.isFunction(n[h])&&!M.isWindow(n)&&((o=n[s])&&(n[s]=null),n[M.event.triggered=h](),M.event.triggered=void 0,o&&(n[s]=o)),t.result}},simulate:function(t,e,n){t=M.extend(new M.Event,n,{type:t,isSimulated:!0});M.event.trigger(t,null,e)}}),M.fn.extend({trigger:function(t,e){return this.each(function(){M.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return M.event.trigger(t,e,n,!0)}}),M.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,n){M.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),M.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),m.focusin="onfocusin"in b,m.focusin||M.each({focus:"focusin",blur:"focusout"},function(n,i){function r(t){M.event.simulate(i,t.target,M.event.fix(t))}M.event.special[i]={setup:function(){var t=this.ownerDocument||this,e=j.access(t,i);e||t.addEventListener(n,r,!0),j.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this,e=j.access(t,i)-1;e?j.access(t,i,e):(t.removeEventListener(n,r,!0),j.remove(t,i))}}});var ce=b.location,he=M.now(),de=/\?/;M.parseJSON=function(t){return JSON.parse(t+"")},M.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new b.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||M.error("Invalid XML: "+t),e};var fe=/#.*$/,pe=/([?&])_=[^&]*/,ge=/^(.*?):[ \t]*([^\r\n]*)$/gm,me=/^(?:GET|HEAD)$/,ye=/^\/\//,ve={},xe={},_e="*/".concat("*"),be=w.createElement("a");function we(o){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,r=t.toLowerCase().match(k)||[];if(M.isFunction(e))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(e)):(o[n]=o[n]||[]).push(e)}}function Me(e,i,r,o){var a={},s=e===xe;function l(t){var n;return a[t]=!0,M.each(e[t]||[],function(t,e){e=e(i,r,o);return"string"!=typeof e||s||a[e]?s?!(n=e):void 0:(i.dataTypes.unshift(e),l(e),!1)}),n}return l(i.dataTypes[0])||!a["*"]&&l("*")}function Ae(t,e){var n,i,r=M.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i=i||{})[n]=e[n]);return i&&M.extend(!0,t,i),t}be.href=ce.href,M.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ce.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ce.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_e,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":M.parseJSON,"text xml":M.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ae(Ae(t,M.ajaxSettings),e):Ae(M.ajaxSettings,t)},ajaxPrefilter:we(ve),ajaxTransport:we(xe),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var l,u,c,n,h,d,i,f=M.ajaxSetup({},e=e||{}),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?M(p):M.event,m=M.Deferred(),y=M.Callbacks("once memory"),v=f.statusCode||{},r={},o={},x=0,a="canceled",_={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!n)for(n={};e=ge.exec(c);)n[e[1].toLowerCase()]=e[2];e=n[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?c:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=o[n]=o[n]||t,r[t]=e),this},overrideMimeType:function(t){return x||(f.mimeType=t),this},statusCode:function(t){if(t)if(x<2)for(var e in t)v[e]=[v[e],t[e]];else _.always(t[_.status]);return this},abort:function(t){t=t||a;return l&&l.abort(t),s(0,t),this}};if(m.promise(_).complete=y.add,_.success=_.done,_.error=_.fail,f.url=((t||f.url||ce.href)+"").replace(fe,"").replace(ye,ce.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=M.trim(f.dataType||"*").toLowerCase().match(k)||[""],null==f.crossDomain){t=w.createElement("a");try{t.href=f.url,t.href=t.href,f.crossDomain=be.protocol+"//"+be.host!=t.protocol+"//"+t.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=M.param(f.data,f.traditional)),Me(ve,f,e,_),2===x)return _;for(i in(d=M.event&&f.global)&&0==M.active++&&M.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!me.test(f.type),u=f.url,f.hasContent||(f.data&&(u=f.url+=(de.test(u)?"&":"?")+f.data,delete f.data),!1===f.cache&&(f.url=pe.test(u)?u.replace(pe,"$1_="+he++):u+(de.test(u)?"&":"?")+"_="+he++)),f.ifModified&&(M.lastModified[u]&&_.setRequestHeader("If-Modified-Since",M.lastModified[u]),M.etag[u]&&_.setRequestHeader("If-None-Match",M.etag[u])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&_.setRequestHeader("Content-Type",f.contentType),_.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+_e+"; q=0.01":""):f.accepts["*"]),f.headers)_.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(p,_,f)||2===x))return _.abort();for(i in a="abort",{success:1,error:1,complete:1})_[i](f[i]);if(l=Me(xe,f,e,_)){if(_.readyState=1,d&&g.trigger("ajaxSend",[_,f]),2===x)return _;f.async&&0<f.timeout&&(h=b.setTimeout(function(){_.abort("timeout")},f.timeout));try{x=1,l.send(r,s)}catch(t){if(!(x<2))throw t;s(-1,t)}}else s(-1,"No Transport");function s(t,e,n,i){var r,o,a,s=e;2!==x&&(x=2,h&&b.clearTimeout(h),l=void 0,c=i||"",_.readyState=0<t?4:0,i=200<=t&&t<300||304===t,n&&(a=function(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a=a||r}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,_,n)),a=function(t,e,n,i){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(f,a,_,i),i?(f.ifModified&&((n=_.getResponseHeader("Last-Modified"))&&(M.lastModified[u]=n),(n=_.getResponseHeader("etag"))&&(M.etag[u]=n)),204===t||"HEAD"===f.type?s="nocontent":304===t?s="notmodified":(s=a.state,r=a.data,i=!(o=a.error))):(o=s,!t&&s||(s="error",t<0&&(t=0))),_.status=t,_.statusText=(e||s)+"",i?m.resolveWith(p,[r,s,_]):m.rejectWith(p,[_,s,o]),_.statusCode(v),v=void 0,d&&g.trigger(i?"ajaxSuccess":"ajaxError",[_,f,i?r:o]),y.fireWith(p,[_,s]),d&&(g.trigger("ajaxComplete",[_,f]),--M.active||M.event.trigger("ajaxStop")))}return _},getJSON:function(t,e,n){return M.get(t,e,n,"json")},getScript:function(t,e){return M.get(t,void 0,e,"script")}}),M.each(["get","post"],function(t,r){M[r]=function(t,e,n,i){return M.isFunction(e)&&(i=i||n,n=e,e=void 0),M.ajax(M.extend({url:t,type:r,dataType:i,data:e,success:n},M.isPlainObject(t)&&t))}}),M._evalUrl=function(t){return M.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},M.fn.extend({wrapAll:function(e){var t;return M.isFunction(e)?this.each(function(t){M(this).wrapAll(e.call(this,t))}):(this[0]&&(t=M(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(n){return M.isFunction(n)?this.each(function(t){M(this).wrapInner(n.call(this,t))}):this.each(function(){var t=M(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=M.isFunction(e);return this.each(function(t){M(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(){return this.parent().each(function(){M.nodeName(this,"body")||M(this).replaceWith(this.childNodes)}).end()}}),M.expr.filters.hidden=function(t){return!M.expr.filters.visible(t)},M.expr.filters.visible=function(t){return 0<t.offsetWidth||0<t.offsetHeight||0<t.getClientRects().length};var Ie=/%20/g,Ce=/\[\]$/,Se=/\r?\n/g,Te=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;M.param=function(t,e){function n(t,e){e=M.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)}var i,r=[];if(void 0===e&&(e=M.ajaxSettings&&M.ajaxSettings.traditional),M.isArray(t)||t.jquery&&!M.isPlainObject(t))M.each(t,function(){n(this.name,this.value)});else for(i in t)!function n(i,t,r,o){if(M.isArray(t))M.each(t,function(t,e){r||Ce.test(i)?o(i,e):n(i+"["+("object"==typeof e&&null!=e?t:"")+"]",e,r,o)});else if(r||"object"!==M.type(t))o(i,t);else for(var e in t)n(i+"["+e+"]",t[e],r,o)}(i,t[i],e,n);return r.join("&").replace(Ie,"+")},M.fn.extend({serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=M.prop(this,"elements");return t?M.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!M(this).is(":disabled")&&De.test(this.nodeName)&&!Te.test(t)&&(this.checked||!Z.test(t))}).map(function(t,e){var n=M(this).val();return null==n?null:M.isArray(n)?M.map(n,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:n.replace(Se,"\r\n")}}).get()}}),M.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(t){}};var Ne={0:200,1223:204},Le=M.ajaxSettings.xhr();m.cors=!!Le&&"withCredentials"in Le,m.ajax=Le=!!Le,M.ajaxTransport(function(r){var o,a;if(m.cors||Le&&!r.crossDomain)return{send:function(t,e){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);o=function(t){return function(){o&&(o=a=i.onload=i.onerror=i.onabort=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(Ne[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),a=i.onerror=o("error"),void 0!==i.onabort?i.onabort=a:i.onreadystatechange=function(){4===i.readyState&&b.setTimeout(function(){o&&a()})},o=o("abort");try{i.send(r.hasContent&&r.data||null)}catch(t){if(o)throw t}},abort:function(){o&&o()}}}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return M.globalEval(t),t}}}),M.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),M.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(t,e){i=M("<script>").prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(t){i.remove(),r=null,t&&e("error"===t.type?404:200,t.type)}),w.head.appendChild(i[0])},abort:function(){r&&r()}}});var ke=[],Ee=/(=)\?(?=&|$)|\?\?/;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ke.pop()||M.expando+"_"+he++;return this[t]=!0,t}}),M.ajaxPrefilter("json jsonp",function(t,e,n){var i,r,o,a=!1!==t.jsonp&&(Ee.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ee.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=M.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ee,"$1"+i):!1!==t.jsonp&&(t.url+=(de.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return o||M.error(i+" was not called"),o[0]},t.dataTypes[0]="json",r=b[i],b[i]=function(){o=arguments},n.always(function(){void 0===r?M(b).removeProp(i):b[i]=r,t[i]&&(t.jsonpCallback=e.jsonpCallback,ke.push(i)),o&&M.isFunction(r)&&r(o[0]),o=r=void 0}),"script"}),M.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||w;var i=_.exec(t),n=!n&&[];return i?[e.createElement(i[1])]:(i=K([t],e,n),n&&n.length&&M(n).remove(),M.merge([],i.childNodes))};var Oe=M.fn.load;function Pe(t){return M.isWindow(t)?t:9===t.nodeType&&t.defaultView}M.fn.load=function(t,e,n){if("string"!=typeof t&&Oe)return Oe.apply(this,arguments);var i,r,o,a=this,s=t.indexOf(" ");return-1<s&&(i=M.trim(t.slice(s)),t=t.slice(0,s)),M.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),0<a.length&&M.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?M("<div>").append(M.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},M.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){M.fn[e]=function(t){return this.on(e,t)}}),M.expr.filters.animated=function(e){return M.grep(M.timers,function(t){return e===t.elem}).length},M.offset={setOffset:function(t,e,n){var i,r,o,a,s=M.css(t,"position"),l=M(t),u={};"static"===s&&(t.style.position="relative"),o=l.offset(),i=M.css(t,"top"),a=M.css(t,"left"),a=("absolute"===s||"fixed"===s)&&-1<(i+a).indexOf("auto")?(r=(s=l.position()).top,s.left):(r=parseFloat(i)||0,parseFloat(a)||0),null!=(e=M.isFunction(e)?e.call(t,n,M.extend({},o)):e).top&&(u.top=e.top-o.top+r),null!=e.left&&(u.left=e.left-o.left+a),"using"in e?e.using.call(t,u):l.css(u)}},M.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){M.offset.setOffset(this,e,t)});var t,n=this[0],i={top:0,left:0},r=n&&n.ownerDocument;return r?(t=r.documentElement,M.contains(t,n)?(i=n.getBoundingClientRect(),r=Pe(r),{top:i.top+r.pageYOffset-t.clientTop,left:i.left+r.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===M.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),(i=!M.nodeName(t[0],"html")?t.offset():i).top+=M.css(t[0],"borderTopWidth",!0),i.left+=M.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-M.css(n,"marginTop",!0),left:e.left-i.left-M.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===M.css(t,"position");)t=t.offsetParent;return t||kt})}}),M.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var o="pageYOffset"===r;M.fn[e]=function(t){return O(this,function(t,e,n){var i=Pe(t);if(void 0===n)return i?i[r]:t[e];i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):t[e]=n},e,t,arguments.length)}}),M.each(["top","left"],function(t,n){M.cssHooks[n]=Pt(m.pixelPosition,function(t,e){if(e)return e=Ot(t,n),Lt.test(e)?M(t).position()[n]+"px":e})}),M.each({Height:"height",Width:"width"},function(o,a){M.each({padding:"inner"+o,content:a,"":"outer"+o},function(i,t){M.fn[t]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),r=i||(!0===t||!0===e?"margin":"border");return O(this,function(t,e,n){var i;return M.isWindow(t)?t.document.documentElement["client"+o]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+o],i["scroll"+o],t.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?M.css(t,e,r):M.style(t,e,n,r)},a,n?t:void 0,n,null)}})}),M.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),M.fn.andSelf=M.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return M});var ze=b.jQuery,je=b.$;return M.noConflict=function(t){return b.$===M&&(b.$=je),t&&b.jQuery===M&&(b.jQuery=ze),M},t||(b.jQuery=b.$=M),M}),function(t){"function"==typeof define&&define.amd?define(["./jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("./jquery")):t(jQuery)}(function(l){l.extend(l.fn,{validate:function(t){if(this.length){var i=l.data(this[0],"validator");return i?i:(this.attr("novalidate","novalidate"),i=new l.validator(t,this[0]),l.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(t){i.settings.submitHandler&&(i.submitButton=t.target),l(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==l(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(n){function t(){var t,e;return!i.settings.submitHandler||(i.submitButton&&(t=l("<input type='hidden'/>").attr("name",i.submitButton.name).val(l(i.submitButton).val()).appendTo(i.currentForm)),e=i.settings.submitHandler.call(i,i.currentForm,n),i.submitButton&&t.remove(),void 0!==e&&e)}return i.settings.debug&&n.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,t()):i.form()?i.pendingRequest?!(i.formSubmitted=!0):t():(i.focusInvalid(),!1)})),i)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,e,n;return l(this[0]).is("form")?t=this.validate().form():(n=[],t=!0,e=l(this[0].form).validate(),this.each(function(){(t=e.element(this)&&t)||(n=n.concat(e.errorList))}),e.errorList=n),t},rules:function(t,e){if(this.length){var n,i,r,o,a,s=this[0];if(t)switch(i=(n=l.data(s.form,"validator").settings).rules,r=l.validator.staticRules(s),t){case"add":l.extend(r,l.validator.normalizeRule(e)),delete r.messages,i[s.name]=r,e.messages&&(n.messages[s.name]=l.extend(n.messages[s.name],e.messages));break;case"remove":return e?(a={},l.each(e.split(/\s/),function(t,e){a[e]=r[e],delete r[e],"required"===e&&l(s).removeAttr("aria-required")}),a):(delete i[s.name],r)}return(t=l.validator.normalizeRules(l.extend({},l.validator.classRules(s),l.validator.attributeRules(s),l.validator.dataRules(s),l.validator.staticRules(s)),s)).required&&(o=t.required,delete t.required,t=l.extend({required:o},t),l(s).attr("aria-required","true")),t.remote&&(o=t.remote,delete t.remote,t=l.extend(t,{remote:o})),t}}}),l.extend(l.expr[":"],{blank:function(t){return!l.trim(""+l(t).val())},filled:function(t){t=l(t).val();return null!==t&&!!l.trim(""+t)},unchecked:function(t){return!l(t).prop("checked")}}),l.validator=function(t,e){this.settings=l.extend(!0,{},l.validator.defaults,t),this.currentForm=e,this.init()},l.validator.format=function(n,t){return 1===arguments.length?function(){var t=l.makeArray(arguments);return t.unshift(n),l.validator.format.apply(this,t)}:(void 0===t||((t=2<arguments.length&&t.constructor!==Array?l.makeArray(arguments).slice(1):t).constructor!==Array&&(t=[t]),l.each(t,function(t,e){n=n.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})})),n)},l.extend(l.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:l([]),errorLabelContainer:l([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){9===e.which&&""===this.elementValue(t)||-1!==l.inArray(e.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,n){("radio"===t.type?this.findByName(t.name):l(t)).addClass(e).removeClass(n)},unhighlight:function(t,e,n){("radio"===t.type?this.findByName(t.name):l(t)).removeClass(e).addClass(n)}},setDefaults:function(t){l.extend(l.validator.defaults,t)},messages:{required:"",remote:"",email:"",url:"URL",date:"",dateISO:"(ISO)",number:"",digits:"",equalTo:"",maxlength:l.validator.format("{0}"),minlength:l.validator.format("{0}"),rangelength:l.validator.format("{0}{1}"),range:l.validator.format("{0}{1}"),max:l.validator.format("{0}"),min:l.validator.format("{0}"),step:l.validator.format("{0}")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=l(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||l(this.currentForm),this.containers=l(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};function t(t){var e=l.data(this.form,"validator"),n="on"+t.type.replace(/^validate/,""),i=e.settings;i[n]&&!l(this).is(i.ignore)&&i[n].call(e,this,t)}l.each(this.settings.groups,function(n,t){"string"==typeof t&&(t=t.split(/\s/)),l.each(t,function(t,e){i[e]=n})}),n=this.settings.rules,l.each(n,function(t,e){n[t]=l.validator.normalizeRule(e)}),l(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable]",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&l(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler),l(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),l.extend(this.submitted,this.errorMap),this.invalid=l.extend({},this.errorMap),this.valid()||l(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e,n,i=this.clean(t),r=this.validationTargetFor(i),o=this,a=!0;return void 0===r?delete this.invalid[i.name]:(this.prepareElement(r),this.currentElements=l(r),(n=this.groups[r.name])&&l.each(this.groups,function(t,e){e===n&&t!==r.name&&(i=o.validationTargetFor(o.clean(o.findByName(t))))&&i.name in o.invalid&&(o.currentElements.push(i),a=a&&o.check(i))}),e=!1!==this.check(r),a=a&&e,this.invalid[r.name]=!e,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),l(t).attr("aria-invalid",!e)),a},showErrors:function(e){var n;e&&(l.extend((n=this).errorMap,e),this.errorList=l.map(this.errorMap,function(t,e){return{message:t,element:n.findByName(e)[0]}}),this.successList=l.grep(this.successList,function(t){return!(t.name in e)})),this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){l.fn.resetForm&&l(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,n=0;for(e in t)t[e]&&n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{l(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===l.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,n={};return l(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var t=this.name||l(this).attr("name");return!t&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=l(this).closest("form")[0]),n[t]=!0})},clean:function(t){return l(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return l(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=l([]),this.toHide=l([])},reset:function(){this.resetInternals(),this.currentElements=l([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e=l(t),n=t.type;return"radio"===n||"checkbox"===n?this.findByName(t.name).filter(":checked").val():"number"===n&&void 0!==t.validity?t.validity.badInput?"NaN":e.val():(e=t.hasAttribute("contenteditable")?e.text():e.val(),"file"===n?"C:\\fakepath\\"===e.substr(0,12)?e.substr(12):0<=(n=e.lastIndexOf("/"))||0<=(n=e.lastIndexOf("\\"))?e.substr(n+1):e:"string"==typeof e?e.replace(/\r/g,""):e)},check:function(e){e=this.validationTargetFor(this.clean(e));var t,n,i,r=l(e).rules(),o=l.map(r,function(t,e){return e}).length,a=!1,s=this.elementValue(e);if("function"==typeof r.normalizer){if("string"!=typeof(s=r.normalizer.call(e,s)))throw new TypeError("The normalizer should return a string value.");delete r.normalizer}for(n in r){i={method:n,parameters:r[n]};try{if("dependency-mismatch"===(t=l.validator.methods[n].call(this,s,e,i.parameters))&&1===o){a=!0;continue}if(a=!1,"pending"===t)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!t)return this.formatAndAdd(e,i),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+i.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+i.method+"' method."),t}}if(!a)return this.objectLength(r)&&this.successList.push(e),!0},customDataMessage:function(t,e){return l(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||l(t).data("msg")},customMessage:function(t,e){t=this.settings.messages[t];return t&&(t.constructor===String?t:t[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){var n=this.findDefined(this.customMessage(t.name,e.method),this.customDataMessage(t,e.method),!this.settings.ignoreTitle&&t.title||void 0,l.validator.messages[e.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),i=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,e.parameters,t):i.test(n)&&(n=l.validator.format(n.replace(i,"{$1}"),e.parameters)),n},formatAndAdd:function(t,e){var n=this.defaultMessage(t,e);this.errorList.push({message:n,element:t,method:e.method}),this.errorMap[t.name]=n,this.submitted[t.name]=n},addWrapper:function(t){return t=this.settings.wrapper?t.add(t.parent(this.settings.wrapper)):t},defaultShowErrors:function(){for(var t,e,n=0;this.errorList[n];n++)e=this.errorList[n],this.settings.highlight&&this.settings.highlight.call(this,e.element,this.settings.errorClass,this.settings.validClass),this.showLabel(e.element,e.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(n=0;this.successList[n];n++)this.showLabel(this.successList[n]);if(this.settings.unhighlight)for(n=0,t=this.validElements();t[n];n++)this.settings.unhighlight.call(this,t[n],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return l(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var n,i,r,o=this.errorsFor(t),a=this.idOrName(t),s=l(t).attr("aria-describedby");o.length?(o.removeClass(this.settings.validClass).addClass(this.settings.errorClass),o.html(e)):(n=o=l("<"+this.settings.errorElement+">").attr("id",a+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(n=o.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement(n,l(t)):n.insertAfter(t),o.is("label")?o.attr("for",a):0===o.parents("label[for='"+this.escapeCssMeta(a)+"']").length&&(a=o.attr("id"),s?s.match(new RegExp("\\b"+this.escapeCssMeta(a)+"\\b"))||(s+=" "+a):s=a,l(t).attr("aria-describedby",s),(i=this.groups[t.name])&&l.each((r=this).groups,function(t,e){e===i&&l("[name='"+r.escapeCssMeta(t)+"']",r.currentForm).attr("aria-describedby",o.attr("id"))}))),!e&&this.settings.success&&(o.text(""),"string"==typeof this.settings.success?o.addClass(this.settings.success):this.settings.success(o,t)),this.toShow=this.toShow.add(o)},errorsFor:function(t){var e=this.escapeCssMeta(this.idOrName(t)),t=l(t).attr("aria-describedby"),e="label[for='"+e+"'], label[for='"+e+"'] *";return t&&(e=e+", #"+this.escapeCssMeta(t).replace(/\s+/g,", #")),this.errors().filter(e)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||!this.checkable(t)&&t.id||t.name},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),l(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return l(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return l("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(t,e){return!!l(t,e.form).length},function:function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!l.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,l(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],l(t).removeClass(this.settings.pendingClass),e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(l(this.currentForm).submit(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(l(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,e){return l.data(t,"previousValue")||l.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:e})})},destroy:function(){this.resetForm(),l(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:l.extend(this.classRuleSettings,t)},classRules:function(t){var e={},t=l(t).attr("class");return t&&l.each(t.split(" "),function(){this in l.validator.classRuleSettings&&l.extend(e,l.validator.classRuleSettings[this])}),e},normalizeAttributeRule:function(t,e,n,i){/min|max|step/.test(n)&&(null===e||/number|range|text/.test(e))&&(i=Number(i),isNaN(i)&&(i=void 0)),i||0===i?t[n]=i:e===n&&"range"!==e&&(t[n]=!0)},attributeRules:function(t){var e,n,i={},r=l(t),o=t.getAttribute("type");for(e in l.validator.methods)n="required"===e?!!(n=""===(n=t.getAttribute(e))?!0:n):r.attr(e),this.normalizeAttributeRule(i,o,e,n);return i.maxlength&&/-1|2147483647|524288/.test(i.maxlength)&&delete i.maxlength,i},dataRules:function(t){var e,n,i={},r=l(t),o=t.getAttribute("type");for(e in l.validator.methods)n=r.data("rule"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()),this.normalizeAttributeRule(i,o,e,n);return i},staticRules:function(t){var e={},n=l.data(t.form,"validator");return e=n.settings.rules?l.validator.normalizeRule(n.settings.rules[t.name])||{}:e},normalizeRules:function(i,r){return l.each(i,function(t,e){if(!1!==e){if(e.param||e.depends){var n=!0;switch(typeof e.depends){case"string":n=!!l(e.depends,r.form).length;break;case"function":n=e.depends.call(r,r)}n?i[t]=void 0===e.param||e.param:(l.data(r.form,"validator").resetElements(l(r)),delete i[t])}}else delete i[t]}),l.each(i,function(t,e){i[t]=l.isFunction(e)&&"normalizer"!==t?e(r):e}),l.each(["minlength","maxlength"],function(){i[this]&&(i[this]=Number(i[this]))}),l.each(["rangelength","range"],function(){var t;i[this]&&(l.isArray(i[this])?i[this]=[Number(i[this][0]),Number(i[this][1])]:"string"==typeof i[this]&&(t=i[this].replace(/[\[\]]/g,"").split(/[\s,]+/),i[this]=[Number(t[0]),Number(t[1])]))}),l.validator.autoCreateRanges&&(null!=i.min&&null!=i.max&&(i.range=[i.min,i.max],delete i.min,delete i.max),null!=i.minlength&&null!=i.maxlength&&(i.rangelength=[i.minlength,i.maxlength],delete i.minlength,delete i.maxlength)),i},normalizeRule:function(t){var e;return"string"==typeof t&&(e={},l.each(t.split(/\s/),function(){e[this]=!0}),t=e),t},addMethod:function(t,e,n){l.validator.methods[t]=e,l.validator.messages[t]=void 0!==n?n:l.validator.messages[t],e.length<3&&l.validator.addClassRules(t,l.validator.normalizeRule(t))},methods:{required:function(t,e,n){if(!this.depend(n,e))return"dependency-mismatch";if("select"!==e.nodeName.toLowerCase())return this.checkable(e)?0<this.getLength(t,e):0<t.length;e=l(e).val();return e&&0<e.length},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,n){t=l.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||n<=t},maxlength:function(t,e,n){t=l.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||t<=n},rangelength:function(t,e,n){t=l.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||t>=n[0]&&t<=n[1]},min:function(t,e,n){return this.optional(e)||n<=t},max:function(t,e,n){return this.optional(e)||t<=n},range:function(t,e,n){return this.optional(e)||t>=n[0]&&t<=n[1]},step:function(t,e,n){var i=l(e).attr("type"),r="Step attribute on input type "+i+" is not supported.",o=new RegExp("\\b"+i+"\\b");if(i&&!o.test(["text","number","range"].join()))throw new Error(r);return this.optional(e)||t%n==0},equalTo:function(t,e,n){n=l(n);return this.settings.onfocusout&&n.not(".validate-equalTo-blur").length&&n.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){l(e).valid()}),t===n.val()},remote:function(i,r,t,o){if(this.optional(r))return"dependency-mismatch";o="string"==typeof o&&o||"remote";var a,e,s=this.previousValue(r,o);return this.settings.messages[r.name]||(this.settings.messages[r.name]={}),s.originalMessage=s.originalMessage||this.settings.messages[r.name][o],this.settings.messages[r.name][o]=s.message,e=l.param(l.extend({data:i},(t="string"==typeof t?{url:t}:t).data)),s.old===e?s.valid:(s.old=e,(a=this).startRequest(r),(e={})[r.name]=i,l.ajax(l.extend(!0,{mode:"abort",port:"validate"+r.name,dataType:"json",data:e,context:a.currentForm,success:function(t){var e,n=!0===t||"true"===t;a.settings.messages[r.name][o]=s.originalMessage,n?(e=a.formSubmitted,a.resetInternals(),a.toHide=a.errorsFor(r),a.formSubmitted=e,a.successList.push(r),a.invalid[r.name]=!1,a.showErrors()):(e={},t=t||a.defaultMessage(r,{method:o,parameters:i}),e[r.name]=s.message=t,a.invalid[r.name]=!0,a.showErrors(e)),s.valid=n,a.stopRequest(r,n)}},t)),"pending")}}});var i,r={};l.ajaxPrefilter?l.ajaxPrefilter(function(t,e,n){var i=t.port;"abort"===t.mode&&(r[i]&&r[i].abort(),r[i]=n)}):(i=l.ajax,l.ajax=function(t){var e=("mode"in t?t:l.ajaxSettings).mode,n=("port"in t?t:l.ajaxSettings).port;return"abort"===e?(r[n]&&r[n].abort(),r[n]=i.apply(this,arguments),r[n]):i.apply(this,arguments)})}),function(){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this,e=t._,i=Array.prototype,a=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,r=i.push,l=i.slice,h=a.toString,o=a.hasOwnProperty,n=Array.isArray,s=Object.keys,u=Object.create,d=function(){},f=function(t){return t instanceof f?t:this instanceof f?void(this._wrapped=t):new f(t)};"undefined"==typeof exports||exports.nodeType?t._=f:(exports="undefined"!=typeof module&&!module.nodeType&&module.exports?module.exports=f:exports)._=f,f.VERSION="1.8.3";var p,g=function(r,o,t){if(void 0===o)return r;switch(t){case 1:return function(t){return r.call(o,t)};case null:case 3:return function(t,e,n){return r.call(o,t,e,n)};case 4:return function(t,e,n,i){return r.call(o,t,e,n,i)}}return function(){return r.apply(o,arguments)}},m=function(t,e,n){return f.iteratee!==p?f.iteratee(t,e):null==t?f.identity:f.isFunction(t)?g(t,e,n):f.isObject(t)&&!f.isArray(t)?f.matcher(t):f.property(t)};f.iteratee=p=function(t,e){return m(t,e,1/0)};function y(r,o){return o=null==o?r.length-1:+o,function(){for(var t=Math.max(arguments.length-o,0),e=Array(t),n=0;n<t;n++)e[n]=arguments[n+o];switch(o){case 0:return r.call(this,e);case 1:return r.call(this,arguments[0],e);case 2:return r.call(this,arguments[0],arguments[1],e)}for(var i=Array(o+1),n=0;n<o;n++)i[n]=arguments[n];return i[o]=e,r.apply(this,i)}}function v(e){return function(t){return null==t?void 0:t[e]}}var x=function(t){if(!f.isObject(t))return{};if(u)return u(t);d.prototype=t;t=new d;return d.prototype=null,t},_=Math.pow(2,53)-1,b=v("length"),w=function(t){t=b(t);return"number"==typeof t&&0<=t&&t<=_};f.each=f.forEach=function(t,e,n){if(e=g(e,n),w(t))for(r=0,o=t.length;r<o;r++)e(t[r],r,t);else for(var i=f.keys(t),r=0,o=i.length;r<o;r++)e(t[i[r]],i[r],t);return t},f.map=f.collect=function(t,e,n){e=m(e,n);for(var i=!w(t)&&f.keys(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o};var M=function(l){return function(t,e,n,i){var r=3<=arguments.length;return function(t,e,n,i){var r=!w(t)&&f.keys(t),o=(r||t).length,a=0<l?0:o-1;for(i||(n=t[r?r[a]:a],a+=l);0<=a&&a<o;a+=l){var s=r?r[a]:a;n=e(n,t[s],s,t)}return n}(t,g(e,i,4),n,r)}};f.reduce=f.foldl=f.inject=M(1),f.reduceRight=f.foldr=M(-1),f.find=f.detect=function(t,e,n){n=(w(t)?f.findIndex:f.findKey)(t,e,n);if(void 0!==n&&-1!==n)return t[n]},f.filter=f.select=function(t,i,e){var r=[];return i=m(i,e),f.each(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r},f.reject=function(t,e,n){return f.filter(t,f.negate(m(e)),n)},f.every=f.all=function(t,e,n){e=m(e,n);for(var i=!w(t)&&f.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0},f.some=f.any=function(t,e,n){e=m(e,n);for(var i=!w(t)&&f.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1},f.contains=f.includes=f.include=function(t,e,n,i){return w(t)||(t=f.values(t)),0<=f.indexOf(t,e,n="number"!=typeof n||i?0:n)},f.invoke=y(function(t,n,i){var r=f.isFunction(n);return f.map(t,function(t){var e=r?n:t[n];return null==e?e:e.apply(t,i)})}),f.pluck=function(t,e){return f.map(t,f.property(e))},f.where=function(t,e){return f.filter(t,f.matcher(e))},f.findWhere=function(t,e){return f.find(t,f.matcher(e))},f.max=function(t,i,e){var n,r,o=-1/0,a=-1/0;if(null==i||"number"==typeof i&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=w(t)?t:f.values(t)).length;s<l;s++)null!=(n=t[s])&&o<n&&(o=n);else i=m(i,e),f.each(t,function(t,e,n){r=i(t,e,n),(a<r||r===-1/0&&o===-1/0)&&(o=t,a=r)});return o},f.min=function(t,i,e){var n,r,o=1/0,a=1/0;if(null==i||"number"==typeof i&&"object"!=typeof t[0]&&null!=t)for(var s=0,l=(t=w(t)?t:f.values(t)).length;s<l;s++)null!=(n=t[s])&&n<o&&(o=n);else i=m(i,e),f.each(t,function(t,e,n){((r=i(t,e,n))<a||r===1/0&&o===1/0)&&(o=t,a=r)});return o},f.shuffle=function(t){return f.sample(t,1/0)},f.sample=function(t,e,n){if(null==e||n)return(t=!w(t)?f.values(t):t)[f.random(t.length-1)];var i=w(t)?f.clone(t):f.values(t),t=b(i);e=Math.max(Math.min(e,t),0);for(var r=t-1,o=0;o<e;o++){var a=f.random(o,r),s=i[o];i[o]=i[a],i[a]=s}return i.slice(0,e)},f.sortBy=function(t,i,e){var r=0;return i=m(i,e),f.pluck(f.map(t,function(t,e,n){return{value:t,index:r++,criteria:i(t,e,n)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(i<n||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var A=function(o,e){return function(n,i,t){var r=e?[[],[]]:{};return i=m(i,t),f.each(n,function(t,e){e=i(t,e,n);o(r,t,e)}),r}};f.groupBy=A(function(t,e,n){f.has(t,n)?t[n].push(e):t[n]=[e]}),f.indexBy=A(function(t,e,n){t[n]=e}),f.countBy=A(function(t,e,n){f.has(t,n)?t[n]++:t[n]=1});var I=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;f.toArray=function(t){return t?f.isArray(t)?l.call(t):f.isString(t)?t.match(I):w(t)?f.map(t,f.identity):f.values(t):[]},f.size=function(t){return null==t?0:(w(t)?t:f.keys(t)).length},f.partition=A(function(t,e,n){t[n?0:1].push(e)},!0),f.first=f.head=f.take=function(t,e,n){if(!(null==t||t.length<1))return null==e||n?t[0]:f.initial(t,t.length-e)},f.initial=function(t,e,n){return l.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},f.last=function(t,e,n){if(!(null==t||t.length<1))return null==e||n?t[t.length-1]:f.rest(t,Math.max(0,t.length-e))},f.rest=f.tail=f.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},f.compact=function(t){return f.filter(t,Boolean)};var C=function(t,e,n,i){for(var r=(i=i||[]).length,o=0,a=b(t);o<a;o++){var s=t[o];if(w(s)&&(f.isArray(s)||f.isArguments(s)))if(e)for(var l=0,u=s.length;l<u;)i[r++]=s[l++];else C(s,e,n,i),r=i.length;else n||(i[r++]=s)}return i};f.flatten=function(t,e){return C(t,e,!1)},f.without=y(function(t,e){return f.difference(t,e)}),f.uniq=f.unique=function(t,e,n,i){f.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=m(n,i));for(var r=[],o=[],a=0,s=b(t);a<s;a++){var l=t[a],u=n?n(l,a,t):l;e?(a&&o===u||r.push(l),o=u):n?f.contains(o,u)||(o.push(u),r.push(l)):f.contains(r,l)||r.push(l)}return r},f.union=y(function(t){return f.uniq(C(t,!0,!0))}),f.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=b(t);i<r;i++){var o=t[i];if(!f.contains(e,o)){for(var a=1;a<n&&f.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},f.difference=y(function(t,e){return e=C(e,!0,!0),f.filter(t,function(t){return!f.contains(e,t)})}),f.unzip=function(t){for(var e=t&&f.max(t,b).length||0,n=Array(e),i=0;i<e;i++)n[i]=f.pluck(t,i);return n},f.zip=y(f.unzip),f.object=function(t,e){for(var n={},i=0,r=b(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n};M=function(o){return function(t,e,n){e=m(e,n);for(var i=b(t),r=0<o?0:i-1;0<=r&&r<i;r+=o)if(e(t[r],r,t))return r;return-1}};f.findIndex=M(1),f.findLastIndex=M(-1),f.sortedIndex=function(t,e,n,i){for(var r=(n=m(n,i,1))(e),o=0,a=b(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o};A=function(o,a,s){return function(t,e,n){var i=0,r=b(t);if("number"==typeof n)0<o?i=0<=n?n:Math.max(n+r,i):r=0<=n?Math.min(n+1,r):n+r+1;else if(s&&n&&r)return t[n=s(t,e)]===e?n:-1;if(e!=e)return 0<=(n=a(l.call(t,i,r),f.isNaN))?n+i:-1;for(n=0<o?i:r-1;0<=n&&n<r;n+=o)if(t[n]===e)return n;return-1}};f.indexOf=A(1,f.findIndex,f.sortedIndex),f.lastIndexOf=A(-1,f.findLastIndex),f.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||(e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r},f.chunk=function(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(l.call(t,i,i+=e));return n};function S(t,e,n,i,r){return i instanceof e?(n=x(t.prototype),r=t.apply(n,r),f.isObject(r)?r:n):t.apply(n,r)}f.bind=y(function(e,n,i){if(!f.isFunction(e))throw new TypeError("Bind must be called on a function");var r=y(function(t){return S(e,r,n,this,i.concat(t))});return r}),f.partial=y(function(r,o){function a(){for(var t=0,e=o.length,n=Array(e),i=0;i<e;i++)n[i]=o[i]===s?arguments[t++]:o[i];for(;t<arguments.length;)n.push(arguments[t++]);return S(r,a,this,this,n)}var s=f.partial.placeholder;return a}),(f.partial.placeholder=f).bindAll=y(function(t,e){var n=(e=C(e,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=f.bind(t[i],t)}}),f.memoize=function(i,r){function o(t){var e=o.cache,n=""+(r?r.apply(this,arguments):t);return f.has(e,n)||(e[n]=i.apply(this,arguments)),e[n]}return o.cache={},o},f.delay=y(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),f.defer=f.partial(f.delay,f,1),f.throttle=function(n,i,r){var o,a,s,l,u=0;r=r||{};function c(){u=!1===r.leading?0:f.now(),o=null,l=n.apply(a,s),o||(a=s=null)}function t(){var t=f.now();u||!1!==r.leading||(u=t);var e=i-(t-u);return a=this,s=arguments,e<=0||i<e?(o&&(clearTimeout(o),o=null),u=t,l=n.apply(a,s),o||(a=s=null)):o||!1===r.trailing||(o=setTimeout(c,e)),l}return t.cancel=function(){clearTimeout(o),u=0,o=a=s=null},t},f.debounce=function(n,i,r){function o(t,e){a=null,e&&(s=n.apply(t,e))}var a,s,t=y(function(t){var e;return a&&clearTimeout(a),r?(e=!a,a=setTimeout(o,i),e&&(s=n.apply(this,t))):a=f.delay(o,i,this,t),s});return t.cancel=function(){clearTimeout(a),a=null},t},f.wrap=function(t,e){return f.partial(e,t)},f.negate=function(t){return function(){return!t.apply(this,arguments)}},f.compose=function(){var n=arguments,i=n.length-1;return function(){for(var t=i,e=n[i].apply(this,arguments);t--;)e=n[t].call(this,e);return e}},f.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},f.before=function(t,e){var n;return function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},f.once=f.partial(f.before,2),f.restArgs=y;function T(t,e){var n=N.length,i=t.constructor,r=f.isFunction(i)&&i.prototype||a,o="constructor";for(f.has(t,o)&&!f.contains(e,o)&&e.push(o);n--;)(o=N[n])in t&&t[o]!==r[o]&&!f.contains(e,o)&&e.push(o)}var D=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];f.keys=function(t){if(!f.isObject(t))return[];if(s)return s(t);var e,n=[];for(e in t)f.has(t,e)&&n.push(e);return D&&T(t,n),n},f.allKeys=function(t){if(!f.isObject(t))return[];var e,n=[];for(e in t)n.push(e);return D&&T(t,n),n},f.values=function(t){for(var e=f.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},f.mapObject=function(t,e,n){e=m(e,n);for(var i=f.keys(t),r=i.length,o={},a=0;a<r;a++){var s=i[a];o[s]=e(t[s],s,t)}return o},f.pairs=function(t){for(var e=f.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},f.invert=function(t){for(var e={},n=f.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},f.functions=f.methods=function(t){var e,n=[];for(e in t)f.isFunction(t[e])&&n.push(e);return n.sort()};M=function(l,u){return function(t){var e=arguments.length;if(u&&(t=Object(t)),e<2||null==t)return t;for(var n=1;n<e;n++)for(var i=arguments[n],r=l(i),o=r.length,a=0;a<o;a++){var s=r[a];u&&void 0!==t[s]||(t[s]=i[s])}return t}};f.extend=M(f.allKeys),f.extendOwn=f.assign=M(f.keys),f.findKey=function(t,e,n){e=m(e,n);for(var i,r=f.keys(t),o=0,a=r.length;o<a;o++)if(e(t[i=r[o]],i,t))return i};function L(t,e,n){return e in n}var k,E;f.pick=y(function(t,e){var n={},i=e[0];if(null==t)return n;f.isFunction(i)?(1<e.length&&(i=g(i,e[1])),e=f.allKeys(t)):(i=L,e=C(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var a=e[r],s=t[a];i(s,a,t)&&(n[a]=s)}return n}),f.omit=y(function(t,n){var e,i=n[0];return f.isFunction(i)?(i=f.negate(i),1<n.length&&(e=n[1])):(n=f.map(C(n,!1,!1),String),i=function(t,e){return!f.contains(n,e)}),f.pick(t,i,e)}),f.defaults=M(f.allKeys,!0),f.create=function(t,e){t=x(t);return e&&f.extendOwn(t,e),t},f.clone=function(t){return f.isObject(t)?f.isArray(t)?t.slice():f.extend({},t):t},f.tap=function(t,e){return e(t),t},f.isMatch=function(t,e){var n=f.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0},k=function(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;if(t!=t)return e!=e;var r=typeof t;return("function"==r||"object"==r||"object"==typeof e)&&E(t,e,n,i)},E=function(t,e,n,i){t instanceof f&&(t=t._wrapped),e instanceof f&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return c.valueOf.call(t)===c.valueOf.call(e)}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,r=e.constructor;if(a!==r&&!(f.isFunction(a)&&a instanceof a&&f.isFunction(r)&&r instanceof r)&&"constructor"in t&&"constructor"in e)return!1}i=i||[];for(var s=(n=n||[]).length;s--;)if(n[s]===t)return i[s]===e;if(n.push(t),i.push(e),o){if((s=t.length)!==e.length)return!1;for(;s--;)if(!k(t[s],e[s],n,i))return!1}else{var l,u=f.keys(t),s=u.length;if(f.keys(e).length!==s)return!1;for(;s--;)if(l=u[s],!f.has(e,l)||!k(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0},f.isEqual=function(t,e){return k(t,e)},f.isEmpty=function(t){return null==t||(w(t)&&(f.isArray(t)||f.isString(t)||f.isArguments(t))?0===t.length:0===f.keys(t).length)},f.isElement=function(t){return!(!t||1!==t.nodeType)},f.isArray=n||function(t){return"[object Array]"===h.call(t)},f.isObject=function(t){var e=typeof t;return"function"==e||"object"==e&&!!t},f.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){f["is"+e]=function(t){return h.call(t)==="[object "+e+"]"}}),f.isArguments(arguments)||(f.isArguments=function(t){return f.has(t,"callee")});A=t.document&&t.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof A&&(f.isFunction=function(t){return"function"==typeof t||!1}),f.isFinite=function(t){return!f.isSymbol(t)&&isFinite(t)&&!isNaN(parseFloat(t))},f.isNaN=function(t){return f.isNumber(t)&&isNaN(t)},f.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"===h.call(t)},f.isNull=function(t){return null===t},f.isUndefined=function(t){return void 0===t},f.has=function(t,e){if(!f.isArray(e))return null!=t&&o.call(t,e);for(var n=e.length,i=0;i<n;i++){var r=e[i];if(null==t||!o.call(t,r))return!1;t=t[r]}return!!n},f.noConflict=function(){return t._=e,this},f.identity=function(t){return t},f.constant=function(t){return function(){return t}},f.noop=function(){};function O(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0}f.property=function(e){return f.isArray(e)?function(t){return O(t,e)}:v(e)},f.propertyOf=function(e){return null==e?function(){}:function(t){return f.isArray(t)?O(e,t):e[t]}},f.matcher=f.matches=function(e){return e=f.extendOwn({},e),function(t){return f.isMatch(t,e)}},f.times=function(t,e,n){var i=Array(Math.max(0,t));e=g(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},f.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},f.now=Date.now||function(){return(new Date).getTime()};M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=f.invert(M),A=function(e){function n(t){return e[t]}var t="(?:"+f.keys(e).join("|")+")",i=RegExp(t),r=RegExp(t,"g");return function(t){return i.test(t=null==t?"":""+t)?t.replace(r,n):t}};f.escape=A(M),f.unescape=A(n),f.result=function(t,e,n){var i=(e=!f.isArray(e)?[e]:e).length;if(!i)return f.isFunction(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=f.isFunction(o)?o.call(t):o}return t};var P=0;f.uniqueId=function(t){var e=++P+"";return t?t+e:e},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function z(t){return"\\"+Y[t]}var j=/(.)^/,Y={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\u2028|\u2029/g;f.template=function(o,t,e){t=f.defaults({},t=!t&&e?e:t,f.templateSettings);var n,e=RegExp([(t.escape||j).source,(t.interpolate||j).source,(t.evaluate||j).source].join("|")+"|$","g"),a=0,s="__p+='";o.replace(e,function(t,e,n,i,r){return s+=o.slice(a,r).replace(R,z),a=r+t.length,e?s+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":i&&(s+="';\n"+i+"\n__p+='"),t}),s+="';\n",s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+(s=!t.variable?"with(obj||{}){\n"+s+"}\n":s)+"return __p;\n";try{n=new Function(t.variable||"obj","_",s)}catch(t){throw t.source=s,t}e=function(t){return n.call(this,t,f)},t=t.variable||"obj";return e.source="function("+t+"){\n"+s+"}",e},f.chain=function(t){t=f(t);return t._chain=!0,t};function B(t,e){return t._chain?f(e).chain():e}f.mixin=function(n){return f.each(f.functions(n),function(t){var e=f[t]=n[t];f.prototype[t]=function(){var t=[this._wrapped];return r.apply(t,arguments),B(this,e.apply(f,t))}}),f},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=i[e];f.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],B(this,t)}}),f.each(["concat","join","slice"],function(t){var e=i[t];f.prototype[t]=function(){return B(this,e.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}(),function(t){var e;"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):("undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.s=t())}(function(){return function i(r,o,a){function s(n,t){if(!o[n]){if(!r[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(l)return l(n,!0);throw new Error("Cannot find module '"+n+"'")}e=o[n]={exports:{}};r[n][0].call(e.exports,function(t){var e=r[n][1][t];return s(e||t)},e,e.exports,i,r,o,a)}return o[n].exports}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(t,e,n){var i=t("./trim"),r=t("./decapitalize");e.exports=function(t,e){return t=i(t).replace(/[-_\s]+(.)?/g,function(t,e){return e?e.toUpperCase():""}),!0===e?r(t):t}},{"./decapitalize":10,"./trim":62}],2:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t);e=e?t.slice(1).toLowerCase():t.slice(1);return t.charAt(0).toUpperCase()+e}},{"./helper/makeString":21}],3:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return i(t).split("")}},{"./helper/makeString":21}],4:[function(t,e,n){e.exports=function(t,e){return null==t?[]:(t=String(t),0<(e=~~e)?t.match(new RegExp(".{1,"+e+"}","g")):[t])}},{}],5:[function(t,e,n){var i=t("./capitalize"),r=t("./camelize"),o=t("./helper/makeString");e.exports=function(t){return t=o(t),i(r(t.replace(/[\W_]/g," ")).replace(/\s/g,""))}},{"./camelize":1,"./capitalize":2,"./helper/makeString":21}],6:[function(t,e,n){var i=t("./trim");e.exports=function(t){return i(t).replace(/\s\s+/g," ")}},{"./trim":62}],7:[function(t,e,n){var i=t("./helper/makeString"),r="",o="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssttuuuuuunyyczzz";r+=r.toUpperCase(),o+=o.toUpperCase(),e.exports=function(t){return i(t).replace(/.{1}/g,function(t){var e=r.indexOf(t);return-1===e?t:o.charAt(e)})}},{"./helper/makeString":21}],8:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){return t=i(t),e=i(e),0===t.length||0===e.length?0:t.split(e).length-1}},{"./helper/makeString":21}],9:[function(t,e,n){var i=t("./trim");e.exports=function(t){return i(t).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()}},{"./trim":62}],10:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return(t=i(t)).charAt(0).toLowerCase()+t.slice(1)}},{"./helper/makeString":21}],11:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){var n=function(t){for(var e=t.match(/^[\s\\t]*/gm),n=e[0].length,i=1;i<e.length;i++)n=Math.min(e[i].length,n);return n}(t=i(t));return 0===n?t:(n="string"==typeof e?new RegExp("^"+e,"gm"):new RegExp("^[ \\t]{"+n+"}","gm"),t.replace(n,""))}},{"./helper/makeString":21}],12:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/toPositive");e.exports=function(t,e,n){return t=i(t),e=""+e,0<=(n=void 0===n?t.length-e.length:Math.min(r(n),t.length)-e.length)&&t.indexOf(e,n)===n}},{"./helper/makeString":21,"./helper/toPositive":23}],13:[function(t,e,n){var i,r=t("./helper/makeString"),o=t("./helper/escapeChars"),a="[";for(i in o)a+=i;a+="]";var s=new RegExp(a,"g");e.exports=function(t){return r(t).replace(s,function(t){return"&"+o[t]+";"})}},{"./helper/escapeChars":18,"./helper/makeString":21}],14:[function(t,e,n){e.exports=function(){var t,e={};for(t in this)this.hasOwnProperty(t)&&!t.match(/^(?:include|contains|reverse|join)$/)&&(e[t]=this[t]);return e}},{}],15:[function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this._wrapped=t}function r(t,e){"function"==typeof e&&(i.prototype[t]=function(){var t=[this._wrapped].concat(Array.prototype.slice.call(arguments)),t=e.apply(null,t);return"string"==typeof t?new i(t):t})}for(var o in i.VERSION="3.2.1",i.isBlank=t("./isBlank"),i.stripTags=t("./stripTags"),i.capitalize=t("./capitalize"),i.decapitalize=t("./decapitalize"),i.chop=t("./chop"),i.trim=t("./trim"),i.clean=t("./clean"),i.cleanDiacritics=t("./cleanDiacritics"),i.count=t("./count"),i.chars=t("./chars"),i.swapCase=t("./swapCase"),i.escapeHTML=t("./escapeHTML"),i.unescapeHTML=t("./unescapeHTML"),i.splice=t("./splice"),i.insert=t("./insert"),i.replaceAll=t("./replaceAll"),i.include=t("./include"),i.join=t("./join"),i.lines=t("./lines"),i.dedent=t("./dedent"),i.reverse=t("./reverse"),i.startsWith=t("./startsWith"),i.endsWith=t("./endsWith"),i.pred=t("./pred"),i.succ=t("./succ"),i.titleize=t("./titleize"),i.camelize=t("./camelize"),i.underscored=t("./underscored"),i.dasherize=t("./dasherize"),i.classify=t("./classify"),i.humanize=t("./humanize"),i.ltrim=t("./ltrim"),i.rtrim=t("./rtrim"),i.truncate=t("./truncate"),i.prune=t("./prune"),i.words=t("./words"),i.pad=t("./pad"),i.lpad=t("./lpad"),i.rpad=t("./rpad"),i.lrpad=t("./lrpad"),i.sprintf=t("./sprintf"),i.vsprintf=t("./vsprintf"),i.toNumber=t("./toNumber"),i.numberFormat=t("./numberFormat"),i.strRight=t("./strRight"),i.strRightBack=t("./strRightBack"),i.strLeft=t("./strLeft"),i.strLeftBack=t("./strLeftBack"),i.toSentence=t("./toSentence"),i.toSentenceSerial=t("./toSentenceSerial"),i.slugify=t("./slugify"),i.surround=t("./surround"),i.quote=t("./quote"),i.unquote=t("./unquote"),i.repeat=t("./repeat"),i.naturalCmp=t("./naturalCmp"),i.levenshtein=t("./levenshtein"),i.toBoolean=t("./toBoolean"),i.exports=t("./exports"),i.escapeRegExp=t("./helper/escapeRegExp"),i.wrap=t("./wrap"),i.strip=i.trim,i.lstrip=i.ltrim,i.rstrip=i.rtrim,i.center=i.lrpad,i.rjust=i.lpad,i.ljust=i.rpad,i.contains=i.include,i.q=i.quote,i.toBool=i.toBoolean,i.camelcase=i.camelize,i.prototype={value:function(){return this._wrapped}},i)r(o,i[o]);r("tap",function(t,e){return e(t)});var a=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(o in a)!function(n){r(n,function(t){var e=Array.prototype.slice.call(arguments,1);return String.prototype[n].apply(t,e)})}(a[o]);e.exports=i},{"./camelize":1,"./capitalize":2,"./chars":3,"./chop":4,"./classify":5,"./clean":6,"./cleanDiacritics":7,"./count":8,"./dasherize":9,"./decapitalize":10,"./dedent":11,"./endsWith":12,"./escapeHTML":13,"./exports":14,"./helper/escapeRegExp":19,"./humanize":24,"./include":25,"./insert":26,"./isBlank":27,"./join":28,"./levenshtein":29,"./lines":30,"./lpad":31,"./lrpad":32,"./ltrim":33,"./naturalCmp":34,"./numberFormat":35,"./pad":36,"./pred":37,"./prune":38,"./quote":39,"./repeat":40,"./replaceAll":41,"./reverse":42,"./rpad":43,"./rtrim":44,"./slugify":45,"./splice":46,"./sprintf":47,"./startsWith":48,"./strLeft":49,"./strLeftBack":50,"./strRight":51,"./strRightBack":52,"./stripTags":53,"./succ":54,"./surround":55,"./swapCase":56,"./titleize":57,"./toBoolean":58,"./toNumber":59,"./toSentence":60,"./toSentenceSerial":61,"./trim":62,"./truncate":63,"./underscored":64,"./unescapeHTML":65,"./unquote":66,"./vsprintf":67,"./words":68,"./wrap":69}],16:[function(t,e,n){var i=t("./makeString");e.exports=function(t,e){return 0===(t=i(t)).length?"":t.slice(0,-1)+String.fromCharCode(t.charCodeAt(t.length-1)+e)}},{"./makeString":21}],17:[function(t,e,n){var i=t("./escapeRegExp");e.exports=function(t){return null==t?"\\s":t.source||"["+i(t)+"]"}},{"./escapeRegExp":19}],18:[function(t,e,n){e.exports={"":"cent","":"pound","":"yen","":"euro","":"copy","":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"}},{}],19:[function(t,e,n){var i=t("./makeString");e.exports=function(t){return i(t).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}},{"./makeString":21}],20:[function(t,e,n){e.exports={nbsp:" ",cent:"",pound:"",yen:"",euro:"",copy:"",reg:"",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"}},{}],21:[function(t,e,n){e.exports=function(t){return null==t?"":""+t}},{}],22:[function(t,e,n){e.exports=function(t,e){if(e<1)return"";for(var n="";0<e;)1&e&&(n+=t),e>>=1,t+=t;return n}},{}],23:[function(t,e,n){e.exports=function(t){return!(t<0)&&+t||0}},{}],24:[function(t,e,n){var i=t("./capitalize"),r=t("./underscored"),o=t("./trim");e.exports=function(t){return i(o(r(t).replace(/_id$/,"").replace(/_/g," ")))}},{"./capitalize":2,"./trim":62,"./underscored":64}],25:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){return""===e||-1!==i(t).indexOf(e)}},{"./helper/makeString":21}],26:[function(t,e,n){var i=t("./splice");e.exports=function(t,e,n){return i(t,e,0,n)}},{"./splice":46}],27:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return/^\s*$/.test(i(t))}},{"./helper/makeString":21}],28:[function(t,e,n){var i=t("./helper/makeString"),r=[].slice;e.exports=function(){var t=r.call(arguments),e=t.shift();return t.join(i(e))}},{"./helper/makeString":21}],29:[function(t,e,n){var l=t("./helper/makeString");e.exports=function(t,e){"use strict";if((t=l(t))===(e=l(e)))return 0;if(!t||!e)return Math.max(t.length,e.length);for(var n=new Array(e.length+1),i=0;i<n.length;++i)n[i]=i;for(i=0;i<t.length;++i){for(var r=i+1,o=0;o<e.length;++o){var a=r,s=a+1;s<(r=n[o]+(t.charAt(i)===e.charAt(o)?0:1))&&(r=s),(s=n[o+1]+1)<r&&(r=s),n[o]=a}n[o]=r}return r}},{"./helper/makeString":21}],30:[function(t,e,n){e.exports=function(t){return null==t?[]:String(t).split(/\r\n?|\n/)}},{}],31:[function(t,e,n){var i=t("./pad");e.exports=function(t,e,n){return i(t,e,n)}},{"./pad":36}],32:[function(t,e,n){var i=t("./pad");e.exports=function(t,e,n){return i(t,e,n,"both")}},{"./pad":36}],33:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/defaultToWhiteSpace"),o=String.prototype.trimLeft;e.exports=function(t,e){return t=i(t),!e&&o?o.call(t):(e=r(e),t.replace(new RegExp("^"+e+"+"),""))}},{"./helper/defaultToWhiteSpace":17,"./helper/makeString":21}],34:[function(t,e,n){e.exports=function(t,e){if(t==e)return 0;if(!t)return-1;if(!e)return 1;for(var n=/(\.\d+|\d+|\D+)/g,i=String(t).match(n),r=String(e).match(n),o=Math.min(i.length,r.length),a=0;a<o;a++){var s=i[a],l=r[a];if(s!==l){var u=+s,c=+l;return u==u&&c==c?c<u?1:-1:s<l?-1:1}}return i.length!=r.length?i.length-r.length:t<e?-1:1}},{}],35:[function(t,e,n){e.exports=function(t,e,n,i){if(isNaN(t)||null==t)return"";i="string"==typeof i?i:",";e=(t=t.toFixed(~~e)).split("."),t=e[0],e=e[1]?(n||".")+e[1]:"";return t.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+e}},{}],36:[function(t,e,n){var o=t("./helper/makeString"),a=t("./helper/strRepeat");e.exports=function(t,e,n,i){t=o(t),e=~~e;var r=0;switch(n?1<n.length&&(n=n.charAt(0)):n=" ",i){case"right":return r=e-t.length,t+a(n,r);case"both":return r=e-t.length,a(n,Math.ceil(r/2))+t+a(n,Math.floor(r/2));default:return r=e-t.length,a(n,r)+t}}},{"./helper/makeString":21,"./helper/strRepeat":22}],37:[function(t,e,n){var i=t("./helper/adjacent");e.exports=function(t){return i(t,-1)}},{"./helper/adjacent":16}],38:[function(t,e,n){var i=t("./helper/makeString"),r=t("./rtrim");e.exports=function(t,e,n){if(t=i(t),e=~~e,n=null!=n?String(n):"...",t.length<=e)return t;e=t.slice(0,e+1).replace(/.(?=\W*\w*$)/g,function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "});return((e=e.slice(e.length-2).match(/\w\w/)?e.replace(/\s*\S+$/,""):r(e.slice(0,e.length-1)))+n).length>t.length?t:t.slice(0,e.length)+n}},{"./helper/makeString":21,"./rtrim":44}],39:[function(t,e,n){var i=t("./surround");e.exports=function(t,e){return i(t,e||'"')}},{"./surround":55}],40:[function(t,e,n){var r=t("./helper/makeString"),o=t("./helper/strRepeat");e.exports=function(t,e,n){if(t=r(t),e=~~e,null==n)return o(t,e);for(var i=[];0<e;i[--e]=t);return i.join(n)}},{"./helper/makeString":21,"./helper/strRepeat":22}],41:[function(t,e,n){var r=t("./helper/makeString");e.exports=function(t,e,n,i){i=new RegExp(e,!0===i?"gi":"g");return r(t).replace(i,n)}},{"./helper/makeString":21}],42:[function(t,e,n){var i=t("./chars");e.exports=function(t){return i(t).reverse().join("")}},{"./chars":3}],43:[function(t,e,n){var i=t("./pad");e.exports=function(t,e,n){return i(t,e,n,"right")}},{"./pad":36}],44:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/defaultToWhiteSpace"),o=String.prototype.trimRight;e.exports=function(t,e){return t=i(t),!e&&o?o.call(t):(e=r(e),t.replace(new RegExp(e+"+$"),""))}},{"./helper/defaultToWhiteSpace":17,"./helper/makeString":21}],45:[function(t,e,n){t("./helper/makeString"),t("./helper/defaultToWhiteSpace");var i=t("./trim"),r=t("./dasherize"),o=t("./cleanDiacritics");e.exports=function(t){return i(r(o(t).replace(/[^\w\s-]/g,"-")),"-")}},{"./cleanDiacritics":7,"./dasherize":9,"./helper/defaultToWhiteSpace":17,"./helper/makeString":21,"./trim":62}],46:[function(t,e,n){var r=t("./chars");e.exports=function(t,e,n,i){t=r(t);return t.splice(~~e,~~n,i),t.join("")}},{"./chars":3}],47:[function(t,e,n){var d,t=t("./helper/strRepeat"),i=Object.prototype.toString,f=(d=t,r.format=function(t,e){for(var n,i,r,o,a,s,l=1,u=t.length,c=[],h=0;h<u;h++)if("string"===(n=p(t[h])))c.push(t[h]);else if("array"===n){if((o=t[h])[2])for(i=e[l],r=0;r<o[2].length;r++){if(!i.hasOwnProperty(o[2][r]))throw new Error(f('[_.sprintf] property "%s" does not exist',o[2][r]));i=i[o[2][r]]}else i=o[1]?e[o[1]]:e[l++];if(/[^s]/.test(o[8])&&"number"!=p(i))throw new Error(f("[_.sprintf] expecting number but found %s",p(i)));switch(o[8]){case"b":i=i.toString(2);break;case"c":i=String.fromCharCode(i);break;case"d":i=parseInt(i,10);break;case"e":i=o[7]?i.toExponential(o[7]):i.toExponential();break;case"f":i=o[7]?parseFloat(i).toFixed(o[7]):parseFloat(i);break;case"o":i=i.toString(8);break;case"s":i=(i=String(i))&&o[7]?i.substring(0,o[7]):i;break;case"u":i=Math.abs(i);break;case"x":i=i.toString(16);break;case"X":i=i.toString(16).toUpperCase()}i=/[def]/.test(o[8])&&o[3]&&0<=i?"+"+i:i,a=o[4]?"0"==o[4]?"0":o[4].charAt(1):" ",s=o[6]-String(i).length,s=o[6]?d(a,s):"",c.push(o[5]?i+s:s+i)}return c.join("")},r.cache={},r.parse=function(t){for(var e=t,n=[],i=[],r=0;e;){if(null!==(n=/^[^\x25]+/.exec(e)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(e)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(e)))throw new Error("[_.sprintf] huh?");if(n[2]){r|=1;var o=[],a=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(a)))throw new Error("[_.sprintf] huh?");for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(a)))o.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(a)))throw new Error("[_.sprintf] huh?");o.push(s[1])}n[2]=o}else r|=2;if(3===r)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");i.push(n)}e=e.substring(n[0].length)}return i},r);function p(t){return i.call(t).slice(8,-1).toLowerCase()}function r(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)}e.exports=f},{"./helper/strRepeat":22}],48:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/toPositive");e.exports=function(t,e,n){return t=i(t),e=""+e,n=null==n?0:Math.min(r(n),t.length),t.lastIndexOf(e,n)===n}},{"./helper/makeString":21,"./helper/toPositive":23}],49:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t);e=(e=i(e))?t.indexOf(e):-1;return~e?t.slice(0,e):t}},{"./helper/makeString":21}],50:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t),e=i(e);e=t.lastIndexOf(e);return~e?t.slice(0,e):t}},{"./helper/makeString":21}],51:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t);var n=(e=i(e))?t.indexOf(e):-1;return~n?t.slice(n+e.length,t.length):t}},{"./helper/makeString":21}],52:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e){t=i(t);var n=(e=i(e))?t.lastIndexOf(e):-1;return~n?t.slice(n+e.length,t.length):t}},{"./helper/makeString":21}],53:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return i(t).replace(/<\/?[^>]+>/g,"")}},{"./helper/makeString":21}],54:[function(t,e,n){var i=t("./helper/adjacent");e.exports=function(t){return i(t,1)}},{"./helper/adjacent":16}],55:[function(t,e,n){e.exports=function(t,e){return[e,t,e].join("")}},{}],56:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return i(t).replace(/\S/g,function(t){return t===t.toUpperCase()?t.toLowerCase():t.toUpperCase()})}},{"./helper/makeString":21}],57:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t){return i(t).toLowerCase().replace(/(?:^|\s|-)\S/g,function(t){return t.toUpperCase()})}},{"./helper/makeString":21}],58:[function(t,e,n){var i=t("./trim");function r(t,e){var n,i,r=t.toLowerCase();for(e=[].concat(e),n=0;n<e.length;n+=1)if(i=e[n]){if(i.test&&i.test(t))return 1;if(i.toLowerCase()===r)return 1}}e.exports=function(t,e,n){return"string"!=typeof(t="number"==typeof t?""+t:t)?!!t:!!r(t=i(t),e||["true","1"])||!r(t,n||["false","0"])&&void 0}},{"./trim":62}],59:[function(t,e,n){t("./trim");e.exports=function(t,e){if(null==t)return 0;e=Math.pow(10,isFinite(e)?e:0);return Math.round(t*e)/e}},{"./trim":62}],60:[function(t,e,n){var a=t("./rtrim");e.exports=function(t,e,n,i){e=e||", ",n=n||" and ";var r=t.slice(),o=r.pop();return 2<t.length&&i&&(n=a(e)+n),r.length?r.join(e)+n+o:o}},{"./rtrim":44}],61:[function(t,e,n){var i=t("./toSentence");e.exports=function(t,e,n){return i(t,e,n,!0)}},{"./toSentence":60}],62:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/defaultToWhiteSpace"),o=String.prototype.trim;e.exports=function(t,e){return t=i(t),!e&&o?o.call(t):(e=r(e),t.replace(new RegExp("^"+e+"+|"+e+"+$","g"),""))}},{"./helper/defaultToWhiteSpace":17,"./helper/makeString":21}],63:[function(t,e,n){var i=t("./helper/makeString");e.exports=function(t,e,n){return n=n||"...",(t=i(t)).length>(e=~~e)?t.slice(0,e)+n:t}},{"./helper/makeString":21}],64:[function(t,e,n){var i=t("./trim");e.exports=function(t){return i(t).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()}},{"./trim":62}],65:[function(t,e,n){var i=t("./helper/makeString"),r=t("./helper/htmlEntities");e.exports=function(t){return i(t).replace(/\&([^;]+);/g,function(t,e){var n;return e in r?r[e]:(n=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=e.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):t})}},{"./helper/htmlEntities":20,"./helper/makeString":21}],66:[function(t,e,n){e.exports=function(t,e){return t[0]===(e=e||'"')&&t[t.length-1]===e?t.slice(1,t.length-1):t}},{}],67:[function(t,e,n){var i=t("./sprintf");e.exports=function(t,e){return e.unshift(t),i.apply(null,e)}},{"./sprintf":47}],68:[function(t,e,n){var i=t("./isBlank"),r=t("./trim");e.exports=function(t,e){return i(t)?[]:r(t,e).split(e||/\s+/)}},{"./isBlank":27,"./trim":62}],69:[function(t,e,n){makeString=t("./helper/makeString"),e.exports=function(t,e){if(t=makeString(t),width=(e=e||{}).width||75,seperator=e.seperator||"\n",cut=e.cut||!1,preserveSpaces=e.preserveSpaces||!1,trailingSpaces=e.trailingSpaces||!1,width<=0)return t;if(cut){for(index=0,result="";index<t.length;)index%width==0&&0<index&&(result+=seperator),result+=t.charAt(index),index++;if(trailingSpaces)for(;0<index%width;)result+=" ",index++;return result}for(words=t.split(" "),result="",current_column=0;0<words.length;){if(1+words[0].length+current_column>width&&0<current_column){if(preserveSpaces)result+=" ",current_column++;else if(trailingSpaces)for(;current_column<width;)result+=" ",current_column++;result+=seperator,current_column=0}0<current_column&&(result+=" ",current_column++),result+=words[0],current_column+=words[0].length,words.shift()}if(trailingSpaces)for(;current_column<width;)result+=" ",current_column++;return result}},{"./helper/makeString":21}]},{},[15])(15)}),function(){var Ho,Wo="Expected a function",Go="__lodash_hash_undefined__",Uo="__lodash_placeholder__",Zo=128,Vo=9007199254740991,Xo=NaN,qo=4294967295,Jo=[["ary",Zo],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],$o="[object Arguments]",Qo="[object Array]",Ko="[object Boolean]",ta="[object Date]",ea="[object Error]",na="[object Function]",ia="[object GeneratorFunction]",ra="[object Map]",oa="[object Number]",aa="[object Object]",sa="[object Promise]",la="[object RegExp]",ua="[object Set]",ca="[object String]",ha="[object Symbol]",da="[object WeakMap]",fa="[object ArrayBuffer]",pa="[object DataView]",ga="[object Float32Array]",ma="[object Float64Array]",ya="[object Int8Array]",va="[object Int16Array]",xa="[object Int32Array]",_a="[object Uint8Array]",ba="[object Uint8ClampedArray]",wa="[object Uint16Array]",Ma="[object Uint32Array]",Aa=/\b__p \+= '';/g,Ia=/\b(__p \+=) '' \+/g,Ca=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sa=/&(?:amp|lt|gt|quot|#39);/g,Ta=/[&<>"']/g,Da=RegExp(Sa.source),Na=RegExp(Ta.source),La=/<%-([\s\S]+?)%>/g,ka=/<%([\s\S]+?)%>/g,Ea=/<%=([\s\S]+?)%>/g,Oa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Pa=/^\w*$/,za=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ja=/[\\^$.*+?()[\]{}|]/g,Ya=RegExp(ja.source),Ra=/^\s+|\s+$/g,Ba=/^\s+/,Fa=/\s+$/,Ha=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Wa=/\{\n\/\* \[wrapped with (.+)\] \*/,Ga=/,? & /,Ua=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Za=/\\(\\)?/g,Va=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Xa=/\w*$/,qa=/^[-+]0x[0-9a-f]+$/i,Ja=/^0b[01]+$/i,$a=/^\[object .+?Constructor\]$/,Qa=/^0o[0-7]+$/i,Ka=/^(?:0|[1-9]\d*)$/,ts=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,es=/($^)/,ns=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",n="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",r="A-Z\\xc0-\\xd6\\xd8-\\xde",o="\\ufe0e\\ufe0f",a="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="[']",l="["+t+"]",u="["+a+"]",c="["+e+"]",h="\\d+",d="["+n+"]",f="["+i+"]",p="[^"+t+a+h+n+i+r+"]",g="\\ud83c[\\udffb-\\udfff]",m="[^"+t+"]",y="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",x="["+r+"]",_="\\u200d",b="(?:"+f+"|"+p+")",a="(?:"+x+"|"+p+")",n="(?:['](?:d|ll|m|re|s|t|ve))?",i="(?:['](?:D|LL|M|RE|S|T|VE))?",r="(?:"+c+"|"+g+")"+"?",p="["+o+"]?",r=p+r+("(?:"+_+"(?:"+[m,y,v].join("|")+")"+p+r+")*"),d="(?:"+[d,y,v].join("|")+")"+r,l="(?:"+[m+c+"?",c,y,v,l].join("|")+")",is=RegExp(s,"g"),rs=RegExp(c,"g"),w=RegExp(g+"(?="+g+")|"+l+r,"g"),os=RegExp([x+"?"+f+"+"+n+"(?="+[u,x,"$"].join("|")+")",a+"+"+i+"(?="+[u,x+b,"$"].join("|")+")",x+"?"+b+"+"+n,x+"+"+i,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",h,d].join("|"),"g"),M=RegExp("["+_+t+e+o+"]"),as=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ss=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ls=-1,us={};us[ga]=us[ma]=us[ya]=us[va]=us[xa]=us[_a]=us[ba]=us[wa]=us[Ma]=!0,us[$o]=us[Qo]=us[fa]=us[Ko]=us[pa]=us[ta]=us[ea]=us[na]=us[ra]=us[oa]=us[aa]=us[la]=us[ua]=us[ca]=us[da]=!1;var cs={};cs[$o]=cs[Qo]=cs[fa]=cs[pa]=cs[Ko]=cs[ta]=cs[ga]=cs[ma]=cs[ya]=cs[va]=cs[xa]=cs[ra]=cs[oa]=cs[aa]=cs[la]=cs[ua]=cs[ca]=cs[ha]=cs[_a]=cs[ba]=cs[wa]=cs[Ma]=!0,cs[ea]=cs[na]=cs[da]=!1;var A={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},hs=parseFloat,ds=parseInt,e="object"==typeof global&&global&&global.Object===Object&&global,o="object"==typeof self&&self&&self.Object===Object&&self,fs=e||o||Function("return this")(),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,I=o&&"object"==typeof module&&module&&!module.nodeType&&module,ps=I&&I.exports===o,C=ps&&e.process,e=function(){try{var t=I&&I.require&&I.require("util").types;return t?t:C&&C.binding&&C.binding("util")}catch(t){}}(),gs=e&&e.isArrayBuffer,ms=e&&e.isDate,ys=e&&e.isMap,vs=e&&e.isRegExp,xs=e&&e.isSet,_s=e&&e.isTypedArray;function bs(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function ws(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function Ms(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function As(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Is(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function Cs(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function Ss(t,e){return!!(null==t?0:t.length)&&-1<zs(t,e,0)}function Ts(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function Ds(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function Ns(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function Ls(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function ks(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function Es(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var S=Bs("length");function Os(t,i,e){var r;return e(t,function(t,e,n){if(i(t,e,n))return r=e,!1}),r}function Ps(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function zs(t,e,n){return e==e?function(t,e,n){var i=n-1,r=t.length;for(;++i<r;)if(t[i]===e)return i;return-1}(t,e,n):Ps(t,Ys,n)}function js(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function Ys(t){return t!=t}function Rs(t,e){var n=null==t?0:t.length;return n?Hs(t,e)/n:Xo}function Bs(e){return function(t){return null==t?Ho:t[e]}}function T(e){return function(t){return null==e?Ho:e[t]}}function Fs(t,i,r,o,e){return e(t,function(t,e,n){r=o?(o=!1,t):i(r,t,e,n)}),r}function Hs(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==Ho&&(n=n===Ho?o:n+o)}return n}function Ws(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function Gs(e){return function(t){return e(t)}}function Us(e,t){return Ds(t,function(t){return e[t]})}function Zs(t,e){return t.has(e)}function Vs(t,e){for(var n=-1,i=t.length;++n<i&&-1<zs(e,t[n],0););return n}function Xs(t,e){for(var n=t.length;n--&&-1<zs(e,t[n],0););return n}var qs=T({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),Js=T({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function $s(t){return"\\"+A[t]}function Qs(t){return M.test(t)}function Ks(t){var n=-1,i=Array(t.size);return t.forEach(function(t,e){i[++n]=[e,t]}),i}function tl(e,n){return function(t){return e(n(t))}}function el(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==Uo||(t[n]=Uo,o[r++]=n)}return o}function nl(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function il(t){return(Qs(t)?function(t){var e=w.lastIndex=0;for(;w.test(t);)++e;return e}:S)(t)}function rl(t){return Qs(t)?t.match(w)||[]:t.split("")}var ol=T({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var al=function t(e){var M=(e=null==e?fs:al.defaults(fs.Object(),e,al.pick(fs,ss))).Array,n=e.Date,i=e.Error,h=e.Function,r=e.Math,g=e.Object,d=e.RegExp,c=e.String,v=e.TypeError,o=M.prototype,a=h.prototype,f=g.prototype,s=e["__core-js_shared__"],l=a.toString,x=f.hasOwnProperty,u=0,p=(Eo=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+Eo:"",m=f.toString,y=l.call(g),_=fs._,b=d("^"+l.call(x).replace(ja,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=ps?e.Buffer:Ho,A=e.Symbol,I=e.Uint8Array,C=w?w.allocUnsafe:Ho,S=tl(g.getPrototypeOf,g),T=g.create,D=f.propertyIsEnumerable,N=o.splice,L=A?A.isConcatSpreadable:Ho,k=A?A.iterator:Ho,E=A?A.toStringTag:Ho,O=function(){try{var t=Hn(g,"defineProperty");return t({},"",{}),t}catch(t){}}(),P=e.clearTimeout!==fs.clearTimeout&&e.clearTimeout,z=n&&n.now!==fs.Date.now&&n.now,j=e.setTimeout!==fs.setTimeout&&e.setTimeout,Y=r.ceil,R=r.floor,B=g.getOwnPropertySymbols,F=w?w.isBuffer:Ho,H=e.isFinite,W=o.join,G=tl(g.keys,g),U=r.max,Z=r.min,V=n.now,X=e.parseInt,q=r.random,J=o.reverse,$=Hn(e,"DataView"),Q=Hn(e,"Map"),K=Hn(e,"Promise"),tt=Hn(e,"Set"),et=Hn(e,"WeakMap"),nt=Hn(g,"create"),it=et&&new et,rt={},ot=mi($),at=mi(Q),st=mi(K),lt=mi(tt),ut=mi(et),ct=A?A.prototype:Ho,ht=ct?ct.valueOf:Ho,dt=ct?ct.toString:Ho;function ft(t){if(Er(t)&&!wr(t)&&!(t instanceof vt)){if(t instanceof yt)return t;if(x.call(t,"__wrapped__"))return yi(t)}return new yt(t)}var pt=function(t){if(!kr(t))return{};if(T)return T(t);gt.prototype=t;t=new gt;return gt.prototype=Ho,t};function gt(){}function mt(){}function yt(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=Ho}function vt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=qo,this.__views__=[]}function xt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function _t(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function wt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new bt;++e<n;)this.add(t[e])}function Mt(t){t=this.__data__=new _t(t);this.size=t.size}function At(t,e){var n,i=wr(t),r=!i&&br(t),o=!i&&!r&&Cr(t),a=!i&&!r&&!o&&Fr(t),s=i||r||o||a,l=s?Ws(t.length,c):[],u=l.length;for(n in t)!e&&!x.call(t,n)||s&&("length"==n||o&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||qn(n,u))||l.push(n);return l}function It(t){var e=t.length;return e?t[we(0,e-1)]:Ho}function Ct(t,e){return hi(rn(t),Pt(e,0,t.length))}function St(t){return hi(rn(t))}function Tt(t,e,n){(n===Ho||vr(t[e],n))&&(n!==Ho||e in t)||Et(t,e,n)}function Dt(t,e,n){var i=t[e];x.call(t,e)&&vr(i,n)&&(n!==Ho||e in t)||Et(t,e,n)}function Nt(t,e){for(var n=t.length;n--;)if(vr(t[n][0],e))return n;return-1}function Lt(t,i,r,o){return Bt(t,function(t,e,n){i(o,t,r(t),n)}),o}function kt(t,e){return t&&on(e,uo(e),t)}function Et(t,e,n){"__proto__"==e&&O?O(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Ot(t,e){for(var n=-1,i=e.length,r=M(i),o=null==t;++n<i;)r[n]=o?Ho:ro(t,e[n]);return r}function Pt(t,e,n){return t==t&&(n!==Ho&&(t=t<=n?t:n),e!==Ho&&(t=e<=t?t:e)),t}function zt(n,i,r,t,e,o){var a,s=1&i,l=2&i,u=4&i;if((a=r?e?r(n,t,e,o):r(n):a)!==Ho)return a;if(!kr(n))return n;var c,h,d=wr(n);if(d){if(a=function(t){var e=t.length,n=new t.constructor(e);e&&"string"==typeof t[0]&&x.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(n),!s)return rn(n,a)}else{var f=Un(n),t=f==na||f==ia;if(Cr(n))return $e(n,s);if(f==aa||f==$o||t&&!e){if(a=l||t?{}:Vn(n),!s)return l?(t=c=n,h=(h=a)&&on(t,co(t),h),on(c,Gn(c),h)):(h=kt(a,c=n),on(c,Wn(c),h))}else{if(!cs[f])return e?n:{};a=function(t,e,n){var i=t.constructor;switch(e){case fa:return Qe(t);case Ko:case ta:return new i(+t);case pa:return function(t,e){e=e?Qe(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.byteLength)}(t,n);case ga:case ma:case ya:case va:case xa:case _a:case ba:case wa:case Ma:return Ke(t,n);case ra:return new i;case oa:case ca:return new i(t);case la:return function(t){var e=new t.constructor(t.source,Xa.exec(t));return e.lastIndex=t.lastIndex,e}(t);case ua:return new i;case ha:return function(t){return ht?g(ht.call(t)):{}}(t)}}(n,f,s)}}s=(o=o||new Mt).get(n);if(s)return s;if(o.set(n,a),Yr(n))return n.forEach(function(t){a.add(zt(t,i,r,t,n,o))}),a;if(Or(n))return n.forEach(function(t,e){a.set(e,zt(t,i,r,e,n,o))}),a;var p=d?Ho:(u?l?Pn:On:l?co:uo)(n);return Ms(p||n,function(t,e){p&&(t=n[e=t]),Dt(a,e,zt(t,i,r,e,n,o))}),a}function jt(t,e,n){var i=n.length;if(null==t)return!i;for(t=g(t);i--;){var r=n[i],o=e[r],a=t[r];if(a===Ho&&!(r in t)||!o(a))return!1}return!0}function Yt(t,e,n){if("function"!=typeof t)throw new v(Wo);return si(function(){t.apply(Ho,n)},e)}function Rt(t,e,n,i){var r=-1,o=Ss,a=!0,s=t.length,l=[],u=e.length;if(!s)return l;n&&(e=Ds(e,Gs(n))),i?(o=Ts,a=!1):200<=e.length&&(o=Zs,a=!1,e=new wt(e));t:for(;++r<s;){var c=t[r],h=null==n?c:n(c),c=i||0!==c?c:0;if(a&&h==h){for(var d=u;d--;)if(e[d]===h)continue t;l.push(c)}else o(e,h,i)||l.push(c)}return l}ft.templateSettings={escape:La,evaluate:ka,interpolate:Ea,variable:"",imports:{_:ft}},(ft.prototype=mt.prototype).constructor=ft,(yt.prototype=pt(mt.prototype)).constructor=yt,(vt.prototype=pt(mt.prototype)).constructor=vt,xt.prototype.clear=function(){this.__data__=nt?nt(null):{},this.size=0},xt.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},xt.prototype.get=function(t){var e=this.__data__;if(nt){var n=e[t];return n===Go?Ho:n}return x.call(e,t)?e[t]:Ho},xt.prototype.has=function(t){var e=this.__data__;return nt?e[t]!==Ho:x.call(e,t)},xt.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=nt&&e===Ho?Go:e,this},_t.prototype.clear=function(){this.__data__=[],this.size=0},_t.prototype.delete=function(t){var e=this.__data__;return!((t=Nt(e,t))<0)&&(t==e.length-1?e.pop():N.call(e,t,1),--this.size,!0)},_t.prototype.get=function(t){var e=this.__data__;return(t=Nt(e,t))<0?Ho:e[t][1]},_t.prototype.has=function(t){return-1<Nt(this.__data__,t)},_t.prototype.set=function(t,e){var n=this.__data__,i=Nt(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this},bt.prototype.clear=function(){this.size=0,this.__data__={hash:new xt,map:new(Q||_t),string:new xt}},bt.prototype.delete=function(t){return t=Bn(this,t).delete(t),this.size-=t?1:0,t},bt.prototype.get=function(t){return Bn(this,t).get(t)},bt.prototype.has=function(t){return Bn(this,t).has(t)},bt.prototype.set=function(t,e){var n=Bn(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this},wt.prototype.add=wt.prototype.push=function(t){return this.__data__.set(t,Go),this},wt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.clear=function(){this.__data__=new _t,this.size=0},Mt.prototype.delete=function(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof _t){var i=n.__data__;if(!Q||i.length<199)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new bt(i)}return n.set(t,e),this.size=n.size,this};var Bt=ln(Xt),Ft=ln(qt,!0);function Ht(t,i){var r=!0;return Bt(t,function(t,e,n){return r=!!i(t,e,n)}),r}function Wt(t,e,n){for(var i=-1,r=t.length;++i<r;){var o,a,s=t[i],l=e(s);null!=l&&(o===Ho?l==l&&!Br(l):n(l,o))&&(o=l,a=s)}return a}function Gt(t,i){var r=[];return Bt(t,function(t,e,n){i(t,e,n)&&r.push(t)}),r}function Ut(t,e,n,i,r){var o=-1,a=t.length;for(n=n||Xn,r=r||[];++o<a;){var s=t[o];0<e&&n(s)?1<e?Ut(s,e-1,n,i,r):Ns(r,s):i||(r[r.length]=s)}return r}var Zt=un(),Vt=un(!0);function Xt(t,e){return t&&Zt(t,e,uo)}function qt(t,e){return t&&Vt(t,e,uo)}function Jt(e,t){return Cs(t,function(t){return Dr(e[t])})}function $t(t,e){for(var n=0,i=(e=Ve(e,t)).length;null!=t&&n<i;)t=t[gi(e[n++])];return n&&n==i?t:Ho}function Qt(t,e,n){e=e(t);return wr(t)?e:Ns(e,n(t))}function Kt(t){return null==t?t===Ho?"[object Undefined]":"[object Null]":E&&E in g(t)?function(t){var e=x.call(t,E),n=t[E];try{t[E]=Ho;var i=!0}catch(t){}var r=m.call(t);i&&(e?t[E]=n:delete t[E]);return r}(t):m.call(t)}function te(t,e){return e<t}function ee(t,e){return null!=t&&x.call(t,e)}function ne(t,e){return null!=t&&e in g(t)}function ie(t,e,n){for(var i=n?Ts:Ss,r=t[0].length,o=t.length,a=o,s=M(o),l=1/0,u=[];a--;){var c=t[a];a&&e&&(c=Ds(c,Gs(e))),l=Z(c.length,l),s[a]=!n&&(e||120<=r&&120<=c.length)?new wt(a&&c):Ho}var c=t[0],h=-1,d=s[0];t:for(;++h<r&&u.length<l;){var f=c[h],p=e?e(f):f,f=n||0!==f?f:0;if(!(d?Zs(d,p):i(u,p,n))){for(a=o;--a;){var g=s[a];if(!(g?Zs(g,p):i(t[a],p,n)))continue t}d&&d.push(p),u.push(f)}}return u}function re(t,e,n){e=null==(t=ri(t,e=Ve(e,t)))?t:t[gi(Ti(e))];return null==e?Ho:bs(e,t,n)}function oe(t){return Er(t)&&Kt(t)==$o}function ae(t,e,n,i,r){return t===e||(null==t||null==e||!Er(t)&&!Er(e)?t!=t&&e!=e:function(t,e,n,i,r,o){var a=wr(t),s=wr(e),l=a?Qo:Un(t),u=s?Qo:Un(e),c=(l=l==$o?aa:l)==aa,s=(u=u==$o?aa:u)==aa,u=l==u;if(u&&Cr(t)){if(!Cr(e))return!1;c=!(a=!0)}if(u&&!c)return o=o||new Mt,a||Fr(t)?kn(t,e,n,i,r,o):function(t,e,n,i,r,o,a){switch(n){case pa:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case fa:return t.byteLength==e.byteLength&&o(new I(t),new I(e))?!0:!1;case Ko:case ta:case oa:return vr(+t,+e);case ea:return t.name==e.name&&t.message==e.message;case la:case ca:return t==e+"";case ra:var s=Ks;case ua:var l=1&i;if(s=s||nl,t.size!=e.size&&!l)return!1;l=a.get(t);if(l)return l==e;i|=2,a.set(t,e);s=kn(s(t),s(e),i,r,o,a);return a.delete(t),s;case ha:if(ht)return ht.call(t)==ht.call(e)}return!1}(t,e,l,n,i,r,o);if(!(1&n)){c=c&&x.call(t,"__wrapped__"),s=s&&x.call(e,"__wrapped__");if(c||s){c=c?t.value():t,s=s?e.value():e;return o=o||new Mt,r(c,s,n,i,o)}}return u&&(o=o||new Mt,function(t,e,n,i,r,o){var a=1&n,s=On(t),l=s.length,u=On(e).length;if(l!=u&&!a)return!1;var c=l;for(;c--;){var h=s[c];if(!(a?h in e:x.call(e,h)))return!1}var d=o.get(t);if(d&&o.get(e))return d==e;var f=!0;o.set(t,e),o.set(e,t);var p=a;for(;++c<l;){h=s[c];var g,m=t[h],y=e[h];if(!((g=i?a?i(y,m,h,e,t,o):i(m,y,h,t,e,o):g)===Ho?m===y||r(m,y,n,i,o):g)){f=!1;break}p=p||"constructor"==h}f&&!p&&(u=t.constructor,d=e.constructor,u!=d&&"constructor"in t&&"constructor"in e&&!("function"==typeof u&&u instanceof u&&"function"==typeof d&&d instanceof d)&&(f=!1));return o.delete(t),o.delete(e),f}(t,e,n,i,r,o))}(t,e,n,i,ae,r))}function se(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=g(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){var l=(s=n[r])[0],u=t[l],c=s[1];if(a&&s[2]){if(u===Ho&&!(l in t))return!1}else{var h,d=new Mt;if(!((h=i?i(u,c,l,t,e,d):h)===Ho?ae(c,u,3,i,d):h))return!1}}return!0}function le(t){return!(!kr(t)||(e=t,p&&p in e))&&(Dr(t)?b:$a).test(mi(t));var e}function ue(t){return"function"==typeof t?t:null==t?Oo:"object"==typeof t?wr(t)?ge(t[0],t[1]):pe(t):Yo(t)}function ce(t){if(!ti(t))return G(t);var e,n=[];for(e in g(t))x.call(t,e)&&"constructor"!=e&&n.push(e);return n}function he(t){if(!kr(t))return function(t){var e=[];if(null!=t)for(var n in g(t))e.push(n);return e}(t);var e,n=ti(t),i=[];for(e in t)("constructor"!=e||!n&&x.call(t,e))&&i.push(e);return i}function de(t,e){return t<e}function fe(t,i){var r=-1,o=Ar(t)?M(t.length):[];return Bt(t,function(t,e,n){o[++r]=i(t,e,n)}),o}function pe(e){var n=Fn(e);return 1==n.length&&n[0][2]?ni(n[0][0],n[0][1]):function(t){return t===e||se(t,e,n)}}function ge(n,i){return $n(n)&&ei(i)?ni(gi(n),i):function(t){var e=ro(t,n);return e===Ho&&e===i?oo(t,n):ae(i,e,3)}}function me(g,m,y,v,x){g!==m&&Zt(m,function(t,e){var n,i,r,o,a,s,l,u,c,h,d,f,p;kr(t)?(x=x||new Mt,i=m,o=y,a=me,s=v,l=x,d=oi(n=g,r=e),f=oi(i,r),(p=l.get(f))?Tt(n,r,p):(u=s?s(d,f,r+"",n,i,l):Ho,(c=u===Ho)&&(h=wr(f),p=!h&&Cr(f),i=!h&&!p&&Fr(f),u=f,h||p||i?u=wr(d)?d:Ir(d)?rn(d):p?$e(f,!(c=!1)):i?Ke(f,!(c=!1)):[]:zr(f)||br(f)?br(u=d)?u=qr(d):kr(d)&&!Dr(d)||(u=Vn(f)):c=!1),c&&(l.set(f,u),a(u,f,o,s,l),l.delete(f)),Tt(n,r,u))):(u=v?v(oi(g,e),t,e+"",g,m,x):Ho,Tt(g,e,u=u===Ho?t:u))},co)}function ye(t,e){var n=t.length;if(n)return qn(e+=e<0?n:0,n)?t[e]:Ho}function ve(t,i,n){var r=-1;return i=Ds(i.length?i:[Oo],Gs(Rn())),function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}(fe(t,function(e,t,n){return{criteria:Ds(i,function(t){return t(e)}),index:++r,value:e}}),function(t,e){return function(t,e,n){var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;for(;++i<a;){var l=tn(r[i],o[i]);if(l){if(s<=i)return l;var u=n[i];return l*("desc"==u?-1:1)}}return t.index-e.index}(t,e,n)})}function xe(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=$t(t,a);n(s,a)&&Se(o,Ve(a,t),s)}return o}function _e(t,e,n,i){var r=i?js:zs,o=-1,a=e.length,s=t;for(t===e&&(e=rn(e)),n&&(s=Ds(t,Gs(n)));++o<a;)for(var l=0,u=e[o],c=n?n(u):u;-1<(l=r(s,c,l,i));)s!==t&&N.call(s,l,1),N.call(t,l,1);return t}function be(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r,o=e[n];n!=i&&o===r||(qn(r=o)?N.call(t,o,1):Re(t,o))}return t}function we(t,e){return t+R(q()*(e-t+1))}function Me(t,e){var n="";if(!t||e<1||Vo<e)return n;for(;e%2&&(n+=t),(e=R(e/2))&&(t+=t),e;);return n}function Ae(t,e){return li(ii(t,e,Oo),t+"")}function Ie(t){return It(xo(t))}function Ce(t,e){t=xo(t);return hi(t,Pt(e,0,t.length))}function Se(t,e,n,i){if(!kr(t))return t;for(var r=-1,o=(e=Ve(e,t)).length,a=o-1,s=t;null!=s&&++r<o;){var l,u=gi(e[r]),c=n;r!=a&&(l=s[u],(c=i?i(l,u,s):Ho)===Ho&&(c=kr(l)?l:qn(e[r+1])?[]:{})),Dt(s,u,c),s=s[u]}return t}var Te=it?function(t,e){return it.set(t,e),t}:Oo,De=O?function(t,e){return O(t,"toString",{configurable:!0,enumerable:!1,value:ko(e),writable:!0})}:Oo;function Ne(t){return hi(xo(t))}function Le(t,e,n){var i=-1,r=t.length;(n=r<n?r:n)<0&&(n+=r),r=n<(e=e<0?r<-e?0:r+e:e)?0:n-e>>>0,e>>>=0;for(var o=M(r);++i<r;)o[i]=t[i+e];return o}function ke(t,i){var r;return Bt(t,function(t,e,n){return!(r=i(t,e,n))}),!!r}function Ee(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e==e&&r<=2147483647){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!Br(a)&&(n?a<=e:a<e)?i=1+o:r=o}return r}return Oe(t,e,Oo,n)}function Oe(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,a=e!=e,s=null===e,l=Br(e),u=e===Ho;r<o;){var c=R((r+o)/2),h=n(t[c]),d=h!==Ho,f=null===h,p=h==h,g=Br(h),h=a?i||p:u?p&&(i||d):s?p&&d&&(i||!f):l?p&&d&&!f&&(i||!g):!f&&!g&&(i?h<=e:h<e);h?r=c+1:o=c}return Z(o,4294967294)}function Pe(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a,s=t[n],l=e?e(s):s;n&&vr(l,a)||(a=l,o[r++]=0===s?0:s)}return o}function ze(t){return"number"==typeof t?t:Br(t)?Xo:+t}function je(t){if("string"==typeof t)return t;if(wr(t))return Ds(t,je)+"";if(Br(t))return dt?dt.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function Ye(t,e,n){var i=-1,r=Ss,o=t.length,a=!0,s=[],l=s;if(n)a=!1,r=Ts;else if(200<=o){var u=e?null:Cn(t);if(u)return nl(u);a=!1,r=Zs,l=new wt}else l=e?[]:s;t:for(;++i<o;){var c=t[i],h=e?e(c):c,c=n||0!==c?c:0;if(a&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue t;e&&l.push(h),s.push(c)}else r(l,h,n)||(l!==s&&l.push(h),s.push(c))}return s}function Re(t,e){return null==(t=ri(t,e=Ve(e,t)))||delete t[gi(Ti(e))]}function Be(t,e,n,i){return Se(t,e,n($t(t,e)),i)}function Fe(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Le(t,i?0:o,i?o+1:r):Le(t,i?o+1:0,i?r:o)}function He(t,e){var n=t;return Ls(e,function(t,e){return e.func.apply(e.thisArg,Ns([t],e.args))},n=t instanceof vt?t.value():n)}function We(t,e,n){var i=t.length;if(i<2)return i?Ye(t[0]):[];for(var r=-1,o=M(i);++r<i;)for(var a=t[r],s=-1;++s<i;)s!=r&&(o[r]=Rt(o[r]||a,t[s],e,n));return Ye(Ut(o,1),e,n)}function Ge(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:Ho;n(a,t[i],s)}return a}function Ue(t){return Ir(t)?t:[]}function Ze(t){return"function"==typeof t?t:Oo}function Ve(t,e){return wr(t)?t:$n(t,e)?[t]:pi(Jr(t))}var Xe=Ae;function qe(t,e,n){var i=t.length;return n=n===Ho?i:n,!e&&i<=n?t:Le(t,e,n)}var Je=P||function(t){return fs.clearTimeout(t)};function $e(t,e){if(e)return t.slice();e=t.length,e=C?C(e):new t.constructor(e);return t.copy(e),e}function Qe(t){var e=new t.constructor(t.byteLength);return new I(e).set(new I(t)),e}function Ke(t,e){e=e?Qe(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)}function tn(t,e){if(t!==e){var n=t!==Ho,i=null===t,r=t==t,o=Br(t),a=e!==Ho,s=null===e,l=e==e,u=Br(e);if(!s&&!u&&!o&&e<t||o&&a&&l&&!s&&!u||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&t<e||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function en(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,l=e.length,u=U(o-a,0),c=M(l+u),h=!i;++s<l;)c[s]=e[s];for(;++r<a;)(h||r<o)&&(c[n[r]]=t[r]);for(;u--;)c[s++]=t[r++];return c}function nn(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,l=-1,u=e.length,c=U(o-s,0),h=M(c+u),d=!i;++r<c;)h[r]=t[r];for(var f=r;++l<u;)h[f+l]=e[l];for(;++a<s;)(d||r<o)&&(h[f+n[a]]=t[r++]);return h}function rn(t,e){var n=-1,i=t.length;for(e=e||M(i);++n<i;)e[n]=t[n];return e}function on(t,e,n,i){var r=!n;n=n||{};for(var o=-1,a=e.length;++o<a;){var s=e[o],l=i?i(n[s],t[s],s,n,t):Ho;(r?Et:Dt)(n,s,l=l===Ho?t[s]:l)}return n}function an(r,o){return function(t,e){var n=wr(t)?ws:Lt,i=o?o():{};return n(t,r,Rn(e,2),i)}}function sn(s){return Ae(function(t,e){var n=-1,i=e.length,r=1<i?e[i-1]:Ho,o=2<i?e[2]:Ho,r=3<s.length&&"function"==typeof r?(i--,r):Ho;for(o&&Jn(e[0],e[1],o)&&(r=i<3?Ho:r,i=1),t=g(t);++n<i;){var a=e[n];a&&s(t,a,n,r)}return t})}function ln(o,a){return function(t,e){if(null==t)return t;if(!Ar(t))return o(t,e);for(var n=t.length,i=a?n:-1,r=g(t);(a?i--:++i<n)&&!1!==e(r[i],i,r););return t}}function un(l){return function(t,e,n){for(var i=-1,r=g(t),o=n(t),a=o.length;a--;){var s=o[l?a:++i];if(!1===e(r[s],s,r))break}return t}}function cn(i){return function(t){var e=Qs(t=Jr(t))?rl(t):Ho,n=e?e[0]:t.charAt(0),t=e?qe(e,1).join(""):t.slice(1);return n[i]()+t}}function hn(e){return function(t){return Ls(No(wo(t).replace(is,"")),e,"")}}function dn(i){return function(){var t=arguments;switch(t.length){case 0:return new i;case 1:return new i(t[0]);case 2:return new i(t[0],t[1]);case 3:return new i(t[0],t[1],t[2]);case 4:return new i(t[0],t[1],t[2],t[3]);case 5:return new i(t[0],t[1],t[2],t[3],t[4]);case 6:return new i(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new i(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var e=pt(i.prototype),n=i.apply(e,t);return kr(n)?n:e}}function fn(o,a,s){var l=dn(o);return function t(){for(var e=arguments.length,n=M(e),i=e,r=Yn(t);i--;)n[i]=arguments[i];r=e<3&&n[0]!==r&&n[e-1]!==r?[]:el(n,r);return(e-=r.length)<s?An(o,a,mn,t.placeholder,Ho,n,r,Ho,Ho,s-e):bs(this&&this!==fs&&this instanceof t?l:o,this,n)}}function pn(o){return function(t,e,n){var i,r=g(t);Ar(t)||(i=Rn(e,3),t=uo(t),e=function(t){return i(r[t],t,r)});n=o(t,e,n);return-1<n?r[i?t[n]:n]:Ho}}function gn(l){return En(function(r){var o=r.length,t=o,e=yt.prototype.thru;for(l&&r.reverse();t--;){var n=r[t];if("function"!=typeof n)throw new v(Wo);e&&!s&&"wrapper"==jn(n)&&(s=new yt([],!0))}for(t=s?t:o;++t<o;)var i=jn(n=r[t]),a="wrapper"==i?zn(n):Ho,s=a&&Qn(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?s[jn(a[0])].apply(s,a[3]):1==n.length&&Qn(n)?s[i]():s.thru(n);return function(){var t=arguments,e=t[0];if(s&&1==t.length&&wr(e))return s.plant(e).value();for(var n=0,i=o?r[n].apply(this,t):e;++n<o;)i=r[n].call(this,i);return i}})}function mn(s,l,u,c,h,d,f,p,g,m){var y=l&Zo,v=1&l,x=2&l,_=24&l,b=512&l,w=x?Ho:dn(s);return function t(){for(var e,n=M(a=arguments.length),i=a;i--;)n[i]=arguments[i];if(_&&(e=function(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}(n,o=Yn(t))),c&&(n=en(n,c,h,_)),d&&(n=nn(n,d,f,_)),a-=e,_&&a<m){var r=el(n,o);return An(s,l,mn,t.placeholder,u,n,r,p,g,m-a)}var o=v?u:this,r=x?o[s]:s,a=n.length;return p?n=function(t,e){for(var n=t.length,i=Z(e.length,n),r=rn(t);i--;){var o=e[i];t[i]=qn(o,n)?r[o]:Ho}return t}(n,p):b&&1<a&&n.reverse(),y&&g<a&&(n.length=g),(r=this&&this!==fs&&this instanceof t?w||dn(r):r).apply(o,n)}}function yn(n,a){return function(t,e){return t=t,i=n,r=a(e),o={},Xt(t,function(t,e,n){i(o,r(t),e,n)}),o;var i,r,o}}function vn(i,r){return function(t,e){var n;if(t===Ho&&e===Ho)return r;if(t!==Ho&&(n=t),e!==Ho){if(n===Ho)return e;e="string"==typeof t||"string"==typeof e?(t=je(t),je(e)):(t=ze(t),ze(e)),n=i(t,e)}return n}}function xn(i){return En(function(t){return t=Ds(t,Gs(Rn())),Ae(function(e){var n=this;return i(t,function(t){return bs(t,n,e)})})})}function _n(t,e){var n=(e=e===Ho?" ":je(e)).length;if(n<2)return n?Me(e,t):e;n=Me(e,Y(t/il(e)));return Qs(e)?qe(rl(n),0,t).join(""):n.slice(0,t)}function bn(s,t,l,u){var c=1&t,h=dn(s);return function t(){for(var e=-1,n=arguments.length,i=-1,r=u.length,o=M(r+n),a=this&&this!==fs&&this instanceof t?h:s;++i<r;)o[i]=u[i];for(;n--;)o[i++]=arguments[++e];return bs(a,c?l:this,o)}}function wn(i){return function(t,e,n){return n&&"number"!=typeof n&&Jn(t,e,n)&&(e=n=Ho),t=Ur(t),e===Ho?(e=t,t=0):e=Ur(e),function(t,e,n,i){for(var r=-1,o=U(Y((e-t)/(n||1)),0),a=M(o);o--;)a[i?o:++r]=t,t+=n;return a}(t,e,n=n===Ho?t<e?1:-1:Ur(n),i)}}function Mn(n){return function(t,e){return"string"==typeof t&&"string"==typeof e||(t=Xr(t),e=Xr(e)),n(t,e)}}function An(t,e,n,i,r,o,a,s,l,u){var c=8&e;e|=c?32:64,4&(e&=~(c?64:32))||(e&=-4);u=[t,e,r,c?o:Ho,c?a:Ho,c?Ho:o,c?Ho:a,s,l,u],n=n.apply(Ho,u);return Qn(t)&&ai(n,u),n.placeholder=i,ui(n,t,e)}function In(t){var i=r[t];return function(t,e){if(t=Xr(t),e=null==e?0:Z(Zr(e),292)){var n=(Jr(t)+"e").split("e");return+((n=(Jr(i(n[0]+"e"+(+n[1]+e)))+"e").split("e"))[0]+"e"+(+n[1]-e))}return i(t)}}var Cn=tt&&1/nl(new tt([,-0]))[1]==1/0?function(t){return new tt(t)}:jo;function Sn(o){return function(t){var e,n,i,r=Un(t);return r==ra?Ks(t):r==ua?(r=t,e=-1,n=Array(r.size),r.forEach(function(t){n[++e]=[t,t]}),n):Ds(o(i=t),function(t){return[t,i[t]]})}}function Tn(t,e,n,i,r,o,a,s){var l=2&e;if(!l&&"function"!=typeof t)throw new v(Wo);var u,c,h=i?i.length:0;h||(e&=-97,i=r=Ho),a=a===Ho?a:U(Zr(a),0),s=s===Ho?s:Zr(s),h-=r?r.length:0,64&e&&(u=i,c=r,i=r=Ho);var d,f,p,g,m=l?Ho:zn(t),a=[t,e,n,i,r,u,c,o,a,s];m&&function(t,e){var n=t[1],i=e[1],r=n|i,o=r<131,a=i==Zo&&8==n||i==Zo&&256==n&&t[7].length<=e[8]||384==i&&e[7].length<=e[8]&&8==n;if(!o&&!a)return;1&i&&(t[2]=e[2],r|=1&n?0:4);n=e[3];{var s;n&&(s=t[3],t[3]=s?en(s,n,e[4]):n,t[4]=s?el(t[3],Uo):e[4])}(n=e[5])&&(s=t[5],t[5]=s?nn(s,n,e[6]):n,t[6]=s?el(t[5],Uo):e[6]);(n=e[7])&&(t[7]=n);i&Zo&&(t[8]=null==t[8]?e[8]:Z(t[8],e[8]));null==t[9]&&(t[9]=e[9]);t[0]=e[0],t[1]=r}(a,m),t=a[0],e=a[1],n=a[2],i=a[3],r=a[4],!(s=a[9]=a[9]===Ho?l?0:t.length:U(a[9]-h,0))&&24&e&&(e&=-25);n=e&&1!=e?8==e||16==e?fn(t,e,s):32!=e&&33!=e||r.length?mn.apply(Ho,a):bn(t,e,n,i):(f=n,p=1&e,g=dn(d=t),function t(){return(this&&this!==fs&&this instanceof t?g:d).apply(p?f:this,arguments)});return ui((m?Te:ai)(n,a),t,e)}function Dn(t,e,n,i){return t===Ho||vr(t,f[n])&&!x.call(i,n)?e:t}function Nn(t,e,n,i,r,o){return kr(t)&&kr(e)&&(o.set(e,t),me(t,e,Ho,Nn,o),o.delete(e)),t}function Ln(t){return zr(t)?Ho:t}function kn(t,e,n,i,r,o){var a=1&n,s=t.length,l=e.length;if(s!=l&&!(a&&s<l))return!1;l=o.get(t);if(l&&o.get(e))return l==e;var u=-1,c=!0,h=2&n?new wt:Ho;for(o.set(t,e),o.set(e,t);++u<s;){var d,f=t[u],p=e[u];if((d=i?a?i(p,f,u,e,t,o):i(f,p,u,t,e,o):d)!==Ho){if(d)continue;c=!1;break}if(h){if(!Es(e,function(t,e){return!Zs(h,e)&&(f===t||r(f,t,n,i,o))&&h.push(e)})){c=!1;break}}else if(f!==p&&!r(f,p,n,i,o)){c=!1;break}}return o.delete(t),o.delete(e),c}function En(t){return li(ii(t,Ho,Mi),t+"")}function On(t){return Qt(t,uo,Wn)}function Pn(t){return Qt(t,co,Gn)}var zn=it?function(t){return it.get(t)}:jo;function jn(t){for(var e=t.name+"",n=rt[e],i=x.call(rt,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function Yn(t){return(x.call(ft,"placeholder")?ft:t).placeholder}function Rn(){var t=(t=ft.iteratee||Po)===Po?ue:t;return arguments.length?t(arguments[0],arguments[1]):t}function Bn(t,e){var n,i=t.__data__;return("string"==(t=typeof(n=e))||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function Fn(t){for(var e=uo(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,ei(r)]}return e}function Hn(t,e){e=e,e=null==(t=t)?Ho:t[e];return le(e)?e:Ho}var Wn=B?function(e){return null==e?[]:(e=g(e),Cs(B(e),function(t){return D.call(e,t)}))}:Ro,Gn=B?function(t){for(var e=[];t;)Ns(e,Wn(t)),t=S(t);return e}:Ro,Un=Kt;function Zn(t,e,n){for(var i=-1,r=(e=Ve(e,t)).length,o=!1;++i<r;){var a=gi(e[i]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&Lr(r)&&qn(a,r)&&(wr(t)||br(t))}function Vn(t){return"function"!=typeof t.constructor||ti(t)?{}:pt(S(t))}function Xn(t){return wr(t)||br(t)||!!(L&&t&&t[L])}function qn(t,e){var n=typeof t;return!!(e=null==e?Vo:e)&&("number"==n||"symbol"!=n&&Ka.test(t))&&-1<t&&t%1==0&&t<e}function Jn(t,e,n){if(kr(n)){var i=typeof e;return("number"==i?Ar(n)&&qn(e,n.length):"string"==i&&e in n)&&vr(n[e],t)}}function $n(t,e){if(!wr(t)){var n=typeof t;return"number"==n||"symbol"==n||"boolean"==n||null==t||Br(t)||(Pa.test(t)||!Oa.test(t)||null!=e&&t in g(e))}}function Qn(t){var e=jn(t),n=ft[e];if("function"==typeof n&&e in vt.prototype){if(t===n)return 1;n=zn(n);return n&&t===n[0]}}($&&Un(new $(new ArrayBuffer(1)))!=pa||Q&&Un(new Q)!=ra||K&&Un(K.resolve())!=sa||tt&&Un(new tt)!=ua||et&&Un(new et)!=da)&&(Un=function(t){var e=Kt(t),t=e==aa?t.constructor:Ho,t=t?mi(t):"";if(t)switch(t){case ot:return pa;case at:return ra;case st:return sa;case lt:return ua;case ut:return da}return e});var Kn=s?Dr:Bo;function ti(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||f)}function ei(t){return t==t&&!kr(t)}function ni(e,n){return function(t){return null!=t&&(t[e]===n&&(n!==Ho||e in g(t)))}}function ii(o,a,s){return a=U(a===Ho?o.length-1:a,0),function(){for(var t=arguments,e=-1,n=U(t.length-a,0),i=M(n);++e<n;)i[e]=t[a+e];for(var e=-1,r=M(a+1);++e<a;)r[e]=t[e];return r[a]=s(i),bs(o,this,r)}}function ri(t,e){return e.length<2?t:$t(t,Le(e,0,-1))}function oi(t,e){if("__proto__"!=e)return t[e]}var ai=ci(Te),si=j||function(t,e){return fs.setTimeout(t,e)},li=ci(De);function ui(t,e,n){var i,r,e=e+"";return li(t,function(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(1<n?"& ":"")+e[i],e=e.join(2<n?", ":" "),t.replace(Ha,"{\n/* [wrapped with "+e+"] */\n")}(e,(i=(e=(e=e).match(Wa))?e[1].split(Ga):[],r=n,Ms(Jo,function(t){var e="_."+t[0];r&t[1]&&!Ss(i,e)&&i.push(e)}),i.sort())))}function ci(n){var i=0,r=0;return function(){var t=V(),e=16-(t-r);if(r=t,0<e){if(800<=++i)return arguments[0]}else i=0;return n.apply(Ho,arguments)}}function hi(t,e){var n=-1,i=t.length,r=i-1;for(e=e===Ho?i:e;++n<e;){var o=we(n,r),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var di,fi,pi=(fi=(di=dr(di=function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(za,function(t,e,n,i){r.push(n?i.replace(Za,"$1"):e||t)}),r},function(t){return 500===fi.size&&fi.clear(),t})).cache,di);function gi(t){if("string"==typeof t||Br(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function mi(t){if(null!=t){try{return l.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function yi(t){if(t instanceof vt)return t.clone();var e=new yt(t.__wrapped__,t.__chain__);return e.__actions__=rn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var vi=Ae(function(t,e){return Ir(t)?Rt(t,Ut(e,1,Ir,!0)):[]}),xi=Ae(function(t,e){var n=Ti(e);return Ir(n)&&(n=Ho),Ir(t)?Rt(t,Ut(e,1,Ir,!0),Rn(n,2)):[]}),_i=Ae(function(t,e){var n=Ti(e);return Ir(n)&&(n=Ho),Ir(t)?Rt(t,Ut(e,1,Ir,!0),Ho,n):[]});function bi(t,e,n){var i=null==t?0:t.length;if(!i)return-1;n=null==n?0:Zr(n);return n<0&&(n=U(i+n,0)),Ps(t,Rn(e,3),n)}function wi(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==Ho&&(r=Zr(n),r=n<0?U(i+r,0):Z(r,i-1)),Ps(t,Rn(e,3),r,!0)}function Mi(t){return(null==t?0:t.length)?Ut(t,1):[]}function Ai(t){return t&&t.length?t[0]:Ho}var Ii=Ae(function(t){var e=Ds(t,Ue);return e.length&&e[0]===t[0]?ie(e):[]}),Ci=Ae(function(t){var e=Ti(t),n=Ds(t,Ue);return e===Ti(n)?e=Ho:n.pop(),n.length&&n[0]===t[0]?ie(n,Rn(e,2)):[]}),Si=Ae(function(t){var e=Ti(t),n=Ds(t,Ue);return(e="function"==typeof e?e:Ho)&&n.pop(),n.length&&n[0]===t[0]?ie(n,Ho,e):[]});function Ti(t){var e=null==t?0:t.length;return e?t[e-1]:Ho}var Di=Ae(Ni);function Ni(t,e){return t&&t.length&&e&&e.length?_e(t,e):t}var Li=En(function(t,e){var n=null==t?0:t.length,i=Ot(t,e);return be(t,Ds(e,function(t){return qn(t,n)?+t:t}).sort(tn)),i});function ki(t){return null==t?t:J.call(t)}var Ei=Ae(function(t){return Ye(Ut(t,1,Ir,!0))}),Oi=Ae(function(t){var e=Ti(t);return Ir(e)&&(e=Ho),Ye(Ut(t,1,Ir,!0),Rn(e,2))}),Pi=Ae(function(t){var e="function"==typeof(e=Ti(t))?e:Ho;return Ye(Ut(t,1,Ir,!0),Ho,e)});function zi(e){if(!e||!e.length)return[];var n=0;return e=Cs(e,function(t){return Ir(t)&&(n=U(t.length,n),1)}),Ws(n,function(t){return Ds(e,Bs(t))})}function ji(t,e){if(!t||!t.length)return[];t=zi(t);return null==e?t:Ds(t,function(t){return bs(e,Ho,t)})}var Yi=Ae(function(t,e){return Ir(t)?Rt(t,e):[]}),Ri=Ae(function(t){return We(Cs(t,Ir))}),Bi=Ae(function(t){var e=Ti(t);return Ir(e)&&(e=Ho),We(Cs(t,Ir),Rn(e,2))}),Fi=Ae(function(t){var e="function"==typeof(e=Ti(t))?e:Ho;return We(Cs(t,Ir),Ho,e)}),Hi=Ae(zi);var Wi=Ae(function(t){var e=t.length,e="function"==typeof(e=1<e?t[e-1]:Ho)?(t.pop(),e):Ho;return ji(t,e)});function Gi(t){t=ft(t);return t.__chain__=!0,t}function Ui(t,e){return e(t)}var Zi=En(function(e){function t(t){return Ot(t,e)}var n=e.length,i=n?e[0]:0,r=this.__wrapped__;return!(1<n||this.__actions__.length)&&r instanceof vt&&qn(i)?((r=r.slice(i,+i+(n?1:0))).__actions__.push({func:Ui,args:[t],thisArg:Ho}),new yt(r,this.__chain__).thru(function(t){return n&&!t.length&&t.push(Ho),t})):this.thru(t)});var Vi=an(function(t,e,n){x.call(t,n)?++t[n]:Et(t,n,1)});var Xi=pn(bi),qi=pn(wi);function Ji(t,e){return(wr(t)?Ms:Bt)(t,Rn(e,3))}function $i(t,e){return(wr(t)?As:Ft)(t,Rn(e,3))}var Qi=an(function(t,e,n){x.call(t,n)?t[n].push(e):Et(t,n,[e])});var Ki=Ae(function(t,e,n){var i=-1,r="function"==typeof e,o=Ar(t)?M(t.length):[];return Bt(t,function(t){o[++i]=r?bs(e,t,n):re(t,e,n)}),o}),tr=an(function(t,e,n){Et(t,n,e)});function er(t,e){return(wr(t)?Ds:fe)(t,Rn(e,3))}var nr=an(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});var ir=Ae(function(t,e){if(null==t)return[];var n=e.length;return 1<n&&Jn(t,e[0],e[1])?e=[]:2<n&&Jn(e[0],e[1],e[2])&&(e=[e[0]]),ve(t,Ut(e,1),[])}),rr=z||function(){return fs.Date.now()};function or(t,e,n){return e=n?Ho:e,e=t&&null==e?t.length:e,Tn(t,Zo,Ho,Ho,Ho,Ho,e)}function ar(t,e){var n;if("function"!=typeof e)throw new v(Wo);return t=Zr(t),function(){return 0<--t&&(n=e.apply(this,arguments)),t<=1&&(e=Ho),n}}var sr=Ae(function(t,e,n){var i,r=1;return n.length&&(i=el(n,Yn(sr)),r|=32),Tn(t,r,e,n,i)}),lr=Ae(function(t,e,n){var i,r=3;return n.length&&(i=el(n,Yn(lr)),r|=32),Tn(e,r,t,n,i)});function ur(i,n,t){var r,o,a,s,l,u,c=0,h=!1,d=!1,e=!0;if("function"!=typeof i)throw new v(Wo);function f(t){var e=r,n=o;return r=o=Ho,c=t,s=i.apply(n,e)}function p(t){var e=t-u;return u===Ho||n<=e||e<0||d&&a<=t-c}function g(){var t,e=rr();if(p(e))return m(e);l=si(g,(e=n-((t=e)-u),d?Z(e,a-(t-c)):e))}function m(t){return l=Ho,e&&r?f(t):(r=o=Ho,s)}function y(){var t=rr(),e=p(t);if(r=arguments,o=this,u=t,e){if(l===Ho)return c=e=u,l=si(g,n),h?f(e):s;if(d)return l=si(g,n),f(u)}return l===Ho&&(l=si(g,n)),s}return n=Xr(n)||0,kr(t)&&(h=!!t.leading,d="maxWait"in t,a=d?U(Xr(t.maxWait)||0,n):a,e="trailing"in t?!!t.trailing:e),y.cancel=function(){l!==Ho&&Je(l),c=0,r=u=o=l=Ho},y.flush=function(){return l===Ho?s:m(rr())},y}var cr=Ae(function(t,e){return Yt(t,1,e)}),hr=Ae(function(t,e,n){return Yt(t,Xr(e)||0,n)});function dr(i,r){if("function"!=typeof i||null!=r&&"function"!=typeof r)throw new v(Wo);function o(){var t=arguments,e=r?r.apply(this,t):t[0],n=o.cache;return n.has(e)?n.get(e):(t=i.apply(this,t),o.cache=n.set(e,t)||n,t)}return o.cache=new(dr.Cache||bt),o}function fr(e){if("function"!=typeof e)throw new v(Wo);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}dr.Cache=bt;var pr=Xe(function(i,r){var o=(r=1==r.length&&wr(r[0])?Ds(r[0],Gs(Rn())):Ds(Ut(r,1),Gs(Rn()))).length;return Ae(function(t){for(var e=-1,n=Z(t.length,o);++e<n;)t[e]=r[e].call(this,t[e]);return bs(i,this,t)})}),gr=Ae(function(t,e){var n=el(e,Yn(gr));return Tn(t,32,Ho,e,n)}),mr=Ae(function(t,e){var n=el(e,Yn(mr));return Tn(t,64,Ho,e,n)}),yr=En(function(t,e){return Tn(t,256,Ho,Ho,Ho,e)});function vr(t,e){return t===e||t!=t&&e!=e}var xr=Mn(te),_r=Mn(function(t,e){return e<=t}),br=oe(function(){return arguments}())?oe:function(t){return Er(t)&&x.call(t,"callee")&&!D.call(t,"callee")},wr=M.isArray,Mr=gs?Gs(gs):function(t){return Er(t)&&Kt(t)==fa};function Ar(t){return null!=t&&Lr(t.length)&&!Dr(t)}function Ir(t){return Er(t)&&Ar(t)}var Cr=F||Bo,Sr=ms?Gs(ms):function(t){return Er(t)&&Kt(t)==ta};function Tr(t){if(!Er(t))return!1;var e=Kt(t);return e==ea||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!zr(t)}function Dr(t){if(!kr(t))return!1;t=Kt(t);return t==na||t==ia||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Nr(t){return"number"==typeof t&&t==Zr(t)}function Lr(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=Vo}function kr(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Er(t){return null!=t&&"object"==typeof t}var Or=ys?Gs(ys):function(t){return Er(t)&&Un(t)==ra};function Pr(t){return"number"==typeof t||Er(t)&&Kt(t)==oa}function zr(t){if(!Er(t)||Kt(t)!=aa)return!1;t=S(t);if(null===t)return!0;t=x.call(t,"constructor")&&t.constructor;return"function"==typeof t&&t instanceof t&&l.call(t)==y}var jr=vs?Gs(vs):function(t){return Er(t)&&Kt(t)==la};var Yr=xs?Gs(xs):function(t){return Er(t)&&Un(t)==ua};function Rr(t){return"string"==typeof t||!wr(t)&&Er(t)&&Kt(t)==ca}function Br(t){return"symbol"==typeof t||Er(t)&&Kt(t)==ha}var Fr=_s?Gs(_s):function(t){return Er(t)&&Lr(t.length)&&!!us[Kt(t)]};var Hr=Mn(de),Wr=Mn(function(t,e){return t<=e});function Gr(t){if(!t)return[];if(Ar(t))return(Rr(t)?rl:rn)(t);if(k&&t[k])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[k]());var e=Un(t);return(e==ra?Ks:e==ua?nl:xo)(t)}function Ur(t){return t?(t=Xr(t))!==1/0&&t!==-1/0?t==t?t:0:17976931348623157e292*(t<0?-1:1):0===t?t:0}function Zr(t){var e=Ur(t),t=e%1;return e==e?t?e-t:e:0}function Vr(t){return t?Pt(Zr(t),0,qo):0}function Xr(t){if("number"==typeof t)return t;if(Br(t))return Xo;if("string"!=typeof(t=kr(t)?kr(e="function"==typeof t.valueOf?t.valueOf():t)?e+"":e:t))return 0===t?t:+t;t=t.replace(Ra,"");var e=Ja.test(t);return e||Qa.test(t)?ds(t.slice(2),e?2:8):qa.test(t)?Xo:+t}function qr(t){return on(t,co(t))}function Jr(t){return null==t?"":je(t)}var $r=sn(function(t,e){if(ti(e)||Ar(e))on(e,uo(e),t);else for(var n in e)x.call(e,n)&&Dt(t,n,e[n])}),Qr=sn(function(t,e){on(e,co(e),t)}),Kr=sn(function(t,e,n,i){on(e,co(e),t,i)}),to=sn(function(t,e,n,i){on(e,uo(e),t,i)}),eo=En(Ot);var no=Ae(function(t,e){t=g(t);var n=-1,i=e.length,r=2<i?e[2]:Ho;for(r&&Jn(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],a=co(o),s=-1,l=a.length;++s<l;){var u=a[s],c=t[u];(c===Ho||vr(c,f[u])&&!x.call(t,u))&&(t[u]=o[u])}return t}),io=Ae(function(t){return t.push(Ho,Nn),bs(fo,Ho,t)});function ro(t,e,n){e=null==t?Ho:$t(t,e);return e===Ho?n:e}function oo(t,e){return null!=t&&Zn(t,e,ne)}var ao=yn(function(t,e,n){t[e=null!=e&&"function"!=typeof e.toString?m.call(e):e]=n},ko(Oo)),so=yn(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=m.call(e)),x.call(t,e)?t[e].push(n):t[e]=[n]},Rn),lo=Ae(re);function uo(t){return(Ar(t)?At:ce)(t)}function co(t){return Ar(t)?At(t,!0):he(t)}var ho=sn(function(t,e,n){me(t,e,n)}),fo=sn(function(t,e,n,i){me(t,e,n,i)}),po=En(function(e,t){var n={};if(null==e)return n;var i=!1;t=Ds(t,function(t){return t=Ve(t,e),i=i||1<t.length,t}),on(e,Pn(e),n),i&&(n=zt(n,7,Ln));for(var r=t.length;r--;)Re(n,t[r]);return n});var go=En(function(t,e){return null==t?{}:xe(n=t,e,function(t,e){return oo(n,e)});var n});function mo(t,n){if(null==t)return{};var e=Ds(Pn(t),function(t){return[t]});return n=Rn(n),xe(t,e,function(t,e){return n(t,e[0])})}var yo=Sn(uo),vo=Sn(co);function xo(t){return null==t?[]:Us(t,uo(t))}var _o=hn(function(t,e,n){return e=e.toLowerCase(),t+(n?bo(e):e)});function bo(t){return Do(Jr(t).toLowerCase())}function wo(t){return(t=Jr(t))&&t.replace(ts,qs).replace(rs,"")}var Mo=hn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Ao=hn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Io=cn("toLowerCase");var Co=hn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()});var So=hn(function(t,e,n){return t+(n?" ":"")+Do(e)});var To=hn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Do=cn("toUpperCase");function No(t,e,n){return t=Jr(t),(e=n?Ho:e)===Ho?(n=t,as.test(n)?t.match(os)||[]:t.match(Ua)||[]):t.match(e)||[]}var Lo=Ae(function(t,e){try{return bs(t,Ho,e)}catch(t){return Tr(t)?t:new i(t)}}),a=En(function(e,t){return Ms(t,function(t){t=gi(t),Et(e,t,sr(e[t],e))}),e});function ko(t){return function(){return t}}var Eo=gn(),w=gn(!0);function Oo(t){return t}function Po(t){return ue("function"==typeof t?t:zt(t,1))}n=Ae(function(e,n){return function(t){return re(t,e,n)}}),e=Ae(function(e,n){return function(t){return re(e,t,n)}});function zo(i,e,t){var n=uo(e),r=Jt(e,n);null!=t||kr(e)&&(r.length||!n.length)||(t=e,e=i,i=this,r=Jt(e,uo(e)));var o=!(kr(t)&&"chain"in t&&!t.chain),a=Dr(i);return Ms(r,function(t){var n=e[t];i[t]=n,a&&(i.prototype[t]=function(){var t=this.__chain__;if(o||t){var e=i(this.__wrapped__);return(e.__actions__=rn(this.__actions__)).push({func:n,args:arguments,thisArg:i}),e.__chain__=t,e}return n.apply(i,Ns([this.value()],arguments))})}),i}function jo(){}A=xn(Ds),ct=xn(Is),P=xn(Es);function Yo(t){return $n(t)?Bs(gi(t)):(e=t,function(t){return $t(t,e)});var e}$=wn(),K=wn(!0);function Ro(){return[]}function Bo(){return!1}et=vn(function(t,e){return t+e},0),s=In("ceil"),j=vn(function(t,e){return t/e},1),De=In("floor");var Fo,z=vn(function(t,e){return t*e},1),Xe=In("round"),F=vn(function(t,e){return t-e},0);return ft.after=function(t,e){if("function"!=typeof e)throw new v(Wo);return t=Zr(t),function(){if(--t<1)return e.apply(this,arguments)}},ft.ary=or,ft.assign=$r,ft.assignIn=Qr,ft.assignInWith=Kr,ft.assignWith=to,ft.at=eo,ft.before=ar,ft.bind=sr,ft.bindAll=a,ft.bindKey=lr,ft.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return wr(t)?t:[t]},ft.chain=Gi,ft.chunk=function(t,e,n){e=(n?Jn(t,e,n):e===Ho)?1:U(Zr(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,a=M(Y(i/e));r<i;)a[o++]=Le(t,r,r+=e);return a},ft.compact=function(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r},ft.concat=function(){var t=arguments.length;if(!t)return[];for(var e=M(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ns(wr(n)?rn(n):[n],Ut(e,1))},ft.cond=function(i){var r=null==i?0:i.length,e=Rn();return i=r?Ds(i,function(t){if("function"!=typeof t[1])throw new v(Wo);return[e(t[0]),t[1]]}):[],Ae(function(t){for(var e=-1;++e<r;){var n=i[e];if(bs(n[0],this,t))return bs(n[1],this,t)}})},ft.conforms=function(t){return e=zt(t,1),n=uo(e),function(t){return jt(t,e,n)};var e,n},ft.constant=ko,ft.countBy=Vi,ft.create=function(t,e){return t=pt(t),null==e?t:kt(t,e)},ft.curry=function t(e,n,i){n=Tn(e,8,Ho,Ho,Ho,Ho,Ho,n=i?Ho:n);return n.placeholder=t.placeholder,n},ft.curryRight=function t(e,n,i){n=Tn(e,16,Ho,Ho,Ho,Ho,Ho,n=i?Ho:n);return n.placeholder=t.placeholder,n},ft.debounce=ur,ft.defaults=no,ft.defaultsDeep=io,ft.defer=cr,ft.delay=hr,ft.difference=vi,ft.differenceBy=xi,ft.differenceWith=_i,ft.drop=function(t,e,n){var i=null==t?0:t.length;return i?Le(t,(e=n||e===Ho?1:Zr(e))<0?0:e,i):[]},ft.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?Le(t,0,(e=i-(e=n||e===Ho?1:Zr(e)))<0?0:e):[]},ft.dropRightWhile=function(t,e){return t&&t.length?Fe(t,Rn(e,3),!0,!0):[]},ft.dropWhile=function(t,e){return t&&t.length?Fe(t,Rn(e,3),!0):[]},ft.fill=function(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Jn(t,e,n)&&(n=0,i=r),function(t,e,n,i){var r=t.length;for((n=Zr(n))<0&&(n=r<-n?0:r+n),(i=i===Ho||r<i?r:Zr(i))<0&&(i+=r),i=i<n?0:Vr(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},ft.filter=function(t,e){return(wr(t)?Cs:Gt)(t,Rn(e,3))},ft.flatMap=function(t,e){return Ut(er(t,e),1)},ft.flatMapDeep=function(t,e){return Ut(er(t,e),1/0)},ft.flatMapDepth=function(t,e,n){return n=n===Ho?1:Zr(n),Ut(er(t,e),n)},ft.flatten=Mi,ft.flattenDeep=function(t){return(null==t?0:t.length)?Ut(t,1/0):[]},ft.flattenDepth=function(t,e){return(null==t?0:t.length)?Ut(t,e=e===Ho?1:Zr(e)):[]},ft.flip=function(t){return Tn(t,512)},ft.flow=Eo,ft.flowRight=w,ft.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i},ft.functions=function(t){return null==t?[]:Jt(t,uo(t))},ft.functionsIn=function(t){return null==t?[]:Jt(t,co(t))},ft.groupBy=Qi,ft.initial=function(t){return(null==t?0:t.length)?Le(t,0,-1):[]},ft.intersection=Ii,ft.intersectionBy=Ci,ft.intersectionWith=Si,ft.invert=ao,ft.invertBy=so,ft.invokeMap=Ki,ft.iteratee=Po,ft.keyBy=tr,ft.keys=uo,ft.keysIn=co,ft.map=er,ft.mapKeys=function(t,i){var r={};return i=Rn(i,3),Xt(t,function(t,e,n){Et(r,i(t,e,n),t)}),r},ft.mapValues=function(t,i){var r={};return i=Rn(i,3),Xt(t,function(t,e,n){Et(r,e,i(t,e,n))}),r},ft.matches=function(t){return pe(zt(t,1))},ft.matchesProperty=function(t,e){return ge(t,zt(e,1))},ft.memoize=dr,ft.merge=ho,ft.mergeWith=fo,ft.method=n,ft.methodOf=e,ft.mixin=zo,ft.negate=fr,ft.nthArg=function(e){return e=Zr(e),Ae(function(t){return ye(t,e)})},ft.omit=po,ft.omitBy=function(t,e){return mo(t,fr(Rn(e)))},ft.once=function(t){return ar(2,t)},ft.orderBy=function(t,e,n,i){return null==t?[]:ve(t,e=!wr(e)?null==e?[]:[e]:e,n=!wr(n=i?Ho:n)?null==n?[]:[n]:n)},ft.over=A,ft.overArgs=pr,ft.overEvery=ct,ft.overSome=P,ft.partial=gr,ft.partialRight=mr,ft.partition=nr,ft.pick=go,ft.pickBy=mo,ft.property=Yo,ft.propertyOf=function(e){return function(t){return null==e?Ho:$t(e,t)}},ft.pull=Di,ft.pullAll=Ni,ft.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?_e(t,e,Rn(n,2)):t},ft.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?_e(t,e,Ho,n):t},ft.pullAt=Li,ft.range=$,ft.rangeRight=K,ft.rearg=yr,ft.reject=function(t,e){return(wr(t)?Cs:Gt)(t,fr(Rn(e,3)))},ft.remove=function(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=Rn(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return be(t,r),n},ft.rest=function(t,e){if("function"!=typeof t)throw new v(Wo);return Ae(t,e=e===Ho?e:Zr(e))},ft.reverse=ki,ft.sampleSize=function(t,e,n){return e=(n?Jn(t,e,n):e===Ho)?1:Zr(e),(wr(t)?Ct:Ce)(t,e)},ft.set=function(t,e,n){return null==t?t:Se(t,e,n)},ft.setWith=function(t,e,n,i){return i="function"==typeof i?i:Ho,null==t?t:Se(t,e,n,i)},ft.shuffle=function(t){return(wr(t)?St:Ne)(t)},ft.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n=n&&"number"!=typeof n&&Jn(t,e,n)?(e=0,i):(e=null==e?0:Zr(e),n===Ho?i:Zr(n)),Le(t,e,n)):[]},ft.sortBy=ir,ft.sortedUniq=function(t){return t&&t.length?Pe(t):[]},ft.sortedUniqBy=function(t,e){return t&&t.length?Pe(t,Rn(e,2)):[]},ft.split=function(t,e,n){return n&&"number"!=typeof n&&Jn(t,e,n)&&(e=n=Ho),(n=n===Ho?qo:n>>>0)?(t=Jr(t))&&("string"==typeof e||null!=e&&!jr(e))&&!(e=je(e))&&Qs(t)?qe(rl(t),0,n):t.split(e,n):[]},ft.spread=function(n,i){if("function"!=typeof n)throw new v(Wo);return i=null==i?0:U(Zr(i),0),Ae(function(t){var e=t[i],t=qe(t,0,i);return e&&Ns(t,e),bs(n,this,t)})},ft.tail=function(t){var e=null==t?0:t.length;return e?Le(t,1,e):[]},ft.take=function(t,e,n){return t&&t.length?Le(t,0,(e=n||e===Ho?1:Zr(e))<0?0:e):[]},ft.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?Le(t,(e=i-(e=n||e===Ho?1:Zr(e)))<0?0:e,i):[]},ft.takeRightWhile=function(t,e){return t&&t.length?Fe(t,Rn(e,3),!1,!0):[]},ft.takeWhile=function(t,e){return t&&t.length?Fe(t,Rn(e,3)):[]},ft.tap=function(t,e){return e(t),t},ft.throttle=function(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new v(Wo);return kr(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ur(t,e,{leading:i,maxWait:e,trailing:r})},ft.thru=Ui,ft.toArray=Gr,ft.toPairs=yo,ft.toPairsIn=vo,ft.toPath=function(t){return wr(t)?Ds(t,gi):Br(t)?[t]:rn(pi(Jr(t)))},ft.toPlainObject=qr,ft.transform=function(t,i,r){var e,n=wr(t),o=n||Cr(t)||Fr(t);return i=Rn(i,4),null==r&&(e=t&&t.constructor,r=o?n?new e:[]:kr(t)&&Dr(e)?pt(S(t)):{}),(o?Ms:Xt)(t,function(t,e,n){return i(r,t,e,n)}),r},ft.unary=function(t){return or(t,1)},ft.union=Ei,ft.unionBy=Oi,ft.unionWith=Pi,ft.uniq=function(t){return t&&t.length?Ye(t):[]},ft.uniqBy=function(t,e){return t&&t.length?Ye(t,Rn(e,2)):[]},ft.uniqWith=function(t,e){return e="function"==typeof e?e:Ho,t&&t.length?Ye(t,Ho,e):[]},ft.unset=function(t,e){return null==t||Re(t,e)},ft.unzip=zi,ft.unzipWith=ji,ft.update=function(t,e,n){return null==t?t:Be(t,e,Ze(n))},ft.updateWith=function(t,e,n,i){return i="function"==typeof i?i:Ho,null==t?t:Be(t,e,Ze(n),i)},ft.values=xo,ft.valuesIn=function(t){return null==t?[]:Us(t,co(t))},ft.without=Yi,ft.words=No,ft.wrap=function(t,e){return gr(Ze(e),t)},ft.xor=Ri,ft.xorBy=Bi,ft.xorWith=Fi,ft.zip=Hi,ft.zipObject=function(t,e){return Ge(t||[],e||[],Dt)},ft.zipObjectDeep=function(t,e){return Ge(t||[],e||[],Se)},ft.zipWith=Wi,ft.entries=yo,ft.entriesIn=vo,ft.extend=Qr,ft.extendWith=Kr,zo(ft,ft),ft.add=et,ft.attempt=Lo,ft.camelCase=_o,ft.capitalize=bo,ft.ceil=s,ft.clamp=function(t,e,n){return n===Ho&&(n=e,e=Ho),n!==Ho&&(n=(n=Xr(n))==n?n:0),e!==Ho&&(e=(e=Xr(e))==e?e:0),Pt(Xr(t),e,n)},ft.clone=function(t){return zt(t,4)},ft.cloneDeep=function(t){return zt(t,5)},ft.cloneDeepWith=function(t,e){return zt(t,5,e="function"==typeof e?e:Ho)},ft.cloneWith=function(t,e){return zt(t,4,e="function"==typeof e?e:Ho)},ft.conformsTo=function(t,e){return null==e||jt(t,e,uo(e))},ft.deburr=wo,ft.defaultTo=function(t,e){return null==t||t!=t?e:t},ft.divide=j,ft.endsWith=function(t,e,n){t=Jr(t),e=je(e);var i=t.length,i=n=n===Ho?i:Pt(Zr(n),0,i);return 0<=(n-=e.length)&&t.slice(n,i)==e},ft.eq=vr,ft.escape=function(t){return(t=Jr(t))&&Na.test(t)?t.replace(Ta,Js):t},ft.escapeRegExp=function(t){return(t=Jr(t))&&Ya.test(t)?t.replace(ja,"\\$&"):t},ft.every=function(t,e,n){return(wr(t)?Is:Ht)(t,Rn(e=n&&Jn(t,e,n)?Ho:e,3))},ft.find=Xi,ft.findIndex=bi,ft.findKey=function(t,e){return Os(t,Rn(e,3),Xt)},ft.findLast=qi,ft.findLastIndex=wi,ft.findLastKey=function(t,e){return Os(t,Rn(e,3),qt)},ft.floor=De,ft.forEach=Ji,ft.forEachRight=$i,ft.forIn=function(t,e){return null==t?t:Zt(t,Rn(e,3),co)},ft.forInRight=function(t,e){return null==t?t:Vt(t,Rn(e,3),co)},ft.forOwn=function(t,e){return t&&Xt(t,Rn(e,3))},ft.forOwnRight=function(t,e){return t&&qt(t,Rn(e,3))},ft.get=ro,ft.gt=xr,ft.gte=_r,ft.has=function(t,e){return null!=t&&Zn(t,e,ee)},ft.hasIn=oo,ft.head=Ai,ft.identity=Oo,ft.includes=function(t,e,n,i){return t=Ar(t)?t:xo(t),n=n&&!i?Zr(n):0,i=t.length,n<0&&(n=U(i+n,0)),Rr(t)?n<=i&&-1<t.indexOf(e,n):!!i&&-1<zs(t,e,n)},ft.indexOf=function(t,e,n){var i=null==t?0:t.length;return i?(n=null==n?0:Zr(n),zs(t,e,n=n<0?U(i+n,0):n)):-1},ft.inRange=function(t,e,n){return e=Ur(e),n===Ho?(n=e,e=0):n=Ur(n),(t=t=Xr(t))>=Z(e=e,n=n)&&t<U(e,n)},ft.invoke=lo,ft.isArguments=br,ft.isArray=wr,ft.isArrayBuffer=Mr,ft.isArrayLike=Ar,ft.isArrayLikeObject=Ir,ft.isBoolean=function(t){return!0===t||!1===t||Er(t)&&Kt(t)==Ko},ft.isBuffer=Cr,ft.isDate=Sr,ft.isElement=function(t){return Er(t)&&1===t.nodeType&&!zr(t)},ft.isEmpty=function(t){if(null==t)return!0;if(Ar(t)&&(wr(t)||"string"==typeof t||"function"==typeof t.splice||Cr(t)||Fr(t)||br(t)))return!t.length;var e,n=Un(t);if(n==ra||n==ua)return!t.size;if(ti(t))return!ce(t).length;for(e in t)if(x.call(t,e))return!1;return!0},ft.isEqual=function(t,e){return ae(t,e)},ft.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:Ho)?n(t,e):Ho;return i===Ho?ae(t,e,Ho,n):!!i},ft.isError=Tr,ft.isFinite=function(t){return"number"==typeof t&&H(t)},ft.isFunction=Dr,ft.isInteger=Nr,ft.isLength=Lr,ft.isMap=Or,ft.isMatch=function(t,e){return t===e||se(t,e,Fn(e))},ft.isMatchWith=function(t,e,n){return n="function"==typeof n?n:Ho,se(t,e,Fn(e),n)},ft.isNaN=function(t){return Pr(t)&&t!=+t},ft.isNative=function(t){if(Kn(t))throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return le(t)},ft.isNil=function(t){return null==t},ft.isNull=function(t){return null===t},ft.isNumber=Pr,ft.isObject=kr,ft.isObjectLike=Er,ft.isPlainObject=zr,ft.isRegExp=jr,ft.isSafeInteger=function(t){return Nr(t)&&-Vo<=t&&t<=Vo},ft.isSet=Yr,ft.isString=Rr,ft.isSymbol=Br,ft.isTypedArray=Fr,ft.isUndefined=function(t){return t===Ho},ft.isWeakMap=function(t){return Er(t)&&Un(t)==da},ft.isWeakSet=function(t){return Er(t)&&"[object WeakSet]"==Kt(t)},ft.join=function(t,e){return null==t?"":W.call(t,e)},ft.kebabCase=Mo,ft.last=Ti,ft.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==Ho&&(r=(r=Zr(n))<0?U(i+r,0):Z(r,i-1)),e==e?function(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}(t,e,r):Ps(t,Ys,r,!0)},ft.lowerCase=Ao,ft.lowerFirst=Io,ft.lt=Hr,ft.lte=Wr,ft.max=function(t){return t&&t.length?Wt(t,Oo,te):Ho},ft.maxBy=function(t,e){return t&&t.length?Wt(t,Rn(e,2),te):Ho},ft.mean=function(t){return Rs(t,Oo)},ft.meanBy=function(t,e){return Rs(t,Rn(e,2))},ft.min=function(t){return t&&t.length?Wt(t,Oo,de):Ho},ft.minBy=function(t,e){return t&&t.length?Wt(t,Rn(e,2),de):Ho},ft.stubArray=Ro,ft.stubFalse=Bo,ft.stubObject=function(){return{}},ft.stubString=function(){return""},ft.stubTrue=function(){return!0},ft.multiply=z,ft.nth=function(t,e){return t&&t.length?ye(t,Zr(e)):Ho},ft.noConflict=function(){return fs._===this&&(fs._=_),this},ft.noop=jo,ft.now=rr,ft.pad=function(t,e,n){t=Jr(t);var i=(e=Zr(e))?il(t):0;return!e||e<=i?t:_n(R(i=(e-i)/2),n)+t+_n(Y(i),n)},ft.padEnd=function(t,e,n){t=Jr(t);var i=(e=Zr(e))?il(t):0;return e&&i<e?t+_n(e-i,n):t},ft.padStart=function(t,e,n){t=Jr(t);var i=(e=Zr(e))?il(t):0;return e&&i<e?_n(e-i,n)+t:t},ft.parseInt=function(t,e,n){return e=n||null==e?0:e&&+e,X(Jr(t).replace(Ba,""),e||0)},ft.random=function(t,e,n){var i;if(n&&"boolean"!=typeof n&&Jn(t,e,n)&&(e=n=Ho),n===Ho&&("boolean"==typeof e?(n=e,e=Ho):"boolean"==typeof t&&(n=t,t=Ho)),t===Ho&&e===Ho?(t=0,e=1):(t=Ur(t),e===Ho?(e=t,t=0):e=Ur(e)),e<t&&(i=t,t=e,e=i),n||t%1||e%1){n=q();return Z(t+n*(e-t+hs("1e-"+((n+"").length-1))),e)}return we(t,e)},ft.reduce=function(t,e,n){var i=wr(t)?Ls:Fs,r=arguments.length<3;return i(t,Rn(e,4),n,r,Bt)},ft.reduceRight=function(t,e,n){var i=wr(t)?ks:Fs,r=arguments.length<3;return i(t,Rn(e,4),n,r,Ft)},ft.repeat=function(t,e,n){return e=(n?Jn(t,e,n):e===Ho)?1:Zr(e),Me(Jr(t),e)},ft.replace=function(){var t=arguments,e=Jr(t[0]);return t.length<3?e:e.replace(t[1],t[2])},ft.result=function(t,e,n){var i=-1,r=(e=Ve(e,t)).length;for(r||(r=1,t=Ho);++i<r;){var o=null==t?Ho:t[gi(e[i])];o===Ho&&(i=r,o=n),t=Dr(o)?o.call(t):o}return t},ft.round=Xe,ft.runInContext=t,ft.sample=function(t){return(wr(t)?It:Ie)(t)},ft.size=function(t){if(null==t)return 0;if(Ar(t))return Rr(t)?il(t):t.length;var e=Un(t);return e==ra||e==ua?t.size:ce(t).length},ft.snakeCase=Co,ft.some=function(t,e,n){return(wr(t)?Es:ke)(t,Rn(e=n&&Jn(t,e,n)?Ho:e,3))},ft.sortedIndex=function(t,e){return Ee(t,e)},ft.sortedIndexBy=function(t,e,n){return Oe(t,e,Rn(n,2))},ft.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var i=Ee(t,e);if(i<n&&vr(t[i],e))return i}return-1},ft.sortedLastIndex=function(t,e){return Ee(t,e,!0)},ft.sortedLastIndexBy=function(t,e,n){return Oe(t,e,Rn(n,2),!0)},ft.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var n=Ee(t,e,!0)-1;if(vr(t[n],e))return n}return-1},ft.startCase=So,ft.startsWith=function(t,e,n){return t=Jr(t),n=null==n?0:Pt(Zr(n),0,t.length),e=je(e),t.slice(n,n+e.length)==e},ft.subtract=F,ft.sum=function(t){return t&&t.length?Hs(t,Oo):0},ft.sumBy=function(t,e){return t&&t.length?Hs(t,Rn(e,2)):0},ft.template=function(a,t,e){var n=ft.templateSettings;e&&Jn(a,t,e)&&(t=Ho),a=Jr(a),t=Kr({},t,n,Dn);var s,l,i=uo(n=Kr({},t.imports,n.imports,Dn)),r=Us(n,i),u=0,n=t.interpolate||es,c="__p += '",n=d((t.escape||es).source+"|"+n.source+"|"+(n===Ea?Va:es).source+"|"+(t.evaluate||es).source+"|$","g"),o="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++ls+"]")+"\n";if(a.replace(n,function(t,e,n,i,r,o){return n=n||i,c+=a.slice(u,o).replace(ns,$s),e&&(s=!0,c+="' +\n__e("+e+") +\n'"),r&&(l=!0,c+="';\n"+r+";\n__p += '"),n&&(c+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=o+t.length,t}),c+="';\n",(t=t.variable)||(c="with (obj) {\n"+c+"\n}\n"),c=(l?c.replace(Aa,""):c).replace(Ia,"$1").replace(Ca,"$1;"),c="function("+(t||"obj")+") {\n"+(t?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+c+"return __p\n}",(t=Lo(function(){return h(i,o+"return "+c).apply(Ho,r)})).source=c,Tr(t))throw t;return t},ft.times=function(t,e){if((t=Zr(t))<1||Vo<t)return[];var n=qo,i=Z(t,qo);for(e=Rn(e),t-=qo,i=Ws(i,e);++n<t;)e(n);return i},ft.toFinite=Ur,ft.toInteger=Zr,ft.toLength=Vr,ft.toLower=function(t){return Jr(t).toLowerCase()},ft.toNumber=Xr,ft.toSafeInteger=function(t){return t?Pt(Zr(t),-Vo,Vo):0===t?t:0},ft.toString=Jr,ft.toUpper=function(t){return Jr(t).toUpperCase()},ft.trim=function(t,e,n){return(t=Jr(t))&&(n||e===Ho)?t.replace(Ra,""):t&&(e=je(e))?(t=rl(t),e=rl(e),qe(t,Vs(t,e),Xs(t,e)+1).join("")):t},ft.trimEnd=function(t,e,n){return(t=Jr(t))&&(n||e===Ho)?t.replace(Fa,""):t&&(e=je(e))?qe(t=rl(t),0,Xs(t,rl(e))+1).join(""):t},ft.trimStart=function(t,e,n){return(t=Jr(t))&&(n||e===Ho)?t.replace(Ba,""):t&&(e=je(e))?qe(t=rl(t),Vs(t,rl(e))).join(""):t},ft.truncate=function(t,e){var n,i=30,r="...";kr(e)&&(n="separator"in e?e.separator:n,i="length"in e?Zr(e.length):i,r="omission"in e?je(e.omission):r);var o,e=(t=Jr(t)).length;if((e=Qs(t)?(o=rl(t)).length:e)<=i)return t;if((e=i-il(r))<1)return r;if(i=o?qe(o,0,e).join(""):t.slice(0,e),n===Ho)return i+r;if(o&&(e+=i.length-e),jr(n)){if(t.slice(e).search(n)){var a,s=i;for((n=!n.global?d(n.source,Jr(Xa.exec(n))+"g"):n).lastIndex=0;a=n.exec(s);)var l=a.index;i=i.slice(0,l===Ho?e:l)}}else t.indexOf(je(n),e)==e||-1<(e=i.lastIndexOf(n))&&(i=i.slice(0,e));return i+r},ft.unescape=function(t){return(t=Jr(t))&&Da.test(t)?t.replace(Sa,ol):t},ft.uniqueId=function(t){var e=++u;return Jr(t)+e},ft.upperCase=To,ft.upperFirst=Do,ft.each=Ji,ft.eachRight=$i,ft.first=Ai,zo(ft,(Fo={},Xt(ft,function(t,e){x.call(ft.prototype,e)||(Fo[e]=t)}),Fo),{chain:!1}),ft.VERSION="4.17.11",Ms(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){ft[t].placeholder=ft}),Ms(["drop","take"],function(n,i){vt.prototype[n]=function(t){t=t===Ho?1:U(Zr(t),0);var e=this.__filtered__&&!i?new vt(this):this.clone();return e.__filtered__?e.__takeCount__=Z(t,e.__takeCount__):e.__views__.push({size:Z(t,qo),type:n+(e.__dir__<0?"Right":"")}),e},vt.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),Ms(["filter","map","takeWhile"],function(t,e){var n=e+1,i=1==n||3==n;vt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Rn(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),Ms(["head","last"],function(t,e){var n="take"+(e?"Right":"");vt.prototype[t]=function(){return this[n](1).value()[0]}}),Ms(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");vt.prototype[t]=function(){return this.__filtered__?new vt(this):this[n](1)}}),vt.prototype.compact=function(){return this.filter(Oo)},vt.prototype.find=function(t){return this.filter(t).head()},vt.prototype.findLast=function(t){return this.reverse().find(t)},vt.prototype.invokeMap=Ae(function(e,n){return"function"==typeof e?new vt(this):this.map(function(t){return re(t,e,n)})}),vt.prototype.reject=function(t){return this.filter(fr(Rn(t)))},vt.prototype.slice=function(t,e){t=Zr(t);var n=this;return n.__filtered__&&(0<t||e<0)?new vt(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==Ho?(e=Zr(e))<0?n.dropRight(-e):n.take(e-t):n)},vt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vt.prototype.toArray=function(){return this.take(qo)},Xt(vt.prototype,function(u,t){var c=/^(?:filter|find|map|reject)|While$/.test(t),h=/^(?:head|last)$/.test(t),d=ft[h?"take"+("last"==t?"Right":""):t],f=h||/^find/.test(t);d&&(ft.prototype[t]=function(){function t(t){return t=d.apply(ft,Ns([t],n)),h&&a?t[0]:t}var e=this.__wrapped__,n=h?[1]:arguments,i=e instanceof vt,r=n[0],o=i||wr(e);o&&c&&"function"==typeof r&&1!=r.length&&(i=o=!1);var a=this.__chain__,s=!!this.__actions__.length,r=f&&!a,s=i&&!s;if(f||!o)return r&&s?u.apply(this,n):(l=this.thru(t),r?h?l.value()[0]:l.value():l);var e=s?e:new vt(this),l=u.apply(e,n);return l.__actions__.push({func:Ui,args:[t],thisArg:Ho}),new yt(l,a)})}),Ms(["pop","push","shift","sort","splice","unshift"],function(t){var n=o[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);ft.prototype[t]=function(){var e=arguments;if(!r||this.__chain__)return this[i](function(t){return n.apply(wr(t)?t:[],e)});var t=this.value();return n.apply(wr(t)?t:[],e)}}),Xt(vt.prototype,function(t,e){var n,i=ft[e];i&&(n=i.name+"",(rt[n]||(rt[n]=[])).push({name:e,func:i}))}),rt[mn(Ho,2).name]=[{name:"wrapper",func:Ho}],vt.prototype.clone=function(){var t=new vt(this.__wrapped__);return t.__actions__=rn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=rn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=rn(this.__views__),t},vt.prototype.reverse=function(){var t;return this.__filtered__?((t=new vt(this)).__dir__=-1,t.__filtered__=!0):(t=this.clone()).__dir__*=-1,t},vt.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=wr(t),i=e<0,r=n?t.length:0,o=function(t,e,n){var i=-1,r=n.length;for(;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Z(e,t+a);break;case"takeRight":t=U(t,e-a)}}return{start:t,end:e}}(0,r,this.__views__),a=o.start,s=(o=o.end)-a,l=i?o:a-1,u=this.__iteratees__,c=u.length,h=0,d=Z(s,this.__takeCount__);if(!n||!i&&r==s&&d==s)return He(t,this.__actions__);var f=[];t:for(;s--&&h<d;){for(var p=-1,g=t[l+=e];++p<c;){var m=u[p],y=m.iteratee,m=m.type,y=y(g);if(2==m)g=y;else if(!y){if(1==m)continue t;break t}}f[h++]=g}return f},ft.prototype.at=Zi,ft.prototype.chain=function(){return Gi(this)},ft.prototype.commit=function(){return new yt(this.value(),this.__chain__)},ft.prototype.next=function(){this.__values__===Ho&&(this.__values__=Gr(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?Ho:this.__values__[this.__index__++]}},ft.prototype.plant=function(t){for(var e,n=this;n instanceof mt;){var i=yi(n);i.__index__=0,i.__values__=Ho,e?r.__wrapped__=i:e=i;var r=i,n=n.__wrapped__}return r.__wrapped__=t,e},ft.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof vt){t=t;return(t=(t=this.__actions__.length?new vt(this):t).reverse()).__actions__.push({func:Ui,args:[ki],thisArg:Ho}),new yt(t,this.__chain__)}return this.thru(ki)},ft.prototype.toJSON=ft.prototype.valueOf=ft.prototype.value=function(){return He(this.__wrapped__,this.__actions__)},ft.prototype.first=ft.prototype.head,k&&(ft.prototype[k]=function(){return this}),ft}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(fs._=al,define(function(){return al})):I?((I.exports=al)._=al,o._=al):fs._=al}.call(this),function(i){var r="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(t,e,n){r.Backbone=i(r,n,t,e)});else if("undefined"!=typeof exports){var t,e=require("underscore");try{t=require("jquery")}catch(t){}i(r,exports,e,t)}else r.Backbone=i(r,{},r._,r.jQuery||r.Zepto||r.ender||r.$)}(function(t,s,_,e){var n=t.Backbone,o=Array.prototype.slice;s.VERSION="1.3.3",s.$=e,s.noConflict=function(){return t.Backbone=n,this},s.emulateHTTP=!1,s.emulateJSON=!1;var i=function(n,t,i){_.each(t,function(t,e){_[e]&&(n.prototype[e]=function(t,i,r){switch(t){case 1:return function(){return _[i](this[r])};case 2:return function(t){return _[i](this[r],t)};case 3:return function(t,e){return _[i](this[r],a(t,this),e)};case 4:return function(t,e,n){return _[i](this[r],a(t,this),e,n)};default:return function(){var t=o.call(arguments);return t.unshift(this[r]),_[i].apply(_,t)}}}(t,e,i))})},a=function(e,t){return _.isFunction(e)?e:_.isObject(e)&&!t._isModel(e)?(n=_.matches(e),function(t){return n(t.attributes)}):_.isString(e)?function(t){return t.get(e)}:e;var n},r=s.Events={},l=/\s+/,u=function(t,e,n,i,r){var o,a=0;if(n&&"object"==typeof n){void 0!==i&&"context"in r&&void 0===r.context&&(r.context=i);for(o=_.keys(n);a<o.length;a++)e=u(t,e,o[a],n[o[a]],r)}else if(n&&l.test(n))for(o=n.split(l);a<o.length;a++)e=t(e,o[a],i,r);else e=t(e,n,i,r);return e};r.on=function(t,e,n){return c(this,t,e,n)};var c=function(t,e,n,i,r){return t._events=u(h,t._events||{},e,n,{context:i,ctx:t,listening:r}),r&&((t._listeners||(t._listeners={}))[r.id]=r),t};r.listenTo=function(t,e,n){if(!t)return this;var i,r=t._listenId||(t._listenId=_.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),a=o[r];return a||(i=this._listenId||(this._listenId=_.uniqueId("l")),a=o[r]={obj:t,objId:r,id:i,listeningTo:o,count:0}),c(t,e,n,this,a),this};var h=function(t,e,n,i){var r,o;return n&&(r=t[e]||(t[e]=[]),o=i.context,e=i.ctx,(i=i.listening)&&i.count++,r.push({callback:n,context:o,ctx:o||e,listening:i})),t};r.off=function(t,e,n){return this._events&&(this._events=u(d,this._events,t,e,{context:n,listeners:this._listeners})),this},r.stopListening=function(t,e,n){var i=this._listeningTo;if(!i)return this;for(var r=t?[t._listenId]:_.keys(i),o=0;o<r.length;o++){var a=i[r[o]];if(!a)break;a.obj.off(e,n,this)}return this};var d=function(t,e,n,i){if(t){var r,o=0,a=i.context,s=i.listeners;if(e||n||a){for(var l=e?[e]:_.keys(t);o<l.length;o++){var u=t[e=l[o]];if(!u)break;for(var c=[],h=0;h<u.length;h++){var d=u[h];n&&n!==d.callback&&n!==d.callback._callback||a&&a!==d.context?c.push(d):(r=d.listening)&&0==--r.count&&(delete s[r.id],delete r.listeningTo[r.objId])}c.length?t[e]=c:delete t[e]}return t}for(var f=_.keys(s);o<f.length;o++)delete s[(r=s[f[o]]).id],delete r.listeningTo[r.objId]}};r.once=function(t,e,n){var i=u(f,{},t,e,_.bind(this.off,this));return this.on(i,e="string"==typeof t&&null==n?void 0:e,n)},r.listenToOnce=function(t,e,n){n=u(f,{},e,n,_.bind(this.stopListening,this,t));return this.listenTo(t,n)};var f=function(t,e,n,i){var r;return n&&((r=t[e]=_.once(function(){i(e,r),n.apply(this,arguments)}))._callback=n),t};r.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return u(p,this._events,t,void 0,n),this};var p=function(t,e,n,i){var r,o;return t&&(r=t[e],o=t.all,r&&o&&(o=o.slice()),r&&g(r,i),o&&g(o,[e].concat(i))),t},g=function(t,e){var n,i=-1,r=t.length,o=e[0],a=e[1],s=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}};r.bind=r.on,r.unbind=r.off,_.extend(s,r);var m=s.Model=function(t,e){var n=t||{};e=e||{},this.cid=_.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var i=_.result(this,"defaults"),n=_.defaults(_.extend({},i,n),i);this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};_.extend(m.prototype,r,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return _.clone(this.attributes)},sync:function(){return s.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return _.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!_.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var i;if("object"==typeof t?(i=t,n=e):(i={})[t]=e,!this._validate(i,n=n||{}))return!1;var r=n.unset,o=n.silent,a=[],t=this._changing;this._changing=!0,t||(this._previousAttributes=_.clone(this.attributes),this.changed={});var s,l=this.attributes,u=this.changed,c=this._previousAttributes;for(s in i)e=i[s],_.isEqual(l[s],e)||a.push(s),_.isEqual(c[s],e)?delete u[s]:u[s]=e,r?delete l[s]:l[s]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!o){a.length&&(this._pending=n);for(var h=0;h<a.length;h++)this.trigger("change:"+a[h],this,l[a[h]],n)}if(t)return this;if(!o)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,_.extend({},e,{unset:!0}))},clear:function(t){var e,n={};for(e in this.attributes)n[e]=void 0;return this.set(n,_.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!_.isEmpty(this.changed):_.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&_.clone(this.changed);var e,n=this._changing?this._previousAttributes:this.attributes,i={};for(e in t){var r=t[e];_.isEqual(n[e],r)||(i[e]=r)}return!!_.size(i)&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(n){n=_.extend({parse:!0},n);var i=this,r=n.success;return n.success=function(t){var e=n.parse?i.parse(t,n):t;if(!i.set(e,n))return!1;r&&r.call(n.context,i,t,n),i.trigger("sync",i,t,n)},O(this,n),this.sync("read",this,n)},save:function(t,e,n){var i;null==t||"object"==typeof t?(i=t,n=e):(i={})[t]=e;var r=(n=_.extend({validate:!0,parse:!0},n)).wait;if(i&&!r){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;var o=this,a=n.success,s=this.attributes;n.success=function(t){o.attributes=s;var e=n.parse?o.parse(t,n):t;if((e=r?_.extend({},i,e):e)&&!o.set(e,n))return!1;a&&a.call(n.context,o,t,n),o.trigger("sync",o,t,n)},O(this,n),i&&r&&(this.attributes=_.extend({},s,i));e=this.isNew()?"create":n.patch?"patch":"update";"patch"!=e||n.attrs||(n.attrs=i);e=this.sync(e,this,n);return this.attributes=s,e},destroy:function(e){e=e?_.clone(e):{};function n(){i.stopListening(),i.trigger("destroy",i,i.collection,e)}var i=this,r=e.success,o=e.wait,t=!(e.success=function(t){o&&n(),r&&r.call(e.context,i,t,e),i.isNew()||i.trigger("sync",i,t,e)});return this.isNew()?_.defer(e.success):(O(this,e),t=this.sync("delete",this,e)),o||n(),t},url:function(){var t=_.result(this,"urlRoot")||_.result(this.collection,"url")||E();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},_.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=_.extend({},this.attributes,t);t=this.validationError=this.validate(t,e)||null;return!t||(this.trigger("invalid",this,t,_.extend(e,{validationError:t})),!1)}});i(m,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");function b(t,e,n){n=Math.min(Math.max(n,0),t.length);for(var i=Array(t.length-n),r=e.length,o=0;o<i.length;o++)i[o]=t[o+n];for(o=0;o<r;o++)t[o+n]=e[o];for(o=0;o<i.length;o++)t[o+r+n]=i[o]}var y=s.Collection=function(t,e){(e=e||{}).model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,_.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},v={add:!0,remove:!1};_.extend(y.prototype,r,{model:m,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return s.sync.apply(this,arguments)},add:function(t,e){return this.set(t,_.extend({merge:!1},e,v))},remove:function(t,e){e=_.extend({},e);var n=!_.isArray(t);t=n?[t]:t.slice();t=this._removeModels(t,e);return!e.silent&&t.length&&(e.changes={added:[],merged:[],removed:t},this.trigger("update",this,e)),n?t[0]:t},set:function(t,e){if(null!=t){(e=_.extend({},w,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!_.isArray(t);t=n?[t]:t.slice();var i=e.at;(i=(i=null!=i?+i:i)>this.length?this.length:i)<0&&(i+=this.length+1);for(var r=[],o=[],a=[],s=[],l={},u=e.add,c=e.merge,h=e.remove,d=!1,f=this.comparator&&null==i&&!1!==e.sort,p=_.isString(this.comparator)?this.comparator:null,g=0;g<t.length;g++){var m,y=t[g],v=this.get(y);v?(c&&y!==v&&(m=this._isModel(y)?y.attributes:y,e.parse&&(m=v.parse(m,e)),v.set(m,e),a.push(v),f&&!d&&(d=v.hasChanged(p))),l[v.cid]||(l[v.cid]=!0,r.push(v)),t[g]=v):u&&(y=t[g]=this._prepareModel(y,e))&&(o.push(y),this._addReference(y,e),l[y.cid]=!0,r.push(y))}if(h){for(g=0;g<this.length;g++)l[(y=this.models[g]).cid]||s.push(y);s.length&&this._removeModels(s,e)}var x=!1;if(r.length&&(!f&&u&&h)?(x=this.length!==r.length||_.some(this.models,function(t,e){return t!==r[e]}),this.models.length=0,b(this.models,r,0),this.length=this.models.length):o.length&&(f&&(d=!0),b(this.models,o,null==i?this.length:i),this.length=this.models.length),d&&this.sort({silent:!0}),!e.silent){for(g=0;g<o.length;g++)null!=i&&(e.index=i+g),(y=o[g]).trigger("add",y,this,e);(d||x)&&this.trigger("sort",this,e),(o.length||s.length||a.length)&&(e.changes={added:o,removed:s,merged:a},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?_.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,_.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,_.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,_.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t=t||{};var n=e.length;return _.isFunction(e)&&(e=_.bind(e,this)),1===n||_.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(n){var i=(n=_.extend({parse:!0},n)).success,r=this;return n.success=function(t){var e=n.reset?"reset":"set";r[e](t,n),i&&i.call(n.context,r,t,n),r.trigger("sync",r,t,n)},O(this,n),this.sync("read",this,n)},create:function(t,e){var i=(e=e?_.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;t=new((e=e?_.clone(e):{}).collection=this).model(t,e);return t.validationError?(this.trigger("invalid",this,t.validationError,e),!1):t},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r,o,a=this.get(t[i]);a&&(r=this.indexOf(a),this.models.splice(r,1),this.length--,delete this._byId[a.cid],null!=(o=this.modelId(a.attributes))&&delete this._byId[o],e.silent||(e.index=r,a.trigger("remove",a,this,e)),n.push(a),this._removeReference(a,e))}return n},_isModel:function(t){return t instanceof m},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(("add"===t||"remove"===t)&&n!==this)return;var r,o;"destroy"===t&&this.remove(e,i),"change"!==t||(r=this.modelId(e.previousAttributes()))!==(o=this.modelId(e.attributes))&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e))}this.trigger.apply(this,arguments)}});i(y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var e=s.View=function(t){this.cid=_.uniqueId("view"),_.extend(this,_.pick(t,M)),this._ensureElement(),this.initialize.apply(this,arguments)},x=/^(\S+)\s*(.*)$/,M=["model","collection","el","id","attributes","className","tagName","events"];_.extend(e.prototype,r,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof s.$?t:s.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(!(t=t||_.result(this,"events")))return this;for(var e in this.undelegateEvents(),t){var n=t[e];(n=!_.isFunction(n)?this[n]:n)&&(e=e.match(x),this.delegate(e[1],e[2],_.bind(n,this)))}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){var t;this.el?this.setElement(_.result(this,"el")):(t=_.extend({},_.result(this,"attributes")),this.id&&(t.id=_.result(this,"id")),this.className&&(t.class=_.result(this,"className")),this.setElement(this._createElement(_.result(this,"tagName"))),this._setAttributes(t))},_setAttributes:function(t){this.$el.attr(t)}}),s.sync=function(t,e,i){var n=A[t];_.defaults(i=i||{},{emulateHTTP:s.emulateHTTP,emulateJSON:s.emulateJSON});var r,o={type:n,dataType:"json"};i.url||(o.url=_.result(e,"url")||E()),null!=i.data||!e||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||e.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),!i.emulateHTTP||"PUT"!==n&&"DELETE"!==n&&"PATCH"!==n||(o.type="POST",i.emulateJSON&&(o.data._method=n),r=i.beforeSend,i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",n),r)return r.apply(this,arguments)}),"GET"===o.type||i.emulateJSON||(o.processData=!1);var a=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,a&&a.call(i.context,t,e,n)};o=i.xhr=s.ajax(_.extend(o,i));return e.trigger("request",e,o,i),o};var A={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};s.ajax=function(){return s.$.ajax.apply(s.$,arguments)};var i=s.Router=function(t){(t=t||{}).routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},I=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,S=/\*\w+/g,T=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(i.prototype,r,{initialize:function(){},route:function(e,n,i){_.isRegExp(e)||(e=this._routeToRegExp(e)),_.isFunction(n)&&(i=n,n=""),i=i||this[n];var r=this;return s.history.route(e,function(t){t=r._extractParameters(e,t);!1!==r.execute(i,t,n)&&(r.trigger.apply(r,["route:"+n].concat(t)),r.trigger("route",n,t),s.history.trigger("route",r,n,t))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,e){return s.history.navigate(t,e),this},_bindRoutes:function(){if(this.routes){this.routes=_.result(this,"routes");for(var t,e=_.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(T,"\\$&").replace(I,"(?:$1)?").replace(C,function(t,e){return e?t:"([^/?]+)"}).replace(S,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return _.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var D=s.History=function(){this.handlers=[],this.checkUrl=_.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,k=/#.*$/;D.started=!1,_.extend(D.prototype,r,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){t=(t||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return(t=null==t?this._usePushState||!this._wantsHashChange?this.getPath():this.getHash():t).replace(N,"")},start:function(t){if(D.started)throw new Error("Backbone.history has already been started");if(D.started=!0,this.options=_.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}this._hasHashChange||!this._wantsHashChange||this._usePushState||(this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1,(e=(e=document.body).insertBefore(this.iframe,e.firstChild).contentWindow).document.open(),e.document.close(),e.location.hash="#"+this.fragment);var e=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?e("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if((e=e===this.fragment&&this.iframe?this.getHash(this.iframe.contentWindow):e)===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),_.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(t,e){if(!D.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root,n=(n=""===t||"?"===t.charAt(0)?n.slice(0,-1)||"/":n)+t;if(t=this.decodeFragment(t.replace(k,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)&&(n=this.iframe.contentWindow,e.replace||(n.document.open(),n.document.close()),this._updateHash(n.location,t,e.replace))}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){n?(n=t.href.replace(/(javascript:|#).*$/,""),t.replace(n+"#"+e)):t.hash="#"+e}}),s.history=new D;m.extend=y.extend=i.extend=e.extend=D.extend=function(t,e){var n=this,i=t&&_.has(t,"constructor")?t.constructor:function(){return n.apply(this,arguments)};return _.extend(i,n,e),i.prototype=_.create(n.prototype,t),(i.prototype.constructor=i).__super__=n.prototype,i};var E=function(){throw new Error('A "url" property or function must be specified')},O=function(e,n){var i=n.error;n.error=function(t){i&&i.call(n.context,e,t,n),e.trigger("error",e,t,n)}};return s}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("backbone"),require("lodash"),require("jquery")):"function"==typeof define&&define.amd?define(["exports","backbone","lodash","jquery"],e):e((t=t||self).joint={},t.Backbone,t._,t.$)}(this,function(e,r,n,b){"use strict";function l(t){return"function"==typeof t||"[object Function]"===i.call(t)}function u(t){return t=function(t){t=Number(t);return isNaN(t)?0:0!==t&&isFinite(t)?(0<t?1:-1)*Math.floor(Math.abs(t)):t}(t),Math.min(Math.max(t,0),o)}var i,o;function a(t,e){return this.slice(t,e)}function s(t,e){arguments.length<2&&(e=0);for(var n=0,i=t.length;n<i;++n,++e)this[e]=255&t[n]}function t(t){if("number"==typeof t)for(var e=new Array(t),n=0;n<t;++n)e[n]=0;else e=t.slice(0);return e.subarray=a,(e.buffer=e).byteLength=e.length,e.set=s,"object"==typeof t&&t.buffer&&(e.buffer=t.buffer),e}r=r&&r.hasOwnProperty("default")?r.default:r,n=n&&n.hasOwnProperty("default")?n.default:n,b=b&&b.hasOwnProperty("default")?b.default:b,Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0==i)return!1;var r,o,e=0|e,a=Math.max(0<=e?e:i-Math.abs(e),0);for(;a<i;){if((r=n[a])===(o=t)||"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))return!0;a++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return o;r++}}}),Array.from||(Array.from=(i=Object.prototype.toString,o=Math.pow(2,53)-1,function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,i=1<arguments.length?arguments[1]:void 0;if(void 0!==i){if(!l(i))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(n=arguments[2])}for(var r,o=u(e.length),a=l(this)?Object(new this(o)):new Array(o),s=0;s<o;)r=e[s],a[s]=i?void 0===n?i(r,s):i.call(n,r,s):r,s+=1;return a.length=o,a})),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(t){if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=arguments[1],r=0;r<n;){var o=e[r];if(t.call(i,o,r,e))return r;r++}return-1}}),function(){var t=void 0!==e?e:this,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function l(t){this.message=t}(l.prototype=new Error).name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var e,n,i=String(t),r=0,o=s,a="";i.charAt(0|r)||(o="=",r%1);a+=o.charAt(63&e>>8-r%1*8)){if(255<(n=i.charCodeAt(r+=.75)))throw new l("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");e=e<<8|n}return a}),t.atob||(t.atob=function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new l("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,r=0,o=0,a="";i=e.charAt(o++);~i&&(n=r%4?64*n+i:i,r++%4)&&(a+=String.fromCharCode(255&n>>(-2*r&6))))i=s.indexOf(i);return a})}(),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isNaN=Number.isNaN||function(t){return t!=t},String.prototype.includes||(String.prototype.includes=function(t,e){return!((e="number"!=typeof e?0:e)+t.length>this.length)&&-1!==this.indexOf(t,e)}),String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.substr(e||0,t.length)===t}),"undefined"==typeof Uint8Array&&"undefined"!=typeof window&&(window.Uint8Array=t,window.Uint32Array=t,window.Int32Array=t),"undefined"!=typeof XMLHttpRequest&&("response"in XMLHttpRequest.prototype||"mozResponseArrayBuffer"in XMLHttpRequest.prototype||"mozResponse"in XMLHttpRequest.prototype||"responseArrayBuffer"in XMLHttpRequest.prototype||Object.defineProperty(XMLHttpRequest.prototype,"response",{get:function(){return new Uint8Array(new VBArray(this.responseBody).toArray())}}));var c=Math,I=c.abs,h=c.cos,d=c.sin,A=c.sqrt,C=c.min,S=c.max,f=c.atan2,p=c.round,m=c.floor,y=c.PI,T=c.pow,v={curveThroughPoints:function(t){return console.warn("deprecated"),new j(x.throughPoints(t)).serialize()},getCurveControlPoints:function(t){console.warn("deprecated");var e=[],n=[],i=t.length-1;if(1==i)return e[0]=new Y((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=new Y(2*e[0].x-t[0].x,2*e[0].y-t[0].y),[e,n];for(var r=[],o=1;o<i-1;o++)r[o]=4*t[o].x+2*t[o+1].x;r[0]=t[0].x+2*t[1].x,r[i-1]=(8*t[i-1].x+t[i].x)/2;var a=this.getFirstControlPoints(r);for(o=1;o<i-1;++o)r[o]=4*t[o].y+2*t[o+1].y;r[0]=t[0].y+2*t[1].y,r[i-1]=(8*t[i-1].y+t[i].y)/2;var s=this.getFirstControlPoints(r);for(o=0;o<i;o++)e.push(new Y(a[o],s[o])),o<i-1?n.push(new Y(2*t[o+1].x-a[o+1],2*t[o+1].y-s[o+1])):n.push(new Y((t[i].x+a[i-1])/2,(t[i].y+s[i-1])/2));return[e,n]},getCurveDivider:function(t,e,n,i){console.warn("deprecated");var r=new x(t,e,n,i);return function(t){t=r.divide(t);return[{p0:t[0].start,p1:t[0].controlPoint1,p2:t[0].controlPoint2,p3:t[0].end},{p0:t[1].start,p1:t[1].controlPoint1,p2:t[1].controlPoint2,p3:t[1].end}]}},getFirstControlPoints:function(t){console.warn("deprecated");var e=t.length,n=[],i=[],r=2;n[0]=t[0]/r;for(var o=1;o<e;o++)i[o]=1/r,r=(o<e-1?4:3.5)-i[o],n[o]=(t[o]-n[o-1])/r;for(o=1;o<e;o++)n[e-o-1]-=i[e-o]*n[e-o];return n},getInversionSolver:function(t,e,n,i){console.warn("deprecated");var r=new x(t,e,n,i);return function(t){return r.closestPointT(t)}}},x=function(t,e,n,i){return this instanceof x?t instanceof x?new x(t.start,t.controlPoint1,t.controlPoint2,t.end):(this.start=new Y(t),this.controlPoint1=new Y(e),this.controlPoint2=new Y(n),void(this.end=new Y(i))):new x(t,e,n,i)};function _(t){var e=t.length,n=[],i=[],r=2;n[0]=t[0]/r;for(var o=1;o<e;o++)i[o]=1/r,r=(o<e-1?4:3.5)-i[o],n[o]=(t[o]-n[o-1])/r;for(o=1;o<e;o++)n[e-o-1]-=i[e-o]*n[e-o];return n}x.throughPoints=function(t){if(!t||Array.isArray(t)&&t.length<2)throw new Error("At least 2 points are required");for(var e=function(t){var e=[],n=[],i=t.length-1;if(1==i)return e[0]=new Y((2*t[0].x+t[1].x)/3,(2*t[0].y+t[1].y)/3),n[0]=new Y(2*e[0].x-t[0].x,2*e[0].y-t[0].y),[e,n];for(var r=[],o=1;o<i-1;o++)r[o]=4*t[o].x+2*t[o+1].x;r[0]=t[0].x+2*t[1].x,r[i-1]=(8*t[i-1].x+t[i].x)/2;var a=_(r);for(o=1;o<i-1;++o)r[o]=4*t[o].y+2*t[o+1].y;r[0]=t[0].y+2*t[1].y,r[i-1]=(8*t[i-1].y+t[i].y)/2;var s=_(r);for(o=0;o<i;o++)e.push(new Y(a[o],s[o])),o<i-1?n.push(new Y(2*t[o+1].x-a[o+1],2*t[o+1].y-s[o+1])):n.push(new Y((t[i].x+a[i-1])/2,(t[i].y+s[i-1])/2));return[e,n]}(t),n=[],i=e[0].length,r=0;r<i;r++){var o=new Y(e[0][r].x,e[0][r].y),a=new Y(e[1][r].x,e[1][r].y);n.push(new x(t[r],o,a,t[r+1]))}return n},x.prototype={bbox:function(){for(var t,e,n,i,r,o=this.start,a=this.controlPoint1,s=this.controlPoint2,l=this.end,u=o.x,c=o.y,h=a.x,d=a.y,f=s.x,p=s.y,g=l.x,m=l.y,y=new Array,v=new Array,x=[new Array,new Array],_=0;_<2;++_)r=0===_?(e=6*u-12*h+6*f,t=-3*u+9*h-9*f+3*g,3*h-3*u):(e=6*c-12*d+6*p,t=-3*c+9*d-9*p+3*m,3*d-3*c),I(t)<1e-12?I(e)<1e-12||0<(n=-r/e)&&n<1&&v.push(n):(r=A(i=e*e-4*r*t),i<0||(0<(i=(-e+r)/(2*t))&&i<1&&v.push(i),0<(r=(-e-r)/(2*t))&&r<1&&v.push(r)));for(var b,w,M=v.length,o=M;M--;)n=v[M],x[0][M]=b=(w=1-n)*w*w*u+3*w*w*n*h+3*w*n*n*f+n*n*n*g,x[1][M]=w=w*w*w*c+3*w*w*n*d+3*w*n*n*p+n*n*n*m,y[M]={X:b,Y:w};v[o]=0,v[o+1]=1,y[o]={X:u,Y:c},y[o+1]={X:g,Y:m},x[0][o]=u,x[1][o]=c,x[0][o+1]=g,x[1][o+1]=m,v.length=o+2,x[0].length=o+2,x[1].length=o+2,y.length=o+2;a=C.apply(null,x[0]),s=C.apply(null,x[1]),l=S.apply(null,x[0]),o=S.apply(null,x[1]);return new G(a,s,l-a,o-s)},clone:function(){return new x(this.start,this.controlPoint1,this.controlPoint2,this.end)},closestPoint:function(t,e){return this.pointAtT(this.closestPointT(t,e))},closestPointLength:function(t,e){var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,e={precision:n,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:n}):e.subdivisions};return this.lengthAtT(this.closestPointT(t,e),e)},closestPointNormalizedLength:function(t,e){var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,e={precision:n,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:n}):e.subdivisions},t=this.closestPointLength(t,e);if(!t)return 0;e=this.length(e);return 0===e?0:t/e},closestPointT:function(t,e){for(var n,i,r,o,a,s,l=void 0===(e=e||{}).precision?this.PRECISION:e.precision,u=void 0===e.subdivisions?this.getSubdivisions({precision:l}):e.subdivisions,c=u.length,h=c?1/c:0,d=0;d<c;d++){var f=u[d],p=f.start.distance(t),g=f.end.distance(t),m=p+g;(!s||m<s)&&(i=d*h,r=(d+1)*h,o=p,A=g,a=(n=f).start.distance(f.end),s=m)}for(var y=T(10,-l);;){var v=o?I(o-A)/o:0,x=A?I(o-A)/A:0;if(v<y||x<y||(!o||o<a*y||(!A||A<a*y)))return o<=A?i:r;var _=n.divide(.5);h/=2;var b=_[0].start.distance(t),w=_[0].end.distance(t),M=b+w,v=_[1].start.distance(t),x=_[1].end.distance(t),A=M<=v+x?(n=_[0],r-=h,o=b,w):(n=_[1],i+=h,o=v,x)}},closestPointTangent:function(t,e){return this.tangentAtT(this.closestPointT(t,e))},containsPoint:function(t,e){return this.toPolyline(e).containsPoint(t)},divideAt:function(t,e){if(t<=0)return this.divideAtT(0);if(1<=t)return this.divideAtT(1);e=this.tAt(t,e);return this.divideAtT(e)},divideAtLength:function(t,e){e=this.tAtLength(t,e);return this.divideAtT(e)},divideAtT:function(t){var e=this.start,n=this.controlPoint1,i=this.controlPoint2,r=this.end;if(t<=0)return[new x(e,e,e,e),new x(e,n,i,r)];if(1<=t)return[new x(e,n,i,r),new x(r,r,r,r)];var o=this.getSkeletonPoints(t),a=o.startControlPoint1,n=o.startControlPoint2,i=o.divider,t=o.dividerControlPoint1,o=o.dividerControlPoint2;return[new x(e,a,n,i),new x(i,t,o,r)]},endpointDistance:function(){return this.start.distance(this.end)},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.controlPoint1.x===t.controlPoint1.x&&this.controlPoint1.y===t.controlPoint1.y&&this.controlPoint2.x===t.controlPoint2.x&&this.controlPoint2.y===t.controlPoint2.y&&this.end.x===t.end.x&&this.end.y===t.end.y},getSkeletonPoints:function(t){var e=this.start,n=this.controlPoint1,i=this.controlPoint2,r=this.end;if(t<=0)return{startControlPoint1:e.clone(),startControlPoint2:e.clone(),divider:e.clone(),dividerControlPoint1:n.clone(),dividerControlPoint2:i.clone()};if(1<=t)return{startControlPoint1:n.clone(),startControlPoint2:i.clone(),divider:r.clone(),dividerControlPoint1:r.clone(),dividerControlPoint2:r.clone()};e=new M(e,n).pointAt(t),n=new M(n,i).pointAt(t),i=new M(i,r).pointAt(t),r=new M(e,n).pointAt(t),n=new M(n,i).pointAt(t);return{startControlPoint1:e,startControlPoint2:r,divider:new M(r,n).pointAt(t),dividerControlPoint1:n,dividerControlPoint2:i}},getSubdivisions:function(t){var t=void 0===(t=t||{}).precision?this.PRECISION:t.precision,e=[new x(this.start,this.controlPoint1,this.controlPoint2,this.end)];if(0===t)return e;for(var n=this.endpointDistance(),i=T(10,-t),r=0;;){r+=1;for(var o=[],a=e.length,s=0;s<a;s++){var l=e[s].divide(.5);o.push(l[0],l[1])}for(var u=0,c=o.length,h=0;h<c;h++)u+=o[h].endpointDistance();if(1<r&&(0!==u?(u-n)/u:0)<i)return o;e=o,n=u}},isDifferentiable:function(){var t=this.start,e=this.controlPoint1,n=this.controlPoint2,i=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(i))},length:function(t){for(var e=void 0===(t=t||{}).precision?this.PRECISION:t.precision,n=void 0===t.subdivisions?this.getSubdivisions({precision:e}):t.subdivisions,i=0,r=n.length,o=0;o<r;o++)i+=n[o].endpointDistance();return i},lengthAtT:function(t,e){if(t<=0)return 0;e=void 0===(e=e||{}).precision?this.PRECISION:e.precision;return this.divide(t)[0].length({precision:e})},pointAt:function(t,e){if(t<=0)return this.start.clone();if(1<=t)return this.end.clone();e=this.tAt(t,e);return this.pointAtT(e)},pointAtLength:function(t,e){e=this.tAtLength(t,e);return this.pointAtT(e)},pointAtT:function(t){return t<=0?this.start.clone():1<=t?this.end.clone():this.getSkeletonPoints(t).divider},PRECISION:3,scale:function(t,e,n){return this.start.scale(t,e,n),this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},tangentAt:function(t,e){if(!this.isDifferentiable())return null;t<0?t=0:1<t&&(t=1);e=this.tAt(t,e);return this.tangentAtT(e)},tangentAtLength:function(t,e){if(!this.isDifferentiable())return null;e=this.tAtLength(t,e);return this.tangentAtT(e)},tangentAtT:function(t){if(!this.isDifferentiable())return null;t<0?t=0:1<t&&(t=1);var e=this.getSkeletonPoints(t),n=e.startControlPoint2,t=e.dividerControlPoint1,e=e.divider,t=new M(n,t);return t.translate(e.x-n.x,e.y-n.y),t},tAt:function(t,e){if(t<=0)return 0;if(1<=t)return 1;var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:n,subdivisions:void 0===e.subdivisions?this.getSubdivisions({precision:n}):e.subdivisions},e=this.length(n);return this.tAtLength(e*t,n)},tAtLength:function(t,e){var n=!0;t<0&&(n=!1,t=-t);for(var i,r,o,a=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s=void 0===e.subdivisions?this.getSubdivisions({precision:a}):e.subdivisions,e={precision:a,subdivisions:s},l=0,u=s.length,c=1/u,h=0;h<u;h++){var d=n?h:u-1-h,f=s[h],p=f.endpointDistance();if(t<=l+p){i=f,r=d*c,o=(d+1)*c,b=n?t-l:p+l-t,w=n?p+l-t:t-l;break}l+=p}if(!i)return n?1:0;for(var g=this.length(e),m=T(10,-a);;){var y,v=0!==g?b/g:0;if(v<m)return r;if((0!==g?w/g:0)<m)return o;var x=i.divide(.5);c/=2;var _=x[0].endpointDistance(),v=x[1].endpointDistance(),_=b<=_?(i=x[0],o-=c,_-(y=b)):(i=x[1],r+=c,v-(y=b-_)),b=y,w=_}},toPoints:function(t){for(var e=void 0===(t=t||{}).precision?this.PRECISION:t.precision,n=void 0===t.subdivisions?this.getSubdivisions({precision:e}):t.subdivisions,i=[n[0].start.clone()],r=n.length,o=0;o<r;o++){var a=n[o];i.push(a.end.clone())}return i},toPolyline:function(t){return new R(this.toPoints(t))},toString:function(){return this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.start.translate(t,e),this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}},x.prototype.divide=x.prototype.divideAtT;var w=function(t,e,n){return this instanceof w?t instanceof w?new w(new Y(t.x,t.y),t.a,t.b):(t=new Y(t),this.x=t.x,this.y=t.y,this.a=e,void(this.b=n)):new w(t,e,n)};w.fromRect=function(t){return t=new G(t),new w(t.center(),t.width/2,t.height/2)},w.prototype={bbox:function(){return new G(this.x-this.a,this.y-this.b,2*this.a,2*this.b)},center:function(){return new Y(this.x,this.y)},clone:function(){return new w(this)},containsPoint:function(t){return this.normalizedDistance(t)<=1},equals:function(t){return!!t&&t.x===this.x&&t.y===this.y&&t.a===this.a&&t.b===this.b},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.a+=2*t,this.b+=2*e,this},intersectionWithLine:function(t){var e=[],n=t.start,i=t.end,r=this.a,o=this.b,a=t.vector(),s=n.difference(new Y(this)),t=new Y(a.x/(r*r),a.y/(o*o)),o=new Y(s.x/(r*r),s.y/(o*o)),t=a.dot(t),a=a.dot(o),s=a*a-t*(s.dot(o)-1);if(s<0)return null;if(0<s){o=A(s),s=(-a-o)/t,o=(-a+o)/t;if((s<0||1<s)&&(o<0||1<o))return null;0<=s&&s<=1&&e.push(n.lerp(i,s)),0<=o&&o<=1&&e.push(n.lerp(i,o))}else{t=-a/t;if(!(0<=t&&t<=1))return null;e.push(n.lerp(i,t))}return e},intersectionWithLineFromCenterToPoint:function(t,e){t=new Y(t),e&&t.rotate(new Y(this.x,this.y),e);var n=t.x-this.x,i=t.y-this.y;if(0==n)return o=this.bbox().pointNearestToPoint(t),e?o.rotate(new Y(this.x,this.y),-e):o;var r=i/n,t=this.a*this.a,i=this.b*this.b,i=A(1/(1/t+r*r/i)),i=n<0?-i:i,o=new Y(this.x+i,this.y+r*i);return e?o.rotate(new Y(this.x,this.y),-e):o},normalizedDistance:function(t){var e=t.x,n=t.y,i=this.a,r=this.b,o=this.x,t=this.y;return(e-o)*(e-o)/(i*i)+(n-t)*(n-t)/(r*r)},tangentTheta:function(t){var e,n,i=t.x,r=t.y,o=this.a,a=this.b,s=this.bbox().center(),l=s.x,u=s.y,c=i>s.x+o/2,h=i<s.x-o/2;return c||h?n=o*o/(i-l)-o*o*(r-u)*((e=i>s.x?r-30:r+30)-u)/(a*a*(i-l))+l:e=a*a/(r-u)-a*a*(i-l)*((n=r>s.y?i+30:i-30)-l)/(o*o*(r-u))+u,new Y(n,e).theta(t)},toString:function(){return new Y(this.x,this.y).toString()+" "+this.a+" "+this.b}};var M=function(t,e){return this instanceof M?t instanceof M?new M(t.start,t.end):(this.start=new Y(t),void(this.end=new Y(e))):new M(t,e)};M.prototype={angle:function(){var t=new g.Point(this.start.x+1,this.start.y);return this.start.angleBetween(this.end,t)},bbox:function(){var t=C(this.start.x,this.end.x),e=C(this.start.y,this.end.y),n=S(this.start.x,this.end.x),i=S(this.start.y,this.end.y);return new G(t,e,n-t,i-e)},bearing:function(){var t=N(this.start.y),e=N(this.end.y),n=this.start.x,i=this.end.x,i=N(i-n),n=d(i)*h(e),i=h(t)*d(e)-d(t)*h(e)*h(i),i=F(f(n,i))-22.5;return i<0&&(i+=360),["NE","E","SE","S","SW","W","NW","N"][i=parseInt(i/45)]},clone:function(){return new M(this.start,this.end)},closestPoint:function(t){return this.pointAt(this.closestPointNormalizedLength(t))},closestPointLength:function(t){return this.closestPointNormalizedLength(t)*this.length()},closestPointNormalizedLength:function(t){t=this.vector().dot(new M(this.start,t).vector()),t=C(1,S(0,t/this.squaredLength()));return t!=t?0:t},closestPointTangent:function(t){return this.tangentAt(this.closestPointNormalizedLength(t))},containsPoint:function(t){var e=this.start,n=this.end;if(0!==e.cross(t,n))return!1;var i=this.length();return!(new g.Line(e,t).length()>i)&&!(new g.Line(t,n).length()>i)},divideAt:function(t){t=this.pointAt(t);return[new M(this.start,t),new M(t,this.end)]},divideAtLength:function(t){t=this.pointAtLength(t);return[new M(this.start,t),new M(t,this.end)]},equals:function(t){return!!t&&this.start.x===t.start.x&&this.start.y===t.start.y&&this.end.x===t.end.x&&this.end.y===t.end.y},intersect:function(t,e){if(t instanceof M||t instanceof G||t instanceof R||t instanceof w||t instanceof j){e=t.intersectionWithLine(this,e);return e=e&&t instanceof M?e[0]:e}return null},intersectionWithLine:function(t){var e=new Y(this.end.x-this.start.x,this.end.y-this.start.y),n=new Y(t.end.x-t.start.x,t.end.y-t.start.y),i=e.x*n.y-e.y*n.x,t=new Y(t.start.x-this.start.x,t.start.y-this.start.y),n=t.x*n.y-t.y*n.x,t=t.x*e.y-t.y*e.x;if(0==i||n*i<0||t*i<0)return null;if(0<i){if(i<n||i<t)return null}else if(n<i||t<i)return null;return[new Y(this.start.x+n*e.x/i,this.start.y+n*e.y/i)]},isDifferentiable:function(){return!this.start.equals(this.end)},length:function(){return A(this.squaredLength())},midpoint:function(){return new Y((this.start.x+this.end.x)/2,(this.start.y+this.end.y)/2)},pointAt:function(t){var e=this.start,n=this.end;return t<=0?e.clone():1<=t?n.clone():e.lerp(n,t)},pointAtLength:function(t){var e=this.start,n=this.end,i=!0;t<0&&(i=!1,t=-t);var r=this.length();return r<=t?(i?n:e).clone():this.pointAt((i?t:r-t)/r)},pointOffset:function(t){t=new g.Point(t);var e=this.start,n=this.end;return((n.x-e.x)*(t.y-e.y)-(n.y-e.y)*(t.x-e.x))/this.length()},rotate:function(t,e){return this.start.rotate(t,e),this.end.rotate(t,e),this},round:function(t){t=T(10,t||0);return this.start.x=p(this.start.x*t)/t,this.start.y=p(this.start.y*t)/t,this.end.x=p(this.end.x*t)/t,this.end.y=p(this.end.y*t)/t,this},scale:function(t,e,n){return this.start.scale(t,e,n),this.end.scale(t,e,n),this},setLength:function(t){var e=this.length();if(!e)return this;e=t/e;return this.scale(e,e,this.start)},squaredLength:function(){var t=this.start.x,e=this.start.y;return(t-=this.end.x)*t+(e-=this.end.y)*e},tangentAt:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,t=this.pointAt(t),n=new M(e,n);return n.translate(t.x-e.x,t.y-e.y),n},tangentAtLength:function(t){if(!this.isDifferentiable())return null;var e=this.start,n=this.end,t=this.pointAtLength(t),n=new M(e,n);return n.translate(t.x-e.x,t.y-e.y),n},toString:function(){return this.start.toString()+" "+this.end.toString()},translate:function(t,e){return this.start.translate(t,e),this.end.translate(t,e),this},vector:function(){return new Y(this.end.x-this.start.x,this.end.y-this.start.y)}},M.prototype.intersection=M.prototype.intersect;var j=function(t){if(!(this instanceof j))return new j(t);if("string"==typeof t)return new j.parse(t);var e;if(this.segments=[],t)if(Array.isArray(t)&&0!==t.length)if(e=(t=t.reduce(function(t,e){return t.concat(e)},[])).length,t[0].isSegment)for(r=0;r<e;r++){var n=t[r];this.appendSegment(n)}else for(var i=null,r=0;r<e;r++){var o=t[r];if(!(o instanceof M||o instanceof x))throw new Error("Cannot construct a path segment from the provided object.");0===r&&this.appendSegment(j.createSegment("M",o.start)),i&&!i.end.equals(o.start)&&this.appendSegment(j.createSegment("M",o.start)),o instanceof M?this.appendSegment(j.createSegment("L",o.end)):o instanceof x&&this.appendSegment(j.createSegment("C",o.controlPoint1,o.controlPoint2,o.end)),i=o}else if(t.isSegment)this.appendSegment(t);else if(t instanceof M)this.appendSegment(j.createSegment("M",t.start)),this.appendSegment(j.createSegment("L",t.end));else if(t instanceof x)this.appendSegment(j.createSegment("M",t.start)),this.appendSegment(j.createSegment("C",t.controlPoint1,t.controlPoint2,t.end));else{if(!(t instanceof R))throw new Error("Cannot construct a path from the provided object.");if(t.points&&0!==t.points.length)for(e=t.points.length,r=0;r<e;r++){var a=t.points[r];0===r?this.appendSegment(j.createSegment("M",a)):this.appendSegment(j.createSegment("L",a))}}else;};j.parse=function(t){if(!t)return new j;for(var e=new j,n=t.match(/(?:[a-zA-Z] *)(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)? *,? *)|(?:-?\.\d+ *,? *))+|(?:[a-zA-Z] *)(?! |\d|-|\.)/g),i=n.length,r=0;r<i;r++){var o=n[r].match(/(?:[a-zA-Z])|(?:(?:-?\d+(?:\.\d+)?(?:e[-+]?\d+)?))|(?:(?:-?\.\d+))/g),o=j.createSegment.apply(this,o);e.appendSegment(o)}return e},j.createSegment=function(t){var e=arguments;if(!t)throw new Error("Type must be provided.");var n=j.segmentTypes[t];if(!n)throw new Error(t+" is not a recognized path segment type.");for(var i=[],r=arguments.length,o=1;o<r;o++)i.push(e[o]);return z(n,i)},j.prototype={appendSegment:function(t){var e=this.segments,n=e.length,i=0!==n?e[n-1]:null;if(Array.isArray(t)){if(!(t=t.reduce(function(t,e){return t.concat(e)},[]))[0].isSegment)throw new Error("Segments required.");for(var r=t.length,o=0;o<r;o++){var a=t[o],s=this.prepareSegment(a,i,null);e.push(s),i=s}}else{if(!t||!t.isSegment)throw new Error("Segment required.");s=this.prepareSegment(t,i,null),e.push(s)}},bbox:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var n=0;n<e;n++){var i,r=t[n];r.isVisible&&(r=r.bbox(),i=i?i.union(r):r)}if(i)return i;var o=t[e-1];return new G(o.end.x,o.end.y,0,0)},clone:function(){for(var t=this.segments,e=t.length,n=new j,i=0;i<e;i++){var r=t[i].clone();n.appendSegment(r)}return n},closestPoint:function(t,e){e=this.closestPointT(t,e);return e?this.pointAtT(e):null},closestPointLength:function(t,e){var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,e={precision:n,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions},t=this.closestPointT(t,e);return t?this.lengthAtT(t,e):0},closestPointNormalizedLength:function(t,e){var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,e={precision:n,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions},t=this.closestPointLength(t,e);if(0===t)return 0;e=this.length(e);return 0===e?0:t/e},closestPointT:function(t,e){var n=this.segments,i=n.length;if(0===i)return null;for(var r,o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,a=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s=1/0,l=0;l<i;l++){var u=n[l],c=a[l];u.isVisible&&(c=u.closestPointT(t,{precision:o,subdivisions:c}),u=u.pointAtT(c),(u=new M(u,t).squaredLength())<s&&(r={segmentIndex:l,value:c},s=u))}return r||{segmentIndex:i-1,value:1}},closestPointTangent:function(t,e){var n=this.segments,i=n.length;if(0===i)return null;for(var r,o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,a=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s=1/0,l=0;l<i;l++){var u,c=n[l],h=a[l];c.isDifferentiable()&&(u=c.closestPointT(t,{precision:o,subdivisions:h}),h=c.pointAtT(u),(h=new M(h,t).squaredLength())<s&&(r=c.tangentAtT(u),s=h))}return r||null},containsPoint:function(t,e){var n=this.toPolylines(e);if(!n)return!1;for(var i=n.length,r=0,o=0;o<i;o++)n[o].containsPoint(t)&&r++;return r%2==1},divideAt:function(t,e){if(0===this.segments.length)return null;1<(t=t<0?0:t)&&(t=1);var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:n,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions},e=this.length(n);return this.divideAtLength(e*t,n)},divideAtLength:function(t,e){var n=this.segments.length;if(0===n)return null;var i=!0;t<0&&(i=!1,t=-t);for(var r,o,a,s,l=void 0===(e=e||{}).precision?this.PRECISION:e.precision,u=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:l}):e.segmentSubdivisions,c=0,h=0;h<n;h++){var d=i?h:n-1-h,f=this.getSegment(d),p=u[d],m=f.length({precision:l,subdivisions:p});if(f.isDifferentiable()&&(a=f,s=d,t<=c+m)){o=d,r=f.divideAtLength((i?1:-1)*(t-c),{precision:l,subdivisions:p});break}c+=m}if(!a)return null;r||(o=s,r=a.divideAtT(i?1:0));var y=this.clone();y.replaceSegment(o,r);var v=o,x=o+1,_=o+2;r[0].isDifferentiable()||(y.removeSegment(v),--x,--_);e=y.getSegment(x).start;y.insertSegment(x,g.Path.createSegment("M",e)),_+=1,r[1].isDifferentiable()||(y.removeSegment(_-1),--_);var b=_-v-1;for(h=_;h<y.segments.length;h++){var w=this.getSegment(h-b);"Z"!==(f=y.getSegment(h)).type||w.subpathStartSegment.end.equals(f.subpathStartSegment.end)||(w=g.Path.createSegment("L",w.end),y.replaceSegment(h,w))}return[new j(y.segments.slice(0,x)),new j(y.segments.slice(x))]},equals:function(t){if(!t)return!1;var e=this.segments,n=t.segments,i=e.length;if(n.length!==i)return!1;for(var r=0;r<i;r++){var o=e[r],a=n[r];if(o.type!==a.type||!o.equals(a))return!1}return!0},getSegment:function(t){var e=this.segments,n=e.length;if(0===n)throw new Error("Path has no segments.");if(n<=(t=t<0?n+t:t)||t<0)throw new Error("Index out of range.");return e[t]},getSegmentSubdivisions:function(t){for(var e=this.segments,n=e.length,i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=[],o=0;o<n;o++){var a=e[o].getSubdivisions({precision:i});r.push(a)}return r},insertSegment:function(t,e){var n=this.segments,i=n.length;if(i<(t=t<0?i+t+1:t)||t<0)throw new Error("Index out of range.");var r=null,o=null;if(0!==i&&(o=1<=t?(r=n[t-1]).nextSegment:n[0]),Array.isArray(e)){if(!(e=e.reduce(function(t,e){return t.concat(e)},[]))[0].isSegment)throw new Error("Segments required.");for(var a=e.length,s=0;s<a;s++){var l=e[s],u=this.prepareSegment(l,r,o);n.splice(t+s,0,u),r=u}}else{if(!e||!e.isSegment)throw new Error("Segment required.");u=this.prepareSegment(e,r,o),n.splice(t,0,u)}},intersectionWithLine:function(t,e){var n=null,i=this.toPolylines(e);if(!i)return null;for(var r=0,o=i.length;r<o;r++){var a=i[r],a=t.intersect(a);a&&(n=n||[],Array.isArray(a)?Array.prototype.push.apply(n,a):n.push(a))}return n},isDifferentiable:function(){for(var t=this.segments,e=t.length,n=0;n<e;n++)if(t[n].isDifferentiable())return!0;return!1},isValid:function(){var t=this.segments;return 0===t.length||"M"===t[0].type},length:function(t){var e=this.segments,n=e.length;if(0===n)return 0;for(var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,o=0,a=0;a<n;a++){var s=e[a],l=r[a];o+=s.length({subdivisions:l})}return o},lengthAtT:function(t,e){var n=this.segments,i=n.length;if(0===i)return 0;var r=t.segmentIndex;if(r<0)return 0;t=t.value;i<=r?(r=i-1,t=1):t<0?t=0:1<t&&(t=1);for(var o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,a=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s=0,l=0;l<r;l++){var u=n[l],c=a[l];s+=u.length({precisison:o,subdivisions:c})}return u=n[r],c=a[r],s+=u.lengthAtT(t,{precisison:o,subdivisions:c})},pointAt:function(t,e){if(0===this.segments.length)return null;if(t<=0)return this.start.clone();if(1<=t)return this.end.clone();var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:n,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions},e=this.length(n);return this.pointAtLength(e*t,n)},pointAtLength:function(t,e){var n=this.segments,i=n.length;if(0===i)return null;if(0===t)return this.start.clone();var r=!0;t<0&&(r=!1,t=-t);for(var o,a=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:a}):e.segmentSubdivisions,l=0,u=0;u<i;u++){var c=r?u:i-1-u,h=n[c],d=s[c],c=h.length({precision:a,subdivisions:d});if(h.isVisible){if(t<=l+c)return h.pointAtLength((r?1:-1)*(t-l),{precision:a,subdivisions:d});o=h}l+=c}return o?r?o.end:o.start:n[i-1].end.clone()},pointAtT:function(t){var e=this.segments,n=e.length;if(0===n)return null;var i=t.segmentIndex;if(i<0)return e[0].pointAtT(0);if(n<=i)return e[n-1].pointAtT(1);t=t.value;return t<0?t=0:1<t&&(t=1),e[i].pointAtT(t)},PRECISION:3,prepareSegment:function(t,e,n){t.previousSegment=e,t.nextSegment=n,e&&(e.nextSegment=t),n&&(n.previousSegment=t);e=t;return t.isSubpathStart&&(t.subpathStartSegment=t,e=n),e&&this.updateSubpathStartSegment(e),t},removeSegment:function(t){var e=this.segments,n=e.length;if(0===n)throw new Error("Path has no segments.");if(n<=(t=t<0?n+t:t)||t<0)throw new Error("Index out of range.");n=e.splice(t,1)[0],e=n.previousSegment,t=n.nextSegment;e&&(e.nextSegment=t),t&&(t.previousSegment=e),n.isSubpathStart&&t&&this.updateSubpathStartSegment(t)},replaceSegment:function(t,e){var n=this.segments,i=n.length;if(0===i)throw new Error("Path has no segments.");if(i<=(t=t<0?i+t:t)||t<0)throw new Error("Index out of range.");var i=n[t],r=i.previousSegment,o=i.nextSegment,a=i.isSubpathStart;if(Array.isArray(e)){if(!(e=e.reduce(function(t,e){return t.concat(e)},[]))[0].isSegment)throw new Error("Segments required.");n.splice(t,1);for(var s=e.length,l=0;l<s;l++){var u=e[l],c=this.prepareSegment(u,r,o);n.splice(t+l,0,c),r=c,a&&c.isSubpathStart&&(a=!1)}}else{if(!e||!e.isSegment)throw new Error("Segment required.");c=this.prepareSegment(e,r,o),n.splice(t,1,c),a&&c.isSubpathStart&&(a=!1)}a&&o&&this.updateSubpathStartSegment(o)},scale:function(t,e,n){for(var i=this.segments,r=i.length,o=0;o<r;o++)i[o].scale(t,e,n);return this},segmentAt:function(t,e){e=this.segmentIndexAt(t,e);return e?this.getSegment(e):null},segmentAtLength:function(t,e){e=this.segmentIndexAtLength(t,e);return e?this.getSegment(e):null},segmentIndexAt:function(t,e){if(0===this.segments.length)return null;1<(t=t<0?0:t)&&(t=1);var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:n,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions},e=this.length(n);return this.segmentIndexAtLength(e*t,n)},segmentIndexAtLength:function(t,e){var n=this.segments,i=n.length;if(0===i)return null;var r=!0;t<0&&(r=!1,t=-t);for(var o=void 0===(e=e||{}).precision?this.PRECISION:e.precision,a=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:o}):e.segmentSubdivisions,s=null,l=0,u=0;u<i;u++){var c=r?u:i-1-u,h=n[c],d=a[c],d=h.length({precision:o,subdivisions:d});if(h.isVisible){if(t<=l+d)return c;s=c}l+=d}return s},serialize:function(){if(!this.isValid())throw new Error("Invalid path segments.");return this.toString()},tangentAt:function(t,e){if(0===this.segments.length)return null;1<(t=t<0?0:t)&&(t=1);var n=void 0===(e=e||{}).precision?this.PRECISION:e.precision,n={precision:n,segmentSubdivisions:void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:n}):e.segmentSubdivisions},e=this.length(n);return this.tangentAtLength(e*t,n)},tangentAtLength:function(t,e){var n=this.segments,i=n.length;if(0===i)return null;var r=!0;t<0&&(r=!1,t=-t);for(var o,a=void 0===(e=e||{}).precision?this.PRECISION:e.precision,s=void 0===e.segmentSubdivisions?this.getSegmentSubdivisions({precision:a}):e.segmentSubdivisions,l=0,u=0;u<i;u++){var c=r?u:i-1-u,h=n[c],d=s[c],c=h.length({precision:a,subdivisions:d});if(h.isDifferentiable()){if(t<=l+c)return h.tangentAtLength((r?1:-1)*(t-l),{precision:a,subdivisions:d});o=h}l+=c}return o?o.tangentAtT(r?1:0):null},tangentAtT:function(t){var e=this.segments,n=e.length;if(0===n)return null;var i=t.segmentIndex;if(i<0)return e[0].tangentAtT(0);if(n<=i)return e[n-1].tangentAtT(1);t=t.value;return t<0?t=0:1<t&&(t=1),e[i].tangentAtT(t)},toPoints:function(t){var e=this.segments,n=e.length;if(0===n)return null;for(var i=void 0===(t=t||{}).precision?this.PRECISION:t.precision,r=void 0===t.segmentSubdivisions?this.getSegmentSubdivisions({precision:i}):t.segmentSubdivisions,o=[],a=[],s=0;s<n;s++){var l,u=e[s];u.isVisible?0<(l=r[s]).length?(l=l.map(function(t){return t.start}),Array.prototype.push.apply(a,l)):a.push(u.start):0<a.length&&(a.push(e[s-1].end),o.push(a),a=[])}return 0<a.length&&(a.push(this.end),o.push(a)),o},toPolylines:function(t){var e=[],n=this.toPoints(t);if(!n)return null;for(var i=0,r=n.length;i<r;i++)e.push(new R(n[i]));return e},toString:function(){for(var t=this.segments,e=t.length,n="",i=0;i<e;i++)n+=t[i].serialize()+" ";return n.trim()},translate:function(t,e){for(var n=this.segments,i=n.length,r=0;r<i;r++)n[r].translate(t,e);return this},updateSubpathStartSegment:function(t){for(var e=t.previousSegment;t&&!t.isSubpathStart;)t.subpathStartSegment=e?e.subpathStartSegment:null,t=(e=t).nextSegment}},Object.defineProperty(j.prototype,"start",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var n=0;n<e;n++){var i=t[n];if(i.isVisible)return i.start}return t[e-1].end}}),Object.defineProperty(j.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.segments,e=t.length;if(0===e)return null;for(var n=e-1;0<=n;n--){var i=t[n];if(i.isVisible)return i.end}return t[e-1].end}});var Y=function(t,e){if(!(this instanceof Y))return new Y(t,e);var n;"string"==typeof t?(n=t.split(-1===t.indexOf("@")?" ":"@"),t=parseFloat(n[0]),e=parseFloat(n[1])):Object(t)===t&&(e=t.y,t=t.x),this.x=void 0===t?0:t,this.y=void 0===e?0:e};Y.fromPolar=function(t,e,n){n=n&&new Y(n)||new Y(0,0);var i=I(t*h(e)),t=I(t*d(e)),e=B(F(e));return e<90?t=-t:e<180?(i=-i,t=-t):e<270&&(i=-i),new Y(n.x+i,n.y+t)},Y.random=function(t,e,n,i){return new Y(L(t,e),L(n,i))},Y.prototype={chooseClosest:function(t){var e=t.length;if(1===e)return new Y(t[0]);for(var n=null,i=1/0,r=0;r<e;r++){var o=new Y(t[r]),a=this.squaredDistance(o);a<i&&(n=o,i=a)}return n},adhereToRect:function(t){return t.containsPoint(this)||(this.x=C(S(this.x,t.x),t.x+t.width),this.y=C(S(this.y,t.y),t.y+t.height)),this},angleBetween:function(t,e){t=this.equals(t)||this.equals(e)?NaN:this.theta(e)-this.theta(t);return t<0&&(t+=360),t},bearing:function(t){return new M(this,t).bearing()},changeInAngle:function(t,e,n){return this.clone().offset(-t,-e).theta(n)-this.theta(n)},clone:function(){return new Y(this)},cross:function(t,e){return t&&e?(e.x-this.x)*(t.y-this.y)-(e.y-this.y)*(t.x-this.x):NaN},difference:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),new Y(this.x-(t||0),this.y-(e||0))},distance:function(t){return new M(this,t).length()},dot:function(t){return t?this.x*t.x+this.y*t.y:NaN},equals:function(t){return!!t&&this.x===t.x&&this.y===t.y},lerp:function(t,e){var n=this.x,i=this.y;return new Y((1-e)*n+e*t.x,(1-e)*i+e*t.y)},magnitude:function(){return A(this.x*this.x+this.y*this.y)||.01},manhattanDistance:function(t){return I(t.x-this.x)+I(t.y-this.y)},move:function(t,e){t=N(new Y(t).theta(this));return this.offset(h(t)*e,-d(t)*e)},normalize:function(t){t=(t||1)/this.magnitude();return this.scale(t,t)},offset:function(t,e){return Object(t)===t&&(e=t.y,t=t.x),this.x+=t||0,this.y+=e||0,this},reflection:function(t){return new Y(t).move(this,this.distance(t))},rotate:function(t,e){t=t||new g.Point(0,0),e=N(B(-e));var n=h(e),i=d(e),e=n*(this.x-t.x)-i*(this.y-t.y)+t.x,t=i*(this.x-t.x)+n*(this.y-t.y)+t.y;return this.x=e,this.y=t,this},round:function(t){t=T(10,t||0);return this.x=p(this.x*t)/t,this.y=p(this.y*t)/t,this},scale:function(t,e,n){return n=n&&new Y(n)||new Y(0,0),this.x=n.x+t*(this.x-n.x),this.y=n.y+e*(this.y-n.y),this},snapToGrid:function(t,e){return this.x=D(this.x,t),this.y=D(this.y,e||t),this},squaredDistance:function(t){return new M(this,t).squaredLength()},theta:function(t){var e=-((t=new Y(t)).y-this.y),t=t.x-this.x,t=f(e,t);return 180*(t=t<0?2*y+t:t)/y},toJSON:function(){return{x:this.x,y:this.y}},toPolar:function(t){t=t&&new Y(t)||new Y(0,0);var e=this.x,n=this.y;return this.x=A((e-t.x)*(e-t.x)+(n-t.y)*(n-t.y)),this.y=N(t.theta(new Y(e,n))),this},toString:function(){return this.x+"@"+this.y},update:function(t,e){return this.x=t||0,this.y=e||0,this},vectorAngle:function(t){return new Y(0,0).angleBetween(this,t)}},Y.prototype.translate=Y.prototype.offset;var R=function(t){return this instanceof R?"string"==typeof t?new R.parse(t):void(this.points=Array.isArray(t)?t.map(Y):[]):new R(t)};R.parse=function(t){if(""===(t=t.trim()))return new R;for(var e=[],n=t.split(/\s*,\s*|\s+/),i=n.length,r=0;r<i;r+=2)e.push({x:+n[r],y:+n[r+1]});return new R(e)},R.prototype={bbox:function(){var t=1/0,e=-1/0,n=1/0,i=-1/0,r=this.points,o=r.length;if(0===o)return null;for(var a=0;a<o;a++){var s=r[a],l=s.x,s=s.y;l<t&&(t=l),e<l&&(e=l),s<n&&(n=s),i<s&&(i=s)}return new G(t,n,e-t,i-n)},clone:function(){var t=this.points,e=t.length;if(0===e)return new R;for(var n=[],i=0;i<e;i++){var r=t[i].clone();n.push(r)}return new R(n)},closestPoint:function(t){t=this.closestPointLength(t);return this.pointAtLength(t)},closestPointLength:function(t){var e,n=this.points,i=n.length;if(0===i)return 0;if(1===i)return 0;for(var r=1/0,o=0,a=i-1,s=0;s<a;s++){var l=new M(n[s],n[s+1]),u=l.length(),c=l.closestPointNormalizedLength(t),l=l.pointAt(c).squaredDistance(t);l<r&&(r=l,e=o+c*u),o+=u}return e},closestPointNormalizedLength:function(t){var e=this.closestPointLength(t);if(0===e)return 0;t=this.length();return 0===t?0:e/t},closestPointTangent:function(t){t=this.closestPointLength(t);return this.tangentAtLength(t)},containsPoint:function(t){var e=this.points,n=e.length;if(0===n)return!1;for(var i=t.x,r=t.y,o=n-1,a=0,s=0;a<n;a++){var l=e[o],u=e[a];if(t.equals(l))return!0;var c=new M(l,u);if(c.containsPoint(t))return!0;!(r<=l.y&&r>u.y||r>l.y&&r<=u.y)||0<=(u=l.x-i>u.x-i?l.x-i:u.x-i)&&(u=new Y(i+u,r),u=new M(t,u),c.intersect(u)&&s++),o=a}return s%2==1},convexHull:function(){var t,e=this.points,n=e.length;if(0===n)return new R;for(r=0;r<n;r++)(void 0===t||e[r].y<t.y||e[r].y===t.y&&e[r].x>t.x)&&(t=e[r]);for(var i=[],r=0;r<n;r++){var o=t.theta(e[r]);0===o&&(o=360);o=[e[r],r,o];i.push(o)}i.sort(function(t,e){var n=t[2]-e[2];return n=0===n?e[1]-t[1]:n}),2<i.length&&(b=i[i.length-1],i.unshift(b));for(var a,s,l,u={},c=[];0!==i.length;)if(s=(a=i.pop())[0],!u.hasOwnProperty(a[0]+"@@"+a[1]))for(var h,d,f,p,g,m=!1;!m;)c.length<2?(c.push(a),m=!0):(d=(h=c.pop())[0],(g=(p=(f=c.pop())[0]).cross(d,s))<0?(c.push(f),c.push(h),c.push(a),m=!0):0===g?(g=d.angleBetween(p,s),I(g-180)<1e-10||d.equals(s)||p.equals(d)?(u[h[0]+"@@"+h[1]]=d,c.push(f)):I((g+1)%360-1)<1e-10&&(c.push(f),i.push(h))):(u[h[0]+"@@"+h[1]]=d,c.push(f)));2<c.length&&c.pop();var y=-1,v=c.length;for(r=0;r<v;r++){var x=c[r][1];(void 0===l||x<l)&&(l=x,y=r)}var _,b,w=[],M=[];for(v=(w=0<y?(_=c.slice(y),b=c.slice(0,y),_.concat(b)):c).length,r=0;r<v;r++)M.push(w[r][0]);return new R(M)},equals:function(t){if(!t)return!1;var e=this.points,n=t.points,i=e.length;if(n.length!==i)return!1;for(var r=0;r<i;r++){var o=e[r],a=t.points[r];if(!o.equals(a))return!1}return!0},intersectionWithLine:function(t){for(var e=new M(t),n=[],i=this.points,r=0,o=i.length-1;r<o;r++){var a=i[r],s=i[r+1],s=new M(a,s),s=e.intersectionWithLine(s);s&&n.push(s[0])}return 0<n.length?n:null},isDifferentiable:function(){var t=this.points,e=t.length;if(0===e)return!1;for(var n=e-1,i=0;i<n;i++){var r=t[i],o=t[i+1];if(new M(r,o).isDifferentiable())return!0}return!1},length:function(){var t=this.points,e=t.length;if(0===e)return 0;for(var n=0,i=e-1,r=0;r<i;r++)n+=t[r].distance(t[r+1]);return n},pointAt:function(t){var e=this.points,n=e.length;if(0===n)return null;if(1===n)return e[0].clone();if(t<=0)return e[0].clone();if(1<=t)return e[n-1].clone();n=this.length();return this.pointAtLength(n*t)},pointAtLength:function(t){var e=this.points,n=e.length;if(0===n)return null;if(1===n)return e[0].clone();var i=!0;t<0&&(i=!1,t=-t);for(var r=0,o=n-1,a=0;a<o;a++){var s=i?a:o-1-a,l=e[s],u=e[s+1],s=new M(l,u),u=l.distance(u);if(t<=r+u)return s.pointAtLength((i?1:-1)*(t-r));r+=u}return(i?e[n-1]:e[0]).clone()},scale:function(t,e,n){var i=this.points,r=i.length;if(0===r)return this;for(var o=0;o<r;o++)i[o].scale(t,e,n);return this},tangentAt:function(t){var e=this.points.length;if(0===e)return null;if(1===e)return null;1<(t=t<0?0:t)&&(t=1);e=this.length();return this.tangentAtLength(e*t)},tangentAtLength:function(t){var e=this.points,n=e.length;if(0===n)return null;if(1===n)return null;var i,r=!0;t<0&&(r=!1,t=-t);for(var o=0,a=n-1,s=0;s<a;s++){var l=r?s:a-1-s,u=e[l],c=e[l+1],l=new M(u,c),c=u.distance(c);if(l.isDifferentiable()){if(t<=o+c)return l.tangentAtLength((r?1:-1)*(t-o));i=l}o+=c}return i?i.tangentAt(r?1:0):null},toString:function(){return this.points+""},translate:function(t,e){var n=this.points,i=n.length;if(0===i)return this;for(var r=0;r<i;r++)n[r].translate(t,e);return this},serialize:function(){var t=this.points,e=t.length;if(0===e)return"";for(var n="",i=0;i<e;i++){var r=t[i];n+=r.x+","+r.y+" "}return n.trim()}},Object.defineProperty(R.prototype,"start",{configurable:!0,enumerable:!0,get:function(){return 0===this.points.length?null:this.points[0]}}),Object.defineProperty(R.prototype,"end",{configurable:!0,enumerable:!0,get:function(){var t=this.points.length;return 0===t?null:this.points[t-1]}});var G=function(t,e,n,i){if(!(this instanceof G))return new G(t,e,n,i);Object(t)===t&&(e=t.y,n=t.width,i=t.height,t=t.x),this.x=void 0===t?0:t,this.y=void 0===e?0:e,this.width=void 0===n?0:n,this.height=void 0===i?0:i};G.fromEllipse=function(t){return t=new w(t),new G(t.x-t.a,t.y-t.b,2*t.a,2*t.b)},G.prototype={bbox:function(t){if(!t)return this.clone();var e=N(t),n=I(d(e)),t=I(h(e)),e=this.width*t+this.height*n,t=this.width*n+this.height*t;return new G(this.x+(this.width-e)/2,this.y+(this.height-t)/2,e,t)},bottomLeft:function(){return new Y(this.x,this.y+this.height)},bottomLine:function(){return new M(this.bottomLeft(),this.bottomRight())},bottomMiddle:function(){return new Y(this.x+this.width/2,this.y+this.height)},center:function(){return new Y(this.x+this.width/2,this.y+this.height/2)},clone:function(){return new G(this)},containsPoint:function(t){return(t=new Y(t)).x>=this.x&&t.x<=this.x+this.width&&t.y>=this.y&&t.y<=this.y+this.height},containsRect:function(t){var e=new G(this).normalize(),n=new G(t).normalize(),i=e.width,r=e.height,o=n.width,a=n.height;if(!(i&&r&&o&&a))return!1;var s=e.x,t=e.y,e=n.x,n=n.y;return o+=e,i+=s,a+=n,r+=t,s<=e&&o<=i&&t<=n&&a<=r},corner:function(){return new Y(this.x+this.width,this.y+this.height)},equals:function(t){var e=new G(this).normalize(),t=new G(t).normalize();return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},inflate:function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},intersect:function(t){var e=this.origin(),n=this.corner(),i=t.origin(),r=t.corner();if(r.x<=e.x||r.y<=e.y||i.x>=n.x||i.y>=n.y)return null;t=S(e.x,i.x),i=S(e.y,i.y);return new G(t,i,C(n.x,r.x)-t,C(n.y,r.y)-i)},intersectionWithLine:function(t){for(var e,n=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],i=[],r=[],o=n.length,a=0;a<o;a++)null!==(e=t.intersect(n[a]))&&r.indexOf(e.toString())<0&&(i.push(e),r.push(e.toString()));return 0<i.length?i:null},intersectionWithLineFromCenterToPoint:function(t,e){t=new Y(t);var n,i=new Y(this.x+this.width/2,this.y+this.height/2);e&&t.rotate(i,e);for(var r=[this.topLine(),this.rightLine(),this.bottomLine(),this.leftLine()],o=new M(i,t),a=r.length-1;0<=a;--a){var s=r[a].intersection(o);if(null!==s){n=s;break}}return n&&e&&n.rotate(i,-e),n},leftLine:function(){return new M(this.topLeft(),this.bottomLeft())},leftMiddle:function(){return new Y(this.x,this.y+this.height/2)},maxRectScaleToFit:function(t,e){var n,i,r,o,a,s,l;t=new G(t);var u=(e=e||t.center()).x,c=e.y,h=n=i=r=o=a=s=l=1/0,e=t.topLeft();e.x<u&&(h=(this.x-u)/(e.x-u)),e.y<c&&(o=(this.y-c)/(e.y-c));e=t.bottomRight();e.x>u&&(n=(this.x+this.width-u)/(e.x-u)),e.y>c&&(a=(this.y+this.height-c)/(e.y-c));e=t.topRight();e.x>u&&(i=(this.x+this.width-u)/(e.x-u)),e.y<c&&(s=(this.y-c)/(e.y-c));t=t.bottomLeft();return t.x<u&&(r=(this.x-u)/(t.x-u)),t.y>c&&(l=(this.y+this.height-c)/(t.y-c)),{sx:C(h,n,i,r),sy:C(o,a,s,l)}},maxRectUniformScaleToFit:function(t,e){e=this.maxRectScaleToFit(t,e);return C(e.sx,e.sy)},moveAndExpand:function(t){return this.x+=t.x||0,this.y+=t.y||0,this.width+=t.width||0,this.height+=t.height||0,this},normalize:function(){var t=this.x,e=this.y,n=this.width,i=this.height;return this.width<0&&(t=this.x+this.width,n=-this.width),this.height<0&&(e=this.y+this.height,i=-this.height),this.x=t,this.y=e,this.width=n,this.height=i,this},offset:function(t,e){return Y.prototype.offset.call(this,t,e)},origin:function(){return new Y(this.x,this.y)},pointNearestToPoint:function(t){if(t=new Y(t),this.containsPoint(t))switch(this.sideNearestToPoint(t)){case"right":return new Y(this.x+this.width,t.y);case"left":return new Y(this.x,t.y);case"bottom":return new Y(t.x,this.y+this.height);case"top":return new Y(t.x,this.y)}return t.adhereToRect(this)},rightLine:function(){return new M(this.topRight(),this.bottomRight())},rightMiddle:function(){return new Y(this.x+this.width,this.y+this.height/2)},round:function(t){t=T(10,t||0);return this.x=p(this.x*t)/t,this.y=p(this.y*t)/t,this.width=p(this.width*t)/t,this.height=p(this.height*t)/t,this},scale:function(t,e,n){return n=this.origin().scale(t,e,n),this.x=n.x,this.y=n.y,this.width*=t,this.height*=e,this},sideNearestToPoint:function(t){var e=(t=new Y(t)).x-this.x,n=this.x+this.width-t.x,i=t.y-this.y,r=e,e="left";return n<r&&(r=n,e="right"),i<r&&(r=i,e="top"),e=this.y+this.height-t.y<r?"bottom":e},snapToGrid:function(t,e){var n=this.origin().snapToGrid(t,e),e=this.corner().snapToGrid(t,e);return this.x=n.x,this.y=n.y,this.width=e.x-n.x,this.height=e.y-n.y,this},toJSON:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},topLine:function(){return new M(this.topLeft(),this.topRight())},topMiddle:function(){return new Y(this.x+this.width/2,this.y)},topRight:function(){return new Y(this.x+this.width,this.y)},toString:function(){return this.origin().toString()+" "+this.corner().toString()},union:function(t){t=new G(t);var e=this.origin(),n=this.corner(),i=t.origin(),r=t.corner(),t=C(e.x,i.x),e=C(e.y,i.y),i=S(n.x,r.x),r=S(n.y,r.y);return new G(t,e,i-t,r-e)}},G.prototype.bottomRight=G.prototype.corner,G.prototype.topLeft=G.prototype.origin,G.prototype.translate=G.prototype.offset;var B=function(t){return t%360+(t<0?360:0)},D=function(t,e){return e*p(t/e)},F=function(t){return 180*t/y%360},N=function(t,e){return(t=(e=e||!1)?t:t%360)*y/180},L=function(t,e){var n;return void 0===e?(e=void 0===t?1:t,t=0):e<t&&(n=t,t=e,e=n),m(c.random()*(e-t+1)+t)},k=w,E=M,O=Y,P=G;function z(t,e){return e.unshift(null),new(Function.prototype.bind.apply(t,e))}function H(t){for(var e=arguments,n=[],i=arguments.length,r=1;r<i;r++)n.push(e[r]);if(!t)throw new Error("Missing a parent object.");var o=Object.create(t);for(i=n.length,r=0;r<i;r++){var a,s,l=n[r];for(s in l)l.hasOwnProperty(s)&&(delete o[s],a=Object.getOwnPropertyDescriptor(l,s),Object.defineProperty(o,s,a))}return o}var W={bbox:function(){throw new Error("Declaration missing for virtual function.")},clone:function(){throw new Error("Declaration missing for virtual function.")},closestPoint:function(){throw new Error("Declaration missing for virtual function.")},closestPointLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointNormalizedLength:function(){throw new Error("Declaration missing for virtual function.")},closestPointT:function(t){if(this.closestPointNormalizedLength)return this.closestPointNormalizedLength(t);throw new Error("Neither closestPointT() nor closestPointNormalizedLength() function is implemented.")},closestPointTangent:function(){throw new Error("Declaration missing for virtual function.")},divideAt:function(){throw new Error("Declaration missing for virtual function.")},divideAtLength:function(){throw new Error("Declaration missing for virtual function.")},divideAtT:function(t){if(this.divideAt)return this.divideAt(t);throw new Error("Neither divideAtT() nor divideAt() function is implemented.")},equals:function(){throw new Error("Declaration missing for virtual function.")},getSubdivisions:function(){throw new Error("Declaration missing for virtual function.")},isDifferentiable:function(){throw new Error("Declaration missing for virtual function.")},isSegment:!0,isSubpathStart:!1,isVisible:!0,length:function(){throw new Error("Declaration missing for virtual function.")},lengthAtT:function(t){if(t<=0)return 0;var e=this.length();return 1<=t?e:e*t},nextSegment:null,pointAt:function(){throw new Error("Declaration missing for virtual function.")},pointAtLength:function(){throw new Error("Declaration missing for virtual function.")},pointAtT:function(t){if(this.pointAt)return this.pointAt(t);throw new Error("Neither pointAtT() nor pointAt() function is implemented.")},previousSegment:null,subpathStartSegment:null,scale:function(){throw new Error("Declaration missing for virtual function.")},serialize:function(){throw new Error("Declaration missing for virtual function.")},tangentAt:function(){throw new Error("Declaration missing for virtual function.")},tangentAtLength:function(){throw new Error("Declaration missing for virtual function.")},tangentAtT:function(t){if(this.tangentAt)return this.tangentAt(t);throw new Error("Neither tangentAtT() nor tangentAt() function is implemented.")},toString:function(){throw new Error("Declaration missing for virtual function.")},translate:function(){throw new Error("Declaration missing for virtual function.")}};Object.defineProperty(W,"end",{configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(W,"start",{configurable:!0,enumerable:!0,get:function(){if(!this.previousSegment)throw new Error("Missing previous segment. (This segment cannot be the first segment of a path; OR segment has not yet been added to a path.)");return this.previousSegment.end}}),Object.defineProperty(W,"type",{configurable:!0,enumerable:!0,get:function(){throw new Error("Bad segment declaration. No type specified.")}});function U(){for(var t,e=arguments,n=[],i=arguments.length,r=0;r<i;r++)n.push(e[r]);if(!(this instanceof U))return z(U,n);if(0===i)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates (none provided).");if(n[0]instanceof M){if(1===i)return this.end=n[0].end.clone(),this;throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+i+" lines provided).")}if("string"==typeof n[0]||"number"==typeof n[0]){if(2===i)return this.end=new Y(+n[0],+n[1]),this;if(i<2)throw new Error("Lineto constructor expects a line, 1 point, or 2 coordinates ("+i+" coordinates provided).");for(var o,a=[],r=0;r<i;r+=2)o=n.slice(r,r+2),a.push(z(U,o));return a}if(1===i)return this.end=new Y(n[0]),this;for(a=[],r=0;r<i;r+=1)t=n[r],a.push(new U(t));return a}var Z={clone:function(){return new U(this.end)},divideAt:function(t){t=new M(this.start,this.end).divideAt(t);return[new U(t[0]),new U(t[1])]},divideAtLength:function(t){t=new M(this.start,this.end).divideAtLength(t);return[new U(t[0]),new U(t[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!!this.previousSegment&&!this.start.equals(this.end)},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(Z,"type",{configurable:!0,enumerable:!0,value:"L"}),U.prototype=H(W,M.prototype,Z);function V(){for(var t,e=arguments,n=[],i=arguments.length,r=0;r<i;r++)n.push(e[r]);if(!(this instanceof V))return z(V,n);if(0===i)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates (none provided).");if(n[0]instanceof x){if(1===i)return this.controlPoint1=n[0].controlPoint1.clone(),this.controlPoint2=n[0].controlPoint2.clone(),this.end=n[0].end.clone(),this;throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+i+" curves provided).")}if("string"==typeof n[0]||"number"==typeof n[0]){if(6===i)return this.controlPoint1=new Y(+n[0],+n[1]),this.controlPoint2=new Y(+n[2],+n[3]),this.end=new Y(+n[4],+n[5]),this;if(i<6)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+i+" coordinates provided).");for(var o,a=[],r=0;r<i;r+=6)o=n.slice(r,r+6),a.push(z(V,o));return a}if(3===i)return this.controlPoint1=new Y(n[0]),this.controlPoint2=new Y(n[1]),this.end=new Y(n[2]),this;if(i<3)throw new Error("Curveto constructor expects a curve, 3 points, or 6 coordinates ("+i+" points provided).");for(a=[],r=0;r<i;r+=3)t=n.slice(r,r+3),a.push(z(V,t));return a}var X={clone:function(){return new V(this.controlPoint1,this.controlPoint2,this.end)},divideAt:function(t,e){e=new x(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAt(t,e);return[new V(e[0]),new V(e[1])]},divideAtLength:function(t,e){e=new x(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtLength(t,e);return[new V(e[0]),new V(e[1])]},divideAtT:function(t){t=new x(this.start,this.controlPoint1,this.controlPoint2,this.end).divideAtT(t);return[new V(t[0]),new V(t[1])]},isDifferentiable:function(){if(!this.previousSegment)return!1;var t=this.start,e=this.controlPoint1,n=this.controlPoint2,i=this.end;return!(t.equals(e)&&e.equals(n)&&n.equals(i))},scale:function(t,e,n){return this.controlPoint1.scale(t,e,n),this.controlPoint2.scale(t,e,n),this.end.scale(t,e,n),this},serialize:function(){var t=this.controlPoint1,e=this.controlPoint2,n=this.end;return this.type+" "+t.x+" "+t.y+" "+e.x+" "+e.y+" "+n.x+" "+n.y},toString:function(){return this.type+" "+this.start+" "+this.controlPoint1+" "+this.controlPoint2+" "+this.end},translate:function(t,e){return this.controlPoint1.translate(t,e),this.controlPoint2.translate(t,e),this.end.translate(t,e),this}};Object.defineProperty(X,"type",{configurable:!0,enumerable:!0,value:"C"}),V.prototype=H(W,x.prototype,X);function q(){for(var t,e=arguments,n=[],i=arguments.length,r=0;r<i;r++)n.push(e[r]);if(!(this instanceof q))return z(q,n);if(0===i)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates (none provided).");if(n[0]instanceof M){if(1===i)return this.end=n[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+i+" lines provided).")}if(n[0]instanceof x){if(1===i)return this.end=n[0].end.clone(),this;throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+i+" curves provided).")}if("string"==typeof n[0]||"number"==typeof n[0]){if(2===i)return this.end=new Y(+n[0],+n[1]),this;if(i<2)throw new Error("Moveto constructor expects a line, a curve, 1 point, or 2 coordinates ("+i+" coordinates provided).");for(var o,a=[],r=0;r<i;r+=2)o=n.slice(r,r+2),0===r?a.push(z(q,o)):a.push(z(U,o));return a}if(1===i)return this.end=new Y(n[0]),this;for(a=[],r=0;r<i;r+=1)t=n[r],0===r?a.push(new q(t)):a.push(new U(t));return a}var J={bbox:function(){return null},clone:function(){return new q(this.end)},closestPoint:function(){return this.end.clone()},closestPointNormalizedLength:function(){return 0},closestPointLength:function(){return 0},closestPointT:function(){return 1},closestPointTangent:function(){return null},divideAt:function(){return[this.clone(),this.clone()]},divideAtLength:function(){return[this.clone(),this.clone()]},equals:function(t){return this.end.equals(t.end)},getSubdivisions:function(){return[]},isDifferentiable:function(){return!1},isSubpathStart:!0,isVisible:!1,length:function(){return 0},lengthAtT:function(){return 0},pointAt:function(){return this.end.clone()},pointAtLength:function(){return this.end.clone()},pointAtT:function(){return this.end.clone()},scale:function(t,e,n){return this.end.scale(t,e,n),this},serialize:function(){var t=this.end;return this.type+" "+t.x+" "+t.y},tangentAt:function(){return null},tangentAtLength:function(){return null},tangentAtT:function(){return null},toString:function(){return this.type+" "+this.end},translate:function(t,e){return this.end.translate(t,e),this}};Object.defineProperty(J,"start",{configurable:!0,enumerable:!0,get:function(){throw new Error("Illegal access. Moveto segments should not need a start property.")}}),Object.defineProperty(J,"type",{configurable:!0,enumerable:!0,value:"M"}),q.prototype=H(W,J);function $(){for(var t=arguments,e=[],n=arguments.length,i=0;i<n;i++)e.push(t[i]);if(!(this instanceof $))return z($,e);if(0<n)throw new Error("Closepath constructor expects no arguments.");return this}var Q={clone:function(){return new $},divideAt:function(t){t=new M(this.start,this.end).divideAt(t);return[t[1].isDifferentiable()?new U(t[0]):this.clone(),new U(t[1])]},divideAtLength:function(t){t=new M(this.start,this.end).divideAtLength(t);return[t[1].isDifferentiable()?new U(t[0]):this.clone(),new U(t[1])]},getSubdivisions:function(){return[]},isDifferentiable:function(){return!(!this.previousSegment||!this.subpathStartSegment)&&!this.start.equals(this.end)},scale:function(){return this},serialize:function(){return this.type},toString:function(){return this.type+" "+this.start+" "+this.end},translate:function(){return this}};Object.defineProperty(Q,"end",{configurable:!0,enumerable:!0,get:function(){if(!this.subpathStartSegment)throw new Error("Missing subpath start segment. (This segment needs a subpath start segment (e.g. Moveto); OR segment has not yet been added to a path.)");return this.subpathStartSegment.end}}),Object.defineProperty(Q,"type",{configurable:!0,enumerable:!0,value:"Z"}),$.prototype=H(W,M.prototype,Q);var K=j.segmentTypes={L:U,C:V,M:q,Z:$,z:$};j.regexSupportedData=new RegExp("^[\\s\\d"+Object.keys(K).join("")+",.]*$"),j.isDataSupported=function(t){return"string"==typeof t&&this.regexSupportedData.test(t)};function tt(t){return t&&t.toString().split(" ").map(function(t){return t=t.substr(0,Ct.length)!==Ct?Ct+t:t}).join(" ")}function et(t){return t&&t.toString().split(" ").map(function(t){return t=t.substr(0,Ct.length)===Ct?t.substr(Ct.length):t}).join(" ")}function nt(t,e){for(var n={},i={},r=It.namespace.svg,o=e||r,e=document.createDocumentFragment(),a=[t,e,o];0<a.length;)for(var o=a.pop(),s=a.pop(),l=a.pop(),u=0,c=l.length;u<c;u++){var h=l[u];if(!h.hasOwnProperty("tagName"))throw new Error("json-dom-parser: missing tagName");var d=h.tagName;h.hasOwnProperty("namespaceURI")&&(o=h.namespaceURI);var f=document.createElementNS(o,d),p=o===r,g=p?It:b,d=h.attributes;d&&g(f).attr(d);d=h.style;if(d&&b(f).css(d),h.hasOwnProperty("className")&&(m=h.className,p?f.className.baseVal=m:f.className=m),h.hasOwnProperty("textContent")&&(f.textContent=h.textContent),h.hasOwnProperty("selector")){var m=h.selector;if(n[m])throw new Error("json-dom-parser: selector must be unique");g(n[m]=f).attr("joint-selector",m)}if(h.hasOwnProperty("groupSelector"))for(var y=h.groupSelector,v=0,x=(y=!Array.isArray(y)?[y]:y).length;v<x;v++){var _=y[v];(i[_]||(i[_]=[])).push(f)}s.appendChild(f);h=h.children;Array.isArray(h)&&a.push(h,f,o)}return{fragment:e,selectors:n,groupSelectors:i}}function it(t){var e=0;if(0===t.length)return e;for(var n=0;n<t.length;n++){e=(e<<5)-e+t.charCodeAt(n);e&=e}return e}function rt(t,e,n){for(var i,r=Array.isArray(e)?e.slice():e.split(n||"/");r.length;){if(i=r.shift(),!(Object(t)===t&&i in t))return;t=t[i]}return t}function ot(t,e,n,i){for(var r=Array.isArray(e)?e:e.split(i||"/"),o=t,a=0,s=r.length;a<s-1;a++)o=o[r[a]]||(o[r[a]]={});return o[r[s-1]]=n,t}function at(t,e,n){n=n||"/";var i=Array.isArray(e)?e.slice():e.split(n),e=i.pop();return 0<i.length?(n=rt(t,i,n))&&delete n[e]:delete t[e],t}function st(t,e,n){e=e||"/";var i,r={};for(i in t)if(t.hasOwnProperty(i)){var o="object"==typeof t[i];if(o=o&&n&&n(t[i])?!1:o){var a,s=st(t[i],e,n);for(a in s)s.hasOwnProperty(a)&&(r[i+e+a]=s[a])}else r[i]=t[i]}return r}function lt(t){return lt.id=lt.id||1,t.id=void 0===t.id?"j_"+lt.id++:t.id,t.id}function ut(t){return t.replace(/[A-Z]/g,"-$&").toLowerCase()}function ct(t){var e=t,n=t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0];if(n){for(var i in t)void 0===n[i]&&(n[i]=t[i]);e=n}var r=e.target;return!r||(r=r.correspondingUseElement)&&(e.target=r),e}function ht(t,e){var n=parseFloat(t);if(Number.isNaN(n))return null;var i={};if(i.value=n,null==e)r="[A-Za-z]*";else if(Array.isArray(e)){if(0===e.length)return null;r=e.join("|")}else ye(e)&&(r=e);var r=(e=r,(e=new RegExp("(?:\\d+(?:\\.\\d+)*)("+e+")$").exec(t))?e[1]:null);return null===r?null:(i.unit=r,i)}function dt(t,e,n,i){n=n||{};var r=e.width,o=e.height,e=(i=i||{}).svgDocument||It("svg").node,a=It("tspan").node,s=It("text").attr(n).append(a).node,l=document.createTextNode("");s.style.opacity=0,s.style.display="block",a.style.display="block",a.appendChild(l),e.appendChild(s),i.svgDocument||document.body.appendChild(e);for(var u,c=i.separator||" ",h=i.eol||"\n",d=i.hyphen?new RegExp(i.hyphen):/[^\w\d]/,f=t.split(c),p=[],g=[],m=0,y=0,v=f.length;m<v;m++){var x,_=f[m];if(_)if(h&&0<=_.indexOf(h))if(1<_.length){for(var b=_.split(h),w=0,M=b.length-1;w<M;w++)b.splice(2*w+1,0,h);Array.prototype.splice.apply(f,[m,1].concat(b)),m--,v+=b.length-1}else y++;else{if(l.data=g[y]?g[y]+" "+_:_,a.getComputedTextLength()<=r)g[y]=l.data,(I||u)&&(p[y++]=!0,u=I=0);else{if(!g[y]||I){var A=!!I,I=_.length-1;if(A||!I){if(!I){if(!g[y]){g=[];break}f.splice(m,2,_+f[m+1]),v--,p[y++]=!0,m--;continue}f[m]=_.substring(0,I),f[m+1]=_.substring(I)+f[m+1]}else u?(f.splice(m,2,f[m]+f[m+1]),u=0):(-1<(A=_.search(d))&&A!==_.length-1&&0!==A&&(u=A+1,I=0),f.splice(m,1,_.substring(0,u||I),_.substring(u||I)),v++),y&&!p[y-1]&&y--;m--;continue}y++,m--}if(void 0!==o)if(void 0===x&&(x=(_="auto"===n.lineHeight?{value:1.5,unit:"em"}:ht(n.lineHeight,["em"])||{value:1,unit:"em"}).value,"em"===_.unit&&(x*=s.getBBox().height)),x*g.length>o){var C=Math.floor(o/x)-1;g.splice(1+C);var S=i.ellipsis;if(!S||C<0)break;"string"!=typeof S&&(S="");var T,D,N=g[C],L=N.length;do{if(D=N[L],T=N.substring(0,L),D?D.match(c)&&(T+=D):T+="string"==typeof c?c:" ",T+=S,l.data=T,a.getComputedTextLength()<=r){g[C]=T;break}}while(0<=--L);break}}}return i.svgDocument?e.removeChild(s):document.body.removeChild(e),g.join(h)}function ft(t){return(t=b(b.parseHTML("<div>"+t+"</div>",null,!1))).find("*").each(function(){var n=this;b.each(n.attributes,function(){var t=this.name,e=this.value;0!==t.indexOf("on")&&0!==e.indexOf("javascript:")||b(n).removeAttr(t)})}),t.html()}function pt(t,e){var n;window.navigator.msSaveBlob?window.navigator.msSaveBlob(t,e):(n=window.URL.createObjectURL(t),(t=document.createElement("a")).href=n,t.download=e,document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(n))}function gt(t){t=t.replace(/\s/g,"");for(var e=(t=decodeURIComponent(t)).indexOf(","),n=t.slice(0,e),i=n.split(":")[1].split(";")[0],e=t.slice(e+1),r=0<=n.indexOf("base64")?atob(e):unescape(encodeURIComponent(e)),o=new Uint8Array(r.length),a=0;a<r.length;a++)o[a]=r.charCodeAt(a);return new Blob([o],{type:i})}function mt(t,e){var n=(t=b(t)).map(function(){var t=this.parentNode,e=t.insertBefore(document.createTextNode(""),this.nextSibling);return function(){if(t===this)throw new Error("You can't sort elements if any one is a descendant of another.");t.insertBefore(this,e),t.removeChild(e)}});return Array.prototype.sort.call(t,e).each(function(t){n[t].call(this)})}function yt(){if(n.mergeWith){var t=Array.from(arguments),e=t[t.length-1],i=Qt(e)?e:bt;return t.push(function(t,e){var n=i(t,e);return void 0!==n?n:Array.isArray(t)&&!Array.isArray(e)?e:void 0}),n.mergeWith.apply(this,t)}return n.merge.apply(this,arguments)}function vt(t){var e=Object.prototype.toString;return!0===t||!1===t||!!t&&"object"==typeof t&&"[object Boolean]"===e.call(t)}function xt(t){return!!t&&("object"==typeof t||"function"==typeof t)}function _t(t){var e=Object.prototype.toString;return"number"==typeof t||!!t&&"object"==typeof t&&"[object Number]"===e.call(t)}function bt(){}var wt,Mt,At={bezier:v,Curve:x,Ellipse:w,Line:M,Path:j,Point:Y,Polyline:R,Rect:G,scale:{linear:function(t,e,n){var i=t[1]-t[0],r=e[1]-e[0];return(n-t[0])/i*r+e[0]||0}},normalizeAngle:B,snapToGrid:D,toDeg:F,toRad:N,random:L,ellipse:k,line:E,point:O,rect:P},It=function(){if(!("object"==typeof window&&!(!window.SVGAngle&&!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"))))return function(){throw new Error("SVG is required to use Vectorizer.")};function S(t,e,n){if(!(this instanceof S))return S.apply(Object.create(S.prototype),arguments);if(t){if(S.isV(t)&&(t=t.node),e=e||{},S.isString(t)){if("svg"===t.toLowerCase())t=S.createSvgDocument();else if("<"===t[0]){var i=S.createSvgDocument(t);if(1<i.childNodes.length){for(var r=[],o=0,a=i.childNodes.length;o<a;o++){var s=i.childNodes[o];r.push(new S(document.importNode(s,!0)))}return r}t=document.importNode(i.firstChild,!0)}else t=document.createElementNS(T.svg,t);S.ensureId(t)}return this.node=t,this.setAttributes(e),n&&this.append(n),this}}var T={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xml:"http://www.w3.org/XML/1998/namespace",xlink:"http://www.w3.org/1999/xlink",xhtml:"http://www.w3.org/1999/xhtml"},t=Math,u=t.PI,i=t.atan2,o=t.sqrt,l=t.min,s=t.max,c=t.cos,h=t.sin,t=S.prototype;Object.defineProperty(t,"id",{enumerable:!0,get:function(){return this.node.id},set:function(t){this.node.id=t}}),t.getTransformToElement=function(t){var e=this.node;if(S.isSVGGraphicsElement(t)&&S.isSVGGraphicsElement(e)){t=S.toNode(t).getScreenCTM(),e=e.getScreenCTM();if(t&&e)return t.inverse().multiply(e)}return S.createSVGMatrix()},t.transform=function(t,e){var n=this.node;if(S.isUndefined(t))return S.transformStringToMatrix(this.attr("transform"));if(e&&e.absolute)return this.attr("transform",S.matrixToTransformString(t));t=S.createSVGTransform(t);return n.transform.baseVal.appendItem(t),this},t.translate=function(t,e,n){n=n||{},e=e||0;var i=this.attr("transform")||"",r=S.parseTransformString(i),i=r.value;if(S.isUndefined(t))return r.translate;i=i.replace(/translate\([^)]*\)/g,"").trim();t=n.absolute?t:r.translate.tx+t,e=n.absolute?e:r.translate.ty+e;return this.attr("transform",("translate("+t+","+e+")"+" "+i).trim()),this},t.rotate=function(t,e,n,i){i=i||{};var r=this.attr("transform")||"",o=S.parseTransformString(r),r=o.value;if(S.isUndefined(t))return o.rotate;r=r.replace(/rotate\([^)]*\)/g,"").trim(),t%=360;t=i.absolute?t:o.rotate.angle+t;return this.attr("transform",(r+" "+("rotate("+t+(void 0!==e&&void 0!==n?","+e+","+n:"")+")")).trim()),this},t.scale=function(t,e){e=S.isUndefined(e)?t:e;var n=this.attr("transform")||"",i=S.parseTransformString(n),n=i.value;return S.isUndefined(t)?i.scale:(n=n.replace(/scale\([^)]*\)/g,"").trim(),this.attr("transform",(n+" "+("scale("+t+","+e+")")).trim()),this)},t.bbox=function(t,e){var n,i=this.node,r=i.ownerSVGElement;if(!r)return new G(0,0,0,0);try{n=i.getBBox()}catch(t){n={x:i.clientLeft,y:i.clientTop,width:i.clientWidth,height:i.clientHeight}}if(t)return new G(n);r=this.getTransformToElement(e||r);return S.transformRect(n,r)},t.getBBox=function(t){var e={},n=this.node;if(!n.ownerSVGElement||!S.isSVGGraphicsElement(n))return new G(0,0,0,0);if(t&&(t.target&&(e.target=S.toNode(t.target)),t.recursive&&(e.recursive=t.recursive)),e.recursive){var i=this.children(),r=i.length;if(0===r)return this.getBBox({target:e.target,recursive:!1});e.target||(e.target=this);for(var o=0;o<r;o++)var a=i[o],a=0===a.children().length?a.getBBox({target:e.target,recursive:!1}):a.getBBox({target:e.target,recursive:!0}),s=s?s.union(a):a;return s}try{s=n.getBBox()}catch(t){s={x:n.clientLeft,y:n.clientTop,width:n.clientWidth,height:n.clientHeight}}if(e.target){n=this.getTransformToElement(e.target);return S.transformRect(s,n)}return new G(s)};var D=/em$/;function N(t,e){var n=parseFloat(t);return D.test(t)?n*e:n}t.text=function(t,e){if(t&&"string"!=typeof t)throw new Error("Vectorizer: text() expects the first argument to be a string.");t=S.sanitizeText(t);var n=(e=e||{}).eol,i=e.textPath,r=e.textVerticalAnchor,o="middle"===r||"bottom"===r||"top"===r,a=e.x;void 0===a&&(a=this.attr("x")||0);var s=e.includeAnnotationIndices,l=e.annotations;l&&!S.isArray(l)&&(l=[l]);var e=e.lineHeight,u="auto"===e,c=u?"1.5em":e||"1em";this.empty(),this.attr({"xml:space":"preserve",display:t?null:"none"});var h=parseFloat(this.attr("font-size"));h||(h=16,(o||l)&&this.attr("font-size",h));for(var d,f,p=document,g=i?function(t,e){t=t||{};var n=S("textPath"),i=t.d;return i&&void 0===t["xlink:href"]&&(e=S("path").attr("d",i).appendTo(e.defs()),n.attr("xlink:href","#"+e.id)),S.isObject(t)&&n.attr(t),n.node}(i="string"==typeof i?{d:i}:i,this):p.createDocumentFragment(),m=0,y=t.split("\n"),v=[],x=0,_=y.length-1;x<=_;x++){var b,w,M=c,A="v-line",I=p.createElementNS(T.svg,"tspan"),C=y[x];C?l?((w=(b=function(t,e,n){for(var i=(n=n||{}).includeAnnotationIndices,r=n.eol,o=n.lineHeight,a=n.baseSize,s=0,n={},l=e.length-1,u=0;u<=l;u++){var c,h,d,f,p=e[u],g=null;S.isObject(p)?(c=p.attrs,d=(h=S("tspan",c)).node,f=p.t,r&&u===l&&(f+=r),d.textContent=f,(f=c.class)&&h.addClass(f),i&&h.attr("annotations",p.annotations),(g=void 0===(g=parseFloat(c["font-size"]))?a:g)&&s<g&&(s=g)):(r&&u===l&&(p+=r),d=document.createTextNode(p||" "),a&&s<a&&(s=a)),t.appendChild(d)}return s&&(n.maxFontSize=s),o?n.lineHeight=o:s&&(n.lineHeight=1.2*s),n}(I,S.annotateString(C,l,{offset:-m,includeAnnotationIndices:s}),{includeAnnotationIndices:s,eol:x!==_&&n,lineHeight:u?null:c,baseSize:h})).lineHeight)&&u&&0!==x&&(M=w),0===x&&(d=.8*b.maxFontSize)):(n&&x!==_&&(C+=n),I.textContent=C):(I.textContent="-",A+=" v-empty-line",(w=I.style).fillOpacity=0,w.strokeOpacity=0,l&&(b={})),b&&v.push(b),0<x&&I.setAttribute("dy",M),(0<x||i)&&I.setAttribute("x",a),I.className.baseVal=A,g.appendChild(I),m+=C.length+1}if(o)if(l)M=function(t,e,n,i){if(!Array.isArray(e))return 0;var r=e.length;if(!r)return 0;for(var o=e[0],a=N(o.maxFontSize,n)||n,s=0,l=N(i,n),u=1;u<r;u++)s+=N((o=e[u]).lineHeight,n)||l;var c,h=N(o.maxFontSize,n)||n;switch(t){case"middle":c=a/2-.15*h-s/2;break;case"bottom":c=-.25*h-s;break;default:c=.8*a}return c}(r,v,h,c);else if("top"===r)M="0.8em";else switch(0<_?(f=parseFloat(c)||1,f*=_,D.test(c)||(f/=h)):f=0,r){case"middle":M=.3-f/2+"em";break;case"bottom":M=-f-.3+"em"}else 0===r?M="0em":r?M=r:(M=0,null===this.attr("y")&&this.attr("y",d||"0.8em"));return g.firstChild.setAttribute("dy",M),this.append(g),this},t.removeAttr=function(t){var e=S.qualifyAttr(t),n=this.node;return e.ns?n.hasAttributeNS(e.ns,e.local)&&n.removeAttributeNS(e.ns,e.local):n.hasAttribute(t)&&n.removeAttribute(t),this},t.attr=function(t,e){if(S.isUndefined(t)){for(var n=this.node.attributes,i={},r=0;r<n.length;r++)i[n[r].name]=n[r].value;return i}if(S.isString(t)&&S.isUndefined(e))return this.node.getAttribute(t);if("object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&this.setAttribute(o,t[o]);else this.setAttribute(t,e);return this},t.normalizePath=function(){return"PATH"===this.tagName()&&this.attr("d",S.normalizePathData(this.attr("d"))),this},t.remove=function(){return this.node.parentNode&&this.node.parentNode.removeChild(this.node),this},t.empty=function(){for(;this.node.firstChild;)this.node.removeChild(this.node.firstChild);return this},t.setAttributes=function(t){for(var e in t)t.hasOwnProperty(e)&&this.setAttribute(e,t[e]);return this},t.append=function(t){for(var e=0,n=(t=!S.isArray(t)?[t]:t).length;e<n;e++)this.node.appendChild(S.toNode(t[e]));return this},t.prepend=function(t){var e=this.node.firstChild;return e?S(e).before(t):this.append(t)},t.before=function(t){var e=this.node,n=e.parentNode;if(n)for(var i=0,r=(t=!S.isArray(t)?[t]:t).length;i<r;i++)n.insertBefore(S.toNode(t[i]),e);return this},t.appendTo=function(t){return S.toNode(t).appendChild(this.node),this},t.svg=function(){return this.node instanceof window.SVGSVGElement?this:S(this.node.ownerSVGElement)},t.tagName=function(){return this.node.tagName.toUpperCase()},t.defs=function(){var t=this.svg()||this,e=t.node.getElementsByTagName("defs")[0];return e?S(e):S("defs").appendTo(t)},t.clone=function(){var t=S(this.node.cloneNode(!0));return t.node.id=S.uniqueId(),t},t.findOne=function(t){t=this.node.querySelector(t);return t?S(t):void 0},t.find=function(t){var e=[],n=this.node.querySelectorAll(t);if(n)for(var i=0;i<n.length;i++)e.push(S(n[i]));return e},t.children=function(){for(var t=this.node.childNodes,e=[],n=0;n<t.length;n++)1===t[n].nodeType&&e.push(S(t[n]));return e},t.index=function(){for(var t=0,e=this.node.previousSibling;e;)1===e.nodeType&&t++,e=e.previousSibling;return t},t.findParentByClass=function(t,e){for(var n=this.node.ownerSVGElement,i=this.node.parentNode;i&&i!==e&&i!==n;){var r=S(i);if(r.hasClass(t))return r;i=i.parentNode}return null},t.contains=function(t){var e=this.node,t=S.toNode(t),t=t&&t.parentNode;return e===t||!!(t&&1===t.nodeType&&16&e.compareDocumentPosition(t))},t.toLocalPoint=function(t,e){var n=this.svg().node,i=n.createSVGPoint();i.x=t,i.y=e;try{var r=i.matrixTransform(n.getScreenCTM().inverse()),o=this.getTransformToElement(n).inverse()}catch(t){return i}return r.matrixTransform(o)},t.translateCenterToPoint=function(t){var e=this.getBBox({target:this.svg()}).center();return this.translate(t.x-e.x,t.y-e.y),this},t.translateAndAutoOrient=function(t,e,n){t=new Y(t),e=new Y(e),n=n||this.svg();var i=this.scale();this.attr("transform","");var r=this.getBBox({target:n}).scale(i.sx,i.sy),o=S.createSVGTransform();o.setTranslate(-r.x-r.width/2,-r.y-r.height/2);var a=S.createSVGTransform(),s=t.angleBetween(e,t.clone().offset(1,0));s&&a.setRotate(s,0,0);s=S.createSVGTransform(),r=t.clone().move(e,r.width/2);s.setTranslate(2*t.x-r.x,2*t.y-r.y);r=this.getTransformToElement(n),n=S.createSVGTransform();return n.setMatrix(s.matrix.multiply(a.matrix.multiply(o.matrix.multiply(r.scale(i.sx,i.sy))))),this.attr("transform",S.matrixToTransformString(n.matrix)),this},t.animateAlongPath=function(e,t){t=S.toNode(t);t=S.ensureId(t),e=S("animateMotion",e),t=S("mpath",{"xlink:href":"#"+t});e.append(t),this.append(e);try{e.node.beginElement()}catch(t){if("fake"===document.documentElement.getAttribute("smiling")){var n=e.node;n.animators=[];e=n.getAttribute("id");e&&(id2anim[e]=n);for(var i=getTargets(n),r=0,o=i.length;r<o;r++){var a=i[r],a=new Animator(n,a,r);animators.push(a),(n.animators[r]=a).register()}}}return this},t.hasClass=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)").test(this.node.getAttribute("class"))},t.addClass=function(t){var e;return t&&!this.hasClass(t)&&(e=this.node.getAttribute("class")||"",this.node.setAttribute("class",(e+" "+t).trim())),this},t.removeClass=function(t){return t&&this.hasClass(t)&&(t=this.node.getAttribute("class").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2"),this.node.setAttribute("class",t)),this},t.toggleClass=function(t,e){return(S.isUndefined(e)?this.hasClass(t):!e)?this.removeClass(t):this.addClass(t),this},t.sample=function(t){t=t||1;for(var e,n=this.node,i=n.getTotalLength(),r=[],o=0;o<i;)e=n.getPointAtLength(o),r.push({x:e.x,y:e.y,distance:o}),o+=t;return r},t.convertToPath=function(){var t=S("path");t.attr(this.attr());var e=this.convertToPathData();return e&&t.attr("d",e),t},t.convertToPathData=function(){var t=this.tagName();switch(t){case"PATH":return this.attr("d");case"LINE":return S.convertLineToPathData(this.node);case"POLYGON":return S.convertPolygonToPathData(this.node);case"POLYLINE":return S.convertPolylineToPathData(this.node);case"ELLIPSE":return S.convertEllipseToPathData(this.node);case"CIRCLE":return S.convertCircleToPathData(this.node);case"RECT":return S.convertRectToPathData(this.node)}throw new Error(t+" cannot be converted to PATH.")},S.prototype.toGeometryShape=function(){var t,e,n,i,r,o,a,s,l,u;switch(this.tagName()){case"RECT":return t=parseFloat(this.attr("x"))||0,e=parseFloat(this.attr("y"))||0,n=parseFloat(this.attr("width"))||0,o=parseFloat(this.attr("height"))||0,new G(t,e,n,o);case"CIRCLE":return i=parseFloat(this.attr("cx"))||0,r=parseFloat(this.attr("cy"))||0,o=parseFloat(this.attr("r"))||0,new w({x:i,y:r},o,o);case"ELLIPSE":return i=parseFloat(this.attr("cx"))||0,r=parseFloat(this.attr("cy"))||0,a=parseFloat(this.attr("rx"))||0,l=parseFloat(this.attr("ry"))||0,new w({x:i,y:r},a,l);case"POLYLINE":return s=S.getPointsFromSvgNode(this),new R(s);case"POLYGON":return 1<(s=S.getPointsFromSvgNode(this)).length&&s.push(s[0]),new R(s);case"PATH":return u=this.attr("d"),j.isDataSupported(u)||(u=S.normalizePathData(u)),new j(u);case"LINE":return a=parseFloat(this.attr("x1"))||0,l=parseFloat(this.attr("y1"))||0,s=parseFloat(this.attr("x2"))||0,u=parseFloat(this.attr("y2"))||0,new M({x:a,y:l},{x:s,y:u})}return this.getBBox()},t.findIntersection=function(t,e){var n=this.svg().node,i=this.getBBox({target:e=e||n}),r=i.center();if(i.intersectionWithLineFromCenterToPoint(t)){var o=this.tagName();if("RECT"===o){var a=new G(parseFloat(this.attr("x")||0),parseFloat(this.attr("y")||0),parseFloat(this.attr("width")),parseFloat(this.attr("height"))),i=this.getTransformToElement(e),s=S.decomposeMatrix(i),n=n.createSVGTransform();n.setRotate(-s.rotation,r.x,r.y);i=S.transformRect(a,n.matrix.multiply(i)),s=new G(i).intersectionWithLineFromCenterToPoint(t,s.rotation)}else if("PATH"===o||"POLYGON"===o||"POLYLINE"===o||"CIRCLE"===o||"ELLIPSE"===o){for(var l,u,c,h=("PATH"===o?this:this.convertToPath()).sample(),d=1/0,f=[],p=0;p<h.length;p++)l=h[p],c=(c=S.createSVGPoint(l.x,l.y)).matrixTransform(this.getTransformToElement(e)),(c=(l=new Y(c)).distance(r)+(u=1.1*l.distance(t)))<d?(d=c,f=[{sample:l,refDistance:u}]):c<d+1&&f.push({sample:l,refDistance:u});f.sort(function(t,e){return t.refDistance-e.refDistance}),f[0]&&(s=f[0].sample)}return s}},t.setAttribute=function(t,e){var n=this.node;if(null===e)return this.removeAttr(t),this;var i=S.qualifyAttr(t);return i.ns?n.setAttributeNS(i.ns,t,e):"id"===t?n.id=e:n.setAttribute(t,e),this},S.createSvgDocument=function(t){if(t)return S.parseXML('<svg xmlns="'+T.svg+'" xmlns:xlink="'+T.xlink+'" version="1.1">'+t+"</svg>",{async:!1}).documentElement;t=document.createElementNS(T.svg,"svg");return t.setAttributeNS(T.xmlns,"xmlns:xlink",T.xlink),t.setAttribute("version","1.1"),t},S.idCounter=0,S.uniqueId=function(){return"v-"+ ++S.idCounter},S.toNode=function(t){return S.isV(t)?t.node:t.nodeName&&t||t[0]},S.ensureId=function(t){return(t=S.toNode(t)).id||(t.id=S.uniqueId())},S.sanitizeText=function(t){return(t||"").replace(/ /g,"")},S.isUndefined=function(t){return void 0===t},S.isString=function(t){return"string"==typeof t},S.isObject=function(t){return t&&"object"==typeof t},S.isArray=Array.isArray,S.parseXML=function(t,e){var n;e=e||{};try{var i=new DOMParser;S.isUndefined(e.async)||(i.async=e.async),n=i.parseFromString(t,"text/xml")}catch(t){n=void 0}if(!n||n.getElementsByTagName("parsererror").length)throw new Error("Invalid XML: "+t);return n},S.qualifyAttr=function(t){if(-1===t.indexOf(":"))return{ns:null,local:t};t=t.split(":");return{ns:T[t[0]],local:t[1]}},S.transformRegex=/(\w+)\(([^,)]+),?([^)]+)?\)/gi,S.transformSeparatorRegex=/[ ,]+/,S.transformationListRegex=/^(\w+)\((.*)\)/,S.transformStringToMatrix=function(t){var e=S.createSVGMatrix(),n=t&&t.match(S.transformRegex);if(!n)return e;for(var i=0,r=n.length;i<r;i++){var o=n[i].match(S.transformationListRegex);if(o){var a,s,l,u,c,h=S.createSVGMatrix(),d=o[2].split(S.transformSeparatorRegex);switch(o[1].toLowerCase()){case"scale":a=parseFloat(d[0]),s=void 0===d[1]?a:parseFloat(d[1]),h=h.scaleNonUniform(a,s);break;case"translate":l=parseFloat(d[0]),u=parseFloat(d[1]),h=h.translate(l,u);break;case"rotate":c=parseFloat(d[0]),l=parseFloat(d[1])||0,u=parseFloat(d[2])||0,h=0!==l||0!==u?h.translate(l,u).rotate(c).translate(-l,-u):h.rotate(c);break;case"skewx":c=parseFloat(d[0]),h=h.skewX(c);break;case"skewy":c=parseFloat(d[0]),h=h.skewY(c);break;case"matrix":h.a=parseFloat(d[0]),h.b=parseFloat(d[1]),h.c=parseFloat(d[2]),h.d=parseFloat(d[3]),h.e=parseFloat(d[4]),h.f=parseFloat(d[5]);break;default:continue}e=e.multiply(h)}}return e},S.matrixToTransformString=function(t){return"matrix("+(void 0!==(t=t||!0).a?t.a:1)+","+(void 0!==t.b?t.b:0)+","+(void 0!==t.c?t.c:0)+","+(void 0!==t.d?t.d:1)+","+(void 0!==t.e?t.e:0)+","+(void 0!==t.f?t.f:0)+")"},S.parseTransformString=function(t){var e,n,i,r;t&&(o=S.transformSeparatorRegex,0<=t.trim().indexOf("matrix")?(i=S.transformStringToMatrix(t),e=[(r=S.decomposeMatrix(i)).translateX,r.translateY],n=[r.scaleX,r.scaleY],i=[r.rotation],r=[],0===e[0]&&0===e[1]||r.push("translate("+e+")"),1===n[0]&&1===n[1]||r.push("scale("+n+")"),0!==i[0]&&r.push("rotate("+i+")"),t=r.join(" ")):((r=t.match(/translate\((.*?)\)/))&&(e=r[1].split(o)),(r=t.match(/rotate\((.*?)\)/))&&(i=r[1].split(o)),(r=t.match(/scale\((.*?)\)/))&&(n=r[1].split(o))));var o=n&&n[0]?parseFloat(n[0]):1;return{value:t,translate:{tx:e&&e[0]?parseInt(e[0],10):0,ty:e&&e[1]?parseInt(e[1],10):0},rotate:{angle:i&&i[0]?parseInt(i[0],10):0,cx:i&&i[1]?parseInt(i[1],10):void 0,cy:i&&i[2]?parseInt(i[2],10):void 0},scale:{sx:o,sy:n&&n[1]?parseFloat(n[1]):o}}},S.deltaTransformPoint=function(t,e){return{x:e.x*t.a+e.y*t.c,y:e.x*t.b+e.y*t.d}},S.decomposeMatrix=function(t){var e=S.deltaTransformPoint(t,{x:0,y:1}),n=S.deltaTransformPoint(t,{x:1,y:0}),e=180/u*i(e.y,e.x)-90,n=180/u*i(n.y,n.x);return{translateX:t.e,translateY:t.f,scaleX:o(t.a*t.a+t.b*t.b),scaleY:o(t.c*t.c+t.d*t.d),skewX:e,skewY:n,rotation:e}},S.matrixToScale=function(t){var e,n,i,r;return t?(e=S.isUndefined(t.a)?1:t.a,r=S.isUndefined(t.d)?1:t.d,n=t.b,i=t.c):e=r=1,{sx:n?o(e*e+n*n):e,sy:i?o(i*i+r*r):r}},S.matrixToRotate=function(t){var e={x:0,y:1};return t&&(e=S.deltaTransformPoint(t,e)),{angle:B(F(i(e.y,e.x))-90)}},S.matrixToTranslate=function(t){return{tx:t&&t.e||0,ty:t&&t.f||0}},S.isVElement=S.isV=function(t){return t instanceof S},S.isSVGGraphicsElement=function(t){return!!t&&((t=S.toNode(t))instanceof SVGElement&&"function"==typeof t.getScreenCTM)};var g,m,I,C,L,k,E,O,P,d=S("svg").node;function f(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]}function z(t,e,n,i,r,o,a,s,l,u){function c(t,e,n){return{x:t*L(n)-e*C(n),y:t*C(n)+e*L(n)}}var h,d,f,p=120*I/180,g=I/180*(+r||0),m=[];u?(_=u[0],b=u[1],v=u[2],x=u[3]):(t=(d=c(t,e,-g)).x,e=d.y,1<(y=(f=(t-(s=(d=c(s,l,-g)).x))/2)*f/(n*n)+(h=(e-(l=d.y))/2)*h/(i*i))&&(n*=y=O(y),i*=y),v=(d=(o==a?-1:1)*O(P(((d=n*n)*(y=i*i)-d*h*h-y*f*f)/(d*h*h+y*f*f))))*n*h/i+(t+s)/2,_=E(((e-(x=d*-i*f/n+(e+l)/2))/i).toFixed(9)),b=E(((l-x)/i).toFixed(9)),(_=t<v?I-_:_)<0&&(_=2*I+_),(b=(b=s<v?I-b:b)<0?2*I+b:b)<(a&&_)&&(_-=2*I),_<(!a&&b)&&(b-=2*I)),P(y=b-_)>p&&(h=b,d=s,f=l,m=z(s=v+n*L(b=_+p*(_<(a&&b)?1:-1)),l=x+i*C(b),n,i,r,0,a,d,f,[b,h,v,x]));var y=b-_,v=L(_),x=C(_),_=L(b),b=C(b),y=k(y/4),n=4/3*(n*y),i=4/3*(i*y),y=[t,e],v=[t+n*x,e-i*v],_=[s+n*b,l-i*_],l=[s,l];if(v[0]=2*y[0]-v[0],v[1]=2*y[1]-v[1],u)return[v,_,l].concat(m);for(var w=[],M=(m=[v,_,l].concat(m).join().split(",")).length,A=0;A<M;A++)w[A]=A%2?c(m[A-1],m[A],g).y:c(m[A],m[A+1],g).x;return w}function p(t){if(!(t=!Array.isArray(t)||!Array.isArray(t&&t[0])?function(t){if(!t)return null;var o={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},a=[];return String(t).replace(g,function(t,e,n){var i=[],r=e.toLowerCase();for(n.replace(m,function(t,e){e&&i.push(+e)}),"m"===r&&2<i.length&&(a.push([e].concat(i.splice(0,2))),r="l",e="m"===e?"l":"L");i.length>=o[r]&&(a.push([e].concat(i.splice(0,o[r]))),o[r]););}),a}(t):t)||!t.length)return[["M",0,0]];for(var e=[],n=0,i=0,r=0,o=0,a=t.length,s=0;s<a;s++){var l=[];e.push(l);var u,c,h=t[s],d=h[0];if(d!=d.toUpperCase())switch(l[0]=d.toUpperCase(),l[0]){case"A":l[1]=h[1],l[2]=h[2],l[3]=h[3],l[4]=h[4],l[5]=h[5],l[6]=+h[6]+n,l[7]=+h[7]+i;break;case"V":l[1]=+h[1]+i;break;case"H":l[1]=+h[1]+n;break;case"M":for(r=+h[1]+n,o=+h[2]+i,u=h.length,c=1;c<u;c++)l[c]=+h[c]+(c%2?n:i);break;default:for(u=h.length,c=1;c<u;c++)l[c]=+h[c]+(c%2?n:i)}else for(var f=h.length,p=0;p<f;p++)l[p]=h[p];switch(l[0]){case"Z":n=+r,i=+o;break;case"H":n=l[1];break;case"V":i=l[1];break;case"M":r=l[l.length-2],o=l[l.length-1],n=l[l.length-2],i=l[l.length-1];break;default:n=l[l.length-2],i=l[l.length-1]}}return e}function e(t){var i=p(t),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};for(var r=[],n="",o="",a=i.length,s=0;s<a;s++){"C"!==(n=i[s]?i[s][0]:n)&&(r[s]=n,0<s&&(o=r[s-1])),i[s]=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(t[0]in{T:1,Q:1}||(e.qx=null,e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=0===parseFloat(t[1])||0===parseFloat(t[2])?["L",t[6],t[7]]:["C"].concat(z.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":r="C"===n||"S"===n?(i=2*e.x-e.bx,2*e.y-e.by):(i=e.x,e.y),t=["C",i,r].concat(t.slice(1));break;case"T":"Q"===n||"T"===n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(f(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(f(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"H":t=["L"].concat(t[1],e.y);break;case"V":t=["L"].concat(e.x,t[1])}return t}(i[s],e,o),"A"!==r[s]&&"C"===n&&(r[s]="C"),function(t,e){if(7<t[e].length){t[e].shift();for(var n=t[e];n.length;)r[e]="A",t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),a=i.length}}(i,s);var l=i[s],u=l.length;e.x=l[u-2],e.y=l[u-1],e.bx=parseFloat(l[u-4])||e.x,e.by=parseFloat(l[u-3])||e.y}return i[0][0]&&"M"===i[0][0]||i.unshift(["M",0,0]),i}return S.createSVGMatrix=function(t){var e,n=d.createSVGMatrix();for(e in t)n[e]=t[e];return n},S.createSVGTransform=function(t){return S.isUndefined(t)?d.createSVGTransform():(t instanceof SVGMatrix||(t=S.createSVGMatrix(t)),d.createSVGTransformFromMatrix(t))},S.createSVGPoint=function(t,e){var n=d.createSVGPoint();return n.x=t,n.y=e,n},S.transformRect=function(t,e){var n=d.createSVGPoint();n.x=t.x,n.y=t.y;var i=n.matrixTransform(e);n.x=t.x+t.width,n.y=t.y;var r=n.matrixTransform(e);n.x=t.x+t.width,n.y=t.y+t.height;var o=n.matrixTransform(e);n.x=t.x,n.y=t.y+t.height;var a=n.matrixTransform(e),t=l(i.x,r.x,o.x,a.x),n=s(i.x,r.x,o.x,a.x),e=l(i.y,r.y,o.y,a.y),a=s(i.y,r.y,o.y,a.y);return new G(t,e,n-t,a-e)},S.transformPoint=function(t,e){return new Y(S.createSVGPoint(t.x,t.y).matrixTransform(e))},S.transformLine=function(t,e){return new M(S.transformPoint(t.start,e),S.transformPoint(t.end,e))},S.transformPolyline=function(t,e){for(var n=t instanceof R?t.points:t,i=[],r=0,o=(n=!S.isArray(n)?[]:n).length;r<o;r++)i[r]=S.transformPoint(n[r],e);return new R(i)},S.styleToObject=function(t){for(var e={},n=t.split(";"),i=0;i<n.length;i++){var r=n[i].split("=");e[r[0].trim()]=r[1].trim()}return e},S.createSlicePathData=function(t,e,n,i){var r=2*u-1e-6,o=t,a=e,s=n,t=i,l=(t<s&&(l=s,s=t,t=l),t-s),e=l<u?"0":"1",n=c(s),i=h(s),s=c(t),t=h(t);return r<=l?o?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+o+"A"+o+","+o+" 0 1,0 0,"+-o+"A"+o+","+o+" 0 1,0 0,"+o+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":o?"M"+a*n+","+a*i+"A"+a+","+a+" 0 "+e+",1 "+a*s+","+a*t+"L"+o*s+","+o*t+"A"+o+","+o+" 0 "+e+",0 "+o*n+","+o*i+"Z":"M"+a*n+","+a*i+"A"+a+","+a+" 0 "+e+",1 "+a*s+","+a*t+"L0,0Z"},S.mergeAttrs=function(t,e){for(var n in e)"class"===n?t[n]=t[n]?t[n]+" "+e[n]:e[n]:"style"===n?S.isObject(t[n])&&S.isObject(e[n])?t[n]=S.mergeAttrs(t[n],e[n]):S.isObject(t[n])?t[n]=S.mergeAttrs(t[n],S.styleToObject(e[n])):S.isObject(e[n])?t[n]=S.mergeAttrs(S.styleToObject(t[n]),e[n]):t[n]=S.mergeAttrs(S.styleToObject(t[n]),S.styleToObject(e[n])):t[n]=e[n];return t},S.annotateString=function(t,e,n){e=e||[];for(var i,r,o=(n=n||{}).offset||0,a=[],s=[],l=0;l<t.length;l++){for(var u=s[l]=t[l],c=0;c<e.length;c++){var h=e[c],d=h.start+o,f=h.end+o;d<=l&&l<f&&(S.isObject(u)?u.attrs=S.mergeAttrs(S.mergeAttrs({},u.attrs),h.attrs):u=s[l]={t:t[l],attrs:h.attrs},n.includeAnnotationIndices&&(u.annotations||(u.annotations=[])).push(c))}(r=s[l-1])?S.isObject(u)&&S.isObject(r)?JSON.stringify(u.attrs)===JSON.stringify(r.attrs)?i.t+=u.t:(a.push(i),i=u):i=S.isObject(u)||S.isObject(r)?(a.push(i),u):(i||"")+u:i=u}return i&&a.push(i),a},S.findAnnotationsAtIndex=function(t,e){var n=[];return t&&t.forEach(function(t){t.start<e&&e<=t.end&&n.push(t)}),n},S.findAnnotationsBetweenIndexes=function(t,e,n){var i=[];return t&&t.forEach(function(t){(e>=t.start&&e<t.end||n>t.start&&n<=t.end||t.start>=e&&t.end<n)&&i.push(t)}),i},S.shiftAnnotations=function(t,e,n){return t&&t.forEach(function(t){t.start<e&&t.end>=e?t.end+=n:t.start>=e&&(t.start+=n,t.end+=n)}),t},S.convertLineToPathData=function(t){return["M",(t=S(t)).attr("x1"),t.attr("y1"),"L",t.attr("x2"),t.attr("y2")].join(" ")},S.convertPolygonToPathData=function(t){t=S.getPointsFromSvgNode(t);return 0===t.length?null:S.svgPointsToPath(t)+" Z"},S.convertPolylineToPathData=function(t){t=S.getPointsFromSvgNode(t);return 0===t.length?null:S.svgPointsToPath(t)},S.svgPointsToPath=function(t){for(var e=0,n=t.length;e<n;e++)t[e]=t[e].x+" "+t[e].y;return"M "+t.join(" L")},S.getPointsFromSvgNode=function(t){var e=[],n=(t=S.toNode(t)).points;if(n)for(var i=0,r=n.numberOfItems;i<r;i++)e.push(n.getItem(i));return e},S.KAPPA=.551784,S.convertCircleToPathData=function(t){t=S(t);var e=parseFloat(t.attr("cx"))||0,n=parseFloat(t.attr("cy"))||0,i=parseFloat(t.attr("r")),t=i*S.KAPPA;return["M",e,n-i,"C",e+t,n-i,e+i,n-t,e+i,n,"C",e+i,n+t,e+t,n+i,e,n+i,"C",e-t,n+i,e-i,n+t,e-i,n,"C",e-i,n-t,e-t,n-i,e,n-i,"Z"].join(" ")},S.convertEllipseToPathData=function(t){t=S(t);var e=parseFloat(t.attr("cx"))||0,n=parseFloat(t.attr("cy"))||0,i=parseFloat(t.attr("rx")),r=parseFloat(t.attr("ry"))||i,o=i*S.KAPPA,t=r*S.KAPPA;return["M",e,n-r,"C",e+o,n-r,e+i,n-t,e+i,n,"C",e+i,n+t,e+o,n+r,e,n+r,"C",e-o,n+r,e-i,n+t,e-i,n,"C",e-i,n-t,e-o,n-r,e,n-r,"Z"].join(" ")},S.convertRectToPathData=function(t){return t=S(t),S.rectToPath({x:parseFloat(t.attr("x"))||0,y:parseFloat(t.attr("y"))||0,width:parseFloat(t.attr("width"))||0,height:parseFloat(t.attr("height"))||0,rx:parseFloat(t.attr("rx"))||0,ry:parseFloat(t.attr("ry"))||0})},S.rectToPath=function(t){var e=t.x,n=t.y,i=t.width,r=t.height,o=l(t.rx||t["top-rx"]||0,i/2),a=l(t.rx||t["bottom-rx"]||0,i/2),s=l(t.ry||t["top-ry"]||0,r/2),t=l(t.ry||t["bottom-ry"]||0,r/2),n=o||a||s||t?["M",e,n+s,"v",r-s-t,"a",a,t,0,0,0,a,t,"h",i-2*a,"a",a,t,0,0,0,a,-t,"v",-(r-t-s),"a",o,s,0,0,0,-o,-s,"h",-(i-2*o),"a",o,s,0,0,0,-o,s,"Z"]:["M",e,n,"H",e+i,"V",n+r,"H",e,"V",n,"Z"];return n.join(" ")},S.normalizePathData=(t="\t\n\v\f\r \u2028\u2029",g=new RegExp("([a-z])["+t+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+t+"]*,?["+t+"]*)+)","ig"),m=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+t+"]*,?["+t+"]*","ig"),t=Math,I=t.PI,C=t.sin,L=t.cos,k=t.tan,E=t.asin,O=t.sqrt,P=t.abs,function(t){return e(t).join(",").split(",").join(" ")}),S.namespace=T,S.g=At,S}(),Ct="joint-",St={classNamePrefix:Ct,defaultTheme:"default"},Tt=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},Dt=((Mt="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame:Mt)||(wt=0,Mt=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-wt)),i=setTimeout(function(){t(e+n)},n);return wt=e+n,i}),function(t,e){for(var n=[],i=arguments.length-2;0<i--;)n[i]=arguments[i+2];return Mt(void 0!==e?t.bind.apply(t,[e].concat(n)):t)}),Nt=(ui="undefined"!=typeof window,ci=(ci=ui?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame:ci)||clearTimeout,ui?ci.bind(window):ci),Lt=function(t){return ye(t)&&"%"===t.slice(-1)},kt=function(t){if(Object(t)!==t){var e=0;return{top:e=isFinite(t)?+t:e,right:e,bottom:e,left:e}}var n,i,r,e=n=i=r=0;return isFinite(t.vertical)&&(e=i=+t.vertical),isFinite(t.horizontal)&&(n=r=+t.horizontal),{top:e=isFinite(t.top)?+t.top:e,right:n=isFinite(t.right)?+t.right:n,bottom:i=isFinite(t.bottom)?+t.bottom:i,left:r=isFinite(t.left)?+t.left:r}},Et={linear:function(t){return t},quad:function(t){return t*t},cubic:function(t){return t*t*t},inout:function(t){if(t<=0)return 0;if(1<=t)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},exponential:function(t){return Math.pow(2,10*(t-1))},bounce:function(t){for(var e=0,n=1;;e+=n,n/=2){1;if((7-4*e)/11<=t){var i=(11-6*e-11*t)/4;return-i*i+n*n}}},reverse:function(e){return function(t){return 1-e(1-t)}},reflect:function(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}},clamp:function(e,n,i){return n=n||0,i=i||1,function(t){t=e(t);return t<n?n:i<t?i:t}},back:function(e){return e=e||1.70158,function(t){return t*t*((e+1)*t-e)}},elastic:function(e){return e=e||1.5,function(t){return Math.pow(2,10*(t-1))*Math.cos(20*Math.PI*e/3*t)}}},Ot={number:function(e,t){var n=t-e;return function(t){return e+n*t}},object:function(r,o){var a=Object.keys(r);return function(t){for(var e,n={},i=a.length-1;-1!=i;i--)n[e=a[i]]=r[e]+(o[e]-r[e])*t;return n}},hexColor:function(t,e){var t=parseInt(t.slice(1),16),e=parseInt(e.slice(1),16),n=255&t,i=(255&e)-n,r=65280&t,o=(65280&e)-r,a=16711680&t,s=(16711680&e)-a;return function(t){return"#"+(1<<24|n+i*t&255|r+o*t&65280|a+s*t&16711680).toString(16).slice(1)}},unit:function(e,t){var n=/(-?[0-9]*.[0-9]*)(px|em|cm|mm|in|pt|pc|%)/,i=n.exec(e),n=n.exec(t),t=n[1].indexOf("."),r=0<t?n[1].length-t-1:0;e=+i[1];var o=+n[1]-e,a=i[2];return function(t){return(e+o*t).toFixed(r)+a}}},Pt={outline:function(t){var e=Number.isFinite(t.margin)?t.margin:2,n=Number.isFinite(t.width)?t.width:1;return jt('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology in="SourceAlpha" result="morphedOuter" operator="dilate" radius="${outerRadius}" /><feMorphology in="SourceAlpha" result="morphedInner" operator="dilate" radius="${innerRadius}" /><feComposite result="morphedOuterColored" in="colored" in2="morphedOuter" operator="in"/><feComposite operator="xor" in="morphedOuterColored" in2="morphedInner" result="outline"/><feMerge><feMergeNode in="outline"/><feMergeNode in="SourceGraphic"/></feMerge></filter>')({color:t.color||"blue",opacity:Number.isFinite(t.opacity)?t.opacity:1,outerRadius:e+n,innerRadius:e})},highlight:function(t){return jt('<filter><feFlood flood-color="${color}" flood-opacity="${opacity}" result="colored"/><feMorphology result="morphed" in="SourceGraphic" operator="dilate" radius="${width}"/><feComposite result="composed" in="colored" in2="morphed" operator="in"/><feGaussianBlur result="blured" in="composed" stdDeviation="${blur}"/><feBlend in="SourceGraphic" in2="blured" mode="normal"/></filter>')({color:t.color||"red",width:Number.isFinite(t.width)?t.width:1,blur:Number.isFinite(t.blur)?t.blur:0,opacity:Number.isFinite(t.opacity)?t.opacity:1})},blur:function(t){var e=Number.isFinite(t.x)?t.x:2;return jt('<filter><feGaussianBlur stdDeviation="${stdDeviation}"/></filter>')({stdDeviation:Number.isFinite(t.y)?[e,t.y]:e})},dropShadow:function(t){var e="SVGFEDropShadowElement"in window?'<filter><feDropShadow stdDeviation="${blur}" dx="${dx}" dy="${dy}" flood-color="${color}" flood-opacity="${opacity}"/></filter>':'<filter><feGaussianBlur in="SourceAlpha" stdDeviation="${blur}"/><feOffset dx="${dx}" dy="${dy}" result="offsetblur"/><feFlood flood-color="${color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="${opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter>';return jt(e)({dx:t.dx||0,dy:t.dy||0,opacity:Number.isFinite(t.opacity)?t.opacity:1,color:t.color||"black",blur:Number.isFinite(t.blur)?t.blur:4})},grayscale:function(t){t=Number.isFinite(t.amount)?t.amount:1;return jt('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${b} ${h} 0 0 0 0 0 1 0"/></filter>')({a:.2126+.7874*(1-t),b:.7152-.7152*(1-t),c:.0722-.0722*(1-t),d:.2126-.2126*(1-t),e:.7152+.2848*(1-t),f:.0722-.0722*(1-t),g:.2126-.2126*(1-t),h:.0722+.9278*(1-t)})},sepia:function(t){t=Number.isFinite(t.amount)?t.amount:1;return jt('<filter><feColorMatrix type="matrix" values="${a} ${b} ${c} 0 0 ${d} ${e} ${f} 0 0 ${g} ${h} ${i} 0 0 0 0 0 1 0"/></filter>')({a:.393+.607*(1-t),b:.769-.769*(1-t),c:.189-.189*(1-t),d:.349-.349*(1-t),e:.686+.314*(1-t),f:.168-.168*(1-t),g:.272-.272*(1-t),h:.534-.534*(1-t),i:.131+.869*(1-t)})},saturate:function(t){t=Number.isFinite(t.amount)?t.amount:1;return jt('<filter><feColorMatrix type="saturate" values="${amount}"/></filter>')({amount:1-t})},hueRotate:function(t){return jt('<filter><feColorMatrix type="hueRotate" values="${angle}"/></filter>')({angle:t.angle||0})},invert:function(t){t=Number.isFinite(t.amount)?t.amount:1;return jt('<filter><feComponentTransfer><feFuncR type="table" tableValues="${amount} ${amount2}"/><feFuncG type="table" tableValues="${amount} ${amount2}"/><feFuncB type="table" tableValues="${amount} ${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:1-t})},brightness:function(t){return jt('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}"/><feFuncG type="linear" slope="${amount}"/><feFuncB type="linear" slope="${amount}"/></feComponentTransfer></filter>')({amount:Number.isFinite(t.amount)?t.amount:1})},contrast:function(t){t=Number.isFinite(t.amount)?t.amount:1;return jt('<filter><feComponentTransfer><feFuncR type="linear" slope="${amount}" intercept="${amount2}"/><feFuncG type="linear" slope="${amount}" intercept="${amount2}"/><feFuncB type="linear" slope="${amount}" intercept="${amount2}"/></feComponentTransfer></filter>')({amount:t,amount2:.5-t/2})}},zt={number:function(t,e,o){o=o||{currency:["$",""],decimal:".",thousands:",",grouping:[3]};var n=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i.exec(t),i=n[1]||" ",r=n[2]||">",a=n[3]||"",s=n[4]||"",l=n[5],u=+n[6],c=n[7],h=n[8],d=n[9],f=1,p="",g="",m=!1,h=h&&+h.substring(1);switch((l||"0"===i&&"="===r)&&(l=i="0",r="=",c&&(u-=Math.floor((u-1)/4))),d){case"n":c=!0,d="g";break;case"%":f=100,g="%",d="f";break;case"p":f=100,g="%",d="r";break;case"b":case"o":case"x":case"X":"#"===s&&(p="0"+d.toLowerCase());break;case"c":case"d":m=!0,h=0;break;case"s":f=-1,d="r"}"$"===s&&(p=o.currency[0],g=o.currency[1]),"r"!=d||h||(d="g"),null!=h&&("g"==d?h=Math.max(1,Math.min(21,h)):"e"!=d&&"f"!=d||(h=Math.max(0,Math.min(20,h))));var y=l&&c;if(m&&e%1)return"";t=e<0||0===e&&1/e<0?(e=-e,"-"):a,n=g;f<0?(e=(v=this.prefix(e,h)).scale(e),n=v.symbol+g):e*=f;var a=(e=this.convert(d,e,h)).lastIndexOf("."),v=a<0?e:e.substring(0,a),a=a<0?"":o.decimal+e.substring(a+1);function x(t){for(var e=t.length,n=[],i=0,r=o.grouping[0];0<e&&0<r;)n.push(t.substring(e-=r,e+r)),r=o.grouping[i=(i+1)%o.grouping.length];return n.reverse().join(o.thousands)}!l&&c&&o.grouping&&(v=x(v));l=p.length+v.length+a.length+(y?0:t.length),i=l<u?new Array(l=u-l+1).join(i):"";return t+=p,e=(v=y?x(i+v):v)+a,("<"===r?t+e+i:">"===r?i+t+e:"^"===r?i.substring(0,l>>=1)+t+e+i.substring(l):t+(y?e:i+e))+n},string:function(t,e){for(var n,i="{",r=!1,o=[];-1!==(n=t.indexOf(i));){if(l=t.slice(0,n),r){for(var a,s=(a=l.split(":")).shift().split("."),l=e,u=0;u<s.length;u++)l=l[s[u]];a.length&&(l=this.number(a,l))}o.push(l),t=t.slice(n+1),i=(r=!r)?"}":"{"}return o.push(t),o.join("")},convert:function(t,e,n){switch(t){case"b":return e.toString(2);case"c":return String.fromCharCode(e);case"o":return e.toString(8);case"x":return e.toString(16);case"X":return e.toString(16).toUpperCase();case"g":return e.toPrecision(n);case"e":return e.toExponential(n);case"f":return e.toFixed(n);case"r":return(e=this.round(e,this.precision(e,n))).toFixed(Math.max(0,Math.min(20,this.precision(e*(1+1e-15),n))));default:return e+""}},round:function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)},precision:function(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)},prefix:function(t,e){var n=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*Math.abs(8-e));return{scale:8<e?function(t){return t/n}:function(t){return t*n},symbol:t}}),i=0;return t&&(t<0&&(t*=-1),e&&(t=this.round(t,this.precision(t,e))),i=1+Math.floor(1e-12+Math.log(t)/Math.LN10),i=Math.max(-24,Math.min(24,3*Math.floor((i<=0?i+1:i-1)/3)))),n[8+i/3]}},jt=function(t){var e=/<%= ([^ ]+) %>|\$\{ ?([^{} ]+) ?\}|\{\{([^{} ]+)\}\}/g;return function(i){return i=i||{},t.replace(e,function(t){for(var e=Array.from(arguments).slice(1,4).find(function(t){return!!t}).split("."),n=i[e.shift()];void 0!==n&&e.length;)n=n[e.shift()];return void 0!==n?n:""})}},Yt=n.assign,Rt=n.defaults,Bt=Yt,Ft=n.defaultsDeep,Ht=n.assign,Wt=n.defaults,Gt=n.defaultsDeep,Ut=n.invokeMap||n.invoke,Zt=n.sortedIndexBy||n.sortedIndex,Vt=n.uniqBy||n.uniq,Xt=n.clone,qt=n.cloneDeep,Jt=n.isEmpty,$t=n.isEqual,Qt=n.isFunction,Kt=n.isPlainObject,te=n.toArray,ee=n.debounce,ne=n.groupBy,ie=n.sortBy,re=n.flattenDeep,oe=n.without,ae=n.difference,se=n.intersection,le=n.union,ue=n.has,ce=n.result,he=n.omit,de=n.pick,fe=n.bindAll,pe=n.forIn,ge=n.camelCase,me=n.uniqueId,ye=function(t){var e=Object.prototype.toString;return"string"==typeof t||!!t&&"object"==typeof t&&"[object String]"===e.call(t)};function ve(t){t=Vt(t);var r=te(t).reduce(function(t,e){return t[e.id]=e.clone(),t},{});return te(t).forEach(function(t){var e,n=r[t.id];n.isLink()&&(e=n.source(),i=n.target(),e.id&&r[e.id]&&n.prop("source/id",r[e.id].id),i.id&&r[i.id]&&n.prop("target/id",r[i.id].id));var i=t.get("parent");i&&r[i]&&n.set("parent",r[i].id);t=te(t.get("embeds")).reduce(function(t,e){return r[e]&&t.push(r[e].id),t},[]);Jt(t)||n.set("embeds",t)}),r}function xe(r,o){return function(t,e){var n=Lt(t);t=parseFloat(t),n&&(t/=100);var i={};return isFinite(t)&&(e=n||0<=t&&t<=1?t*e[o]:Math.max(t+e[o],0),i[r]=e),i}}function _e(r,o,a){return function(t,e){var n,i=Lt(t);t=parseFloat(t),i&&(t/=100),isFinite(t)&&(n=e[a](),n=i||0<t&&t<1?n[r]+e[o]*t:n[r]+t);t=Y();return t[r]=n||0,t}}function be(i,r,o){return function(t,e){var n="middle"===t?e[r]/2:t===o?e[r]:isFinite(t)?-1<t&&t<1?-e[r]*t:-t:Lt(t)?e[r]*parseFloat(t)/100:0,t=Y();return t[i]=-(e[i]+n),t}}function we(a,t){var s="joint-shape",l=t&&t.resetOffset;return function(t,e,n){var i=b(n),r=i.data(s);r&&r.value===t||(r={value:t,shape:o=a(t),shapeBBox:o.bbox()},i.data(s,r));var n=r.shape.clone(),t=r.shapeBBox.clone(),o=t.origin(),i=e.origin();t.x=i.x,t.y=i.y;r=e.maxRectScaleToFit(t,i),i=0===t.width||0===e.width?1:r.sx,r=0===t.height||0===e.height?1:r.sy;return n.scale(i,r,o),l&&n.translate(-o.x,-o.y),n}}function Me(t){var i=we(function(t){return new j(It.normalizePathData(t))},t);return function(t,e,n){return{d:i(t,e,n).serialize()}}}function Ae(t){var i=we(R,t);return function(t,e,n){return{points:i(t,e,n).serialize()}}}function Ie(i,r){var o=new Y(1,0);return function(t){var e,n,t=this[i](t);return t?(n=r.rotate?t.vector().vectorAngle(o):0,e=t.start):(e=this.path.start,n=0),0===n?{transform:"translate("+e.x+","+e.y+")"}:{transform:"translate("+e.x+","+e.y+") rotate("+n+")"}}}function Ce(t,e,n){return void 0!==n.text}function Se(){return this.model.isLink()}function Te(t){var e={},n=t.stroke;"string"==typeof n&&(e.stroke=n,e.fill=n);n=t.strokeOpacity;return void 0!==(n=void 0===(n=void 0===n?t["stroke-opacity"]:n)?t.opacity:n)&&(e["stroke-opacity"]=n,e["fill-opacity"]=n),e}var De,Ne,Le={xlinkHref:{set:"xlink:href"},xlinkShow:{set:"xlink:show"},xlinkRole:{set:"xlink:role"},xlinkType:{set:"xlink:type"},xlinkArcrole:{set:"xlink:arcrole"},xlinkTitle:{set:"xlink:title"},xlinkActuate:{set:"xlink:actuate"},xmlSpace:{set:"xml:space"},xmlBase:{set:"xml:base"},xmlLang:{set:"xml:lang"},preserveAspectRatio:{set:"preserveAspectRatio"},requiredExtension:{set:"requiredExtension"},requiredFeatures:{set:"requiredFeatures"},systemLanguage:{set:"systemLanguage"},externalResourcesRequired:{set:"externalResourceRequired"},filter:{qualify:Kt,set:function(t){return"url(#"+this.paper.defineFilter(t)+")"}},fill:{qualify:Kt,set:function(t){return"url(#"+this.paper.defineGradient(t)+")"}},stroke:{qualify:Kt,set:function(t){return"url(#"+this.paper.defineGradient(t)+")"}},sourceMarker:{qualify:Kt,set:function(t,e,n,i){return t=Ht(Te(i),t),{"marker-start":"url(#"+this.paper.defineMarker(t)+")"}}},targetMarker:{qualify:Kt,set:function(t,e,n,i){return t=Ht(Te(i),{transform:"rotate(180)"},t),{"marker-end":"url(#"+this.paper.defineMarker(t)+")"}}},vertexMarker:{qualify:Kt,set:function(t,e,n,i){return t=Ht(Te(i),t),{"marker-mid":"url(#"+this.paper.defineMarker(t)+")"}}},text:{qualify:function(t,e,n){return!n.textWrap||!Kt(n.textWrap)},set:function(t,e,n,i){var r=b(n),o="joint-text",a=r.data(o),s=de(i,"lineHeight","annotations","textPath","x","textVerticalAnchor","eol"),l=s.fontSize=i["font-size"]||i.fontSize,i=JSON.stringify([t,s]);void 0!==a&&a===i||(l&&n.setAttribute("font-size",l),a=s.textPath,xt(a)&&("string"!=typeof(l=a.selector)||(l=this.findBySelector(l)[0])instanceof SVGPathElement&&(s.textPath=Ht({"xlink:href":"#"+l.id},a))),It(n).text(""+t,s),r.data(o,i))}},textWrap:{qualify:Kt,set:function(t,e,n,i){var r=t.width||0;Lt(r)?e.width*=parseFloat(r)/100:r<=0?e.width+=r:e.width=r;r=t.height||0;Lt(r)?e.height*=parseFloat(r)/100:r<=0?e.height+=r:e.height=r;r=t.text,t=void 0!==(r=void 0===r?i.text:r)?dt(""+r,e,{"font-weight":i["font-weight"]||i.fontWeight,"font-size":i["font-size"]||i.fontSize,"font-family":i["font-family"]||i.fontFamily,lineHeight:i.lineHeight},{svgDocument:this.paper.svg,ellipsis:t.ellipsis,hyphen:t.hyphen}):"";Le.text.set.call(this,t,e,n,i)}},title:{qualify:function(t,e){return e instanceof SVGElement},set:function(t,e,n){var i=b(n),r="joint-title",o=i.data(r);void 0!==o&&o===t||(i.data(r,t),(i=n.firstChild)&&"TITLE"===i.tagName.toUpperCase()?i.textContent=t:((r=document.createElementNS(n.namespaceURI,"title")).textContent=t,n.insertBefore(r,i)))}},lineHeight:{qualify:Ce},textVerticalAnchor:{qualify:Ce},textPath:{qualify:Ce},annotations:{qualify:Ce},port:{set:function(t){return null===t||void 0===t.id?t:t.id}},style:{qualify:Kt,set:function(t,e,n){b(n).css(t)}},html:{set:function(t,e,n){b(n).html(t+"")}},ref:{},refX:{position:_e("x","width","origin")},refY:{position:_e("y","height","origin")},refDx:{position:_e("x","width","corner")},refDy:{position:_e("y","height","corner")},refWidth:{set:xe("width","width")},refHeight:{set:xe("height","height")},refRx:{set:xe("rx","width")},refRy:{set:xe("ry","height")},refRInscribed:{set:(De=xe("r","width"),Ne=xe("r","height"),function(t,e){return(e.height>e.width?De:Ne)(t,e)})},refRCircumscribed:{set:function(t,e){var n=Lt(t);t=parseFloat(t),n&&(t/=100);var i,e=Math.sqrt(e.height*e.height+e.width*e.width);return{r:i=isFinite(t)?n||0<=t&&t<=1?t*e:Math.max(t+e,0):i}}},refCx:{set:xe("cx","width")},refCy:{set:xe("cy","height")},xAlignment:{offset:be("x","width","right")},yAlignment:{offset:be("y","height","bottom")},resetOffset:{offset:function(t,e){return t?{x:-e.x,y:-e.y}:{x:0,y:0}}},refDResetOffset:{set:Me({resetOffset:!0})},refDKeepOffset:{set:Me({resetOffset:!1})},refPointsResetOffset:{set:Ae({resetOffset:!0})},refPointsKeepOffset:{set:Ae({resetOffset:!1})},connection:{qualify:Se,set:function(){return{d:this.getSerializedConnection()}}},atConnectionLengthKeepGradient:{qualify:Se,set:Ie("getTangentAtLength",{rotate:!0})},atConnectionLengthIgnoreGradient:{qualify:Se,set:Ie("getTangentAtLength",{rotate:!1})},atConnectionRatioKeepGradient:{qualify:Se,set:Ie("getTangentAtRatio",{rotate:!0})},atConnectionRatioIgnoreGradient:{qualify:Se,set:Ie("getTangentAtRatio",{rotate:!1})}};Le.refR=Le.refRInscribed,Le.refD=Le.refDResetOffset,Le.refPoints=Le.refPointsResetOffset,Le.atConnectionLength=Le.atConnectionLengthKeepGradient,Le.atConnectionRatio=Le.atConnectionRatioKeepGradient,Le.refX2=Le.refX,Le.refY2=Le.refY,Le.refWidth2=Le.refWidth,Le.refHeight2=Le.refHeight,Le["ref-x"]=Le.refX,Le["ref-y"]=Le.refY,Le["ref-dy"]=Le.refDy,Le["ref-dx"]=Le.refDx,Le["ref-width"]=Le.refWidth,Le["ref-height"]=Le.refHeight,Le["x-alignment"]=Le.xAlignment,Le["y-alignment"]=Le.yAlignment;var ke=Le,Ee=r.Model.extend({constructor:function(t,e){var n=t||{};this.cid=me("c"),this.attributes={},e&&e.collection&&(this.collection=e.collection),e&&e.parse&&(n=this.parse(n,e)||{}),(t=ce(this,"defaults"))&&(n=yt({},t,n)),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)},translate:function(t,e,n){throw new Error("Must define a translate() method.")},toJSON:function(){var e=this.constructor.prototype.defaults.attrs||{},t=this.attributes.attrs,o={};pe(t,function(t,i){var r=e[i];pe(t,function(t,n){xt(t)&&!Array.isArray(t)?pe(t,function(t,e){r&&r[n]&&$t(r[n][e],t)||(o[i]=o[i]||{},(o[i][n]||(o[i][n]={}))[e]=t)}):r&&$t(r[n],t)||(o[i]=o[i]||{},o[i][n]=t)})});t=qt(he(this.attributes,"attrs"));return t.attrs=o,t},initialize:function(t){t&&t.id||this.set("id",this.generateId(),{silent:!0}),this._transitionIds={},this.processPorts(),this.on("change:attrs",this.processPorts,this)},generateId:Tt,processPorts:function(){var t=this.ports,n={};pe(this.get("attrs"),function(t,e){t&&t.port&&(void 0!==t.port.id?n[t.port.id]=t.port:n[t.port]={id:t.port})});var i={};pe(t,function(t,e){n[e]||(i[e]=!0)}),this.graph&&!Jt(i)&&(this.graph.getConnectedLinks(this,{inbound:!0}).forEach(function(t){i[t.get("target").port]&&t.remove()}),this.graph.getConnectedLinks(this,{outbound:!0}).forEach(function(t){i[t.get("source").port]&&t.remove()})),this.ports=n},remove:function(t){t=t||{};var e=this.graph;if(!e)return this.collection&&this.collection.remove(this,t),this;e.startBatch("remove");var n=this.getParentCell();n&&n.unembed(this);for(var i=this.getEmbeddedCells(),r=0,o=i.length;r<o;r++){var a=i[r];a&&a.remove(t)}return this.trigger("remove",this,e.attributes.cells,t),e.stopBatch("remove"),this},toFront:function(n){var t,i,e=this.graph;return e&&(n=n||{},i=e.maxZIndex(),n.deep?(t=this.getEmbeddedCells({deep:!0,breadthFirst:!0})).unshift(this):t=[this],i=i-t.length+1,((e=e.get("cells")).indexOf(this)!==e.length-t.length||t.some(function(t,e){return t.get("z")!==i+e}))&&(this.startBatch("to-front"),i+=t.length,t.forEach(function(t,e){t.set("z",i+e,n)}),this.stopBatch("to-front"))),this},toBack:function(n){var i,t,e=this.graph;return e&&(n=n||{},i=e.minZIndex(),n.deep?(t=this.getEmbeddedCells({deep:!0,breadthFirst:!0})).unshift(this):t=[this],(0!==e.get("cells").indexOf(this)||t.some(function(t,e){return t.get("z")!==i+e}))&&(this.startBatch("to-back"),i-=t.length,t.forEach(function(t,e){t.set("z",i+e,n)}),this.stopBatch("to-back"))),this},parent:function(t,e){return void 0===t?this.get("parent"):this.set("parent",t,e)},embed:function(t,e){if(this===t||this.isEmbeddedIn(t))throw new Error("Recursive embedding not allowed.");this.startBatch("embed");var n=Ht([],this.get("embeds"));return n[t.isLink()?"unshift":"push"](t.id),t.parent(this.id,e),this.set("embeds",Vt(n),e),this.stopBatch("embed"),this},unembed:function(t,e){return this.startBatch("unembed"),t.unset("parent",e),this.set("embeds",oe(this.get("embeds"),t.id),e),this.stopBatch("unembed"),this},getParentCell:function(){var t=this.parent(),e=this.graph;return t&&e&&e.getCell(t)||null},getAncestors:function(){var t=[];if(!this.graph)return t;for(var e=this.getParentCell();e;)t.push(e),e=e.getParentCell();return t},getEmbeddedCells:function(e){if(e=e||{},this.graph){if(e.deep)if(e.breadthFirst)for(var n=[],t=this.getEmbeddedCells();0<t.length;){var i=t.shift();n.push(i),t.push.apply(t,i.getEmbeddedCells())}else(n=this.getEmbeddedCells()).forEach(function(t){n.push.apply(n,t.getEmbeddedCells(e))});else n=te(this.get("embeds")).map(this.graph.getCell,this.graph);return n}return[]},isEmbeddedIn:function(t,e){var n=ye(t)?t:t.id,i=this.parent();if(e=Wt({deep:!0},e),this.graph&&e.deep){for(;i;){if(i===n)return!0;i=this.graph.getCell(i).parent()}return!1}return i===n},isEmbedded:function(){return!!this.parent()},clone:function(t){if((t=t||{}).deep)return te(ve([this].concat(this.getEmbeddedCells({deep:!0}))));t=r.Model.prototype.clone.apply(this,arguments);return t.set("id",this.generateId()),t.unset("embeds"),t.unset("parent"),t},prop:function(t,e,n){var i=ye(t);if(i||Array.isArray(t)){if(1<arguments.length){var r,o=i?(r=t).split("/"):(r=t.join("/"),t.slice()),a=o[0],s=o.length;if((n=n||{}).propertyPath=r,n.propertyValue=e,n.propertyPathArray=o,1===s)return this.set(a,e,n);for(var l=f={},u=a,c=1;c<s;c++)var h=o[c],d=Number.isFinite(i?Number(h):h),l=l[u]=d?[]:{},u=h;var f=ot(f,o,e,"/"),p=yt({},this.attributes);n.rewrite&&at(p,r,"/");f=yt(p,f);return this.set(a,f[a],n)}return rt(this.attributes,t,"/")}return this.set(yt({},this.attributes,t),e)},removeProp:function(t,e){e=e||{};var n=Array.isArray(t)?t:t.split("/"),i=n[0];if("attrs"===i&&(e.dirty=!0),1===n.length)return this.unset(t,e);t=n.slice(1),n=qt(this.get(i));return at(n,t,"/"),this.set(i,n,e)},attr:function(t,e,n){var i=Array.from(arguments);return 0===i.length?this.get("attrs"):(Array.isArray(t)?i[0]=["attrs"].concat(t):ye(t)?i[0]="attrs/"+t:i[0]={attrs:t},this.prop.apply(this,i))},removeAttr:function(t,e){return Array.isArray(t)?this.removeProp(["attrs"].concat(t)):this.removeProp("attrs/"+t,e)},transition:function(n,e,i,r){r=r||"/",i=Ht({duration:100,delay:10,timingFunction:Et.linear,valueFunction:Ot.number},i);var o,a=0,s=function(t){var e;(t=(t-=a=a||t)/i.duration)<1?this._transitionIds[n]=e=Dt(s):(t=1,delete this._transitionIds[n]),t=o(i.timingFunction(t)),i.transitionId=e,this.prop(n,t,i),e||this.trigger("transition:end",this,n)}.bind(this),t=function(t){this.stopTransitions(n),o=i.valueFunction(rt(this.attributes,n,r),e),this._transitionIds[n]=Dt(t),this.trigger("transition:start",this,n)}.bind(this);return setTimeout(t,i.delay,s)},getTransitions:function(){return Object.keys(this._transitionIds)},stopTransitions:function(t,e){e=e||"/";var n=t&&t.split(e);return Object.keys(this._transitionIds).filter(n&&function(t){return $t(n,t.split(e).slice(0,n.length))}).forEach(function(t){Nt(this._transitionIds[t]),delete this._transitionIds[t],this.trigger("transition:end",this,t)},this),this},addTo:function(t,e){return t.addCell(this,e),this},findView:function(t){return t.findViewByModel(this)},isElement:function(){return!1},isLink:function(){return!1},startBatch:function(t,e){return this.graph&&this.graph.startBatch(t,Ht({},e,{cell:this})),this},stopBatch:function(t,e){return this.graph&&this.graph.stopBatch(t,Ht({},e,{cell:this})),this},getChangeFlag:function(t){var e,n=0;if(!t)return n;for(e in t)t.hasOwnProperty(e)&&this.hasChanged(e)&&(n|=t[e]);return n},angle:function(){return 0},position:function(){return new g.Point(0,0)},getPointFromConnectedLink:function(){return new g.Point},getBBox:function(){return new g.Rect(0,0,0,0)}},{getAttributeDefinition:function(t){var e=this.attributes,n=ke;return e&&e[t]||n[t]},define:function(t,e,n,i){n=Ht({defaults:Gt({type:t},e,this.prototype.defaults)},n);i=this.extend(n,i);return"undefined"!=typeof joint&&ue(joint,"shapes")&&ot(joint.shapes,t,i,"."),i}}),Oe=function(e,t,n){if(ye(n)){if(!Pe[n])throw new Error('Unknown wrapper: "'+n+'"');n=Pe[n]}if(!Qt(n))throw new Error("Wrapper must be a function.");te(t).forEach(function(t){e[t]=n(e[t])})},Pe={cells:function(i){return function(){var t=Array.from(arguments),e=t.length,n=0<e&&t[0]||[],e=1<e&&t[e-1]||{};return Array.isArray(n)||(e instanceof Ee?n=t:n instanceof Ee&&(1<t.length&&t.pop(),n=t)),i.call(this,n,e=e instanceof Ee?{}:e)}}},ze={wrapWith:Oe,wrappers:Pe,addClassNamePrefix:tt,removeClassNamePrefix:et,parseDOMJSON:nt,hashCode:it,getByPath:rt,setByPath:ot,unsetByPath:at,flattenObject:st,uuid:Tt,guid:lt,toKebabCase:ut,normalizeEvent:ct,nextFrame:Dt,cancelFrame:Nt,shapePerimeterConnectionPoint:function(t,e,n,i){var r,o,a,s;return n||(a=e.$(".scalable")[0],s=e.$(".rotatable")[0],a&&a.firstChild?n=a.firstChild:s&&s.firstChild&&(n=s.firstChild)),n?(o=It(n).findIntersection(i,t.paper.cells))||(r=It(n).getBBox({target:t.paper.cells})):o=(r=e.model.getBBox()).intersectionWithLineFromCenterToPoint(i),o||r.center()},isPercentage:Lt,parseCssNumeric:ht,breakText:dt,sanitizeHTML:ft,downloadBlob:pt,downloadDataUri:function(t,e){t=gt(t);pt(t,e)},dataUriToBlob:gt,imageToDataUri:function(i,r){if(!i||"data:"===i.substr(0,"data:".length))return setTimeout(function(){r(null,i)},0);function o(t,e){var n;200===t.status?(n=new Uint8Array(t.response),e(null,"data:image/"+({svg:"svg+xml"}[t=i.split(".").pop()||"png"]||t)+";base64,"+btoa(function(t){for(var e=[],n=0;n<t.length;n+=32768)e.push(String.fromCharCode.apply(null,t.subarray(n,n+32768)));return e.join("")}(n)))):e(new Error("Failed to load image "+i))}var a=new XMLHttpRequest;a.open("GET",i,!0),a.addEventListener("error",function(){r(new Error("Failed to load image "+i))}),a.responseType=window.FileReader?"blob":"arraybuffer",a.addEventListener("load",function(){var t,e,n;window.FileReader?(e=r,200===(t=a).status?((n=new FileReader).onload=function(t){t=t.target.result;e(null,t)},n.onerror=function(){e(new Error("Failed to load image "+i))},n.readAsDataURL(t.response)):e(new Error("Failed to load image "+i))):o(a,r)}),a.send()},getElementBBox:function(t){var e=b(t);if(0===e.length)throw new Error("Element not found");var n=e[0],i=n.ownerDocument,r=n.getBoundingClientRect(),t=0,e=0;return n.ownerSVGElement&&(n=(n=It(n)).getBBox({target:n.svg()}),t=r.width-n.width,e=r.height-n.height),{x:r.left+window.pageXOffset-i.documentElement.offsetLeft+t/2,y:r.top+window.pageYOffset-i.documentElement.offsetTop+e/2,width:r.width-t,height:r.height-e}},sortElements:mt,setAttributesBySelector:function(t,e){var n=b(t);pe(e,function(t,e){e=n.find(e).addBack().filter(e);ue(t,"class")&&(e.addClass(t.class),t=he(t,"class")),e.attr(t)})},normalizeSides:kt,timing:Et,interpolate:Ot,filter:Pt,format:zt,template:jt,toggleFullScreen:function(t){var e=window.top.document;function n(t,e){for(var n=["webkit","moz","ms","o",""],i=0;i<n.length;i++){var r=n[i],r=r?r+e:e.substr(0,1).toLowerCase()+e.substr(1);if(void 0!==t[r])return Qt(t[r])?t[r]():t[r]}}t=t||e.body,n(e,"FullscreenElement")||n(e,"FullScreenElement")?n(e,"ExitFullscreen")||n(e,"CancelFullScreen"):n(t,"RequestFullscreen")||n(t,"RequestFullScreen")},mixin:Yt,supplement:Rt,deepMixin:Bt,deepSupplement:Ft,assign:Ht,defaults:Wt,defaultsDeep:Gt,invoke:Ut,sortedIndex:Zt,uniq:Vt,clone:Xt,cloneDeep:qt,isEmpty:Jt,isEqual:$t,isFunction:Qt,isPlainObject:Kt,toArray:te,debounce:ee,groupBy:ne,sortBy:ie,flattenDeep:re,without:oe,difference:ae,intersection:se,union:le,has:ue,result:ce,omit:he,pick:de,bindAll:fe,forIn:pe,camelCase:ge,uniqueId:me,merge:yt,isBoolean:vt,isObject:xt,isNumber:_t,isString:ye,noop:bt,cloneCells:ve};function je(t,e,n){t=t.toJSON();return t.angle=e||0,Wt({},n,t)}function Ye(t,e,n){return t.map(function(t,e,n){n=this.pointAt((e+.5)/n.length);return(t.dx||t.dy)&&n.offset(t.dx||0,t.dy||0),je(n.round(),0,t)},E(e,n))}function Re(t,e,i,r){var o=e.center(),a=e.width/e.height,s=e.topMiddle(),l=w.fromRect(e);return t.map(function(t,e,n){e=i+r(e,n.length),n=s.clone().rotate(o,-e).scale(a,1,o),e=t.compensateRotation?-l.tangentTheta(n):0;return(t.dx||t.dy)&&n.offset(t.dx||0,t.dy||0),t.dr&&n.move(o,t.dr),je(n.round(),e,t)})}function Be(t,e){var n=e.x;ye(n)&&(n=parseFloat(n)/100*t.width);e=e.y;return ye(e)&&(e=parseFloat(e)/100*t.height),O(n||0,e||0)}var Fe={absolute:function(t,e,n){return t.map(Be.bind(null,e))},fn:function(t,e,n){return n.fn(t,e,n)},line:function(t,e,n){return Ye(t,Be(e,n.start||e.origin()),Be(e,n.end||e.corner()))},left:function(t,e,n){return Ye(t,e.origin(),e.bottomLeft())},right:function(t,e,n){return Ye(t,e.topRight(),e.corner())},top:function(t,e,n){return Ye(t,e.origin(),e.topRight())},bottom:function(t,e,n){return Ye(t,e.bottomLeft(),e.corner())},ellipseSpread:function(t,e,n){var i=n.startAngle||0,r=n.step||360/t.length;return Re(t,e,i,function(t){return t*r})},ellipse:function(t,e,n){var i=n.startAngle||0,r=n.step||20;return Re(t,e,i,function(t,e){return(t+.5-e/2)*r})}};function He(t,e){return Gt({},t,e,{x:0,y:0,angle:0,attrs:{".":{y:"0","text-anchor":"start"}}})}function We(t,e,n,i){i=Wt({},i,{offset:15});var r,o,a,s=e.center().theta(t),t=Ge(e),e=i.offset,i=0,e=s<t[1]||s>t[2]?(a=".3em",r=e,o=0,"start"):s<t[0]?(a="0",r=0,o=-e,n?(i=-90,"start"):"middle"):s<t[3]?(a=".3em",r=-e,o=0,"end"):(a=".6em",r=0,o=e,n?(i=90,"start"):"middle"),n=Math.round;return He({x:n(r),y:n(o),angle:i,attrs:{".":{y:a,"text-anchor":e}}})}function Ge(t){var e=t.center(),n=e.theta(t.origin()),i=e.theta(t.bottomLeft()),r=e.theta(t.corner());return[n,e.theta(t.topRight()),r,i]}function Ue(t,e,n,i){var r,o,a,s=e.center().theta(t),t=(i=Wt({},i,{offset:15})).offset,i=0,e=Ge(e),t=s<e[1]||s>e[2]?(a=".3em",r=-t,o=0,"end"):s<e[0]?(a=".6em",r=0,o=t,n?(i=90,"start"):"middle"):s<e[3]?(a=".3em",r=t,o=0,"start"):(a="0em",r=0,o=-t,n?(i=-90,"start"):"middle"),n=Math.round;return He({x:n(r),y:n(o),angle:i,attrs:{".":{y:a,"text-anchor":t}}})}function Ze(t,e,n){n=Wt({},n,{offset:20});var i,r=O(0,0),o=-t.theta(r),a=o,n=t.clone().move(r,n.offset).difference(t).round(),t=".3em";(90+o)%180==0?(i=e?"end":"middle",e||-270!=o||(t="0em")):-270<o&&o<-90?(i="start",a=o-180):i="end";o=Math.round;return He({x:o(n.x),y:o(n.y),angle:e?a:0,attrs:{".":{y:t,"text-anchor":i}}})}function Ve(t){t=qt(t)||{},this.ports=[],this.groups={},this.portLayoutNamespace=Fe,this.portLabelLayoutNamespace=Xe,this._init(t)}var Xe={manual:function(t,e,n){return He(n,e)},left:function(t,e,n){return He(n,{x:-15,attrs:{".":{y:".3em","text-anchor":"end"}}})},right:function(t,e,n){return He(n,{x:15,attrs:{".":{y:".3em","text-anchor":"start"}}})},top:function(t,e,n){return He(n,{y:-15,attrs:{".":{"text-anchor":"middle"}}})},bottom:function(t,e,n){return He(n,{y:15,attrs:{".":{y:".6em","text-anchor":"middle"}}})},outsideOriented:function(t,e,n){return We(t,e,!0,n)},outside:function(t,e,n){return We(t,e,!1,n)},insideOriented:function(t,e,n){return Ue(t,e,!0,n)},inside:function(t,e,n){return Ue(t,e,!1,n)},radial:function(t,e,n){return Ze(t.difference(e.center()),!1,n)},radialOriented:function(t,e,n){return Ze(t.difference(e.center()),!0,n)}},qe=Ee.extend({markup:['<path class="connection" stroke="black" d="M 0 0 0 0"/>','<path class="marker-source" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="marker-target" fill="black" stroke="black" d="M 0 0 0 0"/>','<path class="connection-wrap" d="M 0 0 0 0"/>','<g class="labels"/>','<g class="marker-vertices"/>','<g class="marker-arrowheads"/>','<g class="link-tools"/>'].join(""),toolMarkup:['<g class="link-tool">','<g class="tool-remove" event="remove">','<circle r="11" />','<path transform="scale(.8) translate(-16, -16)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z" />',"<title>Remove link.</title>","</g>",'<g class="tool-options" event="link:options">','<circle r="11" transform="translate(25)"/>','<path fill="white" transform="scale(.55) translate(29, -16)" d="M31.229,17.736c0.064-0.571,0.104-1.148,0.104-1.736s-0.04-1.166-0.104-1.737l-4.377-1.557c-0.218-0.716-0.504-1.401-0.851-2.05l1.993-4.192c-0.725-0.91-1.549-1.734-2.458-2.459l-4.193,1.994c-0.647-0.347-1.334-0.632-2.049-0.849l-1.558-4.378C17.165,0.708,16.588,0.667,16,0.667s-1.166,0.041-1.737,0.105L12.707,5.15c-0.716,0.217-1.401,0.502-2.05,0.849L6.464,4.005C5.554,4.73,4.73,5.554,4.005,6.464l1.994,4.192c-0.347,0.648-0.632,1.334-0.849,2.05l-4.378,1.557C0.708,14.834,0.667,15.412,0.667,16s0.041,1.165,0.105,1.736l4.378,1.558c0.217,0.715,0.502,1.401,0.849,2.049l-1.994,4.193c0.725,0.909,1.549,1.733,2.459,2.458l4.192-1.993c0.648,0.347,1.334,0.633,2.05,0.851l1.557,4.377c0.571,0.064,1.148,0.104,1.737,0.104c0.588,0,1.165-0.04,1.736-0.104l1.558-4.377c0.715-0.218,1.399-0.504,2.049-0.851l4.193,1.993c0.909-0.725,1.733-1.549,2.458-2.458l-1.993-4.193c0.347-0.647,0.633-1.334,0.851-2.049L31.229,17.736zM16,20.871c-2.69,0-4.872-2.182-4.872-4.871c0-2.69,2.182-4.872,4.872-4.872c2.689,0,4.871,2.182,4.871,4.872C20.871,18.689,18.689,20.871,16,20.871z"/>',"<title>Link options.</title>","</g>","</g>"].join(""),doubleToolMarkup:void 0,vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>"].join(""),arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<path class="marker-arrowhead" end="<%= end %>" d="M 26 0 L 0 13 L 26 26 z" />',"</g>"].join(""),defaultLabel:void 0,labelMarkup:void 0,_builtins:{defaultLabel:{markup:[{tagName:"rect",selector:"rect"},{tagName:"text",selector:"text"}],attrs:{text:{fill:"#000000",fontSize:14,textAnchor:"middle",yAlignment:"middle",pointerEvents:"none"},rect:{ref:"text",fill:"#ffffff",rx:3,ry:3,refWidth:1,refHeight:1,refX:0,refY:0}},position:{distance:.5}}},defaults:{type:"link",source:{},target:{}},isLink:function(){return!0},disconnect:function(t){return this.set({source:{x:0,y:0},target:{x:0,y:0}},t)},source:function(t,e,n){return void 0===t?Xt(this.get("source")):t instanceof Ee?((i=Xt(e)||{}).id=t.id,this.set("source",i,n)):Kt(t)?this.set("source",i=t,e):((i=Xt(e)||{}).x=t.x,i.y=t.y,this.set("source",i,n));var i},target:function(t,e,n){return void 0===t?Xt(this.get("target")):t instanceof Ee?((i=Xt(e)||{}).id=t.id,this.set("target",i,n)):Kt(t)?this.set("target",i=t,e):((i=Xt(e)||{}).x=t.x,i.y=t.y,this.set("target",i,n));var i},router:function(t,e,n){if(void 0===t){var i=this.get("router");return i?"object"==typeof i?Xt(i):i:this.get("manhattan")?{name:"orthogonal"}:null}i="object"==typeof t||"function"==typeof t;return this.set("router",i?t:{name:t,args:e},i?e:n)},connector:function(t,e,n){if(void 0===t){var i=this.get("connector");return i?"object"==typeof i?Xt(i):i:this.get("smooth")?{name:"smooth"}:null}i="object"==typeof t||"function"==typeof t;return this.set("connector",i?t:{name:t,args:e},i?e:n)},label:function(t,e,n){var i=this.labels();return(t=isFinite(t)&&null!==t?0|t:0)<0&&(t=i.length+t),arguments.length<=1?this.prop(["labels",t]):this.prop(["labels",t],e,n)},labels:function(t,e){return 0===arguments.length?(t=this.get("labels"),Array.isArray(t)?t.slice():[]):(Array.isArray(t)||(t=[]),this.set("labels",t,e))},insertLabel:function(t,e,n){if(!e)throw new Error("dia.Link: no label provided");var i=this.labels(),r=i.length;return t=isFinite(t)&&null!==t?0|t:r,i.splice(t=t<0?r+t+1:t,0,e),this.labels(i,n)},appendLabel:function(t,e){return this.insertLabel(-1,t,e)},removeLabel:function(t,e){var n=this.labels();return t=isFinite(t)&&null!==t?0|t:-1,n.splice(t,1),this.labels(n,e)},vertex:function(t,e,n){var i=this.vertices();if((t=isFinite(t)&&null!==t?0|t:0)<0&&(t=i.length+t),arguments.length<=1)return this.prop(["vertices",t]);e=this._normalizeVertex(e);return this.prop(["vertices",t],e,n)},vertices:function(t,e){if(0===arguments.length)return t=this.get("vertices"),Array.isArray(t)?t.slice():[];Array.isArray(t)||(t=[]);for(var n=[],i=0;i<t.length;i++){var r=t[i],r=this._normalizeVertex(r);n.push(r)}return this.set("vertices",n,e)},insertVertex:function(t,e,n){if(!e)throw new Error("dia.Link: no vertex provided");var i=this.vertices(),r=i.length;(t=isFinite(t)&&null!==t?0|t:r)<0&&(t=r+t+1);e=this._normalizeVertex(e);return i.splice(t,0,e),this.vertices(i,n)},removeVertex:function(t,e){var n=this.vertices();return t=isFinite(t)&&null!==t?0|t:-1,n.splice(t,1),this.vertices(n,e)},_normalizeVertex:function(t){return Kt(t)?t:{x:t.x,y:t.y}},translate:function(e,n,t){return(t=t||{}).translateBy=t.translateBy||this.id,t.tx=e,t.ty=n,this.applyToPoints(function(t){return{x:(t.x||0)+e,y:(t.y||0)+n}},t)},scale:function(e,n,i,t){return this.applyToPoints(function(t){return Y(t).scale(e,n,i).toJSON()},t)},applyToPoints:function(t,e){if(!Qt(t))throw new TypeError("dia.Link: applyToPoints expects its first parameter to be a function.");var n={},i=this.source();i.id||(n.source=t(i));i=this.target();i.id||(n.target=t(i));i=this.vertices();return 0<i.length&&(n.vertices=i.map(t)),this.set(n,e)},getSourcePoint:function(){var t=this.getSourceCell();return t?t.getPointFromConnectedLink(this,"source"):new Y(this.source())},getTargetPoint:function(){var t=this.getTargetCell();return t?t.getPointFromConnectedLink(this,"target"):new Y(this.target())},getPointFromConnectedLink:function(){return this.getPolyline().pointAt(.5)},getPolyline:function(){var t=[this.getSourcePoint(),this.getTargetPoint()],e=this.vertices();return 0<e.length&&Array.prototype.push.apply(t,e.map(Y)),new R(t)},getBBox:function(){return this.getPolyline().bbox()},reparent:function(t){var e,n,i,r;return this.graph&&(n=this.getSourceElement(),i=this.getTargetElement(),r=this.getParentCell(),n&&i&&(e=n===i||n.isEmbeddedIn(i)?i:i.isEmbeddedIn(n)?n:this.graph.getCommonAncestor(n,i)),!r||e&&e.id===r.id||r.unembed(this,t),e&&e.embed(this,t)),e},hasLoop:function(t){t=t||{};var e=this.source().id,n=this.target().id;if(!e||!n)return!1;e=e===n;return!e&&t.deep&&this.graph&&(n=this.getSourceCell(),t=this.getTargetCell(),e=n.isEmbeddedIn(t)||t.isEmbeddedIn(n)),e},getSourceCell:function(){var t=this.source(),e=this.graph;return t&&t.id&&e&&e.getCell(t.id)||null},getSourceElement:function(){var t=this,e={};do{if(e[t.id])return null}while(e[t.id]=!0,(t=t.getSourceCell())&&t.isLink());return t},getTargetCell:function(){var t=this.target(),e=this.graph;return t&&t.id&&e&&e.getCell(t.id)||null},getTargetElement:function(){var t=this,e={};do{if(e[t.id])return null}while(e[t.id]=!0,(t=t.getTargetCell())&&t.isLink());return t},getRelationshipAncestor:function(){var t;return this.graph&&(t=[this,this.getSourceElement(),this.getTargetElement()].filter(function(t){return!!t}),t=this.graph.getCommonAncestor.apply(this.graph,t)),t||null},isRelationshipEmbeddedIn:function(t){var e=ye(t)||_t(t)?t:t.id,t=this.getRelationshipAncestor();return!!t&&(t.id===e||t.isEmbeddedIn(e))},_getDefaultLabel:function(){var t=this.get("defaultLabel")||this.defaultLabel||{},e={};return e.markup=t.markup||this.get("labelMarkup")||this.labelMarkup,e.position=t.position,e.attrs=t.attrs,e.size=t.size,e}},{endsEqual:function(t,e){var n=t.port===e.port||!t.port&&!e.port;return t.id===e.id&&n}});Ve.prototype={getPorts:function(){return this.ports},getGroup:function(t){return this.groups[t]||{}},getPortsByGroup:function(e){return this.ports.filter(function(t){return t.group===e})},getGroupPortsMetrics:function(t,i){var e=this.getGroup(t),n=this.getPortsByGroup(t),r=e.position||{},o=r.name,t=this.portLayoutNamespace;t[o]||(o="left");e=r.args||{},r=n.map(function(t){return t&&t.position&&t.position.args}),e=t[o](r,i,e),n={ports:n,result:[]};return te(e).reduce(function(t,e,n){n=t.ports[n];return t.result.push({portId:n.id,portTransformation:e,labelTransformation:this._getPortLabelLayout(n,Y(e),i),portAttrs:n.attrs,portSize:n.size,labelSize:n.label.size}),t}.bind(this),n),n.result},_getPortLabelLayout:function(t,e,n){var i=this.portLabelLayoutNamespace,r=t.label.position.name||"left";return i[r]?i[r](e,n,t.label.position.args):null},_init:function(t){if(xt(t.groups))for(var e=Object.keys(t.groups),n=0,i=e.length;n<i;n++){var r=e[n];this.groups[r]=this._evaluateGroup(t.groups[r])}for(var o=te(t.items),a=0,s=o.length;a<s;a++)this.ports.push(this._evaluatePort(o[a]))},_evaluateGroup:function(t){return yt(t,{position:this._getPosition(t.position,!0),label:this._getLabel(t,!0)})},_evaluatePort:function(t){var e=Ht({},t),t=this.getGroup(t.group);return e.markup=e.markup||t.markup,e.attrs=yt({},t.attrs,e.attrs),e.position=this._createPositionNode(t,e),e.label=yt({},t.label,this._getLabel(e)),e.z=this._getZIndex(t,e),e.size=Ht({},t.size,e.size),e},_getZIndex:function(t,e){return _t(e.z)?e.z:_t(t.z)||"auto"===t.z?t.z:"auto"},_createPositionNode:function(t,e){return yt({name:"left",args:{}},t.position,{args:e.args})},_getPosition:function(t,e){var n,i={};Qt(t)?(n="fn",i.fn=t):ye(t)?n=t:void 0===t?n=e?"left":null:Array.isArray(t)?(n="absolute",i.x=t[0],i.y=t[1]):xt(t)&&(n=t.name,Ht(i,t.args));i={args:i};return n&&(i.name=n),i},_getLabel:function(t,e){var n=t.label||{},t=n;return t.position=this._getPosition(n.position,e),t}};var Je={_initializePorts:function(){this._createPortData(),this.on("change:ports",function(){this._processRemovedPort(),this._createPortData()},this)},_processRemovedPort:function(){var t=this.get("ports")||{},e={};te(t.items).forEach(function(t){e[t.id]=!0});var t=this.previous("ports")||{},n={};te(t.items).forEach(function(t){e[t.id]||(n[t.id]=!0)});t=this.graph;t&&!Jt(n)&&(t.getConnectedLinks(this,{inbound:!0}).forEach(function(t){n[t.get("target").port]&&t.remove()}),t.getConnectedLinks(this,{outbound:!0}).forEach(function(t){n[t.get("source").port]&&t.remove()}))},hasPorts:function(){var t=this.prop("ports/items");return Array.isArray(t)&&0<t.length},hasPort:function(t){return-1!==this.getPortIndex(t)},getPorts:function(){return qt(this.prop("ports/items"))||[]},getPort:function(e){return qt(te(this.prop("ports/items")).find(function(t){return t.id&&t.id===e}))},getPortsPositions:function(t){return this._portSettingsData.getGroupPortsMetrics(t,G(this.size())).reduce(function(t,e){var n=e.portTransformation;return t[e.portId]={x:n.x,y:n.y,angle:n.angle},t},{})},getPortIndex:function(t){var e=xt(t)?t.id:t;return this._isValidPortId(e)?te(this.prop("ports/items")).findIndex(function(t){return t.id===e}):-1},addPort:function(t,e){if(!xt(t)||Array.isArray(t))throw new Error("Element: addPort requires an object.");var n=Ht([],this.prop("ports/items"));return n.push(t),this.prop("ports/items",n,e),this},portProp:function(t,e,n,i){var r=this.getPortIndex(t);if(-1===r)throw new Error("Element: unable to find port with id "+t);t=Array.prototype.slice.call(arguments,1);return Array.isArray(e)?t[0]=["ports","items",r].concat(e):ye(e)?t[0]=["ports/items/",r,"/",e].join(""):(t=["ports/items/"+r],Kt(e)&&(t.push(e),t.push(n))),this.prop.apply(this,t)},_validatePorts:function(){var t=this.get("ports")||{},e=[],t=te((t=t||{}).items);return t.forEach(function(t){"object"!=typeof t&&e.push("Element: invalid port ",t),this._isValidPortId(t.id)||(t.id=this.generatePortId())},this),Vt(t,"id").length!==t.length&&e.push("Element: found id duplicities in ports."),e},generatePortId:function(){return this.generateId()},_isValidPortId:function(t){return null!=t&&!xt(t)},addPorts:function(t,e){return t.length&&this.prop("ports/items",Ht([],this.prop("ports/items")).concat(t),e),this},removePort:function(t,e){var n=e||{},e=Ht([],this.prop("ports/items")),t=this.getPortIndex(t);return-1!==t&&(e.splice(t,1),n.rewrite=!0,this.prop("ports/items",e,n)),this},removePorts:function(t,e){var n;return Array.isArray(t)?(n=e||{},t.length&&(n.rewrite=!0,e=Ht([],this.prop("ports/items")).filter(function(e){return!t.some(function(t){t=xt(t)?t.id:t;return e.id===t})}),this.prop("ports/items",e,n))):((n=t||{}).rewrite=!0,this.prop("ports/items",[],n)),this},_createPortData:function(){var t,e=this._validatePorts();if(0<e.length)throw this.set("ports",this.previous("ports")),new Error(e.join(" "));this._portSettingsData&&(t=this._portSettingsData.getPorts()),this._portSettingsData=new Ve(this.get("ports"));var n,i=this._portSettingsData.getPorts();t&&(n=i.filter(function(e){if(!t.find(function(t){return t.id===e.id}))return e}),0<(e=t.filter(function(e){if(!i.find(function(t){return t.id===e.id}))return e})).length&&this.trigger("ports:remove",this,e),0<n.length&&this.trigger("ports:add",this,n))}},$e={portContainerMarkup:"g",portMarkup:[{tagName:"circle",selector:"circle",attributes:{r:10,fill:"#FFFFFF",stroke:"#000000"}}],portLabelMarkup:[{tagName:"text",selector:"text",attributes:{fill:"#000000"}}],_portElementsCache:null,_initializePorts:function(){this._portElementsCache={}},_refreshPorts:function(){this._removePorts(),this._portElementsCache={},this._renderPorts()},_renderPorts:function(){for(var e=[],n=this._getContainerElement(),t=0,i=n.node.childNodes.length;t<i;t++)e.push(n.node.childNodes[t]);var r=ne(this.model._portSettingsData.getPorts(),"z");te(r.auto).forEach(function(t){t=this._getPortElement(t);n.append(t),e.push(t)},this);for(var o=Object.keys(r),a=0;a<o.length;a++){var s,l=o[a];"auto"!==l&&(s=parseInt(l,10),this._appendPorts(r[l],s,e))}this._updatePorts()},_getContainerElement:function(){return this.rotatableNode||this.vel},_appendPorts:function(t,e,n){var i=this._getContainerElement(),t=te(t).map(this._getPortElement,this);n[e]||e<0?It(n[Math.max(e,0)]).before(t):i.append(t)},_getPortElement:function(t){return this._portElementsCache[t.id]?this._portElementsCache[t.id].portElement:this._createPortElement(t)},findPortNode:function(t,e){var n=this._portElementsCache[t];if(!n)return null;t=n.portContentElement.node,n=n.portContentSelectors;return this.findBySelector(e,t,n)[0]},_updatePorts:function(){this._updatePortGroup(void 0),Object.keys(this.model._portSettingsData.groups).forEach(this._updatePortGroup,this)},_removePorts:function(){Ut(this._portElementsCache,"portElement.remove")},_createPortElement:function(t){var e,n,i,r=It(this.portContainerMarkup).addClass("joint-port"),o=this._getPortMarkup(t);if(Array.isArray(o)?(n=1<(n=(e=this.parseDOMJSON(o,r.node)).fragment).childNodes.length?It("g").append(n):It(n.firstChild),i=e.selectors):(n=It(o),Array.isArray(n)&&(n=It("g").append(n))),!n)throw new Error("ElementView: Invalid port markup.");n.attr({port:t.id,"port-group":t.group});var a,s,l,o=this._getPortLabelMarkup(t.label);if(Array.isArray(o)?(a=1<(a=(s=this.parseDOMJSON(o,r.node)).fragment).childNodes.length?It("g").append(a):It(a.firstChild),s=s.selectors):(a=It(o),Array.isArray(a)&&(a=It("g").append(a))),!a)throw new Error("ElementView: Invalid port label markup.");if(i&&s){for(var u in s)if(i[u]&&u!==this.selector)throw new Error("ElementView: selectors within port must be unique.");l=Ht({},i,s)}else l=i||s;return r.append([n.addClass("joint-port-body"),a.addClass("joint-port-label")]),this._portElementsCache[t.id]={portElement:r,portLabelElement:a,portSelectors:l,portLabelSelectors:s,portContentElement:n,portContentSelectors:i},r},_updatePortGroup:function(t){for(var e=G(this.model.size()),n=this.model._portSettingsData.getGroupPortsMetrics(t,e),i=0,r=n.length;i<r;i++){var o=n[i],a=o.portId,s=this._portElementsCache[a]||{},l=o.portTransformation;this.applyPortTransform(s.portElement,l),this.updateDOMSubtreeAttributes(s.portElement.node,o.portAttrs,{rootBBox:new G(o.portSize),selectors:s.portSelectors});a=o.labelTransformation;a&&(this.applyPortTransform(s.portLabelElement,a,-l.angle||0),this.updateDOMSubtreeAttributes(s.portLabelElement.node,a.attrs,{rootBBox:new G(o.labelSize),selectors:s.portLabelSelectors}))}},applyPortTransform:function(t,e,n){e=It.createSVGMatrix().rotate(n||0).translate(e.x||0,e.y||0).rotate(e.angle||0);t.transform(e,{absolute:!0})},_getPortMarkup:function(t){return t.markup||this.model.get("portMarkup")||this.model.portMarkup||this.portMarkup},_getPortLabelMarkup:function(t){return t.markup||this.model.get("portLabelMarkup")||this.model.portLabelMarkup||this.portLabelMarkup}},Qe=Ee.extend({defaults:{position:{x:0,y:0},size:{width:1,height:1},angle:0},initialize:function(){this._initializePorts(),Ee.prototype.initialize.apply(this,arguments)},_initializePorts:function(){},_refreshPorts:function(){},isElement:function(){return!0},position:function(t,e,n){var i=_t(e);if((n=(i?n:t)||{}).parentRelative){if(!this.graph)throw new Error("Element must be part of a graph.");var r=this.getParentCell(),r=r&&!r.isLink()?r.get("position"):{x:0,y:0}}if(i)return n.parentRelative&&(t+=r.x,e+=r.y),n.deep?(i=this.get("position"),this.translate(t-i.x,e-i.y,n)):this.set("position",{x:t,y:e},n),this;e=Y(this.get("position"));return n.parentRelative?e.difference(r):e},translate:function(t,e,n){if(e=e||0,0===(t=t||0)&&0===e)return this;(n=n||{}).translateBy=n.translateBy||this.id;var i,r,o,a,s=this.get("position")||{x:0,y:0};n.restrictedArea&&n.translateBy===this.id&&(a=this.getBBox({deep:!0}),i=n.restrictedArea,o=s.x-a.x,r=s.y-a.y,o=Math.max(i.x+o,Math.min(i.x+i.width+o-a.width,s.x+t)),a=Math.max(i.y+r,Math.min(i.y+i.height+r-a.height,s.y+e)),t=o-s.x,e=a-s.y);s={x:s.x+t,y:s.y+e};return n.tx=t,n.ty=e,n.transition?(xt(n.transition)||(n.transition={}),this.transition("position",s,Ht({},n.transition,{valueFunction:Ot.object})),Ut(this.getEmbeddedCells(),"translate",t,e,n)):(this.startBatch("translate",n),this.set("position",s,n),Ut(this.getEmbeddedCells(),"translate",t,e,n),this.stopBatch("translate",n)),this},size:function(t,e,n){var i=this.get("size");return void 0===t?{width:i.width,height:i.height}:(xt(t)&&(n=e,e=(_t(t.height)?t:i).height,t=(_t(t.width)?t:i).width),this.resize(t,e,n))},resize:function(t,e,n){if(this.startBatch("resize",n=n||{}),n.direction){var i=this.get("size");switch(n.direction){case"left":case"right":e=i.height;break;case"top":case"bottom":t=i.width}var r=B(this.get("angle")||0),o={"top-right":0,right:0,"top-left":1,top:1,"bottom-left":2,left:2,"bottom-right":3,bottom:3}[n.direction];n.absolute&&(o+=Math.floor((r+45)/90),o%=4);var a=this.getBBox(),s=a[["bottomLeft","corner","topRight","origin"][o]](),l=Y(s).rotate(a.center(),-r),s=Math.sqrt(t*t+e*e)/2,a=o*Math.PI/2;a+=Math.atan(o%2==0?e/t:t/e),a-=N(r);l=Y.fromPolar(s,a,l),l=Y(l).offset(t/-2,e/-2);this.set("size",{width:t,height:e},n),this.position(l.x,l.y,n)}else this.set("size",{width:t,height:e},n);return this.stopBatch("resize",n),this},scale:function(t,e,n,i){n=this.getBBox().scale(t,e,n);return this.startBatch("scale",i),this.position(n.x,n.y,i),this.resize(n.width,n.height,i),this.stopBatch("scale"),this},fitEmbeds:function(t){if(t=t||{},!this.graph)throw new Error("Element must be part of a graph.");var e,n=this.getEmbeddedCells();return 0<n.length&&(this.startBatch("fit-embeds",t),t.deep&&Ut(n,"fitEmbeds",t),e=this.graph.getCellsBBox(n),n=kt(t.padding),e.moveAndExpand({x:-n.left,y:-n.top,width:n.right+n.left,height:n.bottom+n.top}),this.set({position:{x:e.x,y:e.y},size:{width:e.width,height:e.height}},t),this.stopBatch("fit-embeds")),this},rotate:function(t,e,n,i){var r,o,a,s;return n?(r=this.getBBox().center(),s=this.get("size"),o=this.get("position"),r.rotate(n,this.get("angle")-t),a=r.x-s.width/2-o.x,s=r.y-s.height/2-o.y,this.startBatch("rotate",{angle:t,absolute:e,origin:n}),this.position(o.x+a,o.y+s,i),this.rotate(t,e,null,i),this.stopBatch("rotate")):this.set("angle",e?t:(this.get("angle")+t)%360,i),this},angle:function(){return B(this.get("angle")||0)},getBBox:function(t){if((t=t||{}).deep&&this.graph){var e=this.getEmbeddedCells({deep:!0,breadthFirst:!0});return e.push(this),this.graph.getCellsBBox(e)}t=this.get("position"),e=this.get("size");return new G(t.x,t.y,e.width,e.height)},getPointFromConnectedLink:function(t,e){var n=this.getBBox(),i=n.center(),t=t.get(e);if(!t)return i;e=t.port;if(!e)return i;t=this.portProp(e,["group"]),t=this.getPortsPositions(t),e=new Y(t[e]).offset(n.origin()),n=this.angle();return n&&e.rotate(i,-n),e}});Ht(Qe.prototype,Je);var Ke=r.Collection.extend({initialize:function(t,e){e.cellNamespace?this.cellNamespace=e.cellNamespace:this.cellNamespace="undefined"!=typeof joint&&ue(joint,"shapes")?joint.shapes:null,this.graph=e.graph},model:function(t,e){var n=e.collection,i=n.cellNamespace,t=new("link"===t.type?qe:rt(i,t.type,".")||Qe)(t,e);return e.dry||(t.graph=n.graph),t},comparator:function(t){return t.get("z")||0}}),tn=r.Model.extend({_batches:{},initialize:function(t,e){e=new Ke([],{model:(e=e||{}).cellModel,cellNamespace:e.cellNamespace,graph:this});r.Model.prototype.set.call(this,"cells",e),e.on("all",this.trigger,this),this.on("change:z",this._sortOnChangeZ,this),this._out={},this._in={},this._nodes={},this._edges={},e.on("add",this._restructureOnAdd,this),e.on("remove",this._restructureOnRemove,this),e.on("reset",this._restructureOnReset,this),e.on("change:source",this._restructureOnChangeSource,this),e.on("change:target",this._restructureOnChangeTarget,this),e.on("remove",this._removeCell,this)},_sortOnChangeZ:function(){this.get("cells").sort()},_restructureOnAdd:function(t){var e,n;t.isLink()?(this._edges[t.id]=!0,e=t.source(),n=t.target(),e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0),n.id&&((this._in[n.id]||(this._in[n.id]={}))[t.id]=!0)):this._nodes[t.id]=!0},_restructureOnRemove:function(t){var e,n;t.isLink()?(delete this._edges[t.id],e=t.source(),n=t.target(),e.id&&this._out[e.id]&&this._out[e.id][t.id]&&delete this._out[e.id][t.id],n.id&&this._in[n.id]&&this._in[n.id][t.id]&&delete this._in[n.id][t.id]):delete this._nodes[t.id]},_restructureOnReset:function(t){t=t.models,this._out={},this._in={},this._nodes={},this._edges={},t.forEach(this._restructureOnAdd,this)},_restructureOnChangeSource:function(t){var e=t.previous("source");e.id&&this._out[e.id]&&delete this._out[e.id][t.id];e=t.source();e.id&&((this._out[e.id]||(this._out[e.id]={}))[t.id]=!0)},_restructureOnChangeTarget:function(t){var e=t.previous("target");e.id&&this._in[e.id]&&delete this._in[e.id][t.id];e=t.get("target");e.id&&((this._in[e.id]||(this._in[e.id]={}))[t.id]=!0)},getOutboundEdges:function(t){return this._out&&this._out[t]||{}},getInboundEdges:function(t){return this._in&&this._in[t]||{}},toJSON:function(){var t=r.Model.prototype.toJSON.apply(this,arguments);return t.cells=this.get("cells").toJSON(),t},fromJSON:function(t,e){if(!t.cells)throw new Error("Graph JSON must contain cells array.");return this.set(t,e)},set:function(t,e,n){var i;return"object"==typeof t?(i=t,n=e):(i={})[t]=e,i.hasOwnProperty("cells")&&(this.resetCells(i.cells,n),i=he(i,"cells")),r.Model.prototype.set.call(this,i,n)},clear:function(t){t=Ht({},t,{clear:!0});var e=this.get("cells");if(0===e.length)return this;this.startBatch("clear",t);for(var n=e.sortBy(function(t){return t.isLink()?1:2});n.shift().remove(t),0<n.length;);return this.stopBatch("clear"),this},_prepareCell:function(t,e){var n;if(t instanceof r.Model?(n=t.attributes,t.graph||e&&e.dry||(t.graph=this)):n=t,!ye(n.type))throw new TypeError("dia.Graph: cell type must be a string.");return t},minZIndex:function(){var t=this.get("cells").first();return t&&t.get("z")||0},maxZIndex:function(){var t=this.get("cells").last();return t&&t.get("z")||0},addCell:function(t,e){return Array.isArray(t)?this.addCells(t,e):(t instanceof r.Model?t.has("z")||t.set("z",this.maxZIndex()+1):void 0===t.z&&(t.z=this.maxZIndex()+1),this.get("cells").add(this._prepareCell(t,e),e||{}),this)},addCells:function(t,e){return 0===t.length||(t=re(t),e.maxPosition=e.position=t.length-1,this.startBatch("add",e),t.forEach(function(t){this.addCell(t,e),e.position--},this),this.stopBatch("add",e)),this},resetCells:function(t,e){t=te(t).map(function(t){return this._prepareCell(t,e)},this);return this.get("cells").reset(t,e),this},removeCells:function(t,e){return t.length&&(this.startBatch("remove"),Ut(t,"remove",e),this.stopBatch("remove")),this},_removeCell:function(t,e,n){(n=n||{}).clear||(n.disconnectLinks?this.disconnectLinks(t,n):this.removeLinks(t,n)),this.get("cells").remove(t,{silent:!0}),t.graph===this&&(t.graph=null)},getCell:function(t){return this.get("cells").get(t)},getCells:function(){return this.get("cells").toArray()},getElements:function(){return Object.keys(this._nodes).map(this.getCell,this)},getLinks:function(){return Object.keys(this._edges).map(this.getCell,this)},getFirstCell:function(){return this.get("cells").first()},getLastCell:function(){return this.get("cells").last()},getConnectedLinks:function(t,r){var o=(r=r||{}).indirect,a=r.inbound,s=r.outbound;void 0===a&&void 0===s&&(a=s=!0);var l,u=[],c={};function h(i,t){pe(i.getOutboundEdges(t.id),function(t,e){var n;c[e]||(n=i.getCell(e),u.push(n),c[e]=!0,o&&(a&&d(i,n),s&&h(i,n)))}.bind(i)),o&&t.isLink()&&((t=t.getTargetCell())&&t.isLink()&&(c[t.id]||(u.push(t),h(i,t))))}function d(i,t){pe(i.getInboundEdges(t.id),function(t,e){var n;c[e]||(n=i.getCell(e),u.push(n),c[e]=!0,o&&(a&&d(i,n),s&&h(i,n)))}.bind(i)),o&&t.isLink()&&((t=t.getSourceCell())&&t.isLink()&&(c[t.id]||(u.push(t),d(i,t))))}return s&&h(this,t),a&&d(this,t),r.deep&&(t=t.getEmbeddedCells({deep:!0}),l={},t.forEach(function(t){t.isElement()&&(l[t.id]=!0)}),t.forEach(function(t){t.isLink()||(s&&pe(this.getOutboundEdges(t.id),function(t,e){var n,i;c[e]||(n=(i=this.getCell(e)).source().id,i=i.target().id,!r.includeEnclosed&&n&&l[n]&&i&&l[i]||(u.push(this.getCell(e)),c[e]=!0))}.bind(this)),a&&pe(this.getInboundEdges(t.id),function(t,e){var n,i;c[e]||(n=(i=this.getCell(e)).source().id,i=i.target().id,!r.includeEnclosed&&n&&l[n]&&i&&l[i]||(u.push(this.getCell(e)),c[e]=!0))}.bind(this)))},this)),u},getNeighbors:function(o,a){var s=(a=a||{}).inbound,l=a.outbound;void 0===s&&void 0===l&&(s=l=!0);var t,e=this.getConnectedLinks(o,a).reduce(function(t,e){var n,i=e.source(),r=e.target(),e=e.hasLoop(a);return!s||!ue(i,"id")||t[i.id]||(n=this.getCell(i.id)).isElement()&&(!e&&(!n||n===o||a.deep&&n.isEmbeddedIn(o))||(t[i.id]=n)),!l||!ue(r,"id")||t[r.id]||(n=this.getCell(r.id)).isElement()&&(!e&&(!n||n===o||a.deep&&n.isEmbeddedIn(o))||(t[r.id]=n)),t}.bind(this),{});return o.isLink()&&(!s||(t=o.getSourceCell())&&t.isElement()&&!e[t.id]&&(e[t.id]=t),!l||(t=o.getTargetCell())&&t.isElement()&&!e[t.id]&&(e[t.id]=t)),te(e)},getCommonAncestor:function(){var t=(t=Array.from(arguments).map(function(t){for(var e=[],n=t.get("parent");n;)e.push(n),n=this.getCell(n).get("parent");return e},this)).sort(function(t,e){return t.length-e.length}),e=te(t.shift()).find(function(e){return t.every(function(t){return t.includes(e)})});return this.getCell(e)},getSuccessors:function(e,t){var n=[];return this.search(e,function(t){t!==e&&n.push(t)},Ht({},t=t||{},{outbound:!0})),n},cloneCells:ve,cloneSubgraph:function(t,e){e=this.getSubgraph(t,e);return this.cloneCells(e)},getSubgraph:function(t,e){e=e||{};var i=[],r={},o=[],n=[];return te(t).forEach(function(t){r[t.id]||(i.push(t),((r[t.id]=t).isLink()?n:o).push(t)),e.deep&&t.getEmbeddedCells({deep:!0}).forEach(function(t){r[t.id]||(i.push(t),((r[t.id]=t).isLink()?n:o).push(t))})}),n.forEach(function(t){var e,n=t.source(),t=t.target();n.id&&!r[n.id]&&(e=this.getCell(n.id),i.push(e),r[e.id]=e,o.push(e)),t.id&&!r[t.id]&&(e=this.getCell(t.id),i.push(this.getCell(t.id)),r[e.id]=e,o.push(e))},this),o.forEach(function(t){this.getConnectedLinks(t,e).forEach(function(t){var e=t.source(),n=t.target();!r[t.id]&&e.id&&r[e.id]&&n.id&&r[n.id]&&(i.push(t),r[t.id]=t)})},this),i},getPredecessors:function(e,t){var n=[];return this.search(e,function(t){t!==e&&n.push(t)},Ht({},t=t||{},{inbound:!0})),n},search:function(t,e,n){(n=n||{}).breadthFirst?this.bfs(t,e,n):this.dfs(t,e,n)},bfs:function(t,e,n){n=n||{};var i={},r={},o=[];for(o.push(t),r[t.id]=0;0<o.length;){var a=o.shift();if(!i[a.id]){if(!(i[a.id]=!0)===e(a,r[a.id]))return;this.getNeighbors(a,n).forEach(function(t){r[t.id]=r[a.id]+1,o.push(t)})}}},dfs:function(t,e,n,i,r){n=n||{};var o=i||{},a=r||0;!1!==e(t,a)&&(o[t.id]=!0,this.getNeighbors(t,n).forEach(function(t){o[t.id]||this.dfs(t,e,n,o,a+1)},this))},getSources:function(){var n=[];return pe(this._nodes,function(t,e){this._in[e]&&!Jt(this._in[e])||n.push(this.getCell(e))}.bind(this)),n},getSinks:function(){var n=[];return pe(this._nodes,function(t,e){this._out[e]&&!Jt(this._out[e])||n.push(this.getCell(e))}.bind(this)),n},isSource:function(t){return!this._in[t.id]||Jt(this._in[t.id])},isSink:function(t){return!this._out[t.id]||Jt(this._out[t.id])},isSuccessor:function(e,n){var i=!1;return this.search(e,function(t){if(t===n&&t!==e)return!(i=!0)},{outbound:!0}),i},isPredecessor:function(e,n){var i=!1;return this.search(e,function(t){if(t===n&&t!==e)return!(i=!0)},{inbound:!0}),i},isNeighbor:function(t,n,e){var i=(e=e||{}).inbound,r=e.outbound;void 0===i&&void 0===r&&(i=r=!0);var o=!1;return this.getConnectedLinks(t,e).forEach(function(t){var e=t.source(),t=t.target();return i&&ue(e,"id")&&e.id===n.id||r&&ue(t,"id")&&t.id===n.id?!(o=!0):void 0}),o},disconnectLinks:function(e,n){this.getConnectedLinks(e).forEach(function(t){t.set(t.source().id===e.id?"source":"target",{x:0,y:0},n)})},removeLinks:function(t,e){Ut(this.getConnectedLinks(t),"remove",e)},findModelsFromPoint:function(e){return this.getElements().filter(function(t){return t.getBBox().containsPoint(e)})},findModelsInArea:function(e,t){e=P(e);var n=(t=Wt(t||{},{strict:!1})).strict?"containsRect":"intersect";return this.getElements().filter(function(t){return e[n](t.getBBox())})},findModelsUnderElement:function(e,t){t=Wt(t||{},{searchBy:"bbox"});var n=e.getBBox();return("bbox"===t.searchBy?this.findModelsInArea(n):this.findModelsFromPoint(n[t.searchBy]())).filter(function(t){return e.id!==t.id&&!t.isEmbeddedIn(e)})},getBBox:function(){return this.getCellsBBox(this.getCells())},getCellsBBox:function(t,i){return i=i||{},te(t).reduce(function(t,e){var n=e.getBBox(i);if(!n)return t;e=e.angle();return e&&(n=n.bbox(e)),t?t.union(n):n},null)},translate:function(t,e,n){var i=this.getCells().filter(function(t){return!t.isEmbedded()});return Ut(i,"translate",t,e,n),this},resize:function(t,e,n){return this.resizeCells(t,e,this.getCells(),n)},resizeCells:function(t,e,n,i){var r=this.getCellsBBox(n);return r&&(t=Math.max(t/r.width,0),e=Math.max(e/r.height,0),Ut(n,"scale",t,e,r.origin(),i)),this},startBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)+1,this.trigger("batch:start",Ht({},e,{batchName:t}))},stopBatch:function(t,e){return e=e||{},this._batches[t]=(this._batches[t]||0)-1,this.trigger("batch:stop",Ht({},e,{batchName:t}))},hasActiveBatch:function(t){return 0===arguments.length?te(this._batches).some(function(t){return 0<t}):Array.isArray(t)?t.some(function(t){return!!this._batches[t]},this):!!this._batches[t]}},{validations:{multiLinks:function(t,e){var n=e.source(),i=e.target();if(n.id&&i.id){e=e.getSourceCell();if(e)if(1<t.getConnectedLinks(e,{outbound:!0}).filter(function(t){var e=t.source(),t=t.target();return e&&e.id===n.id&&(!e.port||e.port===n.port)&&t&&t.id===i.id&&(!t.port||t.port===i.port)}).length)return!1}return!0},linkPinning:function(t,e){return e.source().id&&e.target().id}}});Oe(tn.prototype,["resetCells","addCells","removeCells"],Pe.cells);var en={},nn=r.View.extend({options:{},theme:null,themeClassNamePrefix:tt("theme-"),requireSetThemeOverride:!1,defaultTheme:"default",children:null,childNodes:null,UPDATE_PRIORITY:2,constructor:function(t){this.requireSetThemeOverride=t&&!!t.theme,this.options=Ht({},this.options,t),r.View.call(this,t)},initialize:function(){(en[this.cid]=this).setTheme(this.options.theme||this.defaultTheme),this.init()},unmount:function(){(this.svgElement?this.vel:this.$el).remove()},renderChildren:function(t){var e,n;return(t=t||ce(this,"children"))&&(e=this.svgElement,n=It.namespace[e?"svg":"xhtml"],n=nt(t,n),(e?this.vel:this.$el).empty().append(n.fragment),this.childNodes=n.selectors),this},findAttribute:function(t,e){for(var n=e;n&&1===n.nodeType;){var i=n.getAttribute(t);if(i)return i;if(n===this.el)return null;n=n.parentNode}return null},_ensureElement:function(){var t,e,n;this.el?this.setElement(ce(this,"el")):(t=ce(this,"tagName"),e=Ht({},ce(this,"attributes")),n=Ht({},ce(this,"style")),this.id&&(e.id=ce(this,"id")),this.setElement(this._createElement(t)),this._setAttributes(e),this._setStyle(n)),this._ensureElClassName()},_setAttributes:function(t){(this.svgElement?this.vel:this.$el).attr(t)},_setStyle:function(t){this.$el.css(t)},_createElement:function(t){return this.svgElement?document.createElementNS(It.namespace.svg,t):document.createElement(t)},_setElement:function(t){this.$el=t instanceof r.$?t:r.$(t),this.el=this.$el[0],this.svgElement&&(this.vel=It(this.el))},_ensureElClassName:function(){var t,e=ce(this,"className");e&&(t=tt(e),(this.svgElement?this.vel:this.$el).removeClass(e).addClass(t))},init:function(){},onRender:function(){},confirmUpdate:function(){return 0},setTheme:function(t,e){return e=e||{},this.theme&&this.requireSetThemeOverride&&!e.override||(this.removeThemeClassName(),this.addThemeClassName(t),this.onSetTheme(this.theme,t),this.theme=t),this},addThemeClassName:function(t){t=t||this.theme;t=this.themeClassNamePrefix+t;return(this.svgElement?this.vel:this.$el).addClass(t),this},removeThemeClassName:function(t){t=t||this.theme;t=this.themeClassNamePrefix+t;return(this.svgElement?this.vel:this.$el).removeClass(t),this},onSetTheme:function(t,e){},remove:function(){return this.onRemove(),this.undelegateDocumentEvents(),en[this.cid]=null,r.View.prototype.remove.apply(this,arguments),this},onRemove:function(){},getEventNamespace:function(){return".joint-event-ns-"+this.cid},delegateElementEvents:function(t,e,n){if(!e)return this;n=n||{};var i,r=this.getEventNamespace();for(i in e){var o=e[i];(o="function"!=typeof o?this[o]:o)&&b(t).on(i+r,n,o.bind(this))}return this},undelegateElementEvents:function(t){return b(t).off(this.getEventNamespace()),this},delegateDocumentEvents:function(t,e){return t=t||ce(this,"documentEvents"),this.delegateElementEvents(document,t,e)},undelegateDocumentEvents:function(){return this.undelegateElementEvents(document)},eventData:function(t,e){if(!t)throw new Error("eventData(): event object required.");var n=t.data,i="__"+this.cid+"__";return void 0===e?n&&n[i]||{}:((n=n||(t.data={}))[i]||(n[i]={}),Ht(n[i],e),this)},stopPropagation:function(t){return this.eventData(t,{propagationStopped:!0}),this},isPropagationStopped:function(t){return!!this.eventData(t).propagationStopped}},{extend:function(){var t=Array.from(arguments),e=t[0]&&Ht({},t[0])||{},t=t[1]&&Ht({},t[1])||{},n=e.render||this.prototype&&this.prototype.render||null;return e.render=function(){return"function"==typeof n&&n.apply(this,arguments),this.render.__render__===n&&this.onRender(),this},e.render.__render__=n,r.View.extend.call(this,e,t)}}),rn={views:en,View:nn},on=nn.extend({tagName:"g",svgElement:!0,selector:"root",metrics:null,className:function(){var i=["cell"],t=this.model.get("type");return t&&t.toLowerCase().split(".").forEach(function(t,e,n){i.push("type-"+n.slice(0,e+1).join("-"))}),i.join(" ")},_presentationAttributes:null,_flags:null,setFlags:function(){var t,e={},n={},i=0,r=this.presentationAttributes;for(t in r)if(r.hasOwnProperty(t))for(var o=r[t],a=0,s=(o=!Array.isArray(o)?[o]:o).length;a<s;a++){var l,u=(u=e[l=o[a]])||(e[l]=1<<i++);n[t]|=u}var c=this.initFlag;for(a=0,s=(c=!Array.isArray(c)?[c]:c).length;a<s;a++)e[l=c[a]]||(e[l]=1<<i++);if(25<i)throw new Error("dia.CellView: Maximum number of flags exceeded.");this._flags=e,this._presentationAttributes=n},hasFlag:function(t,e){return t&this.getFlag(e)},removeFlag:function(t,e){return t^t&this.getFlag(e)},getFlag:function(t){var e=this._flags;if(!e)return 0;var n=0;if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++)n|=e[t[i]];else n|=e[t];return n},attributes:function(){var t=this.model;return{"model-id":t.id,"data-type":t.attributes.type}},constructor:function(t){t.id=t.id||lt(this),nn.call(this,t)},initialize:function(){this.setFlags(),nn.prototype.initialize.apply(this,arguments),this.cleanNodesCache(),this.$el.data("view",this),this.startListening()},startListening:function(){this.listenTo(this.model,"change",this.onAttributesChange)},onAttributesChange:function(t,e){var n=t.getChangeFlag(this._presentationAttributes);!e.updateHandled&&n&&(e.dirty&&this.hasFlag(n,"UPDATE")&&(n|=this.getFlag("RENDER")),e.tool&&(e.async=!1),(t=this.paper)&&t.requestViewUpdate(this,n,this.UPDATE_PRIORITY,e))},parseDOMJSON:function(t,e){var n,i=nt(t),r=i.selectors,o=i.groupSelectors;for(n in o){if(r[n])throw new Error("dia.CellView: ambiguous group selector");r[n]=o[n]}if(e){t=this.selector;if(r[t])throw new Error("dia.CellView: ambiguous root selector.");r[t]=e}return{fragment:i.fragment,selectors:r}},can:function(t){var e=Qt(this.options.interactive)?this.options.interactive(this):this.options.interactive;return xt(e)&&!1!==e[t]||vt(e)&&!1!==e},findBySelector:function(t,e,n){if(e=e||this.el,n=n||this.selectors,!t||"."===t)return[e];if(n){n=n[t];if(n)return Array.isArray(n)?n:[n]}return b(e).find(t).toArray()},notify:function(t){var e;this.paper&&(e=Array.prototype.slice.call(arguments,1),this.trigger.apply(this,[t].concat(e)),this.paper.trigger.apply(this.paper,[t,this].concat(e)))},getBBox:function(t){var e;return e=t&&t.useModelGeometry?(e=this.model).getBBox().bbox(e.angle()):this.getNodeBBox(this.el),this.paper.localToPaperRect(e)},getNodeBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),i=this.getRootTranslateMatrix(),t=this.getRootRotateMatrix();return It.transformRect(e,i.multiply(t).multiply(n))},getNodeUnrotatedBBox:function(t){var e=this.getNodeBoundingRect(t),n=this.getNodeMatrix(t),t=this.getRootTranslateMatrix();return It.transformRect(e,t.multiply(n))},getRootTranslateMatrix:function(){var t=this.model.position();return It.createSVGMatrix().translate(t.x,t.y)},getRootRotateMatrix:function(){var t,e=It.createSVGMatrix(),n=this.model,i=n.angle();return i&&(n=(t=n.getBBox()).width/2,t=t.height/2,e=e.translate(n,t).rotate(i).translate(-n,-t)),e},highlight:function(t,e){return t=t&&this.$(t)[0]||this.el,(e=e||{}).partial=t!==this.el,this.notify("cell:highlight",t,e),this},unhighlight:function(t,e){return t=t&&this.$(t)[0]||this.el,(e=e||{}).partial=t!=this.el,this.notify("cell:unhighlight",t,e),this},findMagnet:function(t){var e=this.$(t),n=this.$el;0===e.length&&(e=n);do{var i=e.attr("magnet");if((i||e.is(n))&&"false"!==i)return e[0]}while(0<(e=e.parent()).length)},getSelector:function(t,e){var n,i;return t===this.el?"string"==typeof e?"> "+e:i:(t&&(n=It(t).index()+1,i=t.tagName+":nth-child("+n+")",e&&(i+=" > "+e),i=this.getSelector(t.parentNode,i)),i)},getLinkEnd:function(t,e,n,i,r){var o=this.model,a=o.id,s=this.findAttribute("port",t),l=t.getAttribute("joint-selector"),a={id:a};null!=l&&(a.magnet=l),null!=s?(a.port=s,o.hasPort(s)||l||(a.selector=this.getSelector(t))):null==l&&this.el!==t&&(a.selector=this.getSelector(t));s=this.paper,l=s.options.connectionStrategy;return"function"!=typeof l||(s=l.call(s,a,this,t,new Y(e,n),i,r,s))&&(a=s),a},getMagnetFromLinkEnd:function(t){var e=this.el,n=t.port,i=t.magnet,r=this.model,e=null!=n&&r.isElement()&&r.hasPort(n)?this.findPortNode(n,i)||e:(i=i||t.selector,this.findBySelector(i=!i&&null!=n?'[port="'+n+'"]':i,e,this.selectors)[0]);return e},getAttributeDefinition:function(t){return this.model.constructor.getAttributeDefinition(t)},setNodeAttributes:function(t,e){Jt(e)||(t instanceof SVGElement?It:b)(t).attr(e)},processNodeAttributes:function(t,e){var n,i,r,o,a,s,l,u,c,h=[];for(n in e)e.hasOwnProperty(n)&&(i=e[n],!(r=this.getAttributeDefinition(n))||Qt(r.qualify)&&!r.qualify.call(this,i,t,e)?(s=s||{})[ut(n)]=i:(ye(r.set)&&((s=s||{})[r.set]=i),null!==i&&h.push(n,r)));for(o=0,a=h.length;o<a;o+=2)n=h[o],r=h[o+1],i=e[n],Qt(r.set)&&((l=l||{})[n]=i),Qt(r.position)&&((u=u||{})[n]=i),Qt(r.offset)&&((c=c||{})[n]=i);return{raw:e,normal:s,set:l,position:u,offset:c}},updateRelativeAttributes:function(t,e,n,i){i=i||{};var r=e.raw||{},o=e.normal||{},a=e.set,s=e.position,l=e.offset;for(var u in a){var c=a[u],h=this.getAttributeDefinition(u).set.call(this,c,n.clone(),t,r);xt(h)?Ht(o,h):void 0!==h&&(o[u]=h)}if(t instanceof HTMLElement)this.setNodeAttributes(t,o);else{var d,f,p,g=o.transform,e=It.transformStringToMatrix(g),m=Y(e.e,e.f);g&&(o=he(o,"transform"),e.e=e.f=0),(s||l)&&(f=(x=this.getNodeScale(t,i.scalableNode)).sx,p=x.sy);var y=!1;for(u in s)c=s[u],(d=this.getAttributeDefinition(u).position.call(this,c,n.clone(),t,r))&&(m.offset(Y(d).scale(f,p)),y=y||!0);this.setNodeAttributes(t,o);var v=!1;if(l){var x=this.getNodeBoundingRect(t);if(0<x.width&&0<x.height){var _=It.transformRect(x,e).scale(1/f,1/p);for(u in l)c=l[u],(d=this.getAttributeDefinition(u).offset.call(this,c,_,t,r))&&(m.offset(Y(d).scale(f,p)),v=v||!0)}}(void 0!==g||y||v)&&(m.round(1),e.e=m.x,e.f=m.y,t.setAttribute("transform",It.matrixToTransformString(e)))}},getNodeScale:function(t,e){var n,i;return i=e&&e.contains(t)?(n=1/(i=e.scale()).sx,1/i.sy):n=1,{sx:n,sy:i}},cleanNodesCache:function(){this.metrics={}},nodeCache:function(t){var e=this.metrics;if(!e)return{};t=It.ensureId(t);return e[t]||(e[t]={})},getNodeData:function(t){t=this.nodeCache(t);return t.data||(t.data={}),t.data},getNodeBoundingRect:function(t){var e=this.nodeCache(t);return void 0===e.boundingRect&&(e.boundingRect=It(t).getBBox()),new G(e.boundingRect)},getNodeMatrix:function(t){var e,n=this.nodeCache(t);return void 0===n.magnetMatrix&&(e=this.rotatableNode||this.el,n.magnetMatrix=It(t).getTransformToElement(e)),It.createSVGMatrix(n.magnetMatrix)},getNodeShape:function(t){var e=this.nodeCache(t);return void 0===e.geometryShape&&(e.geometryShape=It(t).toGeometryShape()),e.geometryShape.clone()},isNodeConnection:function(t){return this.model.isLink()&&(!t||t===this.el)},findNodesAttributes:function(t,e,n,i){var r,o={},a=[];for(r in t)if(t.hasOwnProperty(r))for(var s=n[r]=this.findBySelector(r,e,i),l=0,u=s.length;l<u;l++){var c,h,d=s[l],f=It.ensureId(d),p=t[r],g=i&&i[r]===d,m=o[f];m?(m.array||(a.push(f),m.array=!0,m.attributes=[m.attributes],m.selectedLength=[m.selectedLength]),c=m.attributes,h=m.selectedLength,g?(c.unshift(p),h.unshift(-1)):(m=Zt(h,u),c.splice(m,0,p),h.splice(m,0,u))):o[f]={attributes:p,selectedLength:g?-1:u,node:d,array:!1}}for(l=0,u=a.length;l<u;l++)(p=o[f=a[l]]).attributes=yt.apply(void 0,[{}].concat(p.attributes.reverse()));return o},getEventTarget:function(t,e){var n=t.target,i=t.type,r=t.clientX;void 0===r&&(r=0);t=t.clientY;return void 0===t&&(t=0),(e=void 0===e?{}:e).fromPoint||"touchmove"===i||"touchend"===i?document.elementFromPoint(r,t):n},updateDOMSubtreeAttributes:function(t,e,n){(n=n||{}).rootBBox||(n.rootBBox=G()),n.selectors||(n.selectors=this.selectors);var i,r,o,a={},s={},l=[],u=n.roAttributes,c=this.findNodesAttributes(u||e,t,a,n.selectors),h=u?this.findNodesAttributes(e,t,a,n.selectors):c;for(r in c)if(f=(d=c[r]).attributes,y=d.node,(i=this.processNodeAttributes(y,f)).set||i.position||i.offset){var d=h[r]&&h[r].attributes,f=(d&&void 0===f.ref?d:f).ref;if(f){if(!(v=(a[f]||this.findBySelector(f,t,n.selectors))[0]))throw new Error('dia.ElementView: "'+f+'" reference does not exist.')}else v=null;var p={node:y,refNode:v,processedAttributes:i,allAttributes:d},d=l.findIndex(function(t){return t.refNode===y});-1<d?l.splice(d,0,p):l.push(p)}else this.setNodeAttributes(y,i.normal);for(var g=0,m=l.length;g<m;g++){var y=(p=l[g]).node,v=p.refNode,x=It(n.rotatableNode),_=v?It.ensureId(v):"",b=!!x&&!!v&&x.contains(v),w=s[_];w||(M=b?x:t,w=s[_]=v?It(v).getBBox({target:M}):n.rootBBox),u?(i=this.processNodeAttributes(y,p.allAttributes),this.mergeProcessedAttributes(i,p.processedAttributes)):i=p.processedAttributes;var M=w;b&&!x.contains(y)&&(o=o||It.transformStringToMatrix(x.attr("transform")),M=It.transformRect(w,o)),this.updateRelativeAttributes(y,i,M,n)}},mergeProcessedAttributes:function(t,e){t.set||(t.set={}),t.position||(t.position={}),t.offset||(t.offset={}),Ht(t.set,e.set),Ht(t.position,e.position),Ht(t.offset,e.offset);var n=t.normal&&t.normal.transform;void 0!==n&&e.normal&&(e.normal.transform=n),t.normal=e.normal},onRemove:function(){this.removeTools()},_toolsView:null,hasTools:function(t){var e=this._toolsView;return!!e&&(!t||e.getName()===t)},addTools:function(t){return this.removeTools(),t&&((this._toolsView=t).configure({relatedView:this}),t.listenTo(this.paper,"tools:event",this.onToolEvent.bind(this)),t.mount()),this},updateTools:function(t){var e=this._toolsView;return e&&e.update(t),this},removeTools:function(){var t=this._toolsView;return t&&(t.remove(),this._toolsView=null),this},hideTools:function(){var t=this._toolsView;return t&&t.hide(),this},showTools:function(){var t=this._toolsView;return t&&t.show(),this},onToolEvent:function(t){switch(t){case"remove":this.removeTools();break;case"hide":this.hideTools();break;case"show":this.showTools()}},pointerdblclick:function(t,e,n){this.notify("cell:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){this.notify("cell:pointerclick",t,e,n)},contextmenu:function(t,e,n){this.notify("cell:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.model.graph&&(this.model.startBatch("pointer"),this._graph=this.model.graph),this.notify("cell:pointerdown",t,e,n)},pointermove:function(t,e,n){this.notify("cell:pointermove",t,e,n)},pointerup:function(t,e,n){this.notify("cell:pointerup",t,e,n),this._graph&&(this._graph.stopBatch("pointer",{cell:this.model}),delete this._graph)},mouseover:function(t){this.notify("cell:mouseover",t)},mouseout:function(t){this.notify("cell:mouseout",t)},mouseenter:function(t){this.notify("cell:mouseenter",t)},mouseleave:function(t){this.notify("cell:mouseleave",t)},mousewheel:function(t,e,n,i){this.notify("cell:mousewheel",t,e,n,i)},onevent:function(t,e,n,i){this.notify(e,t,n,i)},onmagnet:function(){},magnetpointerdblclick:function(){},magnetcontextmenu:function(){},checkMouseleave:function(t){var e=this.getEventTarget(t,{fromPoint:!0}),e=this.paper.findView(e);e!==this&&(this.mouseleave(t),e&&e.mouseenter(t))},setInteractivity:function(t){this.options.interactive=t}},{addPresentationAttributes:function(t){return yt({},this.prototype.presentationAttributes,t,function(t,e){if(t&&e)return"string"==typeof t&&(t=[t]),"string"==typeof e&&(e=[e]),Array.isArray(t)&&Array.isArray(e)?Vt(t.concat(e)):void 0})}}),an=on.extend({_removePorts:function(){},_renderPorts:function(){},className:function(){var t=on.prototype.className.apply(this).split(" ");return t.push("element"),t.join(" ")},initialize:function(){on.prototype.initialize.apply(this,arguments),this._initializePorts()},presentationAttributes:{attrs:["UPDATE"],position:["TRANSLATE"],size:["RESIZE","PORTS"],angle:["ROTATE"],markup:["RENDER"],ports:["PORTS"]},initFlag:["RENDER"],UPDATE_PRIORITY:0,confirmUpdate:function(t,e){return this.hasFlag(t,"RENDER")?(this.render(),t=this.removeFlag(t,["RENDER","UPDATE","RESIZE","TRANSLATE","ROTATE","PORTS"])):(this.hasFlag(t,"RESIZE")&&(this.resize(e),t=this.removeFlag(t,["RESIZE","UPDATE"])),this.hasFlag(t,"UPDATE")&&(this.update(this.model,null,e),t=this.removeFlag(t,"UPDATE")),this.hasFlag(t,"TRANSLATE")&&(this.translate(),t=this.removeFlag(t,"TRANSLATE")),this.hasFlag(t,"ROTATE")&&(this.rotate(),t=this.removeFlag(t,"ROTATE")),this.hasFlag(t,"PORTS")&&(this._refreshPorts(),t=this.removeFlag(t,"PORTS")),t)},_initializePorts:function(){},update:function(t,e){this.cleanNodesCache();var n=this.model,i=n.attr();this.updateDOMSubtreeAttributes(this.el,i,{rootBBox:new G(n.size()),selectors:this.selectors,scalableNode:this.scalableNode,rotatableNode:this.rotatableNode,roAttributes:e===i?null:e})},rotatableSelector:"rotatable",scalableSelector:"scalable",scalableNode:null,rotatableNode:null,renderMarkup:function(){var t=this.model,t=t.get("markup")||t.markup;if(!t)throw new Error("dia.ElementView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.ElementView: invalid markup")},renderJSONMarkup:function(t){var e=this.parseDOMJSON(t,this.el),t=this.selectors=e.selectors;this.rotatableNode=It(t[this.rotatableSelector])||null,this.scalableNode=It(t[this.scalableSelector])||null,this.vel.append(e.fragment)},renderStringMarkup:function(t){var e=this.vel;e.append(It(t)),this.rotatableNode=e.findOne(".rotatable"),this.scalableNode=e.findOne(".scalable"),(this.selectors={})[this.selector]=this.el},render:function(){return this.vel.empty(),this.renderMarkup(),this.scalableNode&&this.update(),this.resize(),this.rotatableNode?(this.rotate(),this.translate()):this.updateTransformation(),this._refreshPorts(),this},resize:function(t){if(this.scalableNode)return this.sgResize(t);this.model.attributes.angle&&this.rotate(),this.update()},translate:function(){if(this.rotatableNode)return this.rgTranslate();this.updateTransformation()},rotate:function(){if(this.rotatableNode)return this.rgRotate(),void this.update();this.updateTransformation()},updateTransformation:function(){var t=this.getTranslateString(),e=this.getRotateString();e&&(t+=" "+e),this.vel.attr("transform",t)},getTranslateString:function(){var t=this.model.attributes.position;return"translate("+t.x+","+t.y+")"},getRotateString:function(){var t=this.model.attributes,e=t.angle;if(!e)return null;t=t.size;return"rotate("+e+","+t.width/2+","+t.height/2+")"},rgRotate:function(){this.rotatableNode.attr("transform",this.getRotateString())},rgTranslate:function(){this.vel.attr("transform",this.getTranslateString())},sgResize:function(t){var e=this.model,n=e.angle(),i=e.size(),r=this.scalableNode,o=!1;0<r.node.getElementsByTagName("path").length&&(o=!0);var a=r.getBBox({recursive:o}),o=i.width/(a.width||1),a=i.height/(a.height||1);r.attr("transform","scale("+o+","+a+")");o=this.rotatableNode,a=o&&o.attr("transform");a&&(o.attr("transform",a+" rotate("+-n+","+i.width/2+","+i.height/2+")"),r=r.getBBox({target:this.paper.cells}),e.set("position",{x:r.x,y:r.y},Ht({updateHandled:!0},t)),this.translate(),this.rotate()),this.update()},prepareEmbedding:function(t){var e=(t=t||{}).model||this.model,n=(t.paper||this.paper).model;e.startBatch("to-front"),e.toFront({deep:!0,ui:!0});var i=n.getElements().reduce(function(t,e){return Math.max(t,e.attributes.z||0)},0);n.getConnectedLinks(e,{deep:!0,includeEnclosed:!0}).forEach(function(t){t.attributes.z<=i&&t.set("z",i+1,{ui:!0})}),e.stopBatch("to-front");t=e.parent();t&&n.getCell(t).unembed(e,{ui:!0})},processEmbedding:function(t){var e=(t=t||{}).model||this.model,n=t.paper||this.paper,i=n.options,r=[];r=Qt(i.findParentBy)?te(i.findParentBy.call(n.model,this)).filter(function(t){return t instanceof Ee&&this.model.id!==t.id&&!t.isEmbeddedIn(this.model)}.bind(this)):n.model.findModelsUnderElement(e,{searchBy:i.findParentBy}),i.frontParentOnly&&(r=r.slice(-1));for(var o=null,a=t.candidateEmbedView,s=r.length-1;0<=s;s--){var l=r[s];if(a&&a.model.id==l.id){o=a;break}l=l.findView(n);if(i.validateEmbedding.call(n,this,l)){o=l;break}}o&&o!=a&&(this.clearEmbedding(t),t.candidateEmbedView=o.highlight(null,{embedding:!0})),!o&&a&&this.clearEmbedding(t)},clearEmbedding:function(t){var e=(t=t||{}).candidateEmbedView;e&&(e.unhighlight(null,{embedding:!0}),t.candidateEmbedView=null)},finalizeEmbedding:function(t){var e=(t=t||{}).candidateEmbedView,n=t.model||this.model,i=t.paper||this.paper;e&&(e.model.embed(n,{ui:!0}),e.unhighlight(null,{embedding:!0}),t.candidateEmbedView=null),Ut(i.model.getConnectedLinks(n,{deep:!0}),"reparent",{ui:!0})},getDelegatedView:function(){for(var t=this,e=t.model,n=t.paper;t&&!e.isLink();){if(!e.isEmbedded()||t.can("stopDelegation"))return t;e=e.getParentCell(),t=n.findViewByModel(e)}return null},notifyPointerdown:function(t,e,n){on.prototype.pointerdown.call(this,t,e,n),this.notify("element:pointerdown",t,e,n)},notifyPointermove:function(t,e,n){on.prototype.pointermove.call(this,t,e,n),this.notify("element:pointermove",t,e,n)},notifyPointerup:function(t,e,n){this.notify("element:pointerup",t,e,n),on.prototype.pointerup.call(this,t,e,n)},pointerdblclick:function(t,e,n){on.prototype.pointerdblclick.apply(this,arguments),this.notify("element:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){on.prototype.pointerclick.apply(this,arguments),this.notify("element:pointerclick",t,e,n)},contextmenu:function(t,e,n){on.prototype.contextmenu.apply(this,arguments),this.notify("element:contextmenu",t,e,n)},pointerdown:function(t,e,n){this.isPropagationStopped(t)||(this.notifyPointerdown(t,e,n),this.dragStart(t,e,n))},pointermove:function(t,e,n){var i=this.eventData(t);switch(i.action){case"magnet":this.dragMagnet(t,e,n);break;case"move":(i.delegatedView||this).drag(t,e,n);default:this.notifyPointermove(t,e,n)}this.eventData(t,i)},pointerup:function(t,e,n){var i=this.eventData(t);switch(i.action){case"magnet":this.dragMagnetEnd(t,e,n);break;case"move":(i.delegatedView||this).dragEnd(t,e,n);default:this.notifyPointerup(t,e,n)}var r=i.targetMagnet;r&&this.magnetpointerclick(t,r,e,n),this.checkMouseleave(t)},mouseover:function(t){on.prototype.mouseover.apply(this,arguments),this.notify("element:mouseover",t)},mouseout:function(t){on.prototype.mouseout.apply(this,arguments),this.notify("element:mouseout",t)},mouseenter:function(t){on.prototype.mouseenter.apply(this,arguments),this.notify("element:mouseenter",t)},mouseleave:function(t){on.prototype.mouseleave.apply(this,arguments),this.notify("element:mouseleave",t)},mousewheel:function(t,e,n,i){on.prototype.mousewheel.apply(this,arguments),this.notify("element:mousewheel",t,e,n,i)},onmagnet:function(t,e,n){this.dragMagnetStart(t,e,n)},magnetpointerdblclick:function(t,e,n,i){this.notify("element:magnet:pointerdblclick",t,e,n,i)},magnetcontextmenu:function(t,e,n,i){this.notify("element:magnet:contextmenu",t,e,n,i)},dragStart:function(t,e,n){var i=this.getDelegatedView();i&&i.can("elementMove")&&(this.eventData(t,{action:"move",delegatedView:i}),i.eventData(t,{pointerOffset:i.model.position().difference(e,n),restrictedArea:this.paper.getRestrictedArea(i)}))},dragMagnetStart:function(t,e,n){var i,r;this.can("addLinkFromMagnet")&&(i=t.currentTarget,r=this.paper,this.eventData(t,{targetMagnet:i}),t.stopPropagation(),r.options.validateMagnet(this,i)?(r.options.magnetThreshold<=0&&this.dragLinkStart(t,i,e,n),this.eventData(t,{action:"magnet"}),this.stopPropagation(t)):this.pointerdown(t,e,n),r.delegateDragEvents(this,t.data))},dragLinkStart:function(t,e,n,i){this.model.startBatch("add-link");e=this.addLinkFromMagnet(e,n,i);e.notifyPointerdown(t,n,i),e.eventData(t,e.startArrowheadMove("target",{whenNotAllowed:"remove"})),this.eventData(t,{linkView:e})},addLinkFromMagnet:function(t,e,n){var i=this.paper,r=i.model,o=i.getDefaultLink(this,t);return o.set({source:this.getLinkEnd(t,e,n,o,"source"),target:{x:e,y:n}}).addTo(r,{async:!1,ui:!0}),o.findView(i)},drag:function(t,e,n){var i=this.paper,r=i.options.gridSize,o=this.model,a=this.eventData(t),s=a.pointerOffset,l=a.restrictedArea,u=a.embedding,e=D(e+s.x,r),r=D(n+s.y,r);o.position(e,r,{restrictedArea:l,deep:!0,ui:!0}),i.options.embeddingMode&&(u||(this.prepareEmbedding(a),u=!0),this.processEmbedding(a)),this.eventData(t,{embedding:u})},dragMagnet:function(t,e,n){var i=this.eventData(t),r=i.linkView;if(r)r.pointermove(t,e,n);else{var o=this.paper,a=o.options.magnetThreshold,r=this.getEventTarget(t),i=i.targetMagnet;if("onleave"===a){if(i===r||It(i).contains(r))return}else if(o.eventData(t).mousemoved<=a)return;this.dragLinkStart(t,i,e,n)}},dragEnd:function(t,e,n){t=this.eventData(t);t.embedding&&this.finalizeEmbedding(t)},dragMagnetEnd:function(t,e,n){var i=this.eventData(t).linkView;i&&(i.pointerup(t,e,n),this.model.stopBatch("add-link"))},magnetpointerclick:function(t,e,n,i){var r=this.paper;r.eventData(t).mousemoved>r.options.clickThreshold||this.notify("element:magnet:pointerclick",t,e,n,i)}});Ht(an.prototype,$e);var sn={N:"S",S:"N",E:"W",W:"E"},ln={N:-Math.PI/2*3,S:-Math.PI/2,E:0,W:Math.PI};function un(t,e,n){var i=new Y(t.x,e.y);return i=n.containsPoint(i)?new Y(e.x,t.y):i}function cn(t,e){return t["W"===e||"E"===e?"width":"height"]}function hn(t,e){return t.x===e.x?t.y>e.y?"N":"S":t.y===e.y?t.x>e.x?"W":"E":null}function dn(t){return new G(t.x,t.y,0,0)}function fn(t){t=kt(t.padding||t.elementPadding||20);return{x:-t.left,y:-t.top,width:t.left+t.right,height:t.top+t.bottom}}function pn(t,e){return t.sourceBBox.clone().moveAndExpand(fn(e))}function gn(t,e){return t.targetBBox.clone().moveAndExpand(fn(e))}function mn(t,e,n){var i=new Y(t.x,e.y),r=new Y(e.x,t.y),o=hn(t,i),a=hn(t,r),t=sn[n],r=o===n||o!==t&&(a===t||a!==n)?i:r;return{points:[r],direction:hn(r,e)}}function yn(t,e,n){n=un(t,e,n);return{points:[n],direction:hn(n,e)}}function vn(t,e,n,i,r){var o={},a=n.union(i).inflate(1),n=a.center().distance(e)>a.center().distance(t),i=n?e:t,t=n?t:e,s=r?(s=Y.fromPolar(a.width+a.height,ln[r],i),a.pointNearestToPoint(s).move(s,-1)):a.pointNearestToPoint(i).move(i,1),r=un(s,t,a);return s.round().equals(r.round())?(r=Y.fromPolar(a.width+a.height,N(s.theta(i))+Math.PI/2,t),a=un(s,r=a.pointNearestToPoint(r).move(t,1).round(),a),o.points=n?[r,a,s]:[s,a,r]):o.points=n?[r,s]:[s,r],o.direction=hn(n?s:r,e),o}var xn={step:10,maximumLoops:2e3,precision:1,maxAllowedDirectionChange:90,perpendicular:!0,excludeEnds:[],excludeTypes:["basic.Text"],startDirections:["top","right","bottom","left"],endDirections:["top","right","bottom","left"],directionMap:{top:{x:0,y:-1},right:{x:1,y:0},bottom:{x:0,y:1},left:{x:-1,y:0}},cost:function(){return this.step},directions:function(){var t=this.step,e=this.cost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:0,cost:e},{offsetX:0,offsetY:-t,cost:e}]},penalties:function(){return{0:0,45:this.step/2,90:this.step/2}},paddingBox:function(){var t=this.step;return{x:-t,y:-t,width:2*t,height:2*t}},fallbackRouter:function(t,e,n){if(!Qt(joint.routers.orthogonal))throw new Error("Manhattan requires the orthogonal router as default fallback.");return joint.routers.orthogonal(t,Ht({},xn,e),n)},fallbackRoute:function(t,e,n){return null},draggingRoute:null};function _n(t){this.map={},this.options=t,this.mapGridSize=100}function bn(){this.items=[],this.hash={},this.values={},this.OPEN=1,this.CLOSE=2}function wn(t,e){return e&&e.paddingBox?t.sourceBBox.clone().moveAndExpand(e.paddingBox):t.sourceBBox.clone()}function Mn(t,e){return e&&e.paddingBox?t.targetBBox.clone().moveAndExpand(e.paddingBox):t.targetBBox.clone()}function An(t,e){return t.sourceAnchor||wn(t,e).center()}function In(t,e,n,i,r){var o,a,s=360/n,r=t.theta((o=e,a=i,r=(n=r).step,n=e.x-t.x,o=e.y-t.y,n/=i.x,a=o/i.y,n*=r,r*=a,new Y(t.x+n,t.y+r))),r=B(r+s/2);return s*Math.floor(r/s)}function Cn(t,e){e=Math.abs(t-e);return 180<e?360-e:e}function Sn(t,e){if(!t)return e;var n=Math.abs(t),t=Math.round(n/e);return t?e+(n-t*e)/t:n}function Tn(t,e){return t.round(e)}function Dn(t,e,n){return Tn((i=t.clone(),t=(r=e).source,e=D(i.x-t.x,r.x)+t.x,t=D(i.y-t.y,r.y)+t.y,new Y(e,t)),n);var i,r}function Nn(t){return t.clone().toString()}function Ln(t){return new Y(0===t.x?0:Math.abs(t.x)/t.x,0===t.y?0:Math.abs(t.y)/t.y)}function kn(t,e){for(var n=1/0,i=0,r=e.length;i<r;i++){var o=t.manhattanDistance(e[i]);o<n&&(n=o)}return n}function En(c,h,t,d,e){var f=e.precision,p=e.directionMap,g=c.difference(h.center()),e=xt(p)?Object.keys(p):[],m=te(t),e=e.reduce(function(t,e){if(m.includes(e)){for(var n,i=p[e],e=new Y(c.x+i.x*(Math.abs(g.x)+h.width),c.y+i.y*(Math.abs(g.y)+h.height)),r=new M(c,e).intersect(h)||[],o=r.length,a=null,s=0;s<o;s++){var l=r[s],u=c.squaredDistance(l);(void 0===n||n<u)&&(n=u,a=l)}a&&(e=Dn(a,d,f),h.containsPoint(e)&&(e=Dn(e.offset(i.x*d.x,i.y*d.y),d,f)),t.push(e))}return t},[]);return h.containsPoint(c)||e.push(Dn(c,d,f)),e}function On(t,e,n,i){var r,o,a,s,l,u,c,h=i.precision,d=Tn((t instanceof G?An(this,i):t).clone(),h),f=Tn(e instanceof G?(o=i,((a=this).targetAnchor||Mn(a,o).center()).clone()):e.clone(),h),p=(r=i.step,a=f,{source:(o=d).clone(),x:Sn(a.x-o.x,r),y:Sn(a.y-o.y,r)}),g=t instanceof G?En(s=d,t,i.startDirections,p,i):[s=d],m=e instanceof G?En(l=f,e,i.endDirections,p,i):[l=f];if(g=g.filter(n.isPointAccessible,n),m=m.filter(n.isPointAccessible,n),0<g.length&&0<m.length){for(var y=new bn,v={},x={},_={},b=0,w=g.length;b<w;b++){var M=g[b],A=Nn(M);y.add(A,kn(M,m)),v[A]=M,_[A]=0}var I=i.previousDirectionAngle,C=void 0===I,S=i.directions;u=p,c=i.step,te(i.directions).forEach(function(t){t.gridOffsetX=t.offsetX/c*u.x,t.gridOffsetY=t.offsetY/c*u.y});for(var T=S.length,D=te(m).reduce(function(t,e){e=Nn(e);return t.push(e),t},[]),N=i.maximumLoops;!y.isEmpty()&&0<N;){var L=y.pop(),k=v[L],E=x[L],O=_[L],P=void 0===E,z=k.equals(s),j=P?C?z?null:In(s,k,T,p,i):I:In(E,k,T,p,i);if(0<=D.indexOf(L))return i.previousDirectionAngle=j,function(t,e,n,i,r){for(var o=[],a=Ln(r.difference(n)),s=Nn(n),l=t[s];l;){var u,c=Ln((u=e[s]).difference(l));c.equals(a)||(o.unshift(u),a=c),l=t[s=Nn(l)]}return Ln((n=e[s]).difference(i)).equals(a)||o.unshift(n),o}(x,v,k,s,l);for(b=0;b<T;b++){var Y,R=(Y=S[b]).angle,B=Cn(j,R);if(C&&z||!(B>i.maxAllowedDirectionChange)){var F=Dn(k.clone().offset(Y.gridOffsetX,Y.gridOffsetY),p,h),H=Nn(F);if(!y.isClose(H)&&n.isPointAccessible(F)){if(0<=D.indexOf(H)){var W=F.equals(l);if(!W)if(Cn(R,In(F,l,T,p,i))>i.maxAllowedDirectionChange)continue}B=O+Y.cost+(z?0:i.penalties[B]);(!y.isOpen(H)||B<_[H])&&(v[H]=F,x[H]=k,_[H]=B,y.add(H,B+kn(F,m)))}}}N--}}return i.fallbackRoute.call(this,s,l,i)}function Pn(t,e,n){var i,r;(i=e).directions=ce(i,"directions"),i.penalties=ce(i,"penalties"),i.paddingBox=ce(i,"paddingBox"),i.padding=ce(i,"padding"),i.padding&&(r=kt(i.padding),i.paddingBox={x:-r.left,y:-r.top,width:r.left+r.right,height:r.top+r.bottom}),te(i.directions).forEach(function(t){var e=new Y(0,0),n=new Y(t.offsetX,t.offsetY);t.angle=B(e.theta(n))}),n.options.perpendicular=!!e.perpendicular;for(var o=wn(n,e),a=Mn(n,e),s=An(n,e),l=new _n(e).build(n.paper.model,n.model),u=te(t).map(Y),c=[],h=s,d=0,f=u.length;d<=f;d++){var p,g,m,y=null,v=p||o;if((p=u[d])||(p=a,n.model.get("source").id&&n.model.get("target").id||!Qt(e.draggingRoute)||(g=v===o?s:v,m=p.origin(),y=e.draggingRoute.call(n,g,m,e))),null===(y=y||On.call(n,v,p,l,e)))return e.fallbackRouter(t,e,n);v=y[0];v&&v.equals(h)&&y.shift(),h=y[y.length-1]||h,Array.prototype.push.apply(c,y)}return c}_n.prototype.build=function(n,i){var h=this.options,d=te(h.excludeEnds).reduce(function(t,e){e=i.get(e);return!e||(e=n.getCell(e.id))&&t.push(e),t},[]),f=[],t=n.getCell(i.get("source").id);t&&(f=le(f,t.getAncestors().map(function(t){return t.id})));t=n.getCell(i.get("target").id);t&&(f=le(f,t.getAncestors().map(function(t){return t.id})));var p=this.mapGridSize;return n.getElements().reduce(function(t,e){var n=te(h.excludeTypes).includes(e.get("type")),i=d.find(function(t){return t.id===e.id}),r=f.includes(e.id);if(!(n||i||r))for(var o=e.getBBox().moveAndExpand(h.paddingBox),a=o.origin().snapToGrid(p),s=o.corner().snapToGrid(p),l=a.x;l<=s.x;l+=p)for(var u=a.y;u<=s.y;u+=p){var c=l+"@"+u;t[c]=t[c]||[],t[c].push(o)}return t},this.map),this},_n.prototype.isPointAccessible=function(e){var t=e.clone().snapToGrid(this.mapGridSize).toString();return te(this.map[t]).every(function(t){return!t.containsPoint(e)})},bn.prototype.add=function(t,e){this.hash[t]?this.items.splice(this.items.indexOf(t),1):this.hash[t]=this.OPEN,this.values[t]=e;e=Zt(this.items,t,function(t){return this.values[t]}.bind(this));this.items.splice(e,0,t)},bn.prototype.remove=function(t){this.hash[t]=this.CLOSE},bn.prototype.isOpen=function(t){return this.hash[t]===this.OPEN},bn.prototype.isClose=function(t){return this.hash[t]===this.CLOSE},bn.prototype.isEmpty=function(){return 0===this.items.length};function zn(t,e,n){return Pn(t,Ht({},xn,e),n)}var jn={maxAllowedDirectionChange:45,diagonalCost:function(){var t=this.step;return Math.ceil(Math.sqrt(t*t<<1))},directions:function(){var t=this.step,e=this.cost(),n=this.diagonalCost();return[{offsetX:t,offsetY:0,cost:e},{offsetX:t,offsetY:t,cost:n},{offsetX:0,offsetY:t,cost:e},{offsetX:-t,offsetY:t,cost:n},{offsetX:-t,offsetY:0,cost:e},{offsetX:-t,offsetY:-t,cost:n},{offsetX:0,offsetY:-t,cost:e},{offsetX:t,offsetY:-t,cost:n}]},fallbackRoute:function(t,e,n){var i,r=t.theta(e),o=[],a={x:e.x,y:t.y},s={x:t.x,y:e.y};90<r%180&&(i=a,a=s,s=i);a=r%90<45?a:s,s=new g.Line(t,a),r=90*Math.ceil(r/90),a=g.Point.fromPolar(s.squaredLength(),g.toRad(135+r),a),a=new g.Line(e,a),s=s.intersection(a),a=s||e,s=s?a:t,t=360/n.directions.length,s=s.theta(e),s=g.normalizeAngle(s+t/2),t*=Math.floor(s/t);return n.previousDirectionAngle=t,a&&o.push(a.round()),o.push(e),o}},Yn={normal:function(t,e,n){return t},oneSide:function(t,e,n){var i,r,o,a=e.side||"bottom",s=kt(e.padding||40),l=n.sourceBBox,u=n.targetBBox,e=l.center(),n=u.center();switch(a){case"bottom":o=1,i="y",r="height";break;case"top":o=-1,i="y",r="height";break;case"left":o=-1,i="x",r="width";break;case"right":o=1,i="x",r="width";break;default:throw new Error("Router: invalid side")}return e[i]+=o*(l[r]/2+s[a]),n[i]+=o*(u[r]/2+s[a]),0<o*(e[i]-n[i])?n[i]=e[i]:e[i]=n[i],[e].concat(t,n)},orthogonal:function(t,e,n){var i,r=pn(n,e),o=gn(n,e),a=(s=e,(a=n).sourceAnchor||pn(a,s).center()),s=(s=e,(n=n).targetAnchor||gn(n,s).center()),r=r.union(dn(a)),o=o.union(dn(s));(t=te(t).map(Y)).unshift(a),t.push(s);for(var l,u,c,h,d,f,p=[],g=0,m=t.length-1;g<m;g++){var y,v=null,x=t[g],_=t[g+1],b=!!hn(x,_);0===g?g+1===m?r.intersect(o.clone().inflate(1))?v=vn(x,_,r,o):b||(c=r,f=y=d=void 0,y=yn(u=_,l=x,h=o),f=y.points[0],c.containsPoint(f)&&(d=(y=yn(l,u,c)).points[0],h.containsPoint(d)&&(d=new Y(l).move(d,-cn(c,hn(l,d))/2),f=new Y(u).move(f,-cn(h,hn(u,f))/2),c=mn(f=new M(d,f).midpoint(),u,(f=yn(l,f,c)).direction),y.points=[f.points[0],c.points[0]],y.direction=c.direction)),v=y):r.containsPoint(_)?v=vn(x,_,r,dn(_).moveAndExpand(fn(e))):b||(v=yn(x,_,r)):g+1===m?(y=b&&hn(_,x)===i,o.containsPoint(x)||y?v=vn(x,_,dn(x).moveAndExpand(fn(e)),o,i):b||(v=function(e,t,n,i){var r,o={},a=[new Y(e.x,t.y),new Y(t.x,e.y)],s=a.filter(function(t){return!n.containsPoint(t)}),l=s.filter(function(t){return hn(t,e)!==i});return 0<l.length?(r=(r=l.filter(function(t){return hn(e,t)===i}).pop())||l[0],o.points=[r],o.direction=hn(r,t)):(r=ae(a,s)[0],r=un(s=new Y(t).move(r,-cn(n,i)/2),e,n),o.points=[r,s],o.direction=hn(s,t)),o}(x,_,o,i))):b||(v=mn(x,_,i)),i=v?(Array.prototype.push.apply(p,v.points),v.direction):hn(x,_),g+1<m&&p.push(_)}return p},manhattan:zn,metro:function(t,e,n){if(!Qt(zn))throw new Error("Metro requires the manhattan router.");return zn(t,Ht({},jn,e),n)}},Rn=["arc","gap","cubic"],Bn=1,Fn=["smooth"];function Hn(t,e,n){var r=[].concat(t,n,e);return r.reduce(function(t,e,n){var i=r[n+1];return null!=i&&(t[n]=E(e,i)),t},[])}function Wn(){for(var t=this._jumpOverUpdateList,e=0;e<t.length;e++)t[e].update()}function Gn(t,e){return E(t,e).squaredLength()}function Un(t,u,c){var h=new j,d=j.createSegment("M",t[0].start);return h.appendSegment(d),te(t).forEach(function(t,e){var n,i,r,o,a,s,l;t.isJump?"arc"===c?(n=-90,i=t.start.difference(t.end),Number(i.x<0||0===i.x&&i.y<0)&&(n+=180),r=t.midpoint(),s=new M(r,t.end).rotate(r,n),o=(l=new M(t.start,r)).pointAt(2/3).rotate(t.start,n),a=s.pointAt(1/3).rotate(s.end,-n),d=j.createSegment("C",o,a,s.end),h.appendSegment(d),l=new M(r,t.end),o=s.pointAt(1/3).rotate(s.end,n),a=l.pointAt(1/3).rotate(t.end,-n),d=j.createSegment("C",o,a,t.end),h.appendSegment(d)):"gap"===c?(d=j.createSegment("M",t.end),h.appendSegment(d)):"cubic"===c&&(n=t.start.theta(t.end),s=.6*u,l=1.35*u,i=t.start.difference(t.end),Number(i.x<0||0===i.x&&i.y<0)&&(l*=-1),o=Y(t.start.x+s,t.start.y+l).rotate(t.start,n),a=Y(t.end.x-s,t.end.y+l).rotate(t.end,n),d=j.createSegment("C",o,a,t.end),h.appendSegment(d)):(d=j.createSegment("L",t.end),h.appendSegment(d))}),h}var Zn={jumpover:function(t,e,n,i){var r,o;null==(o=(r=this).paper._jumpOverUpdateList)&&(o=r.paper._jumpOverUpdateList=[],r.paper.on("cell:pointerup",Wn),r.paper.model.on("reset",function(){o=r.paper._jumpOverUpdateList=[]})),o.indexOf(r)<0&&(o.push(r),r.listenToOnce(r.model,"change:connector remove",function(){o.splice(o.indexOf(r),1)}));var a=i.raw,u=i.size||5,s=i.jump&&(""+i.jump).toLowerCase(),l=i.ignoreConnectors||Fn;-1===Rn.indexOf(s)&&(s=Rn[0]);var c=this.paper,i=c.model.getLinks();if(1===i.length)return Un(Hn(t,e,n),u,s);var h=this.model,d=i.indexOf(h),f=c.options.defaultConnector||{},p=i.filter(function(t,e){t=t.get("connector")||f;return!te(l).includes(t.name)&&(!(d<e)||"jumpover"!==t.name)}),i=p.map(function(t){return c.findViewByModel(t)}),g=Hn(t,e,n),m=i.map(function(t){return null==t?[]:t===this?g:Hn(t.sourcePoint,t.targetPoint,t.route)},this),s=Un(g.reduce(function(t,r){var a,s,l,e=p.reduce(function(t,e,n){var i;return e!==h&&(i=r,n=m[n],n=te(n).reduce(function(t,e){e=i.intersection(e);return e&&t.push(e),t},[]),t.push.apply(t,n)),t},[]).sort(function(t,e){return Gn(r.start,t)-Gn(r.start,e)});return 0<e.length?t.push.apply(t,(a=r,l=u,(s=e).reduce(function(t,e,n){if(!0===e.skip)return t;var i=t.pop()||a,r=O(e).move(i.start,-l),o=O(e).move(i.start,+l),e=s[n+1];if(null!=e){n=o.distance(e);n<=l&&(o=e.move(i.start,n),e.skip=!0)}else if(r.distance(i.end)<2*l+Bn)return t.push(i),t;if(o.distance(i.start)<2*l+Bn)return t.push(i),t;e=E(r,o);return e.isJump=!0,t.push(E(i.start,r),e,E(o,i.end)),t},[]))):t.push(r),t},[]),u,s);return a?s:s.serialize()},normal:function(t,e,n,i){i=i&&i.raw,e=[t].concat(n).concat([e]),e=new R(e),e=new j(e);return i?e:e.serialize()},rounded:function(t,e,n,i){var r=(i=i||{}).radius||10,i=i.raw,o=new j,a=j.createSegment("M",t);o.appendSegment(a);for(var s,l,u,c,h,d,f=0,p=n.length;f<p;f++)d=new Y(n[f]),s=n[f-1]||t,c=n[f+1]||e,h=l||d.distance(s)/2,l=d.distance(c)/2,u=-Math.min(r,h),h=-Math.min(r,l),u=d.clone().move(s,u).round(),c=d.clone().move(c,h).round(),h=new Y(1/3*u.x+2/3*d.x,2/3*d.y+1/3*u.y),d=new Y(1/3*c.x+2/3*d.x,2/3*d.y+1/3*c.y),a=j.createSegment("L",u),o.appendSegment(a),a=j.createSegment("C",h,d,c),o.appendSegment(a);return a=j.createSegment("L",e),o.appendSegment(a),i?o:o.serialize()},smooth:function(t,e,n,i){var r,o,a,i=i&&i.raw;return n&&0!==n.length?(r=[t].concat(n).concat([e]),o=x.throughPoints(r),r=new j(o)):(r=new j,o=j.createSegment("M",t),r.appendSegment(o),o=Math.abs(t.x-e.x)>=Math.abs(t.y-e.y)?(a=(t.x+e.x)/2,j.createSegment("C",a,t.y,a,e.y,e.x,e.y)):(a=(t.y+e.y)/2,j.createSegment("C",t.x,a,e.x,a,e.x,e.y)),r.appendSegment(o)),i?r:r.serialize()}},Vn=on.extend({className:function(){var t=on.prototype.className.apply(this).split(" ");return t.push("link"),t.join(" ")},options:{shortLinkLength:105,doubleLinkTools:!(bn.prototype.pop=function(){var t=this.items.shift();return this.remove(t),t}),longLinkLength:155,linkToolsOffset:40,doubleLinkToolsOffset:65,sampleInterval:50},_labelCache:null,_labelSelectors:null,_markerCache:null,_V:null,_dragData:null,metrics:null,decimalsRounding:2,initialize:function(){on.prototype.initialize.apply(this,arguments),this._labelCache={},this._labelSelectors={},this._markerCache={},this._V={},this.metrics={}},presentationAttributes:{markup:["RENDER"],attrs:["UPDATE"],router:["UPDATE"],connector:["UPDATE"],smooth:["UPDATE"],manhattan:["UPDATE"],toolMarkup:["TOOLS"],labels:["LABELS"],labelMarkup:["LABELS"],vertices:["VERTICES","UPDATE"],vertexMarkup:["VERTICES"],source:["SOURCE","UPDATE"],target:["TARGET","UPDATE"]},initFlag:["RENDER","SOURCE","TARGET"],UPDATE_PRIORITY:1,confirmUpdate:function(t,e){e=e||{};var n=this.model,i=n.attributes;if(this.hasFlag(t,"SOURCE")){if(!this.updateEndProperties("source"))return t;t=this.removeFlag(t,"SOURCE")}if(this.hasFlag(t,"TARGET")){if(!this.updateEndProperties("target"))return t;t=this.removeFlag(t,"TARGET")}var r=this.sourceView,o=this.targetView;return r&&!r.el.firstChild||o&&!o.el.firstChild?t:this.hasFlag(t,"RENDER")?(this.render(),t=this.removeFlag(t,["RENDER","UPDATE","VERTICES","TOOLS","LABELS"])):(this.hasFlag(t,"VERTICES")&&(this.renderVertexMarkers(),t=this.removeFlag(t,"VERTICES")),this.hasFlag(t,"UPDATE")?(this.update(n,null,e),t=this.removeFlag(t,["UPDATE","TOOLS","LABELS"])):(this.hasFlag(t,"TOOLS")&&(this.renderTools().updateToolsPosition(),t=this.removeFlag(t,"TOOLS")),this.hasFlag(t,"LABELS")&&(this.onLabelsChange(n,i.labels,e),t=this.removeFlag(t,"LABELS")),t))},onLabelsChange:function(t,e,n){var i,r,o=!0,a=this.model.previous("labels");a&&"propertyPathArray"in n&&"propertyValue"in n&&(1<(r=(i=n.propertyPathArray||[]).length)&&!!a[i[1]]&&(2===r?o="markup"in Object(n.propertyValue):"markup"!==i[2]&&(o=!1))),o?this.renderLabels():this.updateLabels(),this.updateLabelPositions()},render:function(){return this.vel.empty(),this._V={},this.renderMarkup(),this.renderLabels(),this.update(),this},renderMarkup:function(){var t=this.model,t=t.get("markup")||t.markup;if(!t)throw new Error("dia.LinkView: markup required");if(Array.isArray(t))return this.renderJSONMarkup(t);if("string"==typeof t)return this.renderStringMarkup(t);throw new Error("dia.LinkView: invalid markup")},renderJSONMarkup:function(t){t=this.parseDOMJSON(t,this.el);this.selectors=t.selectors,this.vel.append(t.fragment)},renderStringMarkup:function(t){var e=It(t);Array.isArray(e)||(e=[e]);for(var n=this._V,i=0,r=e.length;i<r;i++){var o=e[i],a=o.attr("class");a&&(a=et(a),n[b.camelCase(a)]=o)}this.renderTools(),this.renderVertexMarkers(),this.renderArrowheadMarkers(),this.vel.append(e)},_getLabelMarkup:function(t){if(t){if(Array.isArray(t))return this.parseDOMJSON(t,null);if("string"==typeof t)return this._getLabelStringMarkup(t);throw new Error("dia.linkView: invalid label markup")}},_getLabelStringMarkup:function(t){var e=It(t),n=document.createDocumentFragment();if(Array.isArray(e))for(var i=0,r=e.length;i<r;i++){var o=e[i].node;n.appendChild(o)}else n.appendChild(e.node);return{fragment:n,selectors:{}}},_normalizeLabelMarkup:function(t){if(t){var e=t.fragment;if(!(t.fragment instanceof DocumentFragment&&t.fragment.hasChildNodes()))throw new Error("dia.LinkView: invalid label markup.");var n=e.childNodes;return(n=1<n.length||"G"!==n[0].nodeName.toUpperCase()?It("g").append(e):It(n[0])).addClass("label"),{node:n.node,selectors:t.selectors}}},renderLabels:function(){var t=this._V,e=t.labels,n=this._labelCache={},i=this._labelSelectors={},r=this.model,o=r.attributes.labels||[],a=o.length;if(0===a)return e&&e.remove(),this;e?e.empty():e=t.labels=It("g").addClass("labels");for(var s=e.node,l=0;l<a;l++){var u,c,h=o[l],h=this._normalizeLabelMarkup(this._getLabelMarkup(h.markup));c=h?(u=h.node,h.selectors):(d=r._builtins.defaultLabel,c=this._normalizeLabelMarkup(this._getLabelMarkup(d.markup)),d=r._getDefaultLabel(),u=(d=this._normalizeLabelMarkup(this._getLabelMarkup(d.markup))||c).node,d.selectors),u.setAttribute("label-idx",l),s.appendChild(u),n[l]=u;var d=this.selector;if(c[d])throw new Error("dia.LinkView: ambiguous label root selector.");c[d]=u,i[l]=c}return s.parentNode||this.el.appendChild(s),this.updateLabels(),this},_mergeLabelAttrs:function(t,e,n,i){return null===e?null:void 0===e?null===n?null:void 0===n?t?void 0:i:t?n:yt({},i,n):t?yt({},n,e):yt({},i,n,e)},updateLabels:function(){if(!this._V.labels)return this;for(var t=this.model,e=t.get("labels")||[],n=this.can("labelMove"),i=t._builtins.defaultLabel.attrs,t=t._getDefaultLabel(),r=t.markup,o=t.attrs,a=0,s=e.length;a<s;a++){var l=this._labelCache[a];l.setAttribute("cursor",n?"move":"default");var u=this._labelSelectors[a],c=e[a],h=c.markup,d=c.attrs,d=this._mergeLabelAttrs(h||r,d,o,i);this.updateDOMSubtreeAttributes(l,d,{rootBBox:new G(c.size),selectors:u})}return this},renderTools:function(){if(!this._V.linkTools)return this;var t=b(this._V.linkTools.node).empty(),e=jt(this.model.get("toolMarkup")||this.model.toolMarkup),n=It(e());return t.append(n.node),this._toolCache=n,this.options.doubleLinkTools&&(n=this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup?(e=jt(this.model.get("doubleToolMarkup")||this.model.doubleToolMarkup),It(e())):n.clone(),t.append(n.node),this._tool2Cache=n),this},renderVertexMarkers:function(){if(!this._V.markerVertices)return this;var n=b(this._V.markerVertices.node).empty(),i=jt(this.model.get("vertexMarkup")||this.model.vertexMarkup);return this.model.vertices().forEach(function(t,e){n.append(It(i(Ht({idx:e},t))).node)}),this},renderArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;var t=b(this._V.markerArrowheads.node);t.empty();var e=jt(this.model.get("arrowheadMarkup")||this.model.arrowheadMarkup);return this._V.sourceArrowhead=It(e({end:"source"})),this._V.targetArrowhead=It(e({end:"target"})),t.append(this._V.sourceArrowhead.node,this._V.targetArrowhead.node),this},update:function(t,e,n){return n=n||{},this.cleanNodesCache(),this.updateConnection(n),this.updateDOMSubtreeAttributes(this.el,this.model.attr(),{selectors:this.selectors}),this.updateDefaultConnectionPath(),this.updateLabelPositions(),this.updateToolsPosition(),this.updateArrowheadMarkers(),this.updateTools(n),this.options.perpendicular=null,this},removeRedundantLinearVertices:function(t){for(var e=this.model,n=e.vertices(),i=[],r=n.length,o=0,a=0;a<r;a++){var s,l=new Y(n[a]).round(),u=new Y(i[o-1]||this.sourceAnchor).round();u.equals(l)||(s=new Y(n[a+1]||this.targetAnchor).round(),u.equals(s)||0!==new M(u,s).pointOffset(l)&&(i.push(n[a]),o++))}return r===o?0:(e.vertices(i,t),r-o)},updateDefaultConnectionPath:function(){var t=this._V;t.connection&&t.connection.attr("d",this.getSerializedConnection()),t.connectionWrap&&t.connectionWrap.attr("d",this.getSerializedConnection()),t.markerSource&&t.markerTarget&&this._translateAndAutoOrientArrows(t.markerSource,t.markerTarget)},getEndView:function(t){switch(t){case"source":return this.sourceView||null;case"target":return this.targetView||null;default:throw new Error("dia.LinkView: type parameter required.")}},getEndAnchor:function(t){switch(t){case"source":return new Y(this.sourceAnchor);case"target":return new Y(this.targetAnchor);default:throw new Error("dia.LinkView: type parameter required.")}},getEndMagnet:function(t){switch(t){case"source":var e=this.sourceView;if(!e)break;return this.sourceMagnet||e.el;case"target":e=this.targetView;if(!e)break;return this.targetMagnet||e.el;default:throw new Error("dia.LinkView: type parameter required.")}return null},updateConnection:function(t){var e,n,i,r,o=this.model;(t=t||{}).translateBy&&o.isRelationshipEmbeddedIn(t.translateBy)?(n=t.tx||0,i=t.ty||0,e=new R(this.route).translate(n,i).points,this._translateConnectionPoints(n,i),(r=this.path).translate(n,i)):(n=o.vertices(),i=this.findAnchors(n),o=this.sourceAnchor=i.source,i=this.targetAnchor=i.target,e=this.findRoute(n,t),t=this.findConnectionPoints(e,o,i),o=this.sourcePoint=t.source,i=this.targetPoint=t.target,t=this.findMarkerPoints(e,o,i),r=this.findPath(e,t.source||o,t.target||i)),this.route=e,this.path=r,this.metrics={}},findMarkerPoints:function(t,e,n){var i,r,o=t[0],a=t[t.length-1],t=this._markerCache;return this._V.markerSource&&(t.sourceBBox=t.sourceBBox||this._V.markerSource.getBBox(),i=Y(e).move(o||n,t.sourceBBox.width*this._V.markerSource.scale().sx*-1).round()),this._V.markerTarget&&(t.targetBBox=t.targetBBox||this._V.markerTarget.getBBox(),r=Y(n).move(a||e,t.targetBBox.width*this._V.markerTarget.scale().sx*-1).round()),t.sourcePoint=i||e.clone(),t.targetPoint=r||n.clone(),{source:i,target:r}},findAnchorsOrdered:function(t,e,n,i){var r=this.model,o=r.get(t),a=r.get(n),s=this.getEndView(t),l=this.getEndView(n),u=this.getEndMagnet(t),r=this.getEndMagnet(n),o=s?(e=e?new Y(e):l?r:new Y(a),this.getAnchor(o.anchor,s,u,e,t)):new Y(o),c=l?(c=new Y(i||o),this.getAnchor(a.anchor,l,r,c,n)):new Y(a),a={};return a[t]=o,a[n]=c,a},findAnchors:function(t){var e=this.model,n=t[0],t=t[t.length-1];return e.target().priority&&!e.source().priority?this.findAnchorsOrdered("target",t,"source",n):this.findAnchorsOrdered("source",n,"target",t)},findConnectionPoints:function(t,e,n){var i,r=t[0],o=t[t.length-1],a=this.model,s=a.get("source"),l=a.get("target"),u=this.sourceView,c=this.targetView,t=this.paper.options;return{source:u&&!u.isNodeConnection(this.sourceMagnet)?(a=this.sourceMagnet||u.el,s=s.connectionPoint||t.defaultConnectionPoint,i=new M(r||n,e),this.getConnectionPoint(s,u,a,i,"source")):e,target:c&&!c.isNodeConnection(this.targetMagnet)?(i=this.targetMagnet||c.el,t=l.connectionPoint||t.defaultConnectionPoint,e=new M(o||e,n),this.getConnectionPoint(t,c,i,e,"target")):n}},getAnchor:function(t,e,n,i,r){var o=e.isNodeConnection(n),a=this.paper.options;if(!(t=t||(o?a.defaultLinkAnchor:a.perpendicularLinks||this.options.perpendicular?{name:"perpendicular"}:a.defaultAnchor)))throw new Error("Anchor required.");if("function"==typeof t)s=t;else{var s,l=t.name;if("function"!=typeof(s=a[o?"linkAnchorNamespace":"anchorNamespace"][l]))throw new Error("Unknown anchor: "+l)}r=s.call(this,e,n,i,t.args||{},r,this);return r?r.round(this.decimalsRounding):new Y},getConnectionPoint:function(t,e,n,i,r){var o=i.end,a=this.paper.options;if("function"==typeof a.linkConnectionPoint){var s,l=n===e.el?void 0:n;if(s=a.linkConnectionPoint(this,e,l,i.start,r))return s}if(!t)return o;if("function"==typeof t)u=t;else{var u,l=t.name;if("function"!=typeof(u=a.connectionPointNamespace[l]))throw new Error("Unknown connection point: "+l)}return(s=u.call(this,i,e,n,t.args||{},r,this))?s.round(this.decimalsRounding):o},_translateConnectionPoints:function(t,e){var n=this._markerCache;n.sourcePoint.offset(t,e),n.targetPoint.offset(t,e),this.sourcePoint.offset(t,e),this.targetPoint.offset(t,e),this.sourceAnchor.offset(t,e),this.targetAnchor.offset(t,e)},_normalizeLabelPosition:function(t){return"number"==typeof t?{distance:t,offset:null,angle:0,args:null}:t},updateLabelPositions:function(){if(!this._V.labels)return this;if(!this.path)return this;var t=this.model,e=t.get("labels")||[];if(!e.length)return this;for(var n=t._builtins.defaultLabel.position,t=t._getDefaultLabel(),t=this._normalizeLabelPosition(t.position),i=yt({},n,t),r=0,o=e.length;r<o;r++){var a=e[r],a=this._normalizeLabelPosition(a.position),a=yt({},i,a),a=this._getLabelTransformationMatrix(a);this._labelCache[r].setAttribute("transform",It.matrixToTransformString(a))}return this},updateToolsPosition:function(){if(!this._V.linkTools)return this;var t,e="",n=this.options.linkToolsOffset,i=this.getConnectionLength();return Number.isNaN(i)||(i<this.options.shortLinkLength&&(e="scale(.5)",n/=2),t=this.getPointAtLength(n),this._toolCache.attr("transform","translate("+t.x+", "+t.y+") "+e),this.options.doubleLinkTools&&i>=this.options.longLinkLength?(n=this.options.doubleLinkToolsOffset||n,t=this.getPointAtLength(i-n),this._tool2Cache.attr("transform","translate("+t.x+", "+t.y+") "+e),this._tool2Cache.attr("visibility","visible")):this.options.doubleLinkTools&&this._tool2Cache.attr("visibility","hidden")),this},updateArrowheadMarkers:function(){if(!this._V.markerArrowheads)return this;if("none"===b.css(this._V.markerArrowheads.node,"display"))return this;var t=this.getConnectionLength()<this.options.shortLinkLength?.5:1;return this._V.sourceArrowhead.scale(t),this._V.targetArrowhead.scale(t),this._translateAndAutoOrientArrows(this._V.sourceArrowhead,this._V.targetArrowhead),this},updateEndProperties:function(t){var e=t+"View",n=t+"Magnet",i=this.model.get(t),r=i&&i.id;if(!r)return!(this[e]=this[n]=null);var o=this.paper,r=o.getModelById(r);if(!r)throw new Error("LinkView: invalid "+t+" cell.");o=r.findView(o);if(!o)return!1;i=(this[e]=o).getMagnetFromLinkEnd(i);return i===o.el&&(i=null),this[n]=i,!0},_translateAndAutoOrientArrows:function(t,e){var n=te(this.route);t&&t.translateAndAutoOrient(this.sourcePoint,n[0]||this.targetPoint,this.paper.cells),e&&e.translateAndAutoOrient(this.targetPoint,n[n.length-1]||this.sourcePoint,this.paper.cells)},_getLabelPositionAngle:function(t){return(this.model.label(t).position||{}).angle||0},_getLabelPositionArgs:function(t){return(this.model.label(t).position||{}).args},_getDefaultLabelPositionArgs:function(){return(this.model._getDefaultLabel().position||{}).args},_mergeLabelPositionArgs:function(t,e){return null===t?null:void 0===t?null===e?null:e:yt({},e,t)},addLabel:function(t,e,n,i){var r,o,a=0,e="number"!=typeof t?(r=t.x,o=t.y,"number"==typeof e?(a=e,n):e):(r=t,o=e,"number"==typeof n?(a=n,i):n),i=this._getDefaultLabelPositionArgs(),n=e,i=this._mergeLabelPositionArgs(n,i),i={position:this.getLabelPosition(r,o,a,i)};return this.model.insertLabel(-1,i,e),-1},addVertex:function(t,e,n){var i="number"!=typeof t,r=i?t.x:t,t=i?t.y:e,e=i?e:n,n={x:r,y:t},t=this.getVertexIndex(r,t);return this.model.insertVertex(t,n,e),t},sendToken:function(t,e,n){var i,r=xt(e)?(o=e.duration,i="reverse"===e.direction,e.connection):(o=e,i=!1,null),o=o||1e3,e={dur:o+"ms",repeatCount:1,calcMode:"linear",fill:"freeze"};i&&(e.keyPoints="1;0",e.keyTimes="0;1");var a,s,l,t=It(t);if(!((a="string"==typeof r?this.findBySelector(r,this.el,this.selectors)[0]:(a=this._V).connection?a.connection.node:this.el.querySelector("path"))instanceof SVGPathElement))throw new Error("dia.LinkView: token animation requires a valid connection path.");t.appendTo(this.paper.cells).animateAlongPath(e,a),setTimeout((s=t,l=n,function(){s.remove(),"function"==typeof l&&l()}),o)},findRoute:function(t){t=t||[];var e=Yn,n=this.model.router(),i=this.paper.options.defaultRouter;if(!n){if(!i)return t.map(Y);n=i}e=Qt(n)?n:e[n.name];if(!Qt(e))throw new Error('dia.LinkView: unknown router: "'+n.name+'".');n=n.args||{},n=e.call(this,t,n,this);return n||t.map(Y)},findPath:function(t,e,n){var i=Zn,r=this.model.connector(),o=this.paper.options.defaultConnector,i=Qt(r=r||(o||{}))?r:i[r.name];if(!Qt(i))throw new Error('dia.LinkView: unknown connector: "'+r.name+'".');r=Xt(r.args||{});r.raw=!0;r=i.call(this,e,n,t,r,this);return r="string"==typeof r?new j(It.normalizePathData(r)):r},getConnection:function(){var t=this.path;return t?t.clone():null},getSerializedConnection:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("data"))return e.data;t=t.serialize();return e.data=t},getConnectionSubdivisions:function(){var t=this.path;if(!t)return null;var e=this.metrics;if(e.hasOwnProperty("segmentSubdivisions"))return e.segmentSubdivisions;t=t.getSegmentSubdivisions();return e.segmentSubdivisions=t},getConnectionLength:function(){var t=this.path;if(!t)return 0;var e=this.metrics;if(e.hasOwnProperty("length"))return e.length;t=t.length({segmentSubdivisions:this.getConnectionSubdivisions()});return e.length=t},getPointAtLength:function(t){var e=this.path;return e?e.pointAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getPointAtRatio:function(t){var e=this.path;return e?(joint.util.isPercentage(t)&&(t=parseFloat(t)/100),e.pointAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()})):null},getTangentAtLength:function(t){var e=this.path;return e?e.tangentAtLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getTangentAtRatio:function(t){var e=this.path;return e?e.tangentAt(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPoint:function(t){var e=this.path;return e?e.closestPoint(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointLength:function(t){var e=this.path;return e?e.closestPointLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getClosestPointRatio:function(t){var e=this.path;return e?e.closestPointNormalizedLength(t,{segmentSubdivisions:this.getConnectionSubdivisions()}):null},getLabelPosition:function(t,e,n,i){var r={},o=0,a="number"==typeof n?(o=n,i):n;a&&(r.args=a);var s,l,u=!(a&&a.absoluteDistance),c=a&&a.absoluteDistance&&a.reverseDistance,i=a&&a.absoluteOffset,n=this.path,a={segmentSubdivisions:this.getConnectionSubdivisions()},t=new Y(t,e),e=n.closestPointT(t,a),a=n.lengthAtT(e,a);return u&&(a=a/this.getConnectionLength()||0),c&&(a=-1*(this.getConnectionLength()-a)||1),r.distance=a,l=(s=!i?n.tangentAtT(e):s)?s.pointOffset(t):(l=n.pointAtT(e),{x:(l=t.difference(l)).x,y:l.y}),r.offset=l,r.angle=o,r},_getLabelTransformationMatrix:function(t){var e=0,n={};if("number"==typeof t)c=t;else{if("number"!=typeof t.distance)throw new Error("dia.LinkView: invalid label position distance.");n=t.args||{},c=t.distance,e=t.angle||0}var i=0<c&&c<=1,r=0,o={x:0,y:0};t.offset&&("number"==typeof(u=t.offset)&&(r=u),u.x&&(o.x=u.x),u.y&&(o.y=u.y));var a,s=0!==o.x||0!==o.y||0===r,l=n.keepGradient,t=n.ensureLegibility,u=this.path,n={segmentSubdivisions:this.getConnectionSubdivisions()},i=i?c*this.getConnectionLength():c,c=u.tangentAtLength(i,n),i=e;return c?(s?(a=c.start).offset(o):((n=c.clone()).rotate(c.start,-90),n.setLength(r),a=n.end),l&&(i=c.angle()+e,t&&(i=B((i+90)%180-90)))):(a=u.start,s&&a.offset(o)),It.createSVGMatrix().translate(a.x,a.y).rotate(i)},getLabelCoordinates:function(t){t=this._getLabelTransformationMatrix(t);return new Y(t.e,t.f)},getVertexIndex:function(t,e){for(var n=this.model.vertices(),i=this.getClosestPointLength(new Y(t,e)),r=0,o=n.length;r<o;r++){var a=n[r];if(i<this.getClosestPointLength(a))break}return r},notifyPointerdown:function(t,e,n){on.prototype.pointerdown.call(this,t,e,n),this.notify("link:pointerdown",t,e,n)},notifyPointermove:function(t,e,n){on.prototype.pointermove.call(this,t,e,n),this.notify("link:pointermove",t,e,n)},notifyPointerup:function(t,e,n){this.notify("link:pointerup",t,e,n),on.prototype.pointermove.call(this,t,e,n)},pointerdblclick:function(t,e,n){on.prototype.pointerdblclick.apply(this,arguments),this.notify("link:pointerdblclick",t,e,n)},pointerclick:function(t,e,n){on.prototype.pointerclick.apply(this,arguments),this.notify("link:pointerclick",t,e,n)},contextmenu:function(t,e,n){on.prototype.contextmenu.apply(this,arguments),this.notify("link:contextmenu",t,e,n)},pointerdown:function(t,e,n){switch(this.notifyPointerdown(t,e,n),t.target.getAttribute("class")){case"marker-vertex":return void this.dragVertexStart(t,e,n);case"marker-vertex-remove":case"marker-vertex-remove-area":return void this.dragVertexRemoveStart(t,e,n);case"marker-arrowhead":return void this.dragArrowheadStart(t,e,n);case"connection":case"connection-wrap":return void this.dragConnectionStart(t,e,n);case"marker-source":case"marker-target":return}this.dragStart(t,e,n)},pointermove:function(t,e,n){var i=this._dragData;switch(i&&this.eventData(t,i),this.eventData(t).action){case"vertex-move":this.dragVertex(t,e,n);break;case"label-move":this.dragLabel(t,e,n);break;case"arrowhead-move":this.dragArrowhead(t,e,n);break;case"move":this.drag(t,e,n)}i&&Ht(i,this.eventData(t)),this.notifyPointermove(t,e,n)},pointerup:function(t,e,n){var i=this._dragData;switch(i&&(this.eventData(t,i),this._dragData=null),this.eventData(t).action){case"vertex-move":this.dragVertexEnd(t,e,n);break;case"label-move":this.dragLabelEnd(t,e,n);break;case"arrowhead-move":this.dragArrowheadEnd(t,e,n);break;case"move":this.dragEnd(t,e,n)}this.notifyPointerup(t,e,n),this.checkMouseleave(t)},mouseover:function(t){on.prototype.mouseover.apply(this,arguments),this.notify("link:mouseover",t)},mouseout:function(t){on.prototype.mouseout.apply(this,arguments),this.notify("link:mouseout",t)},mouseenter:function(t){on.prototype.mouseenter.apply(this,arguments),this.notify("link:mouseenter",t)},mouseleave:function(t){on.prototype.mouseleave.apply(this,arguments),this.notify("link:mouseleave",t)},mousewheel:function(t,e,n,i){on.prototype.mousewheel.apply(this,arguments),this.notify("link:mousewheel",t,e,n,i)},onevent:function(t,e,n,i){if(It(t.target).findParentByClass("link-tool",this.el)){if(t.stopPropagation(),this.can("useLinkTools")){if("remove"===e)return void this.model.remove({ui:!0});this.notify(e,t,n,i)}this.notifyPointerdown(t,n,i)}else on.prototype.onevent.apply(this,arguments)},onlabel:function(t,e,n){this.notifyPointerdown(t,e,n),this.dragLabelStart(t,e,n),this.eventData(t).stopPropagation&&t.stopPropagation()},dragConnectionStart:function(t,e,n){this.can("vertexAdd")&&(n=this.addVertex({x:e,y:n},{ui:!0}),this.eventData(t,{action:"vertex-move",vertexIdx:n}))},dragLabelStart:function(t,e,n){var i,r,o,a;this.can("labelMove")?(a=t.currentTarget,i=parseInt(a.getAttribute("label-idx"),10),r=this._getLabelPositionAngle(i),o=this._getLabelPositionArgs(i),a=this._getDefaultLabelPositionArgs(),a=this._mergeLabelPositionArgs(o,a),this.eventData(t,{action:"label-move",labelIdx:i,positionAngle:r,positionArgs:a,stopPropagation:!0}),this.paper.delegateDragEvents(this,t.data)):this.eventData(t,{stopPropagation:!0})},dragVertexStart:function(t,e,n){var i;this.can("vertexMove")&&(i=t.target,i=parseInt(i.getAttribute("idx"),10),this.eventData(t,{action:"vertex-move",vertexIdx:i}))},dragVertexRemoveStart:function(t,e,n){this.can("vertexRemove")&&(t=t.target,t=parseInt(t.getAttribute("idx"),10),this.model.removeVertex(t))},dragArrowheadStart:function(t,e,n){var i;this.can("arrowheadMove")&&(i=t.target.getAttribute("end"),i=this.startArrowheadMove(i,{ignoreBackwardsCompatibility:!0}),this.eventData(t,i))},dragStart:function(t,e,n){this.can("linkMove")&&this.eventData(t,{action:"move",dx:e,dy:n})},dragLabel:function(t,e,n){t=this.eventData(t),n={position:this.getLabelPosition(e,n,t.positionAngle,t.positionArgs)};this.model.label(t.labelIdx,n)},dragVertex:function(t,e,n){t=this.eventData(t);this.model.vertex(t.vertexIdx,{x:e,y:n},{ui:!0})},dragArrowhead:function(t,e,n){var i=this.eventData(t);this.paper.options.snapLinks?this._snapArrowhead(e,n,i):this._connectArrowhead(this.getEventTarget(t),e,n,i)},drag:function(t,e,n){var i=this.eventData(t);this.model.translate(e-i.dx,n-i.dy,{ui:!0}),this.eventData(t,{dx:e,dy:n})},dragLabelEnd:function(){},dragVertexEnd:function(){},dragArrowheadEnd:function(t,e,n){var i=this.eventData(t),r=this.paper;r.options.snapLinks?this._snapArrowheadEnd(i):this._connectArrowheadEnd(i,e,n),r.linkAllowed(this)?(this._finishEmbedding(i),this._notifyConnectEvent(i,t)):this._disallow(i),this._afterArrowheadMove(i)},dragEnd:function(){},_disallow:function(t){"remove"===t.whenNotAllowed?this.model.remove({ui:!0}):this.model.set(t.arrowhead,t.initialEnd,{ui:!0})},_finishEmbedding:function(t){this.paper.options.embeddingMode&&this.model.reparent()&&(t.z=null)},_notifyConnectEvent:function(t,e){var n,i=t.arrowhead,r=t.initialEnd,o=this.model.prop(i);o&&!qe.endsEqual(r,o)&&(n=this.paper,r.id&&this.notify("link:disconnect",e,n.findViewByModel(r.id),t.initialMagnet,i),o.id&&this.notify("link:connect",e,n.findViewByModel(o.id),t.magnetUnderPointer,i))},_snapArrowhead:function(t,e,r){var o,a=this.paper.options.snapLinks.radius||50,n=this.paper.findViewsInArea({x:t-a,y:e-a,width:2*a,height:2*a}),i=r.closestView||null,s=r.closestMagnet||null;r.closestView=r.closestMagnet=null;var l,u=Number.MAX_VALUE,c=Y(t,e),h=this.paper;n.forEach(function(i){"false"!==i.el.getAttribute("magnet")&&(o=i.model.getBBox().center().distance(c))<a&&o<u&&(s!==i.el&&!h.options.validateConnection.apply(h,r.validateConnectionArgs(i,null))||(u=o,r.closestView=i,r.closestMagnet=i.el)),i.$("[magnet]").each(function(t,e){var n=i.getNodeBBox(e);(o=c.distance({x:n.x+n.width/2,y:n.y+n.height/2}))<a&&o<u&&(s!==e&&!h.options.validateConnection.apply(h,r.validateConnectionArgs(i,e))||(u=o,r.closestView=i,r.closestMagnet=e))}.bind(this))},this);var d=r.closestView,f=r.closestMagnet,p=r.arrowhead,n=s!==f;if(i&&n&&i.unhighlight(s,{connecting:!0,snapping:!0}),d){if(!n)return;d.highlight(f,{connecting:!0,snapping:!0}),l=d.getLinkEnd(f,t,e,this.model,p)}else l={x:t,y:e};this.model.set(p,l||{x:t,y:e},{ui:!0})},_snapArrowheadEnd:function(t){var e=t.closestView,n=t.closestMagnet;e&&n&&(e.unhighlight(n,{connecting:!0,snapping:!0}),t.magnetUnderPointer=e.findMagnet(n)),t.closestView=t.closestMagnet=null},_connectArrowhead:function(t,e,n,i){i.eventTarget!==t&&(i.magnetUnderPointer&&i.viewUnderPointer.unhighlight(i.magnetUnderPointer,{connecting:!0}),i.viewUnderPointer=this.paper.findView(t),i.viewUnderPointer?(i.magnetUnderPointer=i.viewUnderPointer.findMagnet(t),i.magnetUnderPointer&&this.paper.options.validateConnection.apply(this.paper,i.validateConnectionArgs(i.viewUnderPointer,i.magnetUnderPointer))?i.magnetUnderPointer&&i.viewUnderPointer.highlight(i.magnetUnderPointer,{connecting:!0}):i.magnetUnderPointer=null):i.magnetUnderPointer=null),i.eventTarget=t,this.model.set(i.arrowhead,{x:e,y:n},{ui:!0})},_connectArrowheadEnd:function(t,e,n){var i=t.viewUnderPointer,r=t.magnetUnderPointer;r&&i&&(i.unhighlight(r,{connecting:!0}),t=t.arrowhead,n=i.getLinkEnd(r,e,n,this.model,t),this.model.set(t,n,{ui:!0}))},_beforeArrowheadMove:function(t){t.z=this.model.get("z"),this.model.toFront();var e=this.el.style;t.pointerEvents=e.pointerEvents,e.pointerEvents="none",this.paper.options.markAvailable&&this._markAvailableMagnets(t)},_afterArrowheadMove:function(t){null!==t.z&&(this.model.set("z",t.z,{ui:!0}),t.z=null),this.el.style.pointerEvents=t.pointerEvents,this.paper.options.markAvailable&&this._unmarkAvailableMagnets(t)},_createValidateConnectionArgs:function(t){var n=[];n[4]=t,n[5]=this;var e=0,i=0,r="source"===t?(e=2,"target"):(i=2,"source"),t=this.model.get(r);return t.id&&((t=(r=n[e]=this.paper.findViewByModel(t.id)).getMagnetFromLinkEnd(t))===r.el&&(t=void 0),n[e+1]=t),function(t,e){return n[i]=t,n[i+1]=t.el===e?void 0:e,n}},_markAvailableMagnets:function(t){function e(t,e){var n=t.paper;return n.options.validateConnection.apply(n,this.validateConnectionArgs(t,e))}var n=this.paper,i=n.model.getCells();t.marked={};for(var r=0,o=i.length;r<o;r++){var a=i[r].findView(n);if(a){var s=Array.prototype.slice.call(a.el.querySelectorAll("[magnet]"));"false"!==a.el.getAttribute("magnet")&&s.push(a.el);var l=s.filter(e.bind(t,a));if(0<l.length){for(var u=0,c=l.length;u<c;u++)a.highlight(l[u],{magnetAvailability:!0});a.highlight(null,{elementAvailability:!0}),t.marked[a.model.id]=l}}}},_unmarkAvailableMagnets:function(t){for(var e=Object.keys(t.marked),n=0,i=e.length;n<i;n++){var r=e[n],o=t.marked[r],a=this.paper.findViewByModel(r);if(a){for(var s=0,l=o.length;s<l;s++)a.unhighlight(o[s],{magnetAvailability:!0});a.unhighlight(null,{elementAvailability:!0})}}t.marked=null},startArrowheadMove:function(t,e){t={action:"arrowhead-move",arrowhead:t,whenNotAllowed:(e=e||{}).whenNotAllowed||"revert",initialMagnet:this[t+"Magnet"]||(this[t+"View"]?this[t+"View"].el:null),initialEnd:Xt(this.model.get(t)),validateConnectionArgs:this._createValidateConnectionArgs(t)};return this._beforeArrowheadMove(t),!0!==e.ignoreBackwardsCompatibility&&(this._dragData=t),t}});Object.defineProperty(Vn.prototype,"sourceBBox",{enumerable:!0,get:function(){var t=this.sourceView;if(!t){var e=this.model.source();return new G(e.x,e.y)}e=this.sourceMagnet;return t.isNodeConnection(e)?new G(this.sourceAnchor):t.getNodeBBox(e||t.el)}}),Object.defineProperty(Vn.prototype,"targetBBox",{enumerable:!0,get:function(){var t=this.targetView;if(!t){var e=this.model.target();return new G(e.x,e.y)}e=this.targetMagnet;return t.isNodeConnection(e)?new G(this.targetAnchor):t.getNodeBBox(e||t.el)}});var Xn={stroke:{defaultOptions:{padding:3,rx:0,ry:0,attrs:{"stroke-width":3,stroke:"#FEB663"}},_views:{},getHighlighterId:function(t,e){return t.id+JSON.stringify(e)},removeHighlighter:function(t){this._views[t]&&(this._views[t].remove(),this._views[t]=null)},highlight:function(t,e,n){var i=this.getHighlighterId(e,n);if(!this._views[i]){var r=Wt(n||{},this.defaultOptions),n=It(e);try{var o=n.convertToPathData()}catch(t){a=n.bbox(!0),o=It.rectToPath(Ht({},r,a))}var a,o=It("path").attr({d:o,"pointer-events":"none","vector-effect":"non-scaling-stroke",fill:"none"}).attr(r.attrs);t.isNodeConnection(e)?o.attr("d",t.getSerializedConnection()):(l=n.getTransformToElement(t.el),(e=r.padding)&&(r=(a=a||n.bbox(!0)).x+a.width/2,s=a.y+a.height/2,a=It.transformRect(a,l),n=Math.max(a.width,1),a=Math.max(a.height,1),s=It.createSVGMatrix({a:n=(n+e)/n,b:0,c:0,d:a=(a+e)/a,e:r-n*r,f:s-a*s}),l=l.multiply(s)),o.transform(l));var s=this._views[i]=new nn({svgElement:!0,className:"highlight-stroke",el:o.node}),l=this.removeHighlighter.bind(this,i),i=t.model;s.listenTo(i,"remove",l),s.listenTo(i.graph,"reset",l),t.vel.append(o)}},unhighlight:function(t,e,n){this.removeHighlighter(this.getHighlighterId(e,n))}},opacity:{highlight:function(t,e){It(e).addClass(tt("highlight-opacity"))},unhighlight:function(t,e){It(e).removeClass(tt("highlight-opacity"))}},addClass:{className:tt("highlighted"),highlight:function(t,e,n){n=(n||{}).className||this.className;It(e).addClass(n)},unhighlight:function(t,e,n){n=(n||{}).className||this.className;It(e).removeClass(n)}}};function qn(o){return function(t,e,n,i){if(n instanceof Element){var r=this.paper.findView(n);return n=r?r.isNodeConnection(n)?Jn(r,"fixedAt"in i?i.fixedAt:"50%"):r.getNodeBBox(n).center():new Y,o.call(this,t,e,n,i)}return o.apply(this,arguments)}}function Jn(t,e){var n=parseFloat(e);return Lt(e)?t.getPointAtRatio(n/100):t.getPointAtLength(n)}var Z=qn(function(t,e,n,i){var r=t.getConnection(),o=t.getConnectionSubdivisions(),a=new M(n.clone().offset(0,1e6),n.clone().offset(0,-1e6)),s=new M(n.clone().offset(1e6,0),n.clone().offset(-1e6,0)),a=a.intersect(r,{segmentSubdivisions:o}),r=s.intersect(r,{segmentSubdivisions:o}),o=[];return a&&Array.prototype.push.apply(o,a),r&&Array.prototype.push.apply(o,r),0<o.length?n.chooseClosest(o):"fallbackAt"in i?Jn(t,i.fallbackAt):$n(t,e,n,i)}),$n=qn(function(t,e,n,i){return(n=t.getClosestPoint(n))||new Y}),X={resolveRef:qn,connectionRatio:function(t,e,n,i){return i="ratio"in i?i.ratio:.5,t.getPointAtRatio(i)},connectionLength:function(t,e,n,i){return i="length"in i?i.length:20,t.getPointAtLength(i)},connectionPerpendicular:Z,connectionClosest:$n};function Qn(t,e,n){if(!isFinite(n))return t;var i=t.distance(e);return 0===n&&0<i?t:t.move(e,-Math.min(n,i-1))}function Kn(t){t=t.getAttribute("stroke-width");return null!==t&&parseFloat(t)||0}function ti(t,e,n,i){e=e.getNodeBBox(n);i.stroke&&e.inflate(Kn(n)/2);e=t.intersect(e);return Qn(e?t.start.chooseClosest(e):t.end,t.start,i.offset)}var ei="segmentSubdivisons",ni="shapeBBox";J={anchor:function(t,e,n,i){return Qn(t.end,t.start,i.offset)},bbox:ti,rectangle:function(t,e,n,i){var r=e.model.angle();if(0===r)return ti(t,e,n,i);var o=e.getNodeUnrotatedBBox(n);return i.stroke&&o.inflate(Kn(n)/2),e=o.center(),n=t.clone().rotate(e,r),Qn((o=n.setLength(1e6).intersect(o))?n.start.chooseClosest(o).rotate(e,-r):t.end,t.start,i.offset)},boundary:function(t,e,n,i){var r=i.selector,o=t.end,a="string"==typeof r?e.findBySelector(r)[0]:Array.isArray(r)?rt(n,r):function(t){if(!t)return null;var e=t;do{var n=e.tagName;if("string"!=typeof n)return null;if("G"===(n=n.toUpperCase()))e=e.firstElementChild;else{if("TITLE"!==n)break;e=e.nextElementSibling}}while(e);return e}(n);if(!It.isSVGGraphicsElement(a)){if(a===n||!It.isSVGGraphicsElement(n))return o;a=n}var s,l=e.getNodeShape(a),u=e.getNodeMatrix(a),r=e.getRootTranslateMatrix(),n=e.getRootRotateMatrix(),n=(r=r.multiply(n).multiply(u)).inverse(),n=(u=It.transformLine(t,n)).start.clone(),e=e.getNodeData(a);return!1===i.insideout&&(e[ni]||(e[ni]=l.bbox()),e[ni].containsPoint(n))?o:(l instanceof j&&(s=i.precision||2,e[ei]||(e[ei]=l.getSegmentSubdivisions({precision:s})),s={precision:s,segmentSubdivisions:e[ei]}),!0===i.extrapolate&&u.setLength(1e6),(u=u.intersect(l,s))?It.isArray(u)&&(u=n.chooseClosest(u)):!0===i.sticky&&(u=l instanceof G?l.pointNearestToPoint(n):l instanceof w?l.intersectionWithLineFromCenterToPoint(n):l.closestPoint(n,s)),r=u?It.transformPoint(u,r):o,o=i.offset||0,i.stroke&&(o+=Kn(a)/2),Qn(r,t.start,o))}};function ii(l){return function(t,e,n,i){var r=!!i.rotate,o=r?t.getNodeUnrotatedBBox(e):t.getNodeBBox(e),a=o[l](),s=i.dx;s&&(e=Lt(s),s=parseFloat(s),isFinite(s)&&(e&&(s/=100,s*=o.width),a.x+=s));s=i.dy;return s&&(i=Lt(s),s=parseFloat(s),isFinite(s)&&(i&&(s/=100,s*=o.height),a.y+=s)),r?a.rotate(t.model.getBBox().center(),-t.model.angle()):a}}var W={center:ii("center"),top:ii("topMiddle"),bottom:ii("bottomMiddle"),left:ii("leftMiddle"),right:ii("rightMiddle"),topLeft:ii("origin"),topRight:ii("topRight"),bottomLeft:ii("bottomLeft"),bottomRight:ii("corner"),perpendicular:qn(function(t,e,n,i){var r=t.model.angle(),o=(a=t.getNodeBBox(e)).center(),t=a.origin(),e=a.corner(),a=i.padding;return isFinite(a)||(a=0),t.y+a<=n.y&&n.y<=e.y-a?(i=n.y-o.y,o.x+=0===r||180===r?0:i/Math.tan(N(r)),o.y+=i):t.x+a<=n.x&&n.x<=e.x-a&&(n=n.x-o.x,o.y+=90===r||270===r?0:n*Math.tan(N(r)),o.x+=n),o}),midSide:qn(function(t,e,n,i){var r,o,a,s=!!i.rotate;s?(r=t.getNodeUnrotatedBBox(e),a=t.model.getBBox().center(),o=t.model.angle()):r=t.getNodeBBox(e);var l,i=i.padding;switch(isFinite(i)&&r.inflate(i),s&&n.rotate(a,o),r.sideNearestToPoint(n)){case"left":l=r.leftMiddle();break;case"right":l=r.rightMiddle();break;case"top":l=r.topMiddle();break;case"bottom":l=r.bottomMiddle()}return s?l.rotate(a,-o):l}),modelCenter:function(t,e,n,i,r){return t.model.getPointFromConnectedLink(this.model,r).offset(i.dx,i.dy)}},ri={NONE:"sorting-none",APPROX:"sorting-approximate",EXACT:"sorting-exact"},oi=1<<30,Q=nn.extend({className:"paper",options:{width:800,height:600,origin:{x:0,y:0},gridSize:1,drawGrid:!1,background:!1,perpendicularLinks:!1,elementView:an,linkView:Vn,snapLinks:!1,multiLinks:!0,guard:function(t,e){return!1},highlighting:{default:{name:"stroke",options:{padding:3}},magnetAvailability:{name:"addClass",options:{className:"available-magnet"}},elementAvailability:{name:"addClass",options:{className:"available-cell"}}},preventContextMenu:!0,preventDefaultBlankAction:!0,restrictTranslate:!1,markAvailable:!1,defaultLink:new qe,defaultConnector:{name:"normal"},defaultRouter:{name:"normal"},defaultAnchor:{name:"center"},defaultLinkAnchor:{name:"connectionRatio"},defaultConnectionPoint:{name:"bbox"},connectionStrategy:null,validateMagnet:function(t,e){return"passive"!==e.getAttribute("magnet")},validateConnection:function(t,e,n,i,r,o){return("target"===r?n:t)instanceof an},embeddingMode:!1,validateEmbedding:function(t,e){return!0},findParentBy:"bbox",frontParentOnly:!0,interactive:{labelMove:!1},linkPinning:!0,allowLink:null,clickThreshold:0,moveThreshold:0,magnetThreshold:0,sorting:ri.EXACT,frozen:!1,onViewUpdate:function(t,e,n,i){e&oi||n.mounting||i.requestConnectedLinksUpdate(t,n)},onViewPostponed:function(t,e){return this.forcePostponedViewUpdate(t,e)},viewport:null,cellViewNamespace:null,highlighterNamespace:Xn,anchorNamespace:W,linkAnchorNamespace:X,connectionPointNamespace:J},events:{dblclick:"pointerdblclick",contextmenu:"contextmenu",mousedown:"pointerdown",touchstart:"pointerdown",mouseover:"mouseover",mouseout:"mouseout",mouseenter:"mouseenter",mouseleave:"mouseleave",mousewheel:"mousewheel",DOMMouseScroll:"mousewheel","mouseenter .joint-cell":"mouseenter","mouseleave .joint-cell":"mouseleave","mouseenter .joint-tools":"mouseenter","mouseleave .joint-tools":"mouseleave","mousedown .joint-cell [event]":"onevent","touchstart .joint-cell [event]":"onevent","mousedown .joint-cell [magnet]":"onmagnet","touchstart .joint-cell [magnet]":"onmagnet","dblclick .joint-cell [magnet]":"magnetpointerdblclick","contextmenu .joint-cell [magnet]":"magnetcontextmenu","mousedown .joint-link .label":"onlabel","touchstart .joint-link .label":"onlabel","dragstart .joint-cell image":"onImageDragStart"},documentEvents:{mousemove:"pointermove",touchmove:"pointermove",mouseup:"pointerup",touchend:"pointerup",touchcancel:"pointerup"},svg:null,viewport:null,defs:null,tools:null,$background:null,layers:null,$grid:null,$document:null,_highlights:null,_zPivots:null,_viewportMatrix:null,_viewportTransformString:null,_updates:null,SORT_DELAYING_BATCHES:["add","to-front","to-back"],UPDATE_DELAYING_BATCHES:["translate"],MIN_SCALE:1e-6,init:function(){var t=this.options,e=this.el;t.cellViewNamespace||(t.cellViewNamespace="undefined"!=typeof joint&&ue(joint,"shapes")?joint.shapes:null);var n=this.model=t.model||new tn;this.setGrid(t.drawGrid),this.cloneOptions(),this.render(),this.setDimensions(),this.startListening(),this._views={},this._zPivots={},this.$document=b(e.ownerDocument),this._highlights={},this.resetViews(n.attributes.cells.models),!this.isFrozen()&&this.isAsync()&&this.updateViewsAsync()},_resetUpdates:function(){return this._updates={id:null,priorities:[{},{},{}],unmountedCids:[],mountedCids:[],unmounted:{},mounted:{},count:0,keyFrozen:!1,freezeKey:null,sort:!1}},startListening:function(){var t=this.model;this.listenTo(t,"add",this.onCellAdded).listenTo(t,"remove",this.onCellRemoved).listenTo(t,"change",this.onCellChange).listenTo(t,"reset",this.onGraphReset).listenTo(t,"sort",this.onGraphSort).listenTo(t,"batch:stop",this.onGraphBatchStop),this.on("cell:highlight",this.onCellHighlight).on("cell:unhighlight",this.onCellUnhighlight).on("scale translate",this.update)},onCellAdded:function(t,e,n){var i=n.position;this.isAsync()||!_t(i)?this.renderView(t,n):(n.maxPosition===i&&this.freeze({key:"addCells"}),this.renderView(t,n),0===i&&this.unfreeze({key:"addCells"}))},onCellRemoved:function(t){this.requestViewUpdate(this.findViewByModel(t),1<<29,0)},onCellChange:function(t){t!==this.model.attributes.cells&&(!t.hasChanged("z")||this.options.sorting!==ri.APPROX||(t=this.findViewByModel(t))&&this.requestViewUpdate(t,oi,t.UPDATE_PRIORITY))},onGraphReset:function(t,e){this.removeZPivots(),this.resetViews(t.models,e)},onGraphSort:function(){this.model.hasActiveBatch(this.SORT_DELAYING_BATCHES)||this.sortViews()},onGraphBatchStop:function(t){var e,n,i;this.isFrozen()||(e=t&&t.batchName,n=this.model,this.isAsync()||(i=this.UPDATE_DELAYING_BATCHES).includes(e)&&!n.hasActiveBatch(i)&&this.updateViews(t),(t=this.SORT_DELAYING_BATCHES).includes(e)&&!n.hasActiveBatch(t)&&this.sortViews())},cloneOptions:function(){var t=this.options;t.origin=Ht({},t.origin),t.defaultConnector=Ht({},t.defaultConnector),t.highlighting=Gt({},t.highlighting,this.constructor.prototype.options.highlighting),!t.cellViewNamespace&&"undefined"!=typeof joint&&ue(joint,"shapes")&&(t.cellViewNamespace=joint.shapes)},children:function(){var t=It.namespace;return[{namespaceURI:t.xhtml,tagName:"div",className:tt("paper-background"),selector:"background"},{namespaceURI:t.xhtml,tagName:"div",className:tt("paper-grid"),selector:"grid"},{namespaceURI:t.svg,tagName:"svg",attributes:{width:"100%",height:"100%","xmlns:xlink":t.xlink},selector:"svg",children:[{tagName:"defs",selector:"defs"},{tagName:"g",className:tt("layers"),selector:"layers",children:[{tagName:"g",className:tt("cells-layer viewport"),selector:"cells"},{tagName:"g",className:tt("tools-layer"),selector:"tools"}]}]}]},render:function(){this.renderChildren();var t=this.childNodes,e=this.options,n=t.svg,i=t.cells,r=t.defs,o=t.tools,a=t.layers,s=t.background,t=t.grid;return this.svg=n,this.defs=r,this.tools=o,this.cells=i,this.layers=a,this.$background=b(s),this.$grid=b(t),this.viewport=i,e.background&&this.drawBackground(e.background),e.drawGrid&&this.drawGrid(),this},update:function(){return this.options.drawGrid&&this.drawGrid(),this._background&&this.updateBackgroundImage(this._background),this},matrix:function(t){var e=this.layers;if(void 0===t){var n=e.getAttribute("transform");return(this._viewportTransformString||null)===n?t=this._viewportMatrix:(t=e.getCTM(),this._viewportMatrix=t,this._viewportTransformString=n),It.createSVGMatrix(t)}t=It.createSVGMatrix(t);n=It.matrixToTransformString(t);return e.setAttribute("transform",n),this._viewportMatrix=t,this._viewportTransformString=e.getAttribute("transform"),this},clientMatrix:function(){return It.createSVGMatrix(this.cells.getScreenCTM())},requestConnectedLinksUpdate:function(t,e){if(t instanceof on)for(var n=t.model,i=this.model.getConnectedLinks(n),r=0,o=i.length;r<o;r++){var a,s=i[r],l=this.findViewByModel(s);l&&(a=["UPDATE"],s.getTargetCell()===n&&a.push("TARGET"),s.getSourceCell()===n&&a.push("SOURCE"),this.scheduleViewUpdate(l,l.getFlag(a),l.UPDATE_PRIORITY,e))}},forcePostponedViewUpdate:function(t,e){if(!(t&&t instanceof on))return!1;var n=t.model;if(n.isElement())return!1;if(0!=(e&t.getFlag(["SOURCE","TARGET"])))return!1;t=this.findViewByModel(n.getSourceCell()),t=this.dumpView(t),n=this.findViewByModel(n.getTargetCell()),n=this.dumpView(n);return 0===t&&0===n},requestViewUpdate:function(t,e,n,i){this.scheduleViewUpdate(t,e,n,i=i||{});e=this.isAsync();this.isFrozen()||e&&!1!==i.async||this.model.hasActiveBatch(this.UPDATE_DELAYING_BATCHES)||(n=this.updateViews(i),e&&this.trigger("render:done",n,i))},scheduleViewUpdate:function(t,e,n,i){var r=this._updates,o=r.priorities[n],n=(o=o||(r.priorities[n]={}))[t.cid]||0;(n&e)!==e&&(n||r.count++,e&1<<29&&n&oi?o[t.cid]^=oi:e&oi&&n&1<<29&&(o[t.cid]^=1<<29),o[t.cid]|=e,"function"==typeof(o=this.options.onViewUpdate)&&o.call(this,t,e,i||{},this))},dumpViewUpdate:function(t){if(!t)return 0;var e=this._updates,n=t.cid,e=e.priorities[t.UPDATE_PRIORITY],t=this.registerMountedView(t)|e[n];return delete e[n],t},dumpView:function(t,e){var n=this.dumpViewUpdate(t);return n?this.updateView(t,n,e):0},updateView:function(t,e,n){if(!t)return 0;if(t instanceof on){if(e&1<<29)return this.removeView(t.model),0;e&oi&&(this.insertView(t),e^=oi)}return e?t.confirmUpdate(e,n||{}):0},requireView:function(t,e){t=this.findViewByModel(t);return t?(this.dumpView(t,e),t):null},registerUnmountedView:function(t){var e=t.cid,n=this._updates;if(e in n.unmounted)return 0;t=n.unmounted[e]|=oi;return n.unmountedCids.push(e),delete n.mounted[e],t},registerMountedView:function(t){var e=t.cid,n=this._updates;if(e in n.mounted)return 0;n.mounted[e]=!0,n.mountedCids.push(e);t=n.unmounted[e]||0;return delete n.unmounted[e],t},dumpViews:function(t){t=Wt({},t,{viewport:null});this.checkViewport(t),this.updateViews(t)},updateViews:function(t){for(var e,n=0,i=0,r=2;i++,n+=(e=this.updateViewsBatch(t)).updated,r=Math.min(e.priority,r),!e.empty;);return{updated:n,batches:i,priority:r}},updateViewsAsync:function(t,e){t=t||{},e=e||{processed:0,priority:2};var n=this._updates,i=n.id;if(i){Nt(i);var r=this.updateViewsBatch(t),o=Wt({},t,{mountBatchSize:1e3-r.mounted,unmountBatchSize:1e3-r.unmounted}),a=this.checkViewport(o),s=a.unmounted,l=a.mounted,o=e.processed,a=n.count;0<r.updated&&(o+=r.updated+r.unmounted,r.processed=o,e.priority=Math.min(r.priority,e.priority),r.empty&&0===l?(r.unmounted+=s,r.mounted+=l,r.priority=e.priority,this.trigger("render:done",r,t),e.processed=0,n.count=0):e.processed=o);l=t.progress;if(a&&"function"==typeof l&&l.call(this,r.empty,o,a,r,this),n.id!==i)return}n.id=Dt(this.updateViewsAsync,this,t,e)},updateViewsBatch:function(t){var e=(t=t||{}).batchSize||1/0,n=this._updates,i=0,r=0,o=0,a=0,s=2,l=!0,u=this.options,c=n.priorities,h=("viewport"in t?t:u).viewport;"function"!=typeof h&&(h=null);var d=u.onViewPostponed;"function"!=typeof d&&(d=null);t:for(var f=0,p=c.length;f<p;f++){var g,m=c[f];for(g in m){if(e<=i){l=!1;break t}var y,v,x,_=en[g];_?(y=m[g],v=g in n.unmounted,!h||h.call(this,_,v,this)?(v&&(y|=oi,a++),y|=this.registerMountedView(_),0<(x=this.updateView(_,y,t))?(m[g]=x,r++,d&&d.call(this,_,x,this)&&(l=!1)):(f<s&&(s=f),i++,delete m[g])):(v||(this.registerUnmountedView(_),_.unmount()),n.unmounted[g]|=y,delete m[g],o++)):delete m[g]}}return{priority:s,updated:i,postponed:r,unmounted:o,mounted:a,empty:l}},checkUnmountedViews:function(t,e){var n=0;"function"!=typeof t&&(t=null);for(var i=("mountBatchSize"in(e=e||{})?e.mountBatchSize:1/0),e=this._updates,r=e.unmountedCids,o=e.unmounted,a=0,s=Math.min(r.length,i);a<s;a++){var l,u,c=r[a];c in o&&((l=en[c])&&(!t||t.call(this,l,!0,this)?(n++,(u=this.registerMountedView(l))&&this.scheduleViewUpdate(l,u,l.UPDATE_PRIORITY,{mounting:!0})):r.push(c)))}return r.splice(0,a),n},checkMountedViews:function(t,e){var n=0;if("function"!=typeof t)return n;for(var i=("unmountBatchSize"in(e=e||{})?e.unmountBatchSize:1/0),e=this._updates,r=e.mountedCids,o=e.mounted,a=0,s=Math.min(r.length,i);a<s;a++){var l,u=r[a];u in o&&((l=en[u])&&(t.call(this,l,!0)?r.push(u):(n++,this.registerUnmountedView(l)&&l.unmount())))}return r.splice(0,a),n},checkViewport:function(t){var e=Wt({},t,{mountBatchSize:1/0,unmountBatchSize:1/0}),n=("viewport"in e?e:this.options).viewport,i=this.checkMountedViews(n,e);return 0<i&&(t=this._updates.unmountedCids,e.mountBatchSize=Math.min(t.length-i,e.mountBatchSize)),{mounted:this.checkUnmountedViews(n,e),unmounted:i}},freeze:function(t){var e=this._updates,n=(t=t||{}).key,i=this.options.frozen,t=e.freezeKey;if(n&&n!==t){if(i&&t)return;e.freezeKey=n,e.keyFrozen=i}this.options.frozen=!0;i=e.id;e.id=null,this.isAsync()&&i&&Nt(i)},unfreeze:function(t){var e=this._updates,n=(t=t||{}).key,i=e.freezeKey;n&&i&&n!==i||(e.freezeKey=null,n&&n===i&&e.keyFrozen||(this.isAsync()?(this.freeze(),this.updateViewsAsync(t)):this.updateViews(t),this.options.frozen=e.keyFrozen=!1,e.sort&&(this.sortViews(),e.sort=!1)))},isAsync:function(){return!!this.options.async},isFrozen:function(){return!!this.options.frozen},isExactSorting:function(){return this.options.sorting===ri.EXACT},onRemove:function(){this.freeze(),this.removeViews()},getComputedSize:function(){var t=this.options,e=t.width,t=t.height;return{width:e=!_t(e)?this.el.clientWidth:e,height:t=!_t(t)?this.el.clientHeight:t}},setDimensions:function(t,e){var n=this.options,t=void 0===t?n.width:t,e=void 0===e?n.height:e;this.options.width=t,this.options.height=e,_t(t)&&(t=Math.round(t)),_t(e)&&(e=Math.round(e)),this.$el.css({width:null===t?"":t,height:null===e?"":e});e=this.getComputedSize();this.trigger("resize",e.width,e.height)},setOrigin:function(t,e){return this.translate(t||0,e||0,{absolute:!0})},fitToContent:function(t,e,n,i){n=xt(t)?(t=(i=t).gridWidth||1,e=i.gridHeight||1,i.padding||0):(i=i||{},t=t||1,e=e||1,n||0),n=kt(n);var r="contentArea"in i?new G(i.contentArea):this.getContentArea(i),o=this.scale(),a=this.translate(),s=o.sx,l=o.sy;r.x*=s,r.y*=l,r.width*=s,r.height*=l;var u=Math.max(Math.ceil((r.width+r.x)/t),1)*t,c=Math.max(Math.ceil((r.height+r.y)/e),1)*e,h=0,o=0;("negative"==i.allowNewOrigin&&r.x<0||"positive"==i.allowNewOrigin&&0<=r.x||"any"==i.allowNewOrigin)&&(h=Math.ceil(-r.x/t)*t,u+=h+=n.left),("negative"==i.allowNewOrigin&&r.y<0||"positive"==i.allowNewOrigin&&0<=r.y||"any"==i.allowNewOrigin)&&(o=Math.ceil(-r.y/e)*e,c+=o+=n.top),u+=n.right,c+=n.bottom,u=Math.max(u,i.minWidth||0),c=Math.max(c,i.minHeight||0);u=Math.min(u,i.maxWidth||Number.MAX_VALUE),c=Math.min(c,i.maxHeight||Number.MAX_VALUE),i=this.getComputedSize(),i=u!=i.width||c!=i.height;return(h!=a.tx||o!=a.ty)&&this.translate(h,o),i&&this.setDimensions(u,c),new G(-h/s,-o/l,u/s,c/l)},scaleContentToFit:function(t){var e,n,i,r,o,a,s,l,u;n="contentArea"in(t=t||{})?(u=t.contentArea,e=this.localToPaperRect(u),new Y(u)):(e=this.getContentBBox(t),this.paperToLocalPoint(e)),e.width&&e.height&&(Wt(t,{padding:0,preserveAspectRatio:!0,scaleGrid:null,minScale:0,maxScale:Number.MAX_VALUE}),a=t.padding,i=t.minScaleX||t.minScale,r=t.maxScaleX||t.maxScale,l=t.minScaleY||t.minScale,u=t.maxScaleY||t.maxScale,o=t.fittingBBox||(o=this.translate(),s=this.getComputedSize(),{x:o.tx,y:o.ty,width:s.width,height:s.height}),o=new G(o).inflate(-a),s=this.scale(),a=o.width/e.width*s.sx,s=o.height/e.height*s.sy,t.preserveAspectRatio&&(a=s=Math.min(a,s)),t.scaleGrid&&(a=(t=t.scaleGrid)*Math.floor(a/t),s=t*Math.floor(s/t)),a=Math.min(r,Math.max(i,a)),s=Math.min(u,Math.max(l,s)),u=this.options.origin,l=o.x-n.x*a-u.x,u=o.y-n.y*s-u.y,this.scale(a,s),this.translate(l,u))},getContentArea:function(t){if(t&&t.useModelGeometry){t=this.model;return t.getCellsBBox(t.getCells(),{includeLinks:!0})||new G}return It(this.cells).getBBox()},getContentBBox:function(t){return this.localToPaperRect(this.getContentArea(t))},getArea:function(){return this.paperToLocalRect(this.getComputedSize())},getRestrictedArea:function(){var t=Qt(this.options.restrictTranslate)?this.options.restrictTranslate.apply(this,arguments):!0===this.options.restrictTranslate?this.getArea():this.options.restrictTranslate||null;return t},createViewForModel:function(t){var e,n=this.options.cellViewNamespace,i=t.get("type")+"View",n=rt(n,i,"."),i=t.isLink()?(e=this.options.linkView,Vn):(e=this.options.elementView,an);return new(e.prototype instanceof r.View?n||e:e.call(this,t)||n||i)({model:t,interactive:this.options.interactive})},removeView:function(t){var e=t.id,t=this._views[e];return t&&(t.remove(),delete this._views[e]),t},renderView:function(t,e){var n,i=t.id,r=this._views,t=i in r?(n=r[i],oi):((n=r[t.id]=this.createViewForModel(t)).paper=this,oi|n.getFlag(n.initFlag));return this.requestViewUpdate(n,t,n.UPDATE_PRIORITY,e),n},onImageDragStart:function(){return!1},resetViews:function(t,e){e=e||{},t=t||[],this._resetUpdates(),this.removeViews(),this.freeze({key:"reset"});for(var n=0,i=t.length;n<i;n++)this.renderView(t[n],e);this.unfreeze({key:"reset"}),this.sortViews()},removeViews:function(){Ut(this._views,"remove"),this._views={}},sortViews:function(){this.isExactSorting()&&(this.isFrozen()?this._updates.sort=!0:this.sortViewsExact())},sortViewsExact:function(){var t=b(this.cells).children("[model-id]"),n=this.model.get("cells");mt(t,function(t,e){t=n.get(t.getAttribute("model-id")),e=n.get(e.getAttribute("model-id")),t=t.attributes.z||0,e=e.attributes.z||0;return t===e?0:t<e?-1:1})},insertView:function(t){var e,n=this.cells;this.options.sorting===ri.APPROX?(e=t.model.get("z"),e=this.addZPivot(e),n.insertBefore(t.el,e)):n.appendChild(t.el)},addZPivot:function(t){var e=this._zPivots;if(i=e[t=(t=+t)||0])return i;var n,i=e[t]=document.createComment("z-index:"+(t+1)),r=-1/0;for(n in e)(n=+n)<t&&r<n&&(r=n);var o=this.cells;return r!==-1/0?(e=e[r],o.insertBefore(i,e.nextSibling)):o.insertBefore(i,o.firstChild),i},removeZPivots:function(){var t,e=this._zPivots,n=this.viewport;for(t in e)n.removeChild(e[t]);this._zPivots={}},scale:function(t,e,n,i){if(void 0===t)return It.matrixToScale(this.matrix());void 0===e&&(e=t),void 0===n&&(i=n=0);var r,o=this.translate();(n||i||o.tx||o.ty)&&(r=o.tx-n*(t-1),a=o.ty-i*(e-1),this.translate(r,a)),t=Math.max(t||0,this.MIN_SCALE),e=Math.max(e||0,this.MIN_SCALE);var a=this.matrix();return a.a=t,a.d=e,this.matrix(a),this.trigger("scale",t,e,n,i),this},rotate:function(t,e,n){if(void 0===t)return It.matrixToRotate(this.matrix());var i;void 0===e&&(e=(i=this.cells.getBBox()).width/2,n=i.height/2);n=this.matrix().translate(e,n).rotate(t).translate(-e,-n);return this.matrix(n),this},translate:function(t,e){if(void 0===t)return It.matrixToTranslate(this.matrix());var n=this.matrix();n.e=t||0,n.f=e||0,this.matrix(n);e=this.translate(),n=this.options.origin;return n.x=e.tx,n.y=e.ty,this.trigger("translate",e.tx,e.ty),this.options.drawGrid&&this.drawGrid(),this},findView:function(t){t=ye(t)?this.cells.querySelector(t):t instanceof b?t[0]:t,t=this.findAttribute("model-id",t);if(t)return this._views[t]},findViewByModel:function(t){t=ye(t)||_t(t)?t:t&&t.id;return this._views[t]},findViewsFromPoint:function(e){return e=new Y(e),this.model.getElements().map(this.findViewByModel,this).filter(function(t){return t&&t.vel.getBBox({target:this.cells}).containsPoint(e)},this)},findViewsInArea:function(e,t){t=Wt(t||{},{strict:!1}),e=new G(e);var n=this.model.getElements().map(this.findViewByModel,this),i=t.strict?"containsRect":"intersect";return n.filter(function(t){return t&&e[i](t.vel.getBBox({target:this.cells}))},this)},removeTools:function(){return this.dispatchToolsEvent("remove"),this},hideTools:function(){return this.dispatchToolsEvent("hide"),this},showTools:function(){return this.dispatchToolsEvent("show"),this},dispatchToolsEvent:function(t){for(var e=[],n=arguments.length-1;0<n--;)e[n]=arguments[n+1];"string"==typeof t&&this.trigger.apply(this,["tools:event",t].concat(e))},getModelById:function(t){return this.model.getCell(t)},snapToGrid:function(t,e){return this.clientToLocalPoint(t,e).snapToGrid(this.options.gridSize)},localToPaperPoint:function(t,e){e=new Y(t,e);return It.transformPoint(e,this.matrix())},localToPaperRect:function(t,e,n,i){i=new G(t,e,n,i);return It.transformRect(i,this.matrix())},paperToLocalPoint:function(t,e){e=new Y(t,e);return It.transformPoint(e,this.matrix().inverse())},paperToLocalRect:function(t,e,n,i){i=new G(t,e,n,i);return It.transformRect(i,this.matrix().inverse())},localToClientPoint:function(t,e){e=new Y(t,e);return It.transformPoint(e,this.clientMatrix())},localToClientRect:function(t,e,n,i){i=new G(t,e,n,i);return It.transformRect(i,this.clientMatrix())},clientToLocalPoint:function(t,e){e=new Y(t,e);return It.transformPoint(e,this.clientMatrix().inverse())},clientToLocalRect:function(t,e,n,i){i=new G(t,e,n,i);return It.transformRect(i,this.clientMatrix().inverse())},localToPagePoint:function(t,e){return this.localToPaperPoint(t,e).offset(this.pageOffset())},localToPageRect:function(t,e,n,i){return this.localToPaperRect(t,e,n,i).offset(this.pageOffset())},pageToLocalPoint:function(t,e){e=new Y(t,e).difference(this.pageOffset());return this.paperToLocalPoint(e)},pageToLocalRect:function(t,e,n,i){var r=this.pageOffset(),i=new G(t,e,n,i);return i.x-=r.x,i.y-=r.y,this.paperToLocalRect(i)},clientOffset:function(){var t=this.svg.getBoundingClientRect();return new Y(t.left,t.top)},pageOffset:function(){return this.clientOffset().offset(window.scrollX,window.scrollY)},linkAllowed:function(t){if(!(t instanceof Vn))throw new Error("Must provide a linkView.");var e=t.model,n=this.options,i=this.model,r=i.constructor.validations;return!(!n.multiLinks&&!r.multiLinks.call(this,i,e))&&(!(!n.linkPinning&&!r.linkPinning.call(this,i,e))&&!("function"==typeof n.allowLink&&!n.allowLink.call(this,t,this)))},getDefaultLink:function(t,e){return Qt(this.options.defaultLink)?this.options.defaultLink.call(this,t,e):this.options.defaultLink.clone()},resolveHighlighter:function(e){var t=(e=e||{}).highlighter,n=this.options;if(!(t=void 0===t?(i=["embedding","connecting","magnetAvailability","elementAvailability"].find(function(t){return!!e[t]}))&&n.highlighting[i]||n.highlighting.default:t))return!1;var i=(t=ye(t)?{name:t}:t).name,n=n.highlighterNamespace[i];if(!n)throw new Error('Unknown highlighter ("'+i+'")');if("function"!=typeof n.highlight)throw new Error('Highlighter ("'+i+'") is missing required highlight() method');if("function"!=typeof n.unhighlight)throw new Error('Highlighter ("'+i+'") is missing required unhighlight() method');return{highlighter:n,options:t.options||{},name:i}},onCellHighlight:function(t,e,n){var i,r;(n=this.resolveHighlighter(n))&&(e.id||(e.id=It.uniqueId()),i=n.name+e.id+JSON.stringify(n.options),this._highlights[i]||((r=n.highlighter).highlight(t,e,Ht({},n.options)),this._highlights[i]={cellView:t,magnetEl:e,opt:n.options,highlighter:r}))},onCellUnhighlight:function(t,e,n){(n=this.resolveHighlighter(n))&&(e=n.name+e.id+JSON.stringify(n.options),(n=this._highlights[e])&&(n.highlighter.unhighlight(n.cellView,n.magnetEl,n.opt),this._highlights[e]=null))},pointerdblclick:function(t){t.preventDefault(),t=ct(t);var e,n=this.findView(t.target);this.guard(t,n)||(e=this.snapToGrid(t.clientX,t.clientY),n?n.pointerdblclick(t,e.x,e.y):this.trigger("blank:pointerdblclick",t,e.x,e.y))},pointerclick:function(t){var e,n;this.eventData(t).mousemoved<=this.options.clickThreshold&&(t=ct(t),e=this.findView(t.target),this.guard(t,e)||(n=this.snapToGrid(t.clientX,t.clientY),e?e.pointerclick(t,n.x,n.y):this.trigger("blank:pointerclick",t,n.x,n.y)))},contextmenu:function(t){this.options.preventContextMenu&&t.preventDefault(),t=ct(t);var e,n=this.findView(t.target);this.guard(t,n)||(e=this.snapToGrid(t.clientX,t.clientY),n?n.contextmenu(t,e.x,e.y):this.trigger("blank:contextmenu",t,e.x,e.y))},pointerdown:function(t){t=ct(t);var e,n=this.findView(t.target);this.guard(t,n)||(e=this.snapToGrid(t.clientX,t.clientY),n?(t.preventDefault(),n.pointerdown(t,e.x,e.y)):(this.options.preventDefaultBlankAction&&t.preventDefault(),this.trigger("blank:pointerdown",t,e.x,e.y)),this.delegateDragEvents(n,t.data))},pointermove:function(t){var e,n,i=this.eventData(t);i.mousemoved||(i.mousemoved=0),++i.mousemoved<=this.options.moveThreshold||(t=ct(t),e=this.snapToGrid(t.clientX,t.clientY),(n=i.sourceView)?n.pointermove(t,e.x,e.y):this.trigger("blank:pointermove",t,e.x,e.y),this.eventData(t,i))},pointerup:function(t){this.undelegateDocumentEvents();var e=ct(t),n=this.snapToGrid(e.clientX,e.clientY),i=this.eventData(t).sourceView;i?i.pointerup(e,n.x,n.y):this.trigger("blank:pointerup",e,n.x,n.y),e.isPropagationStopped()||this.pointerclick(b.Event(t,{type:"click",data:t.data})),t.stopImmediatePropagation(),this.delegateEvents()},mouseover:function(t){t=ct(t);var e=this.findView(t.target);this.guard(t,e)||(e?e.mouseover(t):this.el!==t.target&&this.trigger("blank:mouseover",t))},mouseout:function(t){t=ct(t);var e=this.findView(t.target);this.guard(t,e)||(e?e.mouseout(t):this.el!==t.target&&this.trigger("blank:mouseout",t))},mouseenter:function(t){t=ct(t);var e,n=this.findView(t.target);this.guard(t,n)||(e=this.findView(t.relatedTarget),n?e!==n&&n.mouseenter(t):e||this.trigger("paper:mouseenter",t))},mouseleave:function(t){t=ct(t);var e,n=this.findView(t.target);this.guard(t,n)||(e=this.findView(t.relatedTarget),n?e!==n&&n.mouseleave(t):e||this.trigger("paper:mouseleave",t))},mousewheel:function(t){t=ct(t);var e,n,i=this.findView(t.target);this.guard(t,i)||(n=t.originalEvent,e=this.snapToGrid(n.clientX,n.clientY),n=Math.max(-1,Math.min(1,n.wheelDelta||-n.detail)),i?i.mousewheel(t,e.x,e.y,n):this.trigger("blank:mousewheel",t,e.x,e.y,n))},onevent:function(t){var e,n=t.currentTarget,i=n.getAttribute("event");!i||(e=this.findView(n))&&(t=ct(t),this.guard(t,e)||(n=this.snapToGrid(t.clientX,t.clientY),e.onevent(t,i,n.x,n.y)))},magnetEvent:function(t,e){var n,i,r=t.currentTarget;!r.getAttribute("magnet")||(n=this.findView(r))&&(t=ct(t),this.guard(t,n)||(i=this.snapToGrid(t.clientX,t.clientY),e.call(this,n,t,r,i.x,i.y)))},onmagnet:function(t){this.magnetEvent(t,function(t,e,n,i,r){t.onmagnet(e,i,r)})},magnetpointerdblclick:function(t){this.magnetEvent(t,function(t,e,n,i,r){t.magnetpointerdblclick(e,n,i,r)})},magnetcontextmenu:function(t){this.options.preventContextMenu&&t.preventDefault(),this.magnetEvent(t,function(t,e,n,i,r){t.magnetcontextmenu(e,n,i,r)})},onlabel:function(t){var e=t.currentTarget,n=this.findView(e);n&&(t=ct(t),this.guard(t,n)||(e=this.snapToGrid(t.clientX,t.clientY),n.onlabel(t,e.x,e.y)))},getPointerArgs:function(t){var e=ct(t),t=this.snapToGrid(e.clientX,e.clientY);return[e,t.x,t.y]},delegateDragEvents:function(t,e){this.eventData({data:e=e||{}},{sourceView:t||null,mousemoved:0}),this.delegateDocumentEvents(null,e),this.undelegateEvents()},guard:function(t,e){return"mousedown"===t.type&&2===t.button||(!(!this.options.guard||!this.options.guard(t,e))||(t.data&&void 0!==t.data.guarded?t.data.guarded:!(e&&e.model&&e.model instanceof Ee)&&(this.svg!==t.target&&this.el!==t.target&&!b.contains(this.svg,t.target))))},setGridSize:function(t){return this.options.gridSize=t,this.options.drawGrid&&this.drawGrid(),this},clearGrid:function(){return this.$grid&&this.$grid.css("backgroundImage","none"),this},_getGridRefs:function(){return this._gridCache||(this._gridCache={root:It("svg",{width:"100%",height:"100%"},It("defs")),patterns:{},add:function(t,e){It(this.root.node.childNodes[0]).append(e),this.patterns[t]=e,this.root.append(It("rect",{width:"100%",height:"100%",fill:"url(#"+t+")"}))},get:function(t){return this.patterns[t]},exist:function(t){return void 0!==this.patterns[t]}}),this._gridCache},setGrid:function(t){return this.clearGrid(),this._gridCache=null,this._gridSettings=[],(Array.isArray(t)?t:[t||{}]).forEach(function(t){this._gridSettings.push.apply(this._gridSettings,this._resolveDrawGridOption(t))},this),this},_resolveDrawGridOption:function(t){var e=this.constructor.gridPatterns;if(ye(t)&&Array.isArray(e[t]))return e[t].map(function(t){return Ht({},t)});var n=t||{args:[{}]},i=Array.isArray(n),r=n.name;if((r=!(i||r||n.markup)?"dot":r)&&Array.isArray(e[r])){var o=e[r].map(function(t){return Ht({},t)}),a=Array.isArray(n.args)?n.args:[n.args||{}];Wt(a[0],he(t,"args"));for(var s=0;s<a.length;s++)o[s]&&Ht(o[s],a[s]);return o}return i?n:[n]},drawGrid:function(t){var r=this.options.gridSize;if(r<=1)return this.clearGrid();var o=Array.isArray(t)?t:[t],a=this.matrix(),s=this._getGridRefs();this._gridSettings.forEach(function(t,e){var n="pattern_"+e,i=yt(t,o[e],{sx:a.a||1,sy:a.d||1,ox:a.e||0,oy:a.f||0});i.width=r*(a.a||1)*(i.scaleFactor||1),i.height=r*(a.d||1)*(i.scaleFactor||1),s.exist(n)||s.add(n,It("pattern",{id:n,patternUnits:"userSpaceOnUse"},It(i.markup)));t=s.get(n);Qt(i.update)&&i.update(t.node.childNodes[0],i);e=i.ox%i.width;e<0&&(e+=i.width);n=i.oy%i.height;n<0&&(n+=i.height),t.attr({x:e,y:n,width:i.width,height:i.height})});t=(new XMLSerializer).serializeToString(s.root.node),t="url(data:image/svg+xml;base64,"+btoa(t)+")";return this.$grid.css("backgroundImage",t),this},updateBackgroundImage:function(t){var e=(t=t||{}).position||"center",n=t.size||"auto auto",i=this.scale(),t=this.translate();xt(e)&&(e=t.tx+i.sx*(e.x||0)+"px "+(t.ty+i.sy*(e.y||0))+"px"),xt(n)&&(n=(n=new G(n).scale(i.sx,i.sy)).width+"px "+n.height+"px"),this.$background.css({backgroundSize:n,backgroundPosition:e})},drawBackgroundImage:function(t,e){if(t instanceof HTMLImageElement){var n,i=(e=e||{}).size,r=e.repeat||"no-repeat",o=e.opacity||1,a=Math.abs(e.quality)||1,s=this.constructor.backgroundPatterns[ge(r)];if(Qt(s)){t.width*=a,t.height*=a;s=s(t,e);if(!(s instanceof HTMLCanvasElement))throw new Error("dia.Paper: background pattern must return an HTML Canvas instance");n=s.toDataURL("image/png"),r="repeat",xt(i)?(i.width*=s.width/t.width,i.height*=s.height/t.height):void 0===i&&(e.size={width:s.width/a,height:s.height/a})}else n=t.src,void 0===i&&(e.size={width:t.width,height:t.height});this.$background.css({opacity:o,backgroundRepeat:r,backgroundImage:"url("+n+")"}),this.updateBackgroundImage(e)}else this.$background.css("backgroundImage","")},updateBackgroundColor:function(t){this.$el.css("backgroundColor",t||"")},drawBackground:function(t){var e;return this.updateBackgroundColor((t=t||{}).color),t.image?(t=this._background=qt(t),(e=document.createElement("img")).onload=this.drawBackgroundImage.bind(this,e,t),e.src=t.image):(this.drawBackgroundImage(null),this._background=null),this},setInteractivity:function(t){this.options.interactive=t,Ut(this._views,"setInteractivity",t)},isDefined:function(t){return!!this.svg.getElementById(t)},defineFilter:function(t){if(!xt(t))throw new TypeError("dia.Paper: defineFilter() requires 1. argument to be an object.");var e=t.id,n=t.name,e=e||n+this.svg.id+it(JSON.stringify(t));if(!this.isDefined(e)){var i=Pt,i=i[n]&&i[n](t.args||{});if(!i)throw new Error("Non-existing filter "+n);t=Ht({filterUnits:"objectBoundingBox",x:-1,y:-1,width:3,height:3},t.attrs,{id:e});It(i,t).appendTo(this.defs)}return e},defineGradient:function(t){if(!xt(t))throw new TypeError("dia.Paper: defineGradient() requires 1. argument to be an object.");var e,n=t.id,i=t.type,r=t.stops,n=n||i+this.svg.id+it(JSON.stringify(t));return this.isDefined(n)||(e=jt('<stop offset="${offset}" stop-color="${color}" stop-opacity="${opacity}"/>'),i=["<"+i+">",te(r).map(function(t){return e({offset:t.offset,color:t.color,opacity:Number.isFinite(t.opacity)?t.opacity:1})}).join(""),"</"+i+">"].join(""),t=Ht({id:n},t.attrs),It(i,t).appendTo(this.defs)),n},defineMarker:function(t){if(!xt(t))throw new TypeError("dia.Paper: defineMarker() requires 1. argument to be an object.");var e,n=(n=t.id)||this.svg.id+it(JSON.stringify(t));return this.isDefined(n)||(e=he(t,"type","userSpaceOnUse"),It("marker",{id:n,orient:"auto",overflow:"visible",markerUnits:t.markerUnits||"userSpaceOnUse"},[It(t.type||"path",e)]).appendTo(this.defs)),n}},{sorting:ri,backgroundPatterns:{flipXy:function(t){var e=document.createElement("canvas"),n=t.width,i=t.height;e.width=2*n,e.height=2*i;var r=e.getContext("2d");return r.drawImage(t,0,0,n,i),r.setTransform(-1,0,0,-1,e.width,e.height),r.drawImage(t,0,0,n,i),r.setTransform(-1,0,0,1,e.width,0),r.drawImage(t,0,0,n,i),r.setTransform(1,0,0,-1,0,e.height),r.drawImage(t,0,0,n,i),e},flipX:function(t){var e=document.createElement("canvas"),n=t.width,i=t.height;e.width=2*n,e.height=i;var r=e.getContext("2d");return r.drawImage(t,0,0,n,i),r.translate(2*n,0),r.scale(-1,1),r.drawImage(t,0,0,n,i),e},flipY:function(t){var e=document.createElement("canvas"),n=t.width,i=t.height;e.width=n,e.height=2*i;var r=e.getContext("2d");return r.drawImage(t,0,0,n,i),r.translate(0,2*i),r.scale(1,-1),r.drawImage(t,0,0,n,i),e},watermark:function(t,e){e=e||{};var n=t.width,i=t.height,r=document.createElement("canvas");r.width=3*n,r.height=3*i;for(var o=r.getContext("2d"),e=_t(e.watermarkAngle)?-e.watermarkAngle:-20,a=N(e),s=r.width/4,l=r.height/4,u=0;u<4;u++)for(var c=0;c<4;c++)0<(u+c)%2&&(o.setTransform(1,0,0,1,(2*u-1)*s,(2*c-1)*l),o.rotate(a),o.drawImage(t,-n/2,-i/2,n,i));return r}},gridPatterns:{dot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){It(t).attr({width:e.thickness*e.sx,height:e.thickness*e.sy,fill:e.color})}}],fixedDot:[{color:"#AAAAAA",thickness:1,markup:"rect",update:function(t,e){var n=e.sx<=1?e.thickness*e.sx:e.thickness;It(t).attr({width:n,height:n,fill:e.color})}}],mesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n=e.width,i=e.height,r=e.thickness,i=0<=n-r&&0<=i-r?["M",n,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0";It(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}}],doubleMesh:[{color:"#AAAAAA",thickness:1,markup:"path",update:function(t,e){var n=e.width,i=e.height,r=e.thickness,i=0<=n-r&&0<=i-r?["M",n,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0";It(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}},{color:"#000000",thickness:3,scaleFactor:4,markup:"path",update:function(t,e){var n=e.width,i=e.height,r=e.thickness,i=0<=n-r&&0<=i-r?["M",n,0,"H0 M0 0 V0",i].join(" "):"M 0 0 0 0";It(t).attr({d:i,stroke:e.color,"stroke-width":e.thickness})}}]}}),ai=nn.extend({name:null,tagName:"g",className:"tool",svgElement:!0,_visible:!0,init:function(){var t=this.name;t&&this.vel.attr("data-tool-name",t)},configure:function(t,e){return this.relatedView=t,this.paper=t.paper,this.parentView=e,this.simulateRelatedView(this.el),this},simulateRelatedView:function(t){t&&t.setAttribute("model-id",this.relatedView.model.id)},getName:function(){return this.name},show:function(){this.el.style.display="",this._visible=!0},hide:function(){this.el.style.display="none",this._visible=!1},isVisible:function(){return!!this._visible},focus:function(){var t=this.options.focusOpacity;isFinite(t)&&(this.el.style.opacity=t),this.parentView.focusTool(this)},blur:function(){this.el.style.opacity="",this.parentView.blurTool(this)},update:function(){}}),K=nn.extend({tagName:"g",className:"tools",svgElement:!0,tools:null,options:{tools:null,relatedView:null,name:null,component:!1},configure:function(t){var e=(t=Ht(this.options,t)).tools;if(!Array.isArray(e))return this;var n=t.relatedView;if(!(n instanceof on))return this;for(var i=this.tools=[],r=0,o=e.length;r<o;r++){var a=e[r];a instanceof ai&&(a.configure(n,this),a.render(),this.vel.append(a.el),i.push(a))}return this},getName:function(){return this.options.name},update:function(t){t=t||{};var e=this.tools;if(e){for(var n=0,i=e.length;n<i;n++){var r=e[n];t.tool!==r.cid&&r.isVisible()&&r.update()}return this}},focusTool:function(t){var e=this.tools;if(!e)return this;for(var n=0,i=e.length;n<i;n++){var r=e[n];t===r?r.show():r.hide()}return this},blurTool:function(t){var e=this.tools;if(!e)return this;for(var n=0,i=e.length;n<i;n++){var r=e[n];r===t||r.isVisible()||(r.show(),r.update())}return this},hide:function(){return this.focusTool(null)},show:function(){return this.blurTool(null)},onRemove:function(){var t=this.tools;if(!t)return this;for(var e=0,n=t.length;e<n;e++)t[e].remove();this.tools=null},mount:function(){var t=this.options,e=t.relatedView;return e&&(t.component?e.el:e.paper.tools).appendChild(this.el),this}}),v={Graph:tn,attributes:ke,Cell:Ee,CellView:on,Element:Qe,ElementView:an,Link:qe,LinkView:Vn,Paper:Q,ToolView:ai,ToolsView:K},si={exportElement:function(t){return t.size()},exportLink:function(t){var e=t.get("labelSize")||{};return{minLen:t.get("minLen")||1,weight:t.get("weight")||1,labelpos:t.get("labelPosition")||"c",labeloffset:t.get("labelOffset")||0,width:e.width||0,height:e.height||0}},importElement:function(t,e,n){var i=this.getCell(e),e=n.node(e);t.setPosition?t.setPosition(i,e):i.set("position",{x:e.x-e.width/2,y:e.y-e.height/2})},importLink:function(t,e,n){var i=this.getCell(e.name),r=n.edge(e),n=r.points||[];(t.setVertices||t.setLinkVertices)&&(Qt(t.setVertices)?t.setVertices(i,n):i.set("vertices",n.slice(1,n.length-1))),t.setLabels&&"x"in r&&"y"in r&&(e={x:r.x,y:r.y},Qt(t.setLabels)?t.setLabels(i,e,n):(t=(r=R(n)).closestPointLength(e),n=r.pointAtLength(t),r=t/r.length(),i.label(0,{position:{distance:r,offset:Y(e).difference(n).toJSON()}})))},layout:function(t,e){var n=t instanceof tn?t:(new tn).resetCells(t,{dry:!0,sort:!1});e=Wt(e||{},{resizeClusters:!(t=null),clusterPadding:10,exportElement:this.exportElement,exportLink:this.exportLink});var i=si.toGraphLib(n,{directed:!0,multigraph:!0,compound:!0,setNodeLabel:e.exportElement,setEdgeLabel:e.exportLink,setEdgeName:function(t){return t.id}}),r={},o=e.marginX||0,t=e.marginY||0;e.rankDir&&(r.rankdir=e.rankDir),e.align&&(r.align=e.align),e.nodeSep&&(r.nodesep=e.nodeSep),e.edgeSep&&(r.edgesep=e.edgeSep),e.rankSep&&(r.ranksep=e.rankSep),e.ranker&&(r.ranker=e.ranker),o&&(r.marginx=o),t&&(r.marginy=t),i.setGraph(r),dagre.layout(i,{debugTiming:!!e.debugTiming}),n.startBatch("layout"),si.fromGraphLib(i,{importNode:this.importElement.bind(n,e),importEdge:this.importLink.bind(n,e)}),e.resizeClusters&&(r=i.nodes().filter(function(t){return 0<i.children(t).length}).map(n.getCell.bind(n)).sort(function(t,e){return e.getAncestors().length-t.getAncestors().length}),Ut(r,"fitEmbeds",{padding:e.clusterPadding})),n.stopBatch("layout");n=i.graph();return G(o,t,Math.abs(n.width-2*o),Math.abs(n.height-2*t))},fromGraphLib:function(e,n){var i=(n=n||{}).importNode||bt,r=n.importEdge||bt,o=this instanceof tn?this:new tn;return e.nodes().forEach(function(t){i.call(o,t,e,o,n)}),e.edges().forEach(function(t){r.call(o,t,e,o,n)}),o},toGraphLib:function(t,e){for(var n=de(e=e||{},"directed","compound","multigraph"),i=new dagre.graphlib.Graph(n),r=e.setNodeLabel||bt,o=e.setEdgeLabel||bt,a=e.setEdgeName||bt,s=t.get("cells"),l=0,u=s.length;l<u;l++){var c=s.at(l);if(c.isLink()){var h=c.get("source"),d=c.get("target");if(!h.id||!d.id)break;i.setEdge(h.id,d.id,o(c),a(c))}else i.setNode(c.id,r(c)),i.isCompound()&&c.has("parent")&&(d=c.get("parent"),s.has(d)&&i.setParent(c.id,d))}return i}};tn.prototype.toGraphLib=function(t){return si.toGraphLib(this,t)},tn.prototype.fromGraphLib=function(t,e){return si.fromGraphLib.call(this,t,e)};var k={_results:{},_tests:{svgforeignobject:function(){return!!document.createElementNS&&/SVGForeignObject/.test({}.toString.call(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")))}},addTest:function(t,e){return this._tests[t]=e},test:function(t){var e=this._tests[t];if(!e)throw new Error('Test not defined ("'+t+'"). Use `joint.env.addTest(name, fn) to add a new test.`');var n=this._results[t];if(void 0!==n)return n;try{n=e()}catch(t){n=!1}return this._results[t]=n}},li=Qe.define("basic.Generic",{attrs:{".":{fill:"#ffffff",stroke:"none"}}}),ui=li.define("basic.Rect",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:100,height:60},text:{fill:"#000000",text:"","font-size":14,"ref-x":.5,"ref-y":.5,"text-anchor":"middle","y-alignment":"middle","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><rect/></g><text/></g>'}),ci=an.extend({presentationAttributes:an.addPresentationAttributes({attrs:["SCALE"]}),confirmUpdate:function(){var t=an.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"SCALE")&&(this.resize(),t=this.removeFlag(t,"SCALE")),t}}),Tt=li.define("basic.Text",{attrs:{text:{"font-size":18,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><text/></g></g>'}),zt=li.define("basic.Circle",{size:{width:60,height:60},attrs:{circle:{fill:"#ffffff",stroke:"#000000",r:30,cx:30,cy:30},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g><text/></g>'}),Yt=li.define("basic.Ellipse",{size:{width:60,height:40},attrs:{ellipse:{fill:"#ffffff",stroke:"#000000",rx:30,ry:20,cx:30,cy:20},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-y":.5,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse/></g><text/></g>'}),Rt=li.define("basic.Polygon",{size:{width:60,height:40},attrs:{polygon:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),Bt=li.define("basic.Polyline",{size:{width:60,height:40},attrs:{polyline:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><polyline/></g><text/></g>'}),Ft=li.define("basic.Image",{attrs:{text:{"font-size":14,text:"","text-anchor":"middle","ref-x":.5,"ref-dy":20,"y-alignment":"middle",fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><image/></g><text/></g>'}),ee=li.define("basic.Path",{size:{width:60,height:60},attrs:{path:{fill:"#ffffff",stroke:"#000000"},text:{"font-size":14,text:"","text-anchor":"middle",ref:"path","ref-x":.5,"ref-dy":10,fill:"#000000","font-family":"Arial, helvetica, sans-serif"}}},{markup:'<g class="rotatable"><g class="scalable"><path/></g><text/></g>'}),ie=ee.define("basic.Rhombus",{attrs:{path:{d:"M 30 0 L 60 30 30 60 0 30 z"},text:{"ref-y":.5,"ref-dy":null,"y-alignment":"middle"}}}),hi=k.test("svgforeignobject"),se=li.define("basic.TextBlock",{attrs:{rect:{fill:"#ffffff",stroke:"#000000",width:80,height:100},text:{fill:"#000000","font-size":14,"font-family":"Arial, helvetica, sans-serif"},".content":{text:"","ref-x":.5,"ref-y":.5,"y-alignment":"middle","x-alignment":"middle"}},content:""},{markup:['<g class="rotatable">','<g class="scalable"><rect/></g>',hi?'<foreignObject class="fobj"><body xmlns="http://www.w3.org/1999/xhtml"><div class="content"/></body></foreignObject>':'<text class="content"/>',"</g>"].join(""),initialize:function(){this.listenTo(this,"change:size",this.updateSize),this.listenTo(this,"change:content",this.updateContent),this.updateSize(this,this.get("size")),this.updateContent(this,this.get("content")),li.prototype.initialize.apply(this,arguments)},updateSize:function(t,e){this.attr({".fobj":Ht({},e),div:{style:Ht({},e)}})},updateContent:function(t,e){hi?this.attr({".content":{html:ft(e)}}):this.attr({".content":{text:e}})},setForeignObjectSize:function(){this.updateSize.apply(this,arguments)},setDivContent:function(){this.updateContent.apply(this,arguments)}}),fe=an.extend({presentationAttributes:hi?an.prototype.presentationAttributes:an.addPresentationAttributes({content:["CONTENT"],size:["CONTENT"]}),initFlag:["RENDER","CONTENT"],confirmUpdate:function(){var t=an.prototype.confirmUpdate.apply(this,arguments);return this.hasFlag(t,"CONTENT")&&(this.updateContent(this.model),t=this.removeFlag(t,"CONTENT")),t},update:function(t,e){var n,i=this.model;hi?an.prototype.update.call(this,i,e):(n=he(e||i.get("attrs"),".content"),an.prototype.update.call(this,i,n),e&&!ue(e,".content")||this.updateContent(i,e))},updateContent:function(t,e){var n=yt({},(e||t.get("attrs"))[".content"]),n=he(n,"text"),e=dt(t.get("content"),t.get("size"),n,{svgDocument:this.paper.svg}),n=ot({},".content",n,"/");n[".content"].text=e,an.prototype.update.call(this,t,n)}}),Je={Generic:li,Rect:ui,TextView:ci,Text:Tt,Circle:zt,Ellipse:Yt,Polygon:Rt,Polyline:Bt,Image:Ft,Path:ee,Rhombus:ie,TextBlock:se,TextBlockView:fe},Oe=Qe.define("standard.Rectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"text",selector:"label"}]}),$e=Qe.define("standard.Circle",{attrs:{body:{refCx:"50%",refCy:"50%",refR:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"circle",selector:"body"},{tagName:"text",selector:"label"}]}),Z=Qe.define("standard.Ellipse",{attrs:{body:{refCx:"50%",refCy:"50%",refRx:"50%",refRy:"50%",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"body"},{tagName:"text",selector:"label"}]}),Q=Qe.define("standard.Path",{attrs:{body:{refD:"M 0 0 L 10 0 10 10 0 10 Z",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"text",selector:"label"}]}),K=Qe.define("standard.Polygon",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polygon",selector:"body"},{tagName:"text",selector:"label"}]}),ui=Qe.define("standard.Polyline",{attrs:{body:{refPoints:"0 0 10 0 10 10 0 10 0 0",strokeWidth:2,stroke:"#333333",fill:"#FFFFFF"},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",fontSize:14,fill:"#333333"}}},{markup:[{tagName:"polyline",selector:"body"},{tagName:"text",selector:"label"}]}),ci=Qe.define("standard.Image",{attrs:{image:{refWidth:"100%",refHeight:"100%"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Tt=Qe.define("standard.BorderedImage",{attrs:{border:{refWidth:"100%",refHeight:"100%",stroke:"#333333",strokeWidth:2},background:{refWidth:-1,refHeight:-1,x:.5,y:.5,fill:"#FFFFFF"},image:{refWidth:-1,refHeight:-1,x:.5,y:.5},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"background",attributes:{stroke:"none"}},{tagName:"image",selector:"image"},{tagName:"rect",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),Yt=Qe.define("standard.EmbeddedImage",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#FFFFFF",strokeWidth:2},image:{refWidth:"30%",refHeight:-20,x:10,y:10,preserveAspectRatio:"xMidYMin"},label:{textVerticalAnchor:"top",textAnchor:"left",refX:"30%",refX2:20,refY:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"image",selector:"image"},{tagName:"text",selector:"label"}]}),Rt=Qe.define("standard.InscribedImage",{attrs:{border:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",stroke:"#333333",strokeWidth:2},background:{refRx:"50%",refRy:"50%",refCx:"50%",refCy:"50%",fill:"#FFFFFF"},image:{refWidth:"68%",refHeight:"68%",refX:"16%",refY:"16%",preserveAspectRatio:"xMidYMid"},label:{textVerticalAnchor:"top",textAnchor:"middle",refX:"50%",refY:"100%",refY2:10,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"ellipse",selector:"background"},{tagName:"image",selector:"image"},{tagName:"ellipse",selector:"border",attributes:{fill:"none"}},{tagName:"text",selector:"label"}]}),Bt=Qe.define("standard.HeaderedRectangle",{attrs:{body:{refWidth:"100%",refHeight:"100%",strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},header:{refWidth:"100%",height:30,strokeWidth:2,stroke:"#000000",fill:"#FFFFFF"},headerText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:15,fontSize:16,fill:"#333333"},bodyText:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"50%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"rect",selector:"body"},{tagName:"rect",selector:"header"},{tagName:"text",selector:"headerText"},{tagName:"text",selector:"bodyText"}]}),Ft=Qe.define("standard.Cylinder",{attrs:{body:{lateralArea:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},top:{refCx:"50%",cy:10,refRx:"50%",ry:10,fill:"#FFFFFF",stroke:"#333333",strokeWidth:2},label:{textVerticalAnchor:"middle",textAnchor:"middle",refX:"50%",refY:"100%",refY2:15,fontSize:14,fill:"#333333"}}},{markup:[{tagName:"path",selector:"body"},{tagName:"ellipse",selector:"top"},{tagName:"text",selector:"label"}],topRy:function(t,e){if(void 0===t)return this.attr("body/lateralArea");var n=Lt(t);return this.attr({body:{lateralArea:t},top:n?{refCy:t,refRy:t,cy:null,ry:null}:{refCy:null,refRy:null,cy:t,ry:t}},e)}},{attributes:{lateralArea:{set:function(t,e){var n=Lt(t);n&&(t=parseFloat(t)/100);var i=e.x,r=e.y,o=e.width,a=e.height,s=n?a*t:t,l=It.KAPPA,u=l*(o/2),e=l*(n?a*t:t),l=i+o/2,n=i+o,t=r+s,o=t-s,s=r+a-s,a=r+a;return{d:["M",i,t,"L",i,s,"C",i,s+e,l-u,a,l,a,"C",l+u,a,n,s+e,n,s,"L",n,t,"C",n,t-e,l+u,o,l,o,"C",l-u,o,i,t-e,i,t,"Z"].join(" ")}}}}}),ee=k.test("svgforeignobject")?{tagName:"foreignObject",selector:"foreignObject",attributes:{overflow:"hidden"},children:[{tagName:"div",namespaceURI:"http://www.w3.org/1999/xhtml",selector:"label",style:{width:"100%",height:"100%",position:"static",backgroundColor:"transparent",textAlign:"center",margin:0,padding:"0px 5px",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center"}}]}:{tagName:"text",selector:"label",attributes:{"text-anchor":"middle"}},ie={Rectangle:Oe,Circle:$e,Ellipse:Z,Path:Q,Polygon:K,Polyline:ui,Image:ci,BorderedImage:Tt,EmbeddedImage:Yt,InscribedImage:Rt,HeaderedRectangle:Bt,Cylinder:Ft,TextBlock:Qe.define("standard.TextBlock",{attrs:{body:{refWidth:"100%",refHeight:"100%",stroke:"#333333",fill:"#ffffff",strokeWidth:2},foreignObject:{refWidth:"100%",refHeight:"100%"},label:{style:{fontSize:14}}}},{markup:[{tagName:"rect",selector:"body"},ee]},{attributes:{text:{set:function(t,e,n,i){if(!(n instanceof HTMLElement)){var r=i.style||{},o={text:t,width:-5,height:"100%"},i=Ht({textVerticalAnchor:"middle"},r);return ke.textWrap.set.call(this,o,e,n,i),{fill:r.color||null}}n.textContent=t},position:function(t,e,n){if(n instanceof SVGElement)return e.center()}}}}),Link:qe.define("standard.Link",{attrs:{line:{connection:!0,stroke:"#333333",strokeWidth:2,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 10 -5 0 0 10 5 z"}},wrapper:{connection:!0,strokeWidth:10,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"wrapper",attributes:{fill:"none",cursor:"pointer",stroke:"transparent","stroke-linecap":"round"}},{tagName:"path",selector:"line",attributes:{fill:"none","pointer-events":"none"}}]}),DoubleLink:qe.define("standard.DoubleLink",{attrs:{line:{connection:!0,stroke:"#DDDDDD",strokeWidth:4,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"#000000",d:"M 10 -3 10 -10 -2 0 10 10 10 3"}},outline:{connection:!0,stroke:"#000000",strokeWidth:6,strokeLinejoin:"round"}}},{markup:[{tagName:"path",selector:"outline",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]}),ShadowLink:qe.define("standard.ShadowLink",{attrs:{line:{connection:!0,stroke:"#FF0000",strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",stroke:"none",d:"M 0 -10 -10 0 0 10 z"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}},shadow:{connection:!0,refX:3,refY:6,stroke:"#000000",strokeOpacity:.2,strokeWidth:20,strokeLinejoin:"round",targetMarker:{type:"path",d:"M 0 -10 -10 0 0 10 z",stroke:"none"},sourceMarker:{type:"path",stroke:"none",d:"M -10 -10 0 0 -10 10 0 10 0 -10 z"}}}},{markup:[{tagName:"path",selector:"shadow",attributes:{fill:"none"}},{tagName:"path",selector:"line",attributes:{fill:"none"}}]})},se=li.define("devs.Model",{inPorts:[],outPorts:[],size:{width:80,height:80},attrs:{".":{magnet:!1},".label":{text:"Model","ref-x":.5,"ref-y":10,"font-size":18,"text-anchor":"middle",fill:"#000"},".body":{"ref-width":"100%","ref-height":"100%",stroke:"#000"}},ports:{groups:{in:{position:{name:"left"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"left",args:{y:10}}}},out:{position:{name:"right"},attrs:{".port-label":{fill:"#000"},".port-body":{fill:"#fff",stroke:"#000",r:10,magnet:!0}},label:{position:{name:"right",args:{y:10}}}}}}},{markup:'<g class="rotatable"><rect class="body"/><text class="label"/></g>',portMarkup:'<circle class="port-body"/>',portLabelMarkup:'<text class="port-label"/>',initialize:function(){li.prototype.initialize.apply(this,arguments),this.on("change:inPorts change:outPorts",this.updatePortItems,this),this.updatePortItems()},updatePortItems:function(t,e,n){var i=Vt(this.get("inPorts")),r=ae(Vt(this.get("outPorts")),i),i=this.createPortItems("in",i),r=this.createPortItems("out",r);this.prop("ports/items",i.concat(r),Ht({rewrite:!0},n))},createPortItem:function(t,e){return{id:e,group:t,attrs:{".port-label":{text:e}}}},createPortItems:function(t,e){return te(e).map(this.createPortItem.bind(this,t))},_addGroupPort:function(t,e,n){var i=this.get(e);return this.set(e,Array.isArray(i)?i.concat(t):[t],n)},addOutPort:function(t,e){return this._addGroupPort(t,"outPorts",e)},addInPort:function(t,e){return this._addGroupPort(t,"inPorts",e)},_removeGroupPort:function(t,e,n){return this.set(e,oe(this.get(e),t),n)},removeOutPort:function(t,e){return this._removeGroupPort(t,"outPorts",e)},removeInPort:function(t,e){return this._removeGroupPort(t,"inPorts",e)},_changeGroup:function(t,e,n){return this.prop("ports/groups/"+t,xt(e)?e:{},n)},changeInGroup:function(t,e){return this._changeGroup("in",t,e)},changeOutGroup:function(t,e){return this._changeGroup("out",t,e)}}),fe=se.define("devs.Atomic",{size:{width:80,height:80},attrs:{".label":{text:"Atomic"}}}),Oe=se.define("devs.Coupled",{size:{width:200,height:300},attrs:{".label":{text:"Coupled"}}}),$e={Model:se,Atomic:fe,Coupled:Oe,Link:qe.define("devs.Link",{attrs:{".connection":{"stroke-width":2}}})},Z=li.define("logic.Gate",{size:{width:80,height:40},attrs:{".":{magnet:!1},".body":{width:100,height:50},circle:{r:7,stroke:"black",fill:"transparent","stroke-width":2}}},{operation:function(){return!0}}),Q=Z.define("logic.IO",{size:{width:60,height:30},attrs:{".body":{fill:"white",stroke:"black","stroke-width":2},".wire":{ref:".body","ref-y":.5,stroke:"black"},text:{fill:"black",ref:".body","ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle","font-weight":"bold","font-variant":"small-caps","text-transform":"capitalize","font-size":"14px"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="body"/></g><path class="wire"/><circle/><text/></g>'}),K=Q.define("logic.Input",{attrs:{".wire":{"ref-dx":0,d:"M 0 0 L 23 0"},circle:{ref:".body","ref-dx":30,"ref-y":.5,magnet:!0,class:"output",port:"out"},text:{text:"input"}}}),ui=Q.define("logic.Output",{attrs:{".wire":{"ref-x":0,d:"M 0 0 L -23 0"},circle:{ref:".body","ref-x":-30,"ref-y":.5,magnet:"passive",class:"input",port:"in"},text:{text:"output"}}}),ci=Z.define("logic.Gate11",{attrs:{".input":{ref:".body","ref-x":-2,"ref-y":.5,magnet:"passive",port:"in"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input"/><circle class="output"/></g>'}),Tt=Z.define("logic.Gate21",{attrs:{".input1":{ref:".body","ref-x":-2,"ref-y":.3,magnet:"passive",port:"in1"},".input2":{ref:".body","ref-x":-2,"ref-y":.7,magnet:"passive",port:"in2"},".output":{ref:".body","ref-dx":2,"ref-y":.5,magnet:!0,port:"out"}}},{markup:'<g class="rotatable"><g class="scalable"><image class="body"/></g><circle class="input input1"/><circle  class="input input2"/><circle class="output"/></g>'}),Yt=ci.define("logic.Repeater",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzIuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t){return t}}),Rt=ci.define("logic.Not",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PVCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjgiCiAgICAgaW5rc2NhcGU6Y3g9Ijg0LjY4NTM1MiIKICAgICBpbmtzY2FwZTpjeT0iMTUuMjg4NjI4IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzkuMTU2OTEsMjUgTCA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAyOS4wNDM0NzgsMjUgTCA1LjA0MzQ3ODEsMjUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgZD0iTSAyOC45Njg3NSwyLjU5Mzc1IEwgMjguOTY4NzUsNSBMIDI4Ljk2ODc1LDQ1IEwgMjguOTY4NzUsNDcuNDA2MjUgTCAzMS4xMjUsNDYuMzQzNzUgTCA3Mi4xNTYyNSwyNi4zNDM3NSBMIDcyLjE1NjI1LDIzLjY1NjI1IEwgMzEuMTI1LDMuNjU2MjUgTCAyOC45Njg3NSwyLjU5Mzc1IHogTSAzMS45Njg3NSw3LjQwNjI1IEwgNjguMDkzNzUsMjUgTCAzMS45Njg3NSw0Mi41OTM3NSBMIDMxLjk2ODc1LDcuNDA2MjUgeiIKICAgICAgIGlkPSJwYXRoMjYzOCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2NjY2NjY2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDI2NzEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzYiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA4MCwyNSBBIDQsNCAwIDEgMSA3MiwyNSBBIDQsNCAwIDEgMSA4MCwyNSB6IgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEsMCkiIC8+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t){return!t}}),Bt=Tt.define("logic.Or",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik9SIEFOU0kuc3ZnIgogICBpbmtzY2FwZTpvdXRwdXRfZXh0ZW5zaW9uPSJvcmcuaW5rc2NhcGUub3V0cHV0LnN2Zy5pbmtzY2FwZSI+CiAgPGRlZnMKICAgICBpZD0iZGVmczQiPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTAgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjcxNCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iMSA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMC41IDogMC4zMzMzMzMzMyA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODA2IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyODE5IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjM3Mi4wNDcyNCA6IDM1MC43ODczOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI3NDQuMDk0NDggOiA1MjYuMTgxMDkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzc3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49Ijc1IDogNDAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTUwIDogNjAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDYwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTMyNzUiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNTAgOiAzMy4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iMTAwIDogNTAgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDUwIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTU1MzMiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzIgOiAyMS4zMzMzMzMgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNjQgOiAzMiA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMzIgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjU1NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDE2LjY2NjY2NyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDI1IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAyNSA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iNCIKICAgICBpbmtzY2FwZTpjeD0iMTEzLjAwMDM5IgogICAgIGlua3NjYXBlOmN5PSIxMi44OTM3MzEiCiAgICAgaW5rc2NhcGU6ZG9jdW1lbnQtdW5pdHM9InB4IgogICAgIGlua3NjYXBlOmN1cnJlbnQtbGF5ZXI9ImcyNTYwIgogICAgIHNob3dncmlkPSJmYWxzZSIKICAgICBpbmtzY2FwZTpncmlkLWJib3g9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1wb2ludHM9InRydWUiCiAgICAgZ3JpZHRvbGVyYW5jZT0iMTAwMDAiCiAgICAgaW5rc2NhcGU6d2luZG93LXdpZHRoPSIxMzk5IgogICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9Ijg3NCIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iMzciCiAgICAgaW5rc2NhcGU6d2luZG93LXk9Ii00IgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Im0gNzAsMjUgYyAyMCwwIDI1LDAgMjUsMCIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMSwxNSA1LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzIsMzUgNSwzNSIKICAgICAgIGlkPSJwYXRoMzk0NCIgLz4KICAgIDxnCiAgICAgICBpZD0iZzI1NjAiCiAgICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICAgIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2LjUsLTM5LjUpIj4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}}},{operation:function(t,e){return t||e}}),Ft=Tt.define("logic.And",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IkFORCBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI4IgogICAgIGlua3NjYXBlOmN4PSI1Ni42OTgzNDgiCiAgICAgaW5rc2NhcGU6Y3k9IjI1LjMyNjg5OSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZvbnQtc2l6ZTptZWRpdW07Zm9udC1zdHlsZTpub3JtYWw7Zm9udC12YXJpYW50Om5vcm1hbDtmb250LXdlaWdodDpub3JtYWw7Zm9udC1zdHJldGNoOm5vcm1hbDt0ZXh0LWluZGVudDowO3RleHQtYWxpZ246c3RhcnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7bGluZS1oZWlnaHQ6bm9ybWFsO2xldHRlci1zcGFjaW5nOm5vcm1hbDt3b3JkLXNwYWNpbmc6bm9ybWFsO3RleHQtdHJhbnNmb3JtOm5vbmU7ZGlyZWN0aW9uOmx0cjtibG9jay1wcm9ncmVzc2lvbjp0Yjt3cml0aW5nLW1vZGU6bHItdGI7dGV4dC1hbmNob3I6c3RhcnQ7ZmlsbDojMDAwMDAwO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDozO21hcmtlcjpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGU7Zm9udC1mYW1pbHk6Qml0c3RyZWFtIFZlcmEgU2FuczstaW5rc2NhcGUtZm9udC1zcGVjaWZpY2F0aW9uOkJpdHN0cmVhbSBWZXJhIFNhbnMiCiAgICAgICBkPSJNIDMwLDUgTCAzMCw2LjQyODU3MTQgTCAzMCw0My41NzE0MjkgTCAzMCw0NSBMIDMxLjQyODU3MSw0NSBMIDUwLjQ3NjE5LDQ1IEMgNjEuNzQ0MDk4LDQ1IDcwLjQ3NjE5LDM1Ljk5OTk1NSA3MC40NzYxOSwyNSBDIDcwLjQ3NjE5LDE0LjAwMDA0NSA2MS43NDQwOTksNS4wMDAwMDAyIDUwLjQ3NjE5LDUgQyA1MC40NzYxOSw1IDUwLjQ3NjE5LDUgMzEuNDI4NTcxLDUgTCAzMCw1IHogTSAzMi44NTcxNDMsNy44NTcxNDI5IEMgNDAuODM0MjY0LDcuODU3MTQyOSA0NS45MTgzNjgsNy44NTcxNDI5IDQ4LjA5NTIzOCw3Ljg1NzE0MjkgQyA0OS4yODU3MTQsNy44NTcxNDI5IDQ5Ljg4MDk1Miw3Ljg1NzE0MjkgNTAuMTc4NTcxLDcuODU3MTQyOSBDIDUwLjMyNzM4MSw3Ljg1NzE0MjkgNTAuNDA5MjI3LDcuODU3MTQyOSA1MC40NDY0MjksNy44NTcxNDI5IEMgNTAuNDY1MDI5LDcuODU3MTQyOSA1MC40NzE1NDMsNy44NTcxNDI5IDUwLjQ3NjE5LDcuODU3MTQyOSBDIDYwLjIzNjg1Myw3Ljg1NzE0MyA2Ny4xNDI4NTcsMTUuNDk3MDk4IDY3LjE0Mjg1NywyNSBDIDY3LjE0Mjg1NywzNC41MDI5MDIgNTkuNzYwNjYyLDQyLjE0Mjg1NyA1MCw0Mi4xNDI4NTcgTCAzMi44NTcxNDMsNDIuMTQyODU3IEwgMzIuODU3MTQzLDcuODU3MTQyOSB6IgogICAgICAgaWQ9InBhdGgyODg0IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2NjY2NzY2NjY3Nzc3NzY2NjIiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return t&&e}}),ee=Tt.define("logic.Nor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5PUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjEiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjY3NzY0NCIKICAgICBpbmtzY2FwZTpjeT0iMjIuMTAyMzQ0IgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjM3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSItNCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc5LDI1IEMgOTksMjUgOTUsMjUgOTUsMjUiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEsMTUgNSwxNSIKICAgICAgIGlkPSJwYXRoMzA2MSIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoxLjk5OTk5OTg4O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMyLDM1IDUsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHNvZGlwb2RpOnR5cGU9ImFyYyIKICAgICAgICAgc3R5bGU9ImZpbGw6bm9uZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWpvaW46bWl0ZXI7bWFya2VyOm5vbmU7c3Ryb2tlLW9wYWNpdHk6MTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlIgogICAgICAgICBpZD0icGF0aDI2MDQiCiAgICAgICAgIHNvZGlwb2RpOmN4PSI3NSIKICAgICAgICAgc29kaXBvZGk6Y3k9IjI1IgogICAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgICAgc29kaXBvZGk6cnk9IjQiCiAgICAgICAgIGQ9Ik0gNzksMjUgQSA0LDQgMCAxIDEgNzEsMjUgQSA0LDQgMCAxIDEgNzksMjUgeiIKICAgICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2LjUsMzkuNSkiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return!(t||e)}}),se=Tt.define("logic.Nand",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9Ik5BTkQgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogIDwvZGVmcz4KICA8c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgaWQ9ImJhc2UiCiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEuMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMC4wIgogICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9IjIiCiAgICAgaW5rc2NhcGU6em9vbT0iMTYiCiAgICAgaW5rc2NhcGU6Y3g9Ijc4LjI4MzMwNyIKICAgICBpbmtzY2FwZTpjeT0iMTYuNDQyODQzIgogICAgIGlua3NjYXBlOmRvY3VtZW50LXVuaXRzPSJweCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJsYXllcjEiCiAgICAgc2hvd2dyaWQ9InRydWUiCiAgICAgaW5rc2NhcGU6Z3JpZC1iYm94PSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtcG9pbnRzPSJ0cnVlIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwMDAwIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTM5OSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI4NzQiCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjMzIgogICAgIGlua3NjYXBlOndpbmRvdy15PSIwIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSI+CiAgICA8aW5rc2NhcGU6Z3JpZAogICAgICAgaWQ9IkdyaWRGcm9tUHJlMDQ2U2V0dGluZ3MiCiAgICAgICB0eXBlPSJ4eWdyaWQiCiAgICAgICBvcmlnaW54PSIwcHgiCiAgICAgICBvcmlnaW55PSIwcHgiCiAgICAgICBzcGFjaW5neD0iMXB4IgogICAgICAgc3BhY2luZ3k9IjFweCIKICAgICAgIGNvbG9yPSIjMDAwMGZmIgogICAgICAgZW1wY29sb3I9IiMwMDAwZmYiCiAgICAgICBvcGFjaXR5PSIwLjIiCiAgICAgICBlbXBvcGFjaXR5PSIwLjQiCiAgICAgICBlbXBzcGFjaW5nPSI1IgogICAgICAgdmlzaWJsZT0idHJ1ZSIKICAgICAgIGVuYWJsZWQ9InRydWUiIC8+CiAgPC9zb2RpcG9kaTpuYW1lZHZpZXc+CiAgPG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhNyI+CiAgICA8cmRmOlJERj4KICAgICAgPGNjOldvcmsKICAgICAgICAgcmRmOmFib3V0PSIiPgogICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PgogICAgICAgIDxkYzp0eXBlCiAgICAgICAgICAgcmRmOnJlc291cmNlPSJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZSIgLz4KICAgICAgPC9jYzpXb3JrPgogICAgPC9yZGY6UkRGPgogIDwvbWV0YWRhdGE+CiAgPGcKICAgICBpbmtzY2FwZTpsYWJlbD0iTGF5ZXIgMSIKICAgICBpbmtzY2FwZTpncm91cG1vZGU9ImxheWVyIgogICAgIGlkPSJsYXllcjEiPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjI7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gNzksMjUgQyA5MS44LDI1IDk1LDI1IDk1LDI1IgogICAgICAgaWQ9InBhdGgzMDU5IgogICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDMxLDE1IDUsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMiwzNSA1LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmb250LXNpemU6bWVkaXVtO2ZvbnQtc3R5bGU6bm9ybWFsO2ZvbnQtdmFyaWFudDpub3JtYWw7Zm9udC13ZWlnaHQ6bm9ybWFsO2ZvbnQtc3RyZXRjaDpub3JtYWw7dGV4dC1pbmRlbnQ6MDt0ZXh0LWFsaWduOnN0YXJ0O3RleHQtZGVjb3JhdGlvbjpub25lO2xpbmUtaGVpZ2h0Om5vcm1hbDtsZXR0ZXItc3BhY2luZzpub3JtYWw7d29yZC1zcGFjaW5nOm5vcm1hbDt0ZXh0LXRyYW5zZm9ybTpub25lO2RpcmVjdGlvbjpsdHI7YmxvY2stcHJvZ3Jlc3Npb246dGI7d3JpdGluZy1tb2RlOmxyLXRiO3RleHQtYW5jaG9yOnN0YXJ0O2ZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MzttYXJrZXI6bm9uZTt2aXNpYmlsaXR5OnZpc2libGU7ZGlzcGxheTppbmxpbmU7b3ZlcmZsb3c6dmlzaWJsZTtlbmFibGUtYmFja2dyb3VuZDphY2N1bXVsYXRlO2ZvbnQtZmFtaWx5OkJpdHN0cmVhbSBWZXJhIFNhbnM7LWlua3NjYXBlLWZvbnQtc3BlY2lmaWNhdGlvbjpCaXRzdHJlYW0gVmVyYSBTYW5zIgogICAgICAgZD0iTSAzMCw1IEwgMzAsNi40Mjg1NzE0IEwgMzAsNDMuNTcxNDI5IEwgMzAsNDUgTCAzMS40Mjg1NzEsNDUgTCA1MC40NzYxOSw0NSBDIDYxLjc0NDA5OCw0NSA3MC40NzYxOSwzNS45OTk5NTUgNzAuNDc2MTksMjUgQyA3MC40NzYxOSwxNC4wMDAwNDUgNjEuNzQ0MDk5LDUuMDAwMDAwMiA1MC40NzYxOSw1IEMgNTAuNDc2MTksNSA1MC40NzYxOSw1IDMxLjQyODU3MSw1IEwgMzAsNSB6IE0gMzIuODU3MTQzLDcuODU3MTQyOSBDIDQwLjgzNDI2NCw3Ljg1NzE0MjkgNDUuOTE4MzY4LDcuODU3MTQyOSA0OC4wOTUyMzgsNy44NTcxNDI5IEMgNDkuMjg1NzE0LDcuODU3MTQyOSA0OS44ODA5NTIsNy44NTcxNDI5IDUwLjE3ODU3MSw3Ljg1NzE0MjkgQyA1MC4zMjczODEsNy44NTcxNDI5IDUwLjQwOTIyNyw3Ljg1NzE0MjkgNTAuNDQ2NDI5LDcuODU3MTQyOSBDIDUwLjQ2NTAyOSw3Ljg1NzE0MjkgNTAuNDcxNTQzLDcuODU3MTQyOSA1MC40NzYxOSw3Ljg1NzE0MjkgQyA2MC4yMzY4NTMsNy44NTcxNDMgNjcuMTQyODU3LDE1LjQ5NzA5OCA2Ny4xNDI4NTcsMjUgQyA2Ny4xNDI4NTcsMzQuNTAyOTAyIDU5Ljc2MDY2Miw0Mi4xNDI4NTcgNTAsNDIuMTQyODU3IEwgMzIuODU3MTQzLDQyLjE0Mjg1NyBMIDMyLjg1NzE0Myw3Ljg1NzE0MjkgeiIKICAgICAgIGlkPSJwYXRoMjg4NCIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY2Njc2NjY2Nzc3Nzc2NjYyIgLz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDQwMDgiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return!(t&&e)}}),fe=Tt.define("logic.Xor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhPUiBBTlNJLnN2ZyIKICAgaW5rc2NhcGU6b3V0cHV0X2V4dGVuc2lvbj0ib3JnLmlua3NjYXBlLm91dHB1dC5zdmcuaW5rc2NhcGUiPgogIDxkZWZzCiAgICAgaWQ9ImRlZnM0Ij4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSI1MCA6IDE1IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIyNSA6IDEwIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3MTQiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEgOiAwLjUgOiAxIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjAuNSA6IDAuMzMzMzMzMzMgOiAxIgogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgwNiIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjgxOSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzNzIuMDQ3MjQgOiAzNTAuNzg3MzkgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNzQ0LjA5NDQ4IDogNTI2LjE4MTA5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MjYuMTgxMDkgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMjc3NyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI3NSA6IDQwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjE1MCA6IDYwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA2MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUzMjc1IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjUwIDogMzMuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjEwMCA6IDUwIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiA1MCA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmU1NTMzIgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjMyIDogMjEuMzMzMzMzIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjY0IDogMzIgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDMyIDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI1NTciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxNi42NjY2NjcgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAyNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMjUgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICA8L2RlZnM+CiAgPHNvZGlwb2RpOm5hbWVkdmlldwogICAgIGlkPSJiYXNlIgogICAgIHBhZ2Vjb2xvcj0iI2ZmZmZmZiIKICAgICBib3JkZXJjb2xvcj0iIzY2NjY2NiIKICAgICBib3JkZXJvcGFjaXR5PSIxLjAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAuMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOnpvb209IjUuNjU2ODU0MiIKICAgICBpbmtzY2FwZTpjeD0iMjUuOTM4MTE2IgogICAgIGlua3NjYXBlOmN5PSIxNy4yMzAwNSIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyO3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJtIDcwLDI1IGMgMjAsMCAyNSwwIDI1LDAiCiAgICAgICBpZD0icGF0aDMwNTkiCiAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5ODg7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzAuMzg1NzE3LDE1IEwgNC45OTk5OTk4LDE1IgogICAgICAgaWQ9InBhdGgzMDYxIiAvPgogICAgPHBhdGgKICAgICAgIHN0eWxlPSJmaWxsOm5vbmU7c3Ryb2tlOiMwMDAwMDA7c3Ryb2tlLXdpZHRoOjEuOTk5OTk5NzY7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgIGQ9Ik0gMzEuMzYyMDkxLDM1IEwgNC45OTk5OTk4LDM1IgogICAgICAgaWQ9InBhdGgzOTQ0IiAvPgogICAgPGcKICAgICAgIGlkPSJnMjU2MCIKICAgICAgIGlua3NjYXBlOmxhYmVsPSJMYXllciAxIgogICAgICAgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjYuNSwtMzkuNSkiPgogICAgICA8cGF0aAogICAgICAgICBpZD0icGF0aDM1MTYiCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi4yNSw4MS41MDAwMDUgQyAtMy44NDczNzQsODQuMTQ0NDA1IC00LjUsODQuNTAwMDA1IC00LjUsODQuNTAwMDA1IEwgLTguMTU2MjUsODQuNTAwMDA1IEwgLTYuMTU2MjUsODIuMDYyNTA1IEMgLTYuMTU2MjUsODIuMDYyNTA1IC0wLjUsNzUuMDYyNDUxIC0wLjUsNjQuNSBDIC0wLjUsNTMuOTM3NTQ5IC02LjE1NjI1LDQ2LjkzNzUgLTYuMTU2MjUsNDYuOTM3NSBMIC04LjE1NjI1LDQ0LjUgTCAtNC41LDQ0LjUgQyAtMy43MTg3NSw0NS40Mzc1IC0zLjA3ODEyNSw0Ni4xNTYyNSAtMi4yODEyNSw0Ny41IEMgLTAuNDA4NTMxLDUwLjU5OTgxNSAyLjUsNTYuNTI2NjQ2IDIuNSw2NC41IEMgMi41LDcyLjQ1MDY1IC0wLjM5NjY5Nyw3OC4zNzk0MjUgLTIuMjUsODEuNTAwMDA1IHoiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NjY3NjY2Njc2MiIC8+CiAgICAgIDxwYXRoCiAgICAgICAgIHN0eWxlPSJmaWxsOiMwMDAwMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjM7c3Ryb2tlLWxpbmVjYXA6YnV0dDtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW9wYWNpdHk6MSIKICAgICAgICAgZD0iTSAtMi40MDYyNSw0NC41IEwgLTAuNDA2MjUsNDYuOTM3NSBDIC0wLjQwNjI1LDQ2LjkzNzUgNS4yNSw1My45Mzc1NDkgNS4yNSw2NC41IEMgNS4yNSw3NS4wNjI0NTEgLTAuNDA2MjUsODIuMDYyNSAtMC40MDYyNSw4Mi4wNjI1IEwgLTIuNDA2MjUsODQuNSBMIDAuNzUsODQuNSBMIDE0Ljc1LDg0LjUgQyAxNy4xNTgwNzYsODQuNTAwMDAxIDIyLjQzOTY5OSw4NC41MjQ1MTQgMjguMzc1LDgyLjA5Mzc1IEMgMzQuMzEwMzAxLDc5LjY2Mjk4NiA0MC45MTE1MzYsNzQuNzUwNDg0IDQ2LjA2MjUsNjUuMjE4NzUgTCA0NC43NSw2NC41IEwgNDYuMDYyNSw2My43ODEyNSBDIDM1Ljc1OTM4Nyw0NC43MTU1OSAxOS41MDY1NzQsNDQuNSAxNC43NSw0NC41IEwgMC43NSw0NC41IEwgLTIuNDA2MjUsNDQuNSB6IE0gMy40Njg3NSw0Ny41IEwgMTQuNzUsNDcuNSBDIDE5LjQzNDE3Myw0Ny41IDMzLjAzNjg1LDQ3LjM2OTc5MyA0Mi43MTg3NSw2NC41IEMgMzcuOTUxOTY0LDcyLjkyOTA3NSAzMi4xOTc0NjksNzcuMTgzOTEgMjcsNzkuMzEyNSBDIDIxLjYzOTMzOSw4MS41MDc5MjQgMTcuMTU4MDc1LDgxLjUwMDAwMSAxNC43NSw4MS41IEwgMy41LDgxLjUgQyA1LjM3MzU4ODQsNzguMzkxNTY2IDguMjUsNzIuNDUwNjUgOC4yNSw2NC41IEMgOC4yNSw1Ni41MjY2NDYgNS4zNDE0Njg2LDUwLjU5OTgxNSAzLjQ2ODc1LDQ3LjUgeiIKICAgICAgICAgaWQ9InBhdGg0OTczIgogICAgICAgICBzb2RpcG9kaTpub2RldHlwZXM9ImNjc2NjY2NzY2NjY2NjY2Njc2Njc2MiIC8+CiAgICA8L2c+CiAgPC9nPgo8L3N2Zz4K"}}},{operation:function(t,e){return(!t||e)&&(t||!e)}}),Oe=Tt.define("logic.Xnor",{attrs:{image:{"xlink:href":"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgo8c3ZnCiAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgeG1sbnM6Y2M9Imh0dHA6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL25zIyIKICAgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIgogICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogICB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zOnNvZGlwb2RpPSJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZCIKICAgeG1sbnM6aW5rc2NhcGU9Imh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGUiCiAgIHdpZHRoPSIxMDAiCiAgIGhlaWdodD0iNTAiCiAgIGlkPSJzdmcyIgogICBzb2RpcG9kaTp2ZXJzaW9uPSIwLjMyIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjQ2IgogICB2ZXJzaW9uPSIxLjAiCiAgIHNvZGlwb2RpOmRvY25hbWU9IlhOT1IgQU5TSS5zdmciCiAgIGlua3NjYXBlOm91dHB1dF9leHRlbnNpb249Im9yZy5pbmtzY2FwZS5vdXRwdXQuc3ZnLmlua3NjYXBlIj4KICA8ZGVmcwogICAgIGlkPSJkZWZzNCI+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogMTUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfej0iNTAgOiAxNSA6IDEiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMjUgOiAxMCA6IDEiCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNzE0IiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDAuNSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxIDogMC41IDogMSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIwLjUgOiAwLjMzMzMzMzMzIDogMSIKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MDYiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI4MTkiCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iMzcyLjA0NzI0IDogMzUwLjc4NzM5IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9Ijc0NC4wOTQ0OCA6IDUyNi4xODEwOSA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTI2LjE4MTA5IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgICA8aW5rc2NhcGU6cGVyc3BlY3RpdmUKICAgICAgIGlkPSJwZXJzcGVjdGl2ZTI3NzciCiAgICAgICBpbmtzY2FwZTpwZXJzcDNkLW9yaWdpbj0iNzUgOiA0MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxNTAgOiA2MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNjAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlMzI3NSIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSI1MCA6IDMzLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSIxMDAgOiA1MCA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF95PSIwIDogMTAwMCA6IDAiCiAgICAgICBpbmtzY2FwZTp2cF94PSIwIDogNTAgOiAxIgogICAgICAgc29kaXBvZGk6dHlwZT0iaW5rc2NhcGU6cGVyc3AzZCIgLz4KICAgIDxpbmtzY2FwZTpwZXJzcGVjdGl2ZQogICAgICAgaWQ9InBlcnNwZWN0aXZlNTUzMyIKICAgICAgIGlua3NjYXBlOnBlcnNwM2Qtb3JpZ2luPSIzMiA6IDIxLjMzMzMzMyA6IDEiCiAgICAgICBpbmtzY2FwZTp2cF96PSI2NCA6IDMyIDogMSIKICAgICAgIGlua3NjYXBlOnZwX3k9IjAgOiAxMDAwIDogMCIKICAgICAgIGlua3NjYXBlOnZwX3g9IjAgOiAzMiA6IDEiCiAgICAgICBzb2RpcG9kaTp0eXBlPSJpbmtzY2FwZTpwZXJzcDNkIiAvPgogICAgPGlua3NjYXBlOnBlcnNwZWN0aXZlCiAgICAgICBpZD0icGVyc3BlY3RpdmUyNTU3IgogICAgICAgaW5rc2NhcGU6cGVyc3AzZC1vcmlnaW49IjI1IDogMTYuNjY2NjY3IDogMSIKICAgICAgIGlua3NjYXBlOnZwX3o9IjUwIDogMjUgOiAxIgogICAgICAgaW5rc2NhcGU6dnBfeT0iMCA6IDEwMDAgOiAwIgogICAgICAgaW5rc2NhcGU6dnBfeD0iMCA6IDI1IDogMSIKICAgICAgIHNvZGlwb2RpOnR5cGU9Imlua3NjYXBlOnBlcnNwM2QiIC8+CiAgPC9kZWZzPgogIDxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBpZD0iYmFzZSIKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMS4wIgogICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PSIwLjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp6b29tPSI0IgogICAgIGlua3NjYXBlOmN4PSI5NS43MjM2NiIKICAgICBpbmtzY2FwZTpjeT0iLTI2Ljc3NTAyMyIKICAgICBpbmtzY2FwZTpkb2N1bWVudC11bml0cz0icHgiCiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj0ibGF5ZXIxIgogICAgIHNob3dncmlkPSJ0cnVlIgogICAgIGlua3NjYXBlOmdyaWQtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpncmlkLXBvaW50cz0idHJ1ZSIKICAgICBncmlkdG9sZXJhbmNlPSIxMDAwMCIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjEzOTkiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iODc0IgogICAgIGlua3NjYXBlOndpbmRvdy14PSIzMyIKICAgICBpbmtzY2FwZTp3aW5kb3cteT0iMCIKICAgICBpbmtzY2FwZTpzbmFwLWJib3g9InRydWUiPgogICAgPGlua3NjYXBlOmdyaWQKICAgICAgIGlkPSJHcmlkRnJvbVByZTA0NlNldHRpbmdzIgogICAgICAgdHlwZT0ieHlncmlkIgogICAgICAgb3JpZ2lueD0iMHB4IgogICAgICAgb3JpZ2lueT0iMHB4IgogICAgICAgc3BhY2luZ3g9IjFweCIKICAgICAgIHNwYWNpbmd5PSIxcHgiCiAgICAgICBjb2xvcj0iIzAwMDBmZiIKICAgICAgIGVtcGNvbG9yPSIjMDAwMGZmIgogICAgICAgb3BhY2l0eT0iMC4yIgogICAgICAgZW1wb3BhY2l0eT0iMC40IgogICAgICAgZW1wc3BhY2luZz0iNSIKICAgICAgIHZpc2libGU9InRydWUiCiAgICAgICBlbmFibGVkPSJ0cnVlIiAvPgogIDwvc29kaXBvZGk6bmFtZWR2aWV3PgogIDxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTciPgogICAgPHJkZjpSREY+CiAgICAgIDxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj4KICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD4KICAgICAgICA8ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+CiAgICAgIDwvY2M6V29yaz4KICAgIDwvcmRmOlJERj4KICA8L21ldGFkYXRhPgogIDxnCiAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgaW5rc2NhcGU6Z3JvdXBtb2RlPSJsYXllciIKICAgICBpZD0ibGF5ZXIxIj4KICAgIDxwYXRoCiAgICAgICBzdHlsZT0iZmlsbDpub25lO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoyLjAwMDAwMDI0O3N0cm9rZS1saW5lY2FwOmJ1dHQ7c3Ryb2tlLWxpbmVqb2luOm1pdGVyO3N0cm9rZS1vcGFjaXR5OjEiCiAgICAgICBkPSJNIDc4LjMzMzMzMiwyNSBDIDkxLjY2NjY2NiwyNSA5NSwyNSA5NSwyNSIKICAgICAgIGlkPSJwYXRoMzA1OSIKICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2MiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk4ODtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMC4zODU3MTcsMTUgTCA0Ljk5OTk5OTgsMTUiCiAgICAgICBpZD0icGF0aDMwNjEiIC8+CiAgICA8cGF0aAogICAgICAgc3R5bGU9ImZpbGw6bm9uZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS45OTk5OTk3NjtzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgZD0iTSAzMS4zNjIwOTEsMzUgTCA0Ljk5OTk5OTgsMzUiCiAgICAgICBpZD0icGF0aDM5NDQiIC8+CiAgICA8ZwogICAgICAgaWQ9ImcyNTYwIgogICAgICAgaW5rc2NhcGU6bGFiZWw9IkxheWVyIDEiCiAgICAgICB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNi41LC0zOS41KSI+CiAgICAgIDxwYXRoCiAgICAgICAgIGlkPSJwYXRoMzUxNiIKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjI1LDgxLjUwMDAwNSBDIC0zLjg0NzM3NCw4NC4xNDQ0MDUgLTQuNSw4NC41MDAwMDUgLTQuNSw4NC41MDAwMDUgTCAtOC4xNTYyNSw4NC41MDAwMDUgTCAtNi4xNTYyNSw4Mi4wNjI1MDUgQyAtNi4xNTYyNSw4Mi4wNjI1MDUgLTAuNSw3NS4wNjI0NTEgLTAuNSw2NC41IEMgLTAuNSw1My45Mzc1NDkgLTYuMTU2MjUsNDYuOTM3NSAtNi4xNTYyNSw0Ni45Mzc1IEwgLTguMTU2MjUsNDQuNSBMIC00LjUsNDQuNSBDIC0zLjcxODc1LDQ1LjQzNzUgLTMuMDc4MTI1LDQ2LjE1NjI1IC0yLjI4MTI1LDQ3LjUgQyAtMC40MDg1MzEsNTAuNTk5ODE1IDIuNSw1Ni41MjY2NDYgMi41LDY0LjUgQyAyLjUsNzIuNDUwNjUgLTAuMzk2Njk3LDc4LjM3OTQyNSAtMi4yNSw4MS41MDAwMDUgeiIKICAgICAgICAgc29kaXBvZGk6bm9kZXR5cGVzPSJjY2Njc2NjY2NzYyIgLz4KICAgICAgPHBhdGgKICAgICAgICAgc3R5bGU9ImZpbGw6IzAwMDAwMDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MztzdHJva2UtbGluZWNhcDpidXR0O3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2Utb3BhY2l0eToxIgogICAgICAgICBkPSJNIC0yLjQwNjI1LDQ0LjUgTCAtMC40MDYyNSw0Ni45Mzc1IEMgLTAuNDA2MjUsNDYuOTM3NSA1LjI1LDUzLjkzNzU0OSA1LjI1LDY0LjUgQyA1LjI1LDc1LjA2MjQ1MSAtMC40MDYyNSw4Mi4wNjI1IC0wLjQwNjI1LDgyLjA2MjUgTCAtMi40MDYyNSw4NC41IEwgMC43NSw4NC41IEwgMTQuNzUsODQuNSBDIDE3LjE1ODA3Niw4NC41MDAwMDEgMjIuNDM5Njk5LDg0LjUyNDUxNCAyOC4zNzUsODIuMDkzNzUgQyAzNC4zMTAzMDEsNzkuNjYyOTg2IDQwLjkxMTUzNiw3NC43NTA0ODQgNDYuMDYyNSw2NS4yMTg3NSBMIDQ0Ljc1LDY0LjUgTCA0Ni4wNjI1LDYzLjc4MTI1IEMgMzUuNzU5Mzg3LDQ0LjcxNTU5IDE5LjUwNjU3NCw0NC41IDE0Ljc1LDQ0LjUgTCAwLjc1LDQ0LjUgTCAtMi40MDYyNSw0NC41IHogTSAzLjQ2ODc1LDQ3LjUgTCAxNC43NSw0Ny41IEMgMTkuNDM0MTczLDQ3LjUgMzMuMDM2ODUsNDcuMzY5NzkzIDQyLjcxODc1LDY0LjUgQyAzNy45NTE5NjQsNzIuOTI5MDc1IDMyLjE5NzQ2OSw3Ny4xODM5MSAyNyw3OS4zMTI1IEMgMjEuNjM5MzM5LDgxLjUwNzkyNCAxNy4xNTgwNzUsODEuNTAwMDAxIDE0Ljc1LDgxLjUgTCAzLjUsODEuNSBDIDUuMzczNTg4NCw3OC4zOTE1NjYgOC4yNSw3Mi40NTA2NSA4LjI1LDY0LjUgQyA4LjI1LDU2LjUyNjY0NiA1LjM0MTQ2ODYsNTAuNTk5ODE1IDMuNDY4NzUsNDcuNSB6IgogICAgICAgICBpZD0icGF0aDQ5NzMiCiAgICAgICAgIHNvZGlwb2RpOm5vZGV0eXBlcz0iY2NzY2NjY3NjY2NjY2NjY2NzY2NzYyIgLz4KICAgIDwvZz4KICAgIDxwYXRoCiAgICAgICBzb2RpcG9kaTp0eXBlPSJhcmMiCiAgICAgICBzdHlsZT0iZmlsbDpub25lO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDozO3N0cm9rZS1saW5lam9pbjptaXRlcjttYXJrZXI6bm9uZTtzdHJva2Utb3BhY2l0eToxO3Zpc2liaWxpdHk6dmlzaWJsZTtkaXNwbGF5OmlubGluZTtvdmVyZmxvdzp2aXNpYmxlO2VuYWJsZS1iYWNrZ3JvdW5kOmFjY3VtdWxhdGUiCiAgICAgICBpZD0icGF0aDM1NTEiCiAgICAgICBzb2RpcG9kaTpjeD0iNzUiCiAgICAgICBzb2RpcG9kaTpjeT0iMjUiCiAgICAgICBzb2RpcG9kaTpyeD0iNCIKICAgICAgIHNvZGlwb2RpOnJ5PSI0IgogICAgICAgZD0iTSA3OSwyNSBBIDQsNCAwIDEgMSA3MSwyNSBBIDQsNCAwIDEgMSA3OSwyNSB6IiAvPgogIDwvZz4KPC9zdmc+Cg=="}}},{operation:function(t,e){return(!t||!e)&&(t||e)}}),ui={Gate:Z,IO:Q,Input:K,Output:ui,Gate11:ci,Gate21:Tt,Repeater:Yt,Not:Rt,Or:Bt,And:Ft,Nor:ee,Nand:se,Xor:fe,Xnor:Oe,Wire:qe.define("logic.Wire",{attrs:{".connection":{"stroke-width":2},".marker-vertex":{r:7}},router:{name:"orthogonal"},connector:{name:"rounded",args:{radius:10}}},{arrowheadMarkup:['<g class="marker-arrowhead-group marker-arrowhead-group-<%= end %>">','<circle class="marker-arrowhead" end="<%= end %>" r="7"/>',"</g>"].join(""),vertexMarkup:['<g class="marker-vertex-group" transform="translate(<%= x %>, <%= y %>)">','<circle class="marker-vertex" idx="<%= idx %>" r="10" />','<g class="marker-vertex-remove-group">','<path class="marker-vertex-remove-area" idx="<%= idx %>" d="M16,5.333c-7.732,0-14,4.701-14,10.5c0,1.982,0.741,3.833,2.016,5.414L2,25.667l5.613-1.441c2.339,1.317,5.237,2.107,8.387,2.107c7.732,0,14-4.701,14-10.5C30,10.034,23.732,5.333,16,5.333z" transform="translate(5, -33)"/>','<path class="marker-vertex-remove" idx="<%= idx %>" transform="scale(.8) translate(9.5, -37)" d="M24.778,21.419 19.276,15.917 24.777,10.415 21.949,7.585 16.447,13.087 10.945,7.585 8.117,10.415 13.618,15.917 8.116,21.419 10.946,24.248 16.447,18.746 21.948,24.248z">',"<title>Remove vertex.</title>","</path>","</g>","</g>"].join("")})},ci={KingWhite:li.define("chess.KingWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;"><path      d="M 22.5,11.63 L 22.5,6"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 20,8 L 25,8"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path      d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"      style="fill:#ffffff; stroke:#000000; stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 11.5,30 C 17,27 27,27 32.5,30"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5"      style="fill:none; stroke:#000000;" />    <path      d="M 11.5,37 C 17,34 27,34 32.5,37"      style="fill:none; stroke:#000000;" />  </g></g></g>'}),KingBlack:li.define("chess.KingBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path       d="M 22.5,11.63 L 22.5,6"       style="fill:none; stroke:#000000; stroke-linejoin:miter;"       id="path6570" />    <path       d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25"       style="fill:#000000;fill-opacity:1; stroke-linecap:butt; stroke-linejoin:miter;" />    <path       d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z "       style="fill:#000000; stroke:#000000;" />    <path       d="M 20,8 L 25,8"       style="fill:none; stroke:#000000; stroke-linejoin:miter;" />    <path       d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),QueenWhite:li.define("chess.QueenWhite",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(-1,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(15.5,-5.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(32,-1)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(7,-4.5)" />    <path      d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z"      transform="translate(24,-4)" />    <path      d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z "      style="stroke-linecap:butt;" />    <path      d="M 11.5,30 C 15,29 30,29 33.5,30"      style="fill:none;" />    <path      d="M 12,33.5 C 18,32.5 27,32.5 33,33.5"      style="fill:none;" />  </g></g></g>'}),QueenBlack:li.define("chess.QueenBlack",{size:{width:42,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:none;">      <circle cx="6"    cy="12" r="2.75" />      <circle cx="14"   cy="9"  r="2.75" />      <circle cx="22.5" cy="8"  r="2.75" />      <circle cx="31"   cy="9"  r="2.75" />      <circle cx="39"   cy="12" r="2.75" />    </g>    <path       d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"       style="stroke-linecap:butt; stroke:#000000;" />    <path       d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"       style="stroke-linecap:butt;" />    <path       d="M 11,38.5 A 35,35 1 0 0 34,38.5"       style="fill:none; stroke:#000000; stroke-linecap:butt;" />    <path       d="M 11,29 A 35,35 1 0 1 34,29"       style="fill:none; stroke:#ffffff;" />    <path       d="M 12.5,31.5 L 32.5,31.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"       style="fill:none; stroke:#ffffff;" />    <path       d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"       style="fill:none; stroke:#ffffff;" />  </g></g></g>'}),RookWhite:li.define("chess.RookWhite",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14"      style="stroke-linecap:butt;" />    <path      d="M 34,14 L 31,17 L 14,17 L 11,14" />    <path      d="M 31,17 L 31,29.5 L 14,29.5 L 14,17"      style="stroke-linecap:butt; stroke-linejoin:miter;" />    <path      d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),RookBlack:li.define("chess.RookBlack",{size:{width:32,height:34}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z "      style="stroke-linecap:butt;" />    <path      d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z "      style="stroke-linecap:butt;" />    <path      d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z "      style="stroke-linecap:butt;" />    <path      d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z "      style="stroke-linecap:butt;stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z "      style="stroke-linecap:butt;" />    <path      d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z "      style="stroke-linecap:butt;" />    <path      d="M 12,35.5 L 33,35.5 L 33,35.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 13,31.5 L 32,31.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,29.5 L 31,29.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 14,16.5 L 31,16.5"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />    <path      d="M 11,14 L 34,14"      style="fill:none; stroke:#ffffff; stroke-width:1; stroke-linejoin:miter;" />  </g></g></g>'}),BishopWhite:li.define("chess.BishopWhite",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#ffffff; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path      d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"      style="fill:none; stroke:#000000; stroke-linejoin:miter;" />  </g></g></g>'}),BishopBlack:li.define("chess.BishopBlack",{size:{width:38,height:38}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-rule:evenodd; fill-opacity:1; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:round; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <g style="fill:#000000; stroke:#000000; stroke-linecap:butt;">       <path        d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z" />      <path        d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z" />      <path        d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z" />    </g>    <path       d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18"       style="fill:none; stroke:#ffffff; stroke-linejoin:miter;" />  </g></g></g>'}),KnightWhite:li.define("chess.KnightWhite",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#ffffff; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#000000; stroke:#000000;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#000000; stroke:#000000;" />  </g></g></g>'}),KnightBlack:li.define("chess.KnightBlack",{size:{width:38,height:37}},{markup:'<g class="rotatable"><g class="scalable"><g style="opacity:1; fill:none; fill-opacity:1; fill-rule:evenodd; stroke:#000000; stroke-width:1.5; stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;">    <path      d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18"      style="fill:#000000; stroke:#000000;" />    <path      d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10"      style="fill:#000000; stroke:#000000;" />    <path      d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z"      transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)"      style="fill:#ffffff; stroke:#ffffff;" />    <path      d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z "      style="fill:#ffffff; stroke:none;" />  </g></g></g>'}),PawnWhite:li.define("chess.PawnWhite",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#ffffff; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'}),PawnBlack:li.define("chess.PawnBlack",{size:{width:28,height:33}},{markup:'<g class="rotatable"><g class="scalable"><path d="M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z "  style="opacity:1; fill:#000000; fill-opacity:1; fill-rule:nonzero; stroke:#000000; stroke-width:1.5; stroke-linecap:round; stroke-linejoin:miter; stroke-miterlimit:4; stroke-dasharray:none; stroke-opacity:1;" /></g></g>'})},Tt=Qe.define("erd.Entity",{size:{width:150,height:60},attrs:{".outer":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"100,0 100,60 0,60 0,0"},".inner":{fill:"#2ECC71",stroke:"#27AE60","stroke-width":2,points:"95,5 95,55 5,55 5,5",display:"none"},text:{text:"Entity","font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),Yt=Tt.define("erd.WeakEntity",{attrs:{".inner":{display:"auto"},text:{text:"Weak Entity"}}}),Rt=Qe.define("erd.Relationship",{size:{width:80,height:80},attrs:{".outer":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,0 80,40 40,80 0,40"},".inner":{fill:"#3498DB",stroke:"#2980B9","stroke-width":2,points:"40,5 75,40 40,75 5,40",display:"none"},text:{text:"Relationship","font-family":"Arial","font-size":12,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon class="outer"/><polygon class="inner"/></g><text/></g>'}),Bt=Rt.define("erd.IdentifyingRelationship",{attrs:{".inner":{display:"auto"},text:{text:"Identifying"}}}),Ft=Qe.define("erd.Attribute",{size:{width:100,height:50},attrs:{ellipse:{transform:"translate(50, 25)"},".outer":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:50,ry:25,fill:"#E67E22"},".inner":{stroke:"#D35400","stroke-width":2,cx:0,cy:0,rx:45,ry:20,fill:"#E67E22",display:"none"},text:{"font-family":"Arial","font-size":14,"ref-x":.5,"ref-y":.5,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><ellipse class="outer"/><ellipse class="inner"/></g><text/></g>'}),ee=Ft.define("erd.Multivalued",{attrs:{".inner":{display:"block"},text:{text:"multivalued"}}}),se=Ft.define("erd.Derived",{attrs:{".outer":{"stroke-dasharray":"3,5"},text:{text:"derived"}}}),fe=Ft.define("erd.Key",{attrs:{ellipse:{"stroke-width":4},text:{text:"key","font-weight":"800","text-decoration":"underline"}}}),Oe=Ft.define("erd.Normal",{attrs:{text:{text:"Normal"}}}),Tt={Entity:Tt,WeakEntity:Yt,Relationship:Rt,IdentifyingRelationship:Bt,Attribute:Ft,Multivalued:ee,Derived:se,Key:fe,Normal:Oe,ISA:Qe.define("erd.ISA",{type:"erd.ISA",size:{width:100,height:50},attrs:{polygon:{points:"0,0 50,50 100,0",fill:"#F1C40F",stroke:"#F39C12","stroke-width":2},text:{text:"ISA","font-size":18,"ref-x":.5,"ref-y":.3,"y-alignment":"middle","text-anchor":"middle"}}},{markup:'<g class="rotatable"><g class="scalable"><polygon/></g><text/></g>'}),Line:qe.define("erd.Line",{},{cardinality:function(t){this.set("labels",[{position:-20,attrs:{text:{dy:-8,text:t}}}])}})},Yt={State:zt.define("fsa.State",{attrs:{circle:{"stroke-width":3},text:{"font-weight":"800"}}}),StartState:Qe.define("fsa.StartState",{size:{width:20,height:20},attrs:{circle:{transform:"translate(10, 10)",r:10,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle/></g></g>'}),EndState:Qe.define("fsa.EndState",{size:{width:20,height:20},attrs:{".outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#000000"},".inner":{transform:"translate(10, 10)",r:6,fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),Arrow:qe.define("fsa.Arrow",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}},smooth:!0})},Rt={Member:Qe.define("org.Member",{size:{width:180,height:70},attrs:{rect:{width:170,height:60},".card":{fill:"#FFFFFF",stroke:"#000000","stroke-width":2,"pointer-events":"visiblePainted",rx:10,ry:10},image:{width:48,height:48,ref:".card","ref-x":10,"ref-y":5},".rank":{"text-decoration":"underline",ref:".card","ref-x":.9,"ref-y":.2,"font-family":"Courier New","font-size":14,"text-anchor":"end"},".name":{"font-weight":"800",ref:".card","ref-x":.9,"ref-y":.6,"font-family":"Courier New","font-size":14,"text-anchor":"end"}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="card"/><image/></g><text class="rank"/><text class="name"/></g>'}),Arrow:qe.define("org.Arrow",{source:{selector:".card"},target:{selector:".card"},attrs:{".connection":{stroke:"#585858","stroke-width":3}},z:-1})},Bt={Place:li.define("pn.Place",{size:{width:50,height:50},attrs:{".root":{r:25,fill:"#ffffff",stroke:"#000000",transform:"translate(25, 25)"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:".root",fill:"#000000","font-size":12},".tokens > circle":{fill:"#000000",r:5},".tokens.one > circle":{transform:"translate(25, 25)"},".tokens.two > circle:nth-child(1)":{transform:"translate(19, 25)"},".tokens.two > circle:nth-child(2)":{transform:"translate(31, 25)"},".tokens.three > circle:nth-child(1)":{transform:"translate(18, 29)"},".tokens.three > circle:nth-child(2)":{transform:"translate(25, 19)"},".tokens.three > circle:nth-child(3)":{transform:"translate(32, 29)"},".tokens.alot > text":{transform:"translate(25, 18)","text-anchor":"middle",fill:"#000000"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="root"/><g class="tokens" /></g><text class="label"/></g>'}),PlaceView:an.extend({presentationAttributes:an.addPresentationAttributes({tokens:["TOKENS"]}),initFlag:an.prototype.initFlag.concat(["TOKENS"]),confirmUpdate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n=(n=an.prototype.confirmUpdate).call.apply(n,[this].concat(t));return this.hasFlag(n,"TOKENS")&&(this.renderTokens(),this.update(),n=this.removeFlag(n,"TOKENS")),n},renderTokens:function(){var e=this.vel.findOne(".tokens").empty();["one","two","three","alot"].forEach(function(t){e.removeClass(t)});var t=this.model.get("tokens");if(t)switch(t){case 1:e.addClass("one"),e.append(It("circle"));break;case 2:e.addClass("two"),e.append([It("circle"),It("circle")]);break;case 3:e.addClass("three"),e.append([It("circle"),It("circle"),It("circle")]);break;default:e.addClass("alot"),e.append(It("text").text(t+""))}}}),Transition:li.define("pn.Transition",{size:{width:12,height:50},attrs:{rect:{width:12,height:50,fill:"#000000",stroke:"#000000"},".label":{"text-anchor":"middle","ref-x":.5,"ref-y":-20,ref:"rect",fill:"#000000","font-size":12}}},{markup:'<g class="rotatable"><g class="scalable"><rect class="root"/></g></g><text class="label"/>'}),Link:qe.define("pn.Link",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z"}}})},Ft=li.define("uml.Class",{attrs:{rect:{width:200},".uml-class-name-rect":{stroke:"black","stroke-width":2,fill:"#3498db"},".uml-class-attrs-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-methods-rect":{stroke:"black","stroke-width":2,fill:"#2980b9"},".uml-class-name-text":{ref:".uml-class-name-rect","ref-y":.5,"ref-x":.5,"text-anchor":"middle","y-alignment":"middle","font-weight":"bold",fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-attrs-text":{ref:".uml-class-attrs-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"},".uml-class-methods-text":{ref:".uml-class-methods-rect","ref-y":5,"ref-x":5,fill:"black","font-size":12,"font-family":"Times New Roman"}},name:[],attributes:[],methods:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-class-name-rect"/><rect class="uml-class-attrs-rect"/><rect class="uml-class-methods-rect"/>',"</g>",'<text class="uml-class-name-text"/><text class="uml-class-attrs-text"/><text class="uml-class-methods-text"/>',"</g>"].join(""),initialize:function(){this.on("change:name change:attributes change:methods",function(){this.updateRectangles(),this.trigger("uml-update")},this),this.updateRectangles(),li.prototype.initialize.apply(this,arguments)},getClassName:function(){return this.get("name")},updateRectangles:function(){var i=this.get("attrs"),t=[{type:"name",text:this.getClassName()},{type:"attrs",text:this.get("attributes")},{type:"methods",text:this.get("methods")}],r=0;t.forEach(function(t){var e=Array.isArray(t.text)?t.text:[t.text],n=20*e.length+20;i[".uml-class-"+t.type+"-text"].text=e.join("\n"),i[".uml-class-"+t.type+"-rect"].height=n,i[".uml-class-"+t.type+"-rect"].transform="translate(0,"+r+")",r+=n})}}),ee=an.extend({initialize:function(){an.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"uml-update",function(){this.update(),this.resize()})}}),se=Ft.define("uml.Abstract",{attrs:{".uml-class-name-rect":{fill:"#e74c3c"},".uml-class-attrs-rect":{fill:"#c0392b"},".uml-class-methods-rect":{fill:"#c0392b"}}},{getClassName:function(){return["<<Abstract>>",this.get("name")]}}),fe=ee,Oe=Ft.define("uml.Interface",{attrs:{".uml-class-name-rect":{fill:"#f1c40f"},".uml-class-attrs-rect":{fill:"#f39c12"},".uml-class-methods-rect":{fill:"#f39c12"}}},{getClassName:function(){return["<<Interface>>",this.get("name")]}}),Tt={basic:Je,standard:ie,devs:$e,logic:ui,chess:ci,erd:Tt,fsa:Yt,org:Rt,pn:Bt,uml:{Class:Ft,ClassView:ee,Abstract:se,AbstractView:fe,Interface:Oe,InterfaceView:ee,Generalization:qe.define("uml.Generalization",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"}}}),Implementation:qe.define("uml.Implementation",{attrs:{".marker-target":{d:"M 20 0 L 0 10 L 20 20 z",fill:"white"},".connection":{"stroke-dasharray":"3,3"}}}),Aggregation:qe.define("uml.Aggregation",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"white"}}}),Composition:qe.define("uml.Composition",{attrs:{".marker-target":{d:"M 40 10 L 20 20 L 0 10 L 20 0 z",fill:"black"}}}),Association:qe.define("uml.Association"),State:li.define("uml.State",{attrs:{".uml-state-body":{width:200,height:200,rx:10,ry:10,fill:"#ecf0f1",stroke:"#bdc3c7","stroke-width":3},".uml-state-separator":{stroke:"#bdc3c7","stroke-width":2},".uml-state-name":{ref:".uml-state-body","ref-x":.5,"ref-y":5,"text-anchor":"middle",fill:"#000000","font-family":"Courier New","font-size":14},".uml-state-events":{ref:".uml-state-separator","ref-x":5,"ref-y":5,fill:"#000000","font-family":"Courier New","font-size":14}},name:"State",events:[]},{markup:['<g class="rotatable">','<g class="scalable">','<rect class="uml-state-body"/>',"</g>",'<path class="uml-state-separator"/>','<text class="uml-state-name"/>','<text class="uml-state-events"/>',"</g>"].join(""),initialize:function(){this.on({"change:name":this.updateName,"change:events":this.updateEvents,"change:size":this.updatePath},this),this.updateName(),this.updateEvents(),this.updatePath(),li.prototype.initialize.apply(this,arguments)},updateName:function(){this.attr(".uml-state-name/text",this.get("name"))},updateEvents:function(){this.attr(".uml-state-events/text",this.get("events").join("\n"))},updatePath:function(){var t="M 0 20 L "+this.get("size").width+" 20";this.attr(".uml-state-separator/d",t,{silent:!0})}}),StartState:zt.define("uml.StartState",{type:"uml.StartState",attrs:{circle:{fill:"#34495e",stroke:"#2c3e50","stroke-width":2,rx:1}}}),EndState:li.define("uml.EndState",{size:{width:20,height:20},attrs:{"circle.outer":{transform:"translate(10, 10)",r:10,fill:"#ffffff",stroke:"#2c3e50"},"circle.inner":{transform:"translate(10, 10)",r:6,fill:"#34495e"}}},{markup:'<g class="rotatable"><g class="scalable"><circle class="outer"/><circle class="inner"/></g></g>'}),Transition:qe.define("uml.Transition",{attrs:{".marker-target":{d:"M 10 0 L 0 5 L 10 10 z",fill:"#34495e",stroke:"#2c3e50"},".connection":{stroke:"#2c3e50"}}})}};function di(t,e){return 0===e?"0%":Math.round(t/e*100)+"%"}function fi(r){return function(t,e,n,i){return(e.isNodeConnection(n)?gi:pi)(r,t,e,n,i)}}function pi(t,e,n,i,r){var o=n.model.angle(),i=n.getNodeUnrotatedBBox(i),n=n.model.getBBox().center();r.rotate(n,o);o=r.x-i.x,r=r.y-i.y;return t&&(o=di(o,i.width),r=di(r,i.height)),e.anchor={name:"topLeft",args:{dx:o,dy:r,rotate:!0}},e}function gi(t,e,n,i,r){n=n.getConnection();if(!n)return e;r=n.closestPointLength(r);return t?(n=n.length(),e.anchor={name:"connectionRatio",args:{ratio:r/n}}):e.anchor={name:"connectionLength",args:{length:r}},e}var Yt=fi(!1),mi=fi(!0),Rt={useDefaults:bt,pinAbsolute:Yt,pinRelative:mi};function yi(t,e,n){return mi.call(this.paper,{},e,n,t,this.model).anchor}Bt=nn.extend({tagName:"circle",svgElement:!0,className:"marker-vertex",events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onDoubleClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},attributes:{r:6,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move"},position:function(t,e){this.vel.attr({cx:t,cy:e})},onPointerDown:function(t){t.stopPropagation(),t.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,t.data),this.trigger("will-change",this,t)},onPointerMove:function(t){this.trigger("changing",this,t)},onDoubleClick:function(t){this.trigger("remove",this,t)},onPointerUp:function(t){this.trigger("changed",this,t),this.undelegateDocumentEvents(),this.options.paper.delegateEvents()}}),Ft=ai.extend({name:"vertices",options:{handleClass:Bt,snapRadius:20,redundancyRemoval:!0,vertexAdding:!0,stopPropagation:!0},children:[{tagName:"path",selector:"connection",className:"joint-vertices-path",attributes:{fill:"none",stroke:"transparent","stroke-width":10,cursor:"cell"}}],handles:null,events:{"mousedown .joint-vertices-path":"onPathPointerDown","touchstart .joint-vertices-path":"onPathPointerDown"},onRender:function(){return this.options.vertexAdding&&(this.renderChildren(),this.updatePath()),this.resetHandles(),this.renderHandles(),this},update:function(){return this.relatedView.model.vertices().length===this.handles.length?this.updateHandles():(this.resetHandles(),this.renderHandles()),this.options.vertexAdded&&this.updatePath(),this},resetHandles:function(){var t=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(t))for(var e=0,n=t.length;e<n;e++)t[e].remove()},renderHandles:function(){for(var t=this.relatedView.model.vertices(),e=0,n=t.length;e<n;e++){var i=t[e],r=new this.options.handleClass({index:e,paper:this.paper});r.render(),r.position(i.x,i.y),this.simulateRelatedView(r.el),r.vel.appendTo(this.el),this.handles.push(r),this.startHandleListening(r)}},updateHandles:function(){for(var t=this.relatedView.model.vertices(),e=0,n=t.length;e<n;e++){var i=t[e],r=this.handles[e];if(!r)return;r.position(i.x,i.y)}},updatePath:function(){var t=this.childNodes.connection;t&&t.setAttribute("d",this.relatedView.getSerializedConnection())},startHandleListening:function(t){var e=this.relatedView;e.can("vertexMove")&&(this.listenTo(t,"will-change",this.onHandleWillChange),this.listenTo(t,"changing",this.onHandleChanging),this.listenTo(t,"changed",this.onHandleChanged)),e.can("vertexRemove")&&this.listenTo(t,"remove",this.onHandleRemove)},getNeighborPoints:function(t){var e=this.relatedView,n=e.model.vertices(),i=0<t?n[t-1]:e.sourceAnchor,e=t<n.length-1?n[t+1]:e.targetAnchor;return{prev:new Y(i),next:new Y(e)}},onHandleWillChange:function(t,e){this.focus();var n=this.relatedView,i=this.options;n.model.startBatch("vertex-move",{ui:!0,tool:this.cid}),i.stopPropagation||n.notifyPointerdown.apply(n,n.paper.getPointerArgs(e))},onHandleChanging:function(t,e){var n=this.options,i=this.relatedView,r=t.options.index,o=i.paper.getPointerArgs(e),a=o[0],s=o[1],e=o[2],o={x:s,y:e};this.snapVertex(o,r),i.model.vertex(r,o,{ui:!0,tool:this.cid}),t.position(o.x,o.y),n.stopPropagation||i.notifyPointermove(a,s,e)},onHandleChanged:function(t,e){var n,i,r=this.options,o=this.relatedView;r.vertexAdding&&this.updatePath(),r.redundancyRemoval&&(o.removeRedundantLinearVertices({ui:!0,tool:this.cid})&&this.render(),this.blur(),o.model.stopBatch("vertex-move",{ui:!0,tool:this.cid}),this.eventData(e).vertexAdded&&o.model.stopBatch("vertex-add",{ui:!0,tool:this.cid}),n=(i=o.paper.getPointerArgs(e))[0],e=i[1],i=i[2],r.stopPropagation||o.notifyPointerup(n,e,i),o.checkMouseleave(n))},snapVertex:function(t,e){var n,i,r=this.options.snapRadius;0<r&&(i=(n=this.getNeighborPoints(e)).prev,e=n.next,Math.abs(t.x-i.x)<r?t.x=i.x:Math.abs(t.x-e.x)<r&&(t.x=e.x),Math.abs(t.y-i.y)<r?t.y=n.prev.y:Math.abs(t.y-e.y)<r&&(t.y=e.y))},onHandleRemove:function(t,e){var n=t.options.index,t=this.relatedView;t.model.removeVertex(n,{ui:!0}),this.options.vertexAdding&&this.updatePath(),t.checkMouseleave(ct(e))},onPathPointerDown:function(t){t.stopPropagation(),t.preventDefault();var e=ct(t),n=this.paper.snapToGrid(e.clientX,e.clientY).toJSON(),i=this.relatedView;i.model.startBatch("vertex-add",{ui:!0,tool:this.cid});t=i.getVertexIndex(n.x,n.y);this.snapVertex(n,t),i.model.insertVertex(t,n,{ui:!0,tool:this.cid}),this.render();t=this.handles[t];this.eventData(e,{vertexAdded:!0}),t.onPointerDown(e)},onRemove:function(){this.resetHandles()}},{VertexHandle:Bt}),se=nn.extend({tagName:"g",svgElement:!0,className:"marker-segment",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},children:[{tagName:"line",selector:"line",attributes:{stroke:"#33334F","stroke-width":2,fill:"none","pointer-events":"none"}},{tagName:"rect",selector:"handle",attributes:{width:20,height:8,x:-10,y:-4,rx:4,ry:4,fill:"#33334F",stroke:"#FFFFFF","stroke-width":2}}],onRender:function(){this.renderChildren()},position:function(t,e,n,i){var r=It.createSVGMatrix().translate(t,e).rotate(n),o=this.childNodes.handle;o.setAttribute("transform",It.matrixToTransformString(r)),o.setAttribute("cursor",n%180==0?"row-resize":"col-resize");n=i.getClosestPoint(new Y(t,e)),i=this.childNodes.line;i.setAttribute("x1",t),i.setAttribute("y1",e),i.setAttribute("x2",n.x),i.setAttribute("y2",n.y)},onPointerDown:function(t){this.trigger("change:start",this,t),t.stopPropagation(),t.preventDefault(),this.options.paper.undelegateEvents(),this.delegateDocumentEvents(null,t.data)},onPointerMove:function(t){this.trigger("changing",this,t)},onPointerUp:function(t){this.undelegateDocumentEvents(),this.options.paper.delegateEvents(),this.trigger("change:end",this,t)},show:function(){this.el.style.display=""},hide:function(){this.el.style.display="none"}}),fe=ai.extend({name:"segments",precision:.5,options:{handleClass:se,segmentLengthThreshold:40,redundancyRemoval:!0,anchor:yi,snapRadius:10,snapHandle:!0},handles:null,onRender:function(){this.resetHandles();var t=this.relatedView,e=t.model.vertices();e.unshift(t.sourcePoint),e.push(t.targetPoint);for(var n=0,i=e.length;n<i-1;n++){var r=e[n],o=e[n+1],o=this.renderHandle(r,o);this.simulateRelatedView(o.el),this.handles.push(o),o.options.index=n}return this},renderHandle:function(t,e){var n=new this.options.handleClass({paper:this.paper});return n.render(),this.updateHandle(n,t,e),n.vel.appendTo(this.el),this.startHandleListening(n),n},update:function(){return this.render(),this},startHandleListening:function(t){this.listenTo(t,"change:start",this.onHandleChangeStart),this.listenTo(t,"changing",this.onHandleChanging),this.listenTo(t,"change:end",this.onHandleChangeEnd)},resetHandles:function(){var t=this.handles;if(this.handles=[],this.stopListening(),Array.isArray(t))for(var e=0,n=t.length;e<n;e++)t[e].remove()},shiftHandleIndexes:function(t){for(var e=this.handles,n=0,i=e.length;n<i;n++)e[n].options.index+=t},resetAnchor:function(t,e){var n=this.relatedView.model;e?n.prop([t,"anchor"],e,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([t,"anchor"],{ui:!0,tool:this.cid})},snapHandle:function(t,e,n){var i=t.options.index,r=this.relatedView.model.vertices(),o=t.options.axis,t=r[i-2]||n.sourceAnchor,i=r[i+1]||n.targetAnchor,n=this.options.snapRadius;return Math.abs(e[o]-t[o])<n?e[o]=t[o]:Math.abs(e[o]-i[o])<n&&(e[o]=i[o]),e},onHandleChanging:function(t,e){var n=this.eventData(e),i=this.relatedView,r=i.paper,o=t.options.index-1,a=ct(e),s=r.snapToGrid(a.clientX,a.clientY),l=this.snapHandle(t,s.clone(),n),u=t.options.axis,c=this.options.snapHandle?0:s[u]-l[u],h=i.model,d=qt(h.vertices()),f=d[o],p=d[1+o],g=this.options.anchor;"function"!=typeof g&&(g=null);e=i.sourceView,r=i.sourceBBox,a=!1,s=!1;f?0==o?r.containsPoint(f)?(d.shift(),this.shiftHandleIndexes(-1),a=!0):(f[u]=l[u],s=!0):f[u]=l[u]:((f=i.sourceAnchor.toJSON())[u]=l[u],r.containsPoint(f)?(f[u]=l[u],a=!0):(d.unshift(f),this.shiftHandleIndexes(1),s=!0)),g&&e&&(a&&((m=n.sourceAnchor.clone())[u]=l[u],y=g.call(i,m,e,i.sourceMagnet||e.el,"source",i),this.resetAnchor("source",y)),s&&this.resetAnchor("source",n.sourceAnchorDef));var m=i.targetView,e=i.targetBBox,y=!1,s=!1;p?o==d.length-2?e.containsPoint(p)?(d.pop(),y=!0):(p[u]=l[u],s=!0):p[u]=l[u]:((p=i.targetAnchor.toJSON())[u]=l[u],e.containsPoint(p)?y=!0:(d.push(p),s=!0)),g&&m&&(y&&((y=n.targetAnchor.clone())[u]=l[u],i=g.call(i,y,m,i.targetMagnet||m.el,"target",i),this.resetAnchor("target",i)),s&&this.resetAnchor("target",n.targetAnchorDef)),h.vertices(d,{ui:!0,tool:this.cid}),this.updateHandle(t,f,p,c)},onHandleChangeStart:function(t,e){var n=t.options.index,i=this.handles;if(Array.isArray(i)){for(var r=0,o=i.length;r<o;r++)r!==n&&i[r].hide();this.focus();var a=this.relatedView,t=a.model;this.eventData(e,{sourceAnchor:a.sourceAnchor.clone(),targetAnchor:a.targetAnchor.clone(),sourceAnchorDef:Xt(t.prop(["source","anchor"])),targetAnchorDef:Xt(t.prop(["target","anchor"]))}),a.model.startBatch("segment-move",{ui:!0,tool:this.cid})}},onHandleChangeEnd:function(t,e){var n=this.relatedView;this.options.redundancyRemoval&&n.removeRedundantLinearVertices({ui:!0,tool:this.cid}),this.render(),this.blur(),n.model.stopBatch("segment-move",{ui:!0,tool:this.cid}),n.checkMouseleave(ct(e))},updateHandle:function(t,e,n,i){var r,o=Math.abs(e.x-n.x)<this.precision,a=Math.abs(e.y-n.y)<this.precision;!o&&!a||(r=new M(e,n)).length()<this.options.segmentLengthThreshold?t.hide():((n=r.midpoint())[o=o?"x":"y"]+=i||0,r=r.vector().vectorAngle(new Y(1,0)),t.position(n.x,n.y,r,this.relatedView),t.show(),t.options.axis=o)},onRemove:function(){this.resetHandles()}},{SegmentHandle:se}),Oe=ai.extend({tagName:"path",xAxisVector:new Y(1,0),events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},onRender:function(){this.update()},update:function(){var t,e=this.ratio,n=this.relatedView,i=n.getTangentAtRatio(e),e=i?(t=i.start,i.vector().vectorAngle(this.xAxisVector)||0):(t=n.getPointAtRatio(e),0);if(!t)return this;e=It.createSVGMatrix().translate(t.x,t.y).rotate(e);return this.vel.transform(e,{absolute:!0}),this},onPointerDown:function(t){t.stopPropagation(),t.preventDefault();t=this.relatedView;t.model.startBatch("arrowhead-move",{ui:!0,tool:this.cid}),t.can("arrowheadMove")&&(t.startArrowheadMove(this.arrowheadType),this.delegateDocumentEvents(),t.paper.undelegateEvents()),this.focus(),this.el.style.pointerEvents="none"},onPointerMove:function(t){var e=ct(t),t=this.paper.snapToGrid(e.clientX,e.clientY);this.relatedView.pointermove(e,t.x,t.y)},onPointerUp:function(t){this.undelegateDocumentEvents();var e=this.relatedView,n=e.paper,i=ct(t),t=n.snapToGrid(i.clientX,i.clientY);e.pointerup(i,t.x,t.y),n.delegateEvents(),this.blur(),this.el.style.pointerEvents="",e.model.stopBatch("arrowhead-move",{ui:!0,tool:this.cid})}}),ee=Oe.extend({name:"target-arrowhead",ratio:1,arrowheadType:"target",attributes:{d:"M -10 -8 10 0 -10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"target-arrowhead"}}),zt=Oe.extend({name:"source-arrowhead",ratio:0,arrowheadType:"source",attributes:{d:"M 10 -8 -10 0 10 8 Z",fill:"#33334F",stroke:"#FFFFFF","stroke-width":2,cursor:"move",class:"source-arrowhead"}}),Yt=ai.extend({name:"button",events:{mousedown:"onPointerDown",touchstart:"onPointerDown"},options:{distance:0,offset:0,rotate:!1},onRender:function(){this.renderChildren(this.options.markup),this.update()},update:function(){var t=this.options.distance||0,t=Lt(t)?this.relatedView.getTangentAtRatio(parseFloat(t)/100):this.relatedView.getTangentAtLength(t),t=t?(e=t.start,t.vector().vectorAngle(new Y(1,0))||0):(e=this.relatedView.getConnection().start,0),e=It.createSVGMatrix().translate(e.x,e.y).rotate(t).translate(0,this.options.offset||0);return this.options.rotate||(e=e.rotate(-t)),this.vel.transform(e,{absolute:!0}),this},onPointerDown:function(t){t.stopPropagation(),t.preventDefault();var e=this.options.action;"function"==typeof e&&e.call(this.relatedView,t,this.relatedView,this)}}),Bt=Yt.extend({children:[{tagName:"circle",selector:"button",attributes:{r:7,fill:"#FF1D00",cursor:"pointer"}},{tagName:"path",selector:"icon",attributes:{d:"M -3 -3 3 3 M -3 3 3 -3",fill:"none",stroke:"#FFFFFF","stroke-width":2,"pointer-events":"none"}}],options:{distance:60,offset:0,action:function(t,e,n){e.model.remove({ui:!0,tool:n.cid})}}}),se=ai.extend({name:"boundary",tagName:"rect",options:{padding:10},attributes:{fill:"none",stroke:"#33334F","stroke-width":.5,"stroke-dasharray":"5, 5","pointer-events":"none"},onRender:function(){this.update()},update:function(){var t=this.options.padding;isFinite(t)||(t=0);t=this.relatedView.getConnection().bbox().inflate(t);return this.vel.attr(t.toJSON()),this}}),Oe=ai.extend({tagName:"g",type:null,children:[{tagName:"circle",selector:"anchor",attributes:{cursor:"pointer"}},{tagName:"rect",selector:"area",attributes:{"pointer-events":"none",fill:"none",stroke:"#33334F","stroke-dasharray":"2,4",rx:5,ry:5}}],events:{mousedown:"onPointerDown",touchstart:"onPointerDown",dblclick:"onPointerDblClick"},documentEvents:{mousemove:"onPointerMove",touchmove:"onPointerMove",mouseup:"onPointerUp",touchend:"onPointerUp",touchcancel:"onPointerUp"},options:{snap:function(t,e,n,i,r,o){return o=o.options.snapRadius,i="source"===i,(i=this.model.vertex(i?0:-1)||this.getEndAnchor(i?"target":"source"))&&(Math.abs(i.x-t.x)<o&&(t.x=i.x),Math.abs(i.y-t.y)<o&&(t.y=i.y)),t},anchor:yi,customAnchorAttributes:{"stroke-width":4,stroke:"#33334F",fill:"#FFFFFF",r:5},defaultAnchorAttributes:{"stroke-width":2,stroke:"#FFFFFF",fill:"#33334F",r:6},areaPadding:6,snapRadius:10,restrictArea:!0,redundancyRemoval:!0},onRender:function(){this.renderChildren(),this.toggleArea(!1),this.update()},update:function(){var t=this.type;return this.relatedView.getEndView(t)?(this.updateAnchor(),this.updateArea(),this.el.style.display=""):this.el.style.display="none",this},updateAnchor:function(){var t=this.childNodes;if(t){var e=t.anchor;if(e){var n=this.relatedView,i=this.type,r=n.getEndAnchor(i),t=this.options,i=n.model.prop([i,"anchor"]);e.setAttribute("transform","translate("+r.x+","+r.y+")");var o,a=i?t.customAnchorAttributes:t.defaultAnchorAttributes;for(o in a)e.setAttribute(o,a[o])}}},updateArea:function(){var t,e,n,i,r,o,a,s=this.childNodes;!s||(t=s.area)&&(n=this.relatedView,i=this.type,s=(e=n.getEndView(i)).model,n=n.getEndMagnet(i),i=this.options.areaPadding,isFinite(i)||(i=0),e.isNodeConnection(n)?(o=0,a=(r=e.getBBox()).center()):(r=e.getNodeUnrotatedBBox(n),o=s.angle(),a=r.center(),o&&a.rotate(s.getBBox().center(),-o)),r.inflate(i),t.setAttribute("x",-r.width/2),t.setAttribute("y",-r.height/2),t.setAttribute("width",r.width),t.setAttribute("height",r.height),t.setAttribute("transform","translate("+a.x+","+a.y+") rotate("+o+")"))},toggleArea:function(t){this.childNodes.area.style.display=t?"":"none"},onPointerDown:function(t){t.stopPropagation(),t.preventDefault(),this.paper.undelegateEvents(),this.delegateDocumentEvents(),this.focus(),this.toggleArea(this.options.restrictArea),this.relatedView.model.startBatch("anchor-move",{ui:!0,tool:this.cid})},resetAnchor:function(t){var e=this.type,n=this.relatedView.model;t?n.prop([e,"anchor"],t,{rewrite:!0,ui:!0,tool:this.cid}):n.removeProp([e,"anchor"],{ui:!0,tool:this.cid})},onPointerMove:function(t){var e,n,i=this.relatedView,r=this.type,o=i.getEndView(r),a=o.model,s=i.getEndMagnet(r),l=ct(t),t=this.paper.clientToLocalPoint(l.clientX,l.clientY),l=this.options.snap;"function"==typeof l&&(t=l.call(i,t,o,s,r,i,this),t=new Y(t)),this.options.restrictArea&&(o.isNodeConnection(s)?(e=o.getClosestPoint(t))&&(t=e):(l=o.getNodeUnrotatedBBox(s),u=a.angle(),e=a.getBBox().center(),a=t.clone().rotate(e,u),l.containsPoint(a)||(t=l.pointNearestToPoint(a).rotate(e,-u))));var u=this.options.anchor;"function"==typeof u&&(n=u.call(i,t,o,s,r,i)),this.resetAnchor(n),this.update()},onPointerUp:function(t){this.paper.delegateEvents(),this.undelegateDocumentEvents(),this.blur(),this.toggleArea(!1);var e=this.relatedView;this.options.redundancyRemoval&&e.removeRedundantLinearVertices({ui:!0,tool:this.cid}),e.model.stopBatch("anchor-move",{ui:!0,tool:this.cid})},onPointerDblClick:function(){this.resetAnchor(),this.update()}}),Bt={Vertices:Ft,Segments:fe,SourceArrowhead:zt,TargetArrowhead:ee,SourceAnchor:Oe.extend({name:"source-anchor",type:"source"}),TargetAnchor:Oe.extend({name:"target-anchor",type:"target"}),Button:Yt,Remove:Bt,Boundary:se},se=It;e.layout={DirectedGraph:si,PortLabel:Xe,Port:Fe},e.format={},e.ui={},e.version="VERSION",e.shapes=Tt,e.setTheme=function(t,e){Ut(en,"setTheme",t,e=e||{}),nn.prototype.defaultTheme=t},e.config=St,e.env=k,e.anchors=W,e.linkAnchors=X,e.connectionPoints=J,e.connectionStrategies=Rt,e.connectors=Zn,e.dia=v,e.highlighters=Xn,e.mvc=rn,e.routers=Yn,e.util=ze,e.linkTools=Bt,e.Vectorizer=se,e.V=It,e.g=At,Object.defineProperty(e,"__esModule",{value:!0})}),"undefined"!=typeof joint&&(g=joint.g,V=joint.V,Vectorizer=joint.V),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function u(t){return"function"==typeof t}var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,e=void 0,r=void 0,a=function(t,e){h[i]=t,h[i+1]=e,2===(i+=2)&&(r?r(d):v())};var t="undefined"!=typeof window?window:void 0,o=t||{},s=o.MutationObserver||o.WebKitMutationObserver,l="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),o="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function c(){var t=setTimeout;return function(){return t(d,1)}}var h=new Array(1e3);function d(){for(var t=0;t<i;t+=2)(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0;i=0}function f(){try{var t=Function("return this")().require("vertx");return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(d)}:c()}catch(t){return c()}}var p,g,m,y,v=void 0;function x(t,e){var n=this,i=new this.constructor(w);void 0===i[b]&&Y(i);var r,o=n._state;return o?(r=arguments[o-1],a(function(){return z(o,i,r,n._result)})):O(n,i,t,e),i}function _(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(w);return N(e,t),e}var v=l?function(){return process.nextTick(d)}:s?(g=0,m=new s(d),y=document.createTextNode(""),m.observe(y,{characterData:!0}),function(){y.data=g=++g%2}):o?((p=new MessageChannel).port1.onmessage=d,function(){return p.port2.postMessage(0)}):(void 0===t&&"function"==typeof require?f:c)(),b=Math.random().toString(36).substring(2);function w(){}var M=void 0,A=1,I=2,C={error:null};function S(t){try{return t.then}catch(t){return C.error=t,C}}function T(t,i,r){a(function(e){var n=!1,t=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(r,i,function(t){n||(n=!0,(i!==t?N:k)(e,t))},function(t){n||(n=!0,E(e,t))},e._label);!n&&t&&(n=!0,E(e,t))},t)}function D(t,e,n){var i,r;e.constructor===t.constructor&&n===x&&e.constructor.resolve===_?(i=t,(r=e)._state===A?k(i,r._result):r._state===I?E(i,r._result):O(r,void 0,function(t){return N(i,t)},function(t){return E(i,t)})):n===C?(E(t,C.error),C.error=null):void 0!==n&&u(n)?T(t,e,n):k(t,e)}function N(t,e){var n;t===e?E(t,new TypeError("You cannot resolve a promise with itself")):(n=typeof e,null===e||"object"!=n&&"function"!=n?k(t,e):D(t,e,S(e)))}function L(t){t._onerror&&t._onerror(t._result),P(t)}function k(t,e){t._state===M&&(t._result=e,t._state=A,0!==t._subscribers.length&&a(P,t))}function E(t,e){t._state===M&&(t._state=I,t._result=e,a(L,t))}function O(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+A]=n,r[o+I]=i,0===o&&t._state&&a(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i,r=void 0,o=t._result,a=0;a<e.length;a+=3)i=e[a],r=e[a+n],i?z(n,i,r,o):r(o);t._subscribers.length=0}}function z(t,e,n,i){var r=u(n),o=void 0,a=void 0,s=void 0,l=void 0;if(r){if((o=function(t,e){try{return t(e)}catch(t){return C.error=t,C}}(n,i))===C?(l=!0,a=o.error,o.error=null):s=!0,e===o)return void E(e,new TypeError("A promises callback cannot return that same promise."))}else o=i,s=!0;e._state!==M||(r&&s?N(e,o):l?E(e,a):t===A?k(e,o):t===I&&E(e,o))}var j=0;function Y(t){t[b]=j++,t._state=void 0,t._result=void 0,t._subscribers=[]}var R=(B.prototype._enumerate=function(t){for(var e=0;this._state===M&&e<t.length;e++)this._eachEntry(t[e],e)},B.prototype._eachEntry=function(e,t){var n,i,r=this._instanceConstructor,o=r.resolve;o===_?(n=S(e))===x&&e._state!==M?this._settledAt(e._state,t,e._result):"function"!=typeof n?(this._remaining--,this._result[t]=e):r===F?(D(i=new r(w),e,n),this._willSettleAt(i,t)):this._willSettleAt(new r(function(t){return t(e)}),t):this._willSettleAt(o(e),t)},B.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===M&&(this._remaining--,t===I?E(i,n):this._result[e]=n),0===this._remaining&&k(i,this._result)},B.prototype._willSettleAt=function(t,e){var n=this;O(t,void 0,function(t){return n._settledAt(A,e,t)},function(t){return n._settledAt(I,e,t)})},B);function B(t,e){this._instanceConstructor=t,this.promise=new t(w),this.promise[b]||Y(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&k(this.promise,this._result))):E(this.promise,new Error("Array Methods must be provided an Array"))}var F=(H.prototype.catch=function(t){return this.then(null,t)},H.prototype.finally=function(e){var n=this.constructor;return u(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},H);function H(t){this[b]=j++,this._result=this._state=void 0,this._subscribers=[],w!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof H?function(e,t){try{t(function(t){N(e,t)},function(t){E(e,t)})}catch(t){E(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return F.prototype.then=x,F.all=function(t){return new R(this,t).promise},F.race=function(r){var o=this;return n(r)?new o(function(t,e){for(var n=r.length,i=0;i<n;i++)o.resolve(r[i]).then(t,e)}):new o(function(t,e){return e(new TypeError("You must pass an array to race."))})},F.resolve=_,F.reject=function(t){var e=new this(w);return E(e,t),e},F._setScheduler=function(t){r=t},F._setAsap=function(t){a=t},F._asap=a,F.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=F},F.Promise=F}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function u(t){return"function"==typeof t}var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=0,e=void 0,r=void 0,a=function(t,e){h[i]=t,h[i+1]=e,2===(i+=2)&&(r?r(d):v())};var t="undefined"!=typeof window?window:void 0,o=t||{},s=o.MutationObserver||o.WebKitMutationObserver,l="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),o="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function c(){var t=setTimeout;return function(){return t(d,1)}}var h=new Array(1e3);function d(){for(var t=0;t<i;t+=2)(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0;i=0}function f(){try{var t=Function("return this")().require("vertx");return void 0!==(e=t.runOnLoop||t.runOnContext)?function(){e(d)}:c()}catch(t){return c()}}var p,g,m,y,v=void 0;function x(t,e){var n=this,i=new this.constructor(w);void 0===i[b]&&Y(i);var r,o=n._state;return o?(r=arguments[o-1],a(function(){return z(o,i,r,n._result)})):O(n,i,t,e),i}function _(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(w);return N(e,t),e}var v=l?function(){return process.nextTick(d)}:s?(g=0,m=new s(d),y=document.createTextNode(""),m.observe(y,{characterData:!0}),function(){y.data=g=++g%2}):o?((p=new MessageChannel).port1.onmessage=d,function(){return p.port2.postMessage(0)}):(void 0===t&&"function"==typeof require?f:c)(),b=Math.random().toString(36).substring(2);function w(){}var M=void 0,A=1,I=2,C={error:null};function S(t){try{return t.then}catch(t){return C.error=t,C}}function T(t,i,r){a(function(e){var n=!1,t=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(r,i,function(t){n||(n=!0,(i!==t?N:k)(e,t))},function(t){n||(n=!0,E(e,t))},e._label);!n&&t&&(n=!0,E(e,t))},t)}function D(t,e,n){var i,r;e.constructor===t.constructor&&n===x&&e.constructor.resolve===_?(i=t,(r=e)._state===A?k(i,r._result):r._state===I?E(i,r._result):O(r,void 0,function(t){return N(i,t)},function(t){return E(i,t)})):n===C?(E(t,C.error),C.error=null):void 0!==n&&u(n)?T(t,e,n):k(t,e)}function N(t,e){var n;t===e?E(t,new TypeError("You cannot resolve a promise with itself")):(n=typeof e,null===e||"object"!=n&&"function"!=n?k(t,e):D(t,e,S(e)))}function L(t){t._onerror&&t._onerror(t._result),P(t)}function k(t,e){t._state===M&&(t._result=e,t._state=A,0!==t._subscribers.length&&a(P,t))}function E(t,e){t._state===M&&(t._state=I,t._result=e,a(L,t))}function O(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+A]=n,r[o+I]=i,0===o&&t._state&&a(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i,r=void 0,o=t._result,a=0;a<e.length;a+=3)i=e[a],r=e[a+n],i?z(n,i,r,o):r(o);t._subscribers.length=0}}function z(t,e,n,i){var r=u(n),o=void 0,a=void 0,s=void 0,l=void 0;if(r){if((o=function(t,e){try{return t(e)}catch(t){return C.error=t,C}}(n,i))===C?(l=!0,a=o.error,o.error=null):s=!0,e===o)return void E(e,new TypeError("A promises callback cannot return that same promise."))}else o=i,s=!0;e._state!==M||(r&&s?N(e,o):l?E(e,a):t===A?k(e,o):t===I&&E(e,o))}var j=0;function Y(t){t[b]=j++,t._state=void 0,t._result=void 0,t._subscribers=[]}var R=(B.prototype._enumerate=function(t){for(var e=0;this._state===M&&e<t.length;e++)this._eachEntry(t[e],e)},B.prototype._eachEntry=function(e,t){var n,i,r=this._instanceConstructor,o=r.resolve;o===_?(n=S(e))===x&&e._state!==M?this._settledAt(e._state,t,e._result):"function"!=typeof n?(this._remaining--,this._result[t]=e):r===F?(D(i=new r(w),e,n),this._willSettleAt(i,t)):this._willSettleAt(new r(function(t){return t(e)}),t):this._willSettleAt(o(e),t)},B.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===M&&(this._remaining--,t===I?E(i,n):this._result[e]=n),0===this._remaining&&k(i,this._result)},B.prototype._willSettleAt=function(t,e){var n=this;O(t,void 0,function(t){return n._settledAt(A,e,t)},function(t){return n._settledAt(I,e,t)})},B);function B(t,e){this._instanceConstructor=t,this.promise=new t(w),this.promise[b]||Y(this.promise),n(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&k(this.promise,this._result))):E(this.promise,new Error("Array Methods must be provided an Array"))}var F=(H.prototype.catch=function(t){return this.then(null,t)},H.prototype.finally=function(e){var n=this.constructor;return u(e)?this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){throw t})}):this.then(e,e)},H);function H(t){this[b]=j++,this._result=this._state=void 0,this._subscribers=[],w!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof H?function(e,t){try{t(function(t){N(e,t)},function(t){E(e,t)})}catch(t){E(e,t)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return F.prototype.then=x,F.all=function(t){return new R(this,t).promise},F.race=function(r){var o=this;return n(r)?new o(function(t,e){for(var n=r.length,i=0;i<n;i++)o.resolve(r[i]).then(t,e)}):new o(function(t,e){return e(new TypeError("You must pass an array to race."))})},F.resolve=_,F.reject=function(t){var e=new this(w);return E(e,t),e},F._setScheduler=function(t){r=t},F._setAsap=function(t){a=t},F._asap=a,F.polyfill=function(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=F},(F.Promise=F).polyfill(),F}),function(t){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(s){function r(t){return t.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-]*/g,"")}s.validator.addMethod("maxWords",function(t,e,n){return this.optional(e)||r(t).match(/\b\w+\b/g).length<=n},s.validator.format("Please enter {0} words or less.")),s.validator.addMethod("minWords",function(t,e,n){return this.optional(e)||r(t).match(/\b\w+\b/g).length>=n},s.validator.format("Please enter at least {0} words.")),s.validator.addMethod("rangeWords",function(t,e,n){var i=r(t),t=/\b\w+\b/g;return this.optional(e)||i.match(t).length>=n[0]&&i.match(t).length<=n[1]},s.validator.format("Please enter between {0} and {1} words.")),s.validator.addMethod("accept",function(t,e,n){var i,r,o="string"==typeof n?n.replace(/\s/g,""):"image/*",n=this.optional(e);if(n)return n;if("file"===s(e).attr("type")&&(o=o.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace("/*","/.*"),e.files&&e.files.length))for(r=new RegExp(".?("+o+")$","i"),i=0;i<e.files.length;i++)if(!e.files[i].type.match(r))return!1;return!0},s.validator.format("Please enter a value with a valid mimetype.")),s.validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^\w+$/i.test(t)},"Letters, numbers, and underscores only please"),s.validator.addMethod("bankaccountNL",function(t,e){if(this.optional(e))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(t))return!1;for(var n=t.replace(/ /g,""),i=0,r=n.length,o=0;o<r;o++)i+=(r-o)*n.substring(o,o+1);return i%11==0},"Please specify a valid bank account number"),s.validator.addMethod("bankorgiroaccountNL",function(t,e){return this.optional(e)||s.validator.methods.bankaccountNL.call(this,t,e)||s.validator.methods.giroaccountNL.call(this,t,e)},"Please specify a valid bank or giro account number"),s.validator.addMethod("bic",function(t,e){return this.optional(e)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(t.toUpperCase())},"Please specify a valid BIC code"),s.validator.addMethod("cifES",function(t){"use strict";var e,n,i,r,o,a,s=[];if(!(t=t.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)"))return!1;for(i=0;i<9;i++)s[i]=parseInt(t.charAt(i),10);for(n=s[2]+s[4]+s[6],r=1;r<8;r+=2)a=(o=(2*s[r]).toString()).charAt(1),n+=parseInt(o.charAt(0),10)+(""===a?0:parseInt(a,10));return!!/^[ABCDEFGHJNPQRSUVW]{1}/.test(t)&&(n+="",t+=e=10-parseInt(n.charAt(n.length-1),10),s[8].toString()===String.fromCharCode(64+e)||s[8].toString()===t.charAt(t.length-1))},"Please specify a valid CIF number."),s.validator.addMethod("cpfBR",function(t){if(11!==(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var e,n=0,i=parseInt(t.substring(9,10),10),r=parseInt(t.substring(10,11),10),o=function(t,e){t=10*t%11;return(t=10===t||11===t?0:t)===e};if(""===t||"00000000000"===t||"11111111111"===t||"22222222222"===t||"33333333333"===t||"44444444444"===t||"55555555555"===t||"66666666666"===t||"77777777777"===t||"88888888888"===t||"99999999999"===t)return!1;for(e=1;e<=9;e++)n+=parseInt(t.substring(e-1,e),10)*(11-e);if(o(n,i)){for(n=0,e=1;e<=10;e++)n+=parseInt(t.substring(e-1,e),10)*(12-e);return o(n,r)}return!1},"Please specify a valid CPF number"),s.validator.addMethod("creditcard",function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var n,i,r=0,o=0,a=!1;if((t=t.replace(/\D/g,"")).length<13||19<t.length)return!1;for(n=t.length-1;0<=n;n--)i=t.charAt(n),o=parseInt(i,10),a&&9<(o*=2)&&(o-=9),r+=o,a=!a;return r%10==0},"Please enter a valid credit card number."),s.validator.addMethod("creditcardtypes",function(t,e,n){if(/[^0-9\-]+/.test(t))return!1;t=t.replace(/\D/g,"");var i=0;return n.mastercard&&(i|=1),n.visa&&(i|=2),n.amex&&(i|=4),n.dinersclub&&(i|=8),n.enroute&&(i|=16),n.discover&&(i|=32),n.jcb&&(i|=64),n.unknown&&(i|=128),1&(i=n.all?255:i)&&/^(5[12345])/.test(t)||2&i&&/^(4)/.test(t)?16===t.length:4&i&&/^(3[47])/.test(t)?15===t.length:8&i&&/^(3(0[012345]|[68]))/.test(t)?14===t.length:16&i&&/^(2(014|149))/.test(t)?15===t.length:32&i&&/^(6011)/.test(t)||64&i&&/^(3)/.test(t)?16===t.length:64&i&&/^(2131|1800)/.test(t)?15===t.length:!!(128&i)},"Please enter a valid credit card number."),s.validator.addMethod("currency",function(t,e,n){var i="string"==typeof n,r=i?n:n[0],n=i||n[1],r=r.replace(/,/g,""),r="^["+(r=n?r+"]":r+"]?")+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$";return r=new RegExp(r),this.optional(e)||r.test(t)},"Please specify a valid currency"),s.validator.addMethod("dateFA",function(t,e){return this.optional(e)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(t)},s.validator.messages.date),s.validator.addMethod("dateITA",function(t,e){var n,i,r,o=!1,o=!!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(t)&&(r=t.split("/"),n=parseInt(r[0],10),i=parseInt(r[1],10),t=parseInt(r[2],10),(r=new Date(Date.UTC(t,i-1,n,12,0,0,0))).getUTCFullYear()===t&&r.getUTCMonth()===i-1&&r.getUTCDate()===n);return this.optional(e)||o},s.validator.messages.date),s.validator.addMethod("dateNL",function(t,e){return this.optional(e)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(t)},s.validator.messages.date),s.validator.addMethod("extension",function(t,e,n){return n="string"==typeof n?n.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp("\\.("+n+")$","i"))},s.validator.format("Please enter a value with a valid extension.")),s.validator.addMethod("giroaccountNL",function(t,e){return this.optional(e)||/^[0-9]{1,7}$/.test(t)},"Please specify a valid giro account number"),s.validator.addMethod("iban",function(t,e){if(this.optional(e))return!0;var n,i,r,o,e=t.replace(/ /g,"").toUpperCase(),a="",s=!0,l="",t={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[e.substring(0,2)];if(void 0!==t&&!new RegExp("^[A-Z]{2}\\d{2}"+t+"$","").test(e))return!1;for(n=e.substring(4,e.length)+e.substring(0,4),r=0;r<n.length;r++)(s="0"!==(i=n.charAt(r))?!1:s)||(a+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(i));for(o=0;o<a.length;o++)l=(""+l+a.charAt(o))%97;return 1===l},"Please specify a valid IBAN"),s.validator.addMethod("integer",function(t,e){return this.optional(e)||/^-?\d+$/.test(t)},"A positive or negative non-decimal number please"),s.validator.addMethod("ipv4",function(t,e){return this.optional(e)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(t)},"Please enter a valid IP v4 address."),s.validator.addMethod("ipv6",function(t,e){return this.optional(e)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(t)},"Please enter a valid IP v6 address."),s.validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},"Letters only please"),s.validator.addMethod("letterswithbasicpunc",function(t,e){return this.optional(e)||/^[a-z\-.,()'"\s]+$/i.test(t)},"Letters or punctuation only please"),s.validator.addMethod("mobileNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid mobile number"),s.validator.addMethod("mobileUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||9<t.length&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),s.validator.addMethod("nieES",function(t){"use strict";return!!(t=t.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[T]{1}/.test(t)?t[8]===/^[T]{1}[A-Z0-9]{8}$/.test(t):!!/^[XYZ]{1}/.test(t)&&t[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23))},"Please specify a valid NIE number."),s.validator.addMethod("nifES",function(t){"use strict";return!!(t=t.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(t)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,0)%23)===t.charAt(8):!!/^[KLM]{1}/.test(t)&&t[8]===String.fromCharCode(64))},"Please specify a valid NIF number."),jQuery.validator.addMethod("notEqualTo",function(t,e,n){return this.optional(e)||!s.validator.methods.equalTo.call(this,t,e,n)},"Please enter a different value, values must not be the same."),s.validator.addMethod("nowhitespace",function(t,e){return this.optional(e)||/^\S+$/i.test(t)},"No white space please"),s.validator.addMethod("pattern",function(t,e,n){return!!this.optional(e)||(n="string"==typeof n?new RegExp("^(?:"+n+")$"):n).test(t)},"Invalid format."),s.validator.addMethod("phoneNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid phone number."),s.validator.addMethod("phoneUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||9<t.length&&t.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),s.validator.addMethod("phoneUS",function(t,e){return t=t.replace(/\s+/g,""),this.optional(e)||9<t.length&&t.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),s.validator.addMethod("phonesUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||9<t.length&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),s.validator.addMethod("postalCodeCA",function(t,e){return this.optional(e)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(t)},"Please specify a valid postal code"),s.validator.addMethod("postalcodeBR",function(t,e){return this.optional(e)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(t)},"Informe um CEP vlido."),s.validator.addMethod("postalcodeIT",function(t,e){return this.optional(e)||/^\d{5}$/.test(t)},"Please specify a valid postal code"),s.validator.addMethod("postalcodeNL",function(t,e){return this.optional(e)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(t)},"Please specify a valid postal code"),s.validator.addMethod("postcodeUK",function(t,e){return this.optional(e)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(t)},"Please specify a valid UK postcode"),s.validator.addMethod("require_from_group",function(t,e,n){var i=s(n[1],e.form),r=i.eq(0),o=r.data("valid_req_grp")?r.data("valid_req_grp"):s.extend({},this),n=i.filter(function(){return o.elementValue(this)}).length>=n[0];return r.data("valid_req_grp",o),s(e).data("being_validated")||(i.data("being_validated",!0),i.each(function(){o.element(this)}),i.data("being_validated",!1)),n},s.validator.format("Please fill at least {0} of these fields.")),s.validator.addMethod("skip_or_fill_minimum",function(t,e,n){var i=s(n[1],e.form),r=i.eq(0),o=r.data("valid_skip")?r.data("valid_skip"):s.extend({},this),a=i.filter(function(){return o.elementValue(this)}).length,n=0===a||a>=n[0];return r.data("valid_skip",o),s(e).data("being_validated")||(i.data("being_validated",!0),i.each(function(){o.element(this)}),i.data("being_validated",!1)),n},s.validator.format("Please either skip these fields or fill at least {0} of them.")),s.validator.addMethod("stateUS",function(t,e,n){var i=void 0===n,r=!i&&void 0!==n.caseSensitive&&n.caseSensitive,o=!i&&void 0!==n.includeTerritories&&n.includeTerritories,n=!i&&void 0!==n.includeMilitary&&n.includeMilitary,o=o||n?o&&n?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":o?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$";return o=r?new RegExp(o):new RegExp(o,"i"),this.optional(e)||o.test(t)},"Please specify a valid state"),s.validator.addMethod("strippedminlength",function(t,e,n){return s(t).text().length>=n},s.validator.format("Please enter at least {0} characters")),s.validator.addMethod("time",function(t,e){return this.optional(e)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(t)},"Please enter a valid time, between 00:00 and 23:59"),s.validator.addMethod("time12h",function(t,e){return this.optional(e)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(t)},"Please enter a valid time in 12-hour am/pm format"),s.validator.addMethod("url2",function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},s.validator.messages.url),s.validator.addMethod("vinUS",function(t){if(17!==t.length)return!1;for(var e,n,i,r,o,a=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],s=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],l=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],u=0,c=0;c<17;c++){if(i=l[c],n=t.slice(c,c+1),8===c&&(o=n),isNaN(n)){for(e=0;e<a.length;e++)if(n.toUpperCase()===a[e]){n=s[e],n*=i,isNaN(o)&&8===e&&(o=a[e]);break}}else n*=i;u+=n}return(r=10===(r=u%11)?"X":r)===o},"The specified vehicle identification number (VIN) is invalid."),s.validator.addMethod("zipcodeUS",function(t,e){return this.optional(e)||/^\d{5}(-\d{4})?$/.test(t)},"The specified US ZIP Code is invalid"),s.validator.addMethod("ziprange",function(t,e){return this.optional(e)||/^90[2-5]\d\{2\}-\d{4}$/.test(t)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx")}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.echarts={})}(this,function(t){"use strict";function e(t,e){"createCanvas"===t&&(lg=null),ag[t]=e}function C(t){if(null==t||"object"!=typeof t)return t;var e=t,n=Kp.call(t);if("[object Array]"===n){if(!f(t))for(var e=[],i=0,r=t.length;i<r;i++)e[i]=C(t[i])}else if(Qp[n]){if(!f(t)){var o=t.constructor;if(t.constructor.from)e=o.from(t);else{e=new o(t.length);for(i=0,r=t.length;i<r;i++)e[i]=C(t[i])}}}else if(!$p[n]&&!f(t)&&!_(t))for(var a in e={},t)t.hasOwnProperty(a)&&(e[a]=C(t[a]));return e}function g(t,e,n){if(!E(e)||!E(t))return n?C(e):t;for(var i in e){var r,o;e.hasOwnProperty(i)&&(r=t[i],!E(o=e[i])||!E(r)||T(o)||T(r)||_(o)||_(r)||a(o)||a(r)||f(o)||f(r)?!n&&i in t||(t[i]=C(e[i])):g(r,o,n))}return t}function l(t,e){for(var n=t[0],i=1,r=t.length;i<r;i++)n=g(n,t[i],e);return n}function S(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function D(t,e,n){for(var i in e)e.hasOwnProperty(i)&&(n?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}function i(){return lg=lg||sg().getContext("2d")}function p(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1}function o(t,e){function n(){}var i,r=t.prototype;for(i in n.prototype=e.prototype,t.prototype=new n,r)t.prototype[i]=r[i];(t.prototype.constructor=t).superClass=e}function r(t,e,n){D(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)}function k(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function P(t,e,n){if(t&&e)if(t.forEach&&t.forEach===eg)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function I(t,e,n){if(t&&e){if(t.map&&t.map===rg)return t.map(e,n);for(var i=[],r=0,o=t.length;r<o;r++)i.push(e.call(n,t[r],r,t));return i}}function y(t,e,n,i){if(t&&e){if(t.reduce&&t.reduce===og)return t.reduce(e,n,i);for(var r=0,o=t.length;r<o;r++)n=e.call(i,n,t[r],r,t);return n}}function b(t,e,n){if(t&&e){if(t.filter&&t.filter===ng)return t.filter(e,n);for(var i=[],r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}}function v(t,e){var n=ig.call(arguments,2);return function(){return t.apply(e,n.concat(ig.call(arguments)))}}function N(t){var e=ig.call(arguments,1);return function(){return t.apply(this,e.concat(ig.call(arguments)))}}function T(t){return"[object Array]"===Kp.call(t)}function m(t){return"function"==typeof t}function L(t){return"[object String]"===Kp.call(t)}function E(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function a(t){return!!$p[Kp.call(t)]}function x(t){return!!Qp[Kp.call(t)]}function _(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function d(t){return t!=t}function O(t){for(var e=0,n=arguments.length;e<n;e++)if(null!=arguments[e])return arguments[e]}function z(t,e){return null!=t?t:e}function j(t,e,n){return null!=t?t:null!=e?e:n}function s(){return Function.call.apply(ig,arguments)}function n(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function u(t,e){if(!t)throw new Error(e)}function c(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function h(t){t[ug]=!0}function f(t){return t[ug]}function w(t){function e(t,e){n?i.set(t,e):i.set(e,t)}var n=T(t);this.data={};var i=this;t instanceof w?t.each(e):t&&P(t,e)}function Y(t){return new w(t)}function M(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];for(var r=t.length,i=0;i<e.length;i++)n[i+r]=e[i];return n}function A(){}function R(t,e){var n=new hg(2);return null==e&&(e=0),n[0]=t=null==t?0:t,n[1]=e,n}function B(t,e){return t[0]=e[0],t[1]=e[1],t}function F(t){var e=new hg(2);return e[0]=t[0],e[1]=t[1],e}function H(t,e,n){return t[0]=e,t[1]=n,t}function W(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function G(t,e,n,i){return t[0]=e[0]+n[0]*i,t[1]=e[1]+n[1]*i,t}function U(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function Z(t){return Math.sqrt(V(t))}function V(t){return t[0]*t[0]+t[1]*t[1]}function X(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function q(t,e){var n=Z(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function J(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function $(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function Q(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t}function K(t,e,n){var i=e[0],e=e[1];return t[0]=n[0]*i+n[2]*e+n[4],t[1]=n[1]*i+n[3]*e+n[5],t}function tt(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function et(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function nt(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this),this.on("globalout",this._dragEnd,this)}function it(t,e){return{target:t,topTarget:e&&e.topTarget}}function rt(t,e){t=t._$eventProcessor;return e=null!=e&&t&&t.normalizeQuery?t.normalizeQuery(e):e}function ot(t,e,n,i){return n=n||{},i||!Jp.canvasSupported?at(t,e,n):Jp.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):at(t,e,n),n}function at(t,e,n){t=(t=t).getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0};n.zrX=e.clientX-t.left,n.zrY=e.clientY-t.top}function st(t,e,n){if(null!=(e=e||window.event).zrX)return e;var i=e.type;i&&0<=i.indexOf("touch")?(i=("touchend"!=i?e.targetTouches:e.changedTouches)[0])&&ot(t,i,e,n):(ot(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3);n=e.button;return null==e.which&&void 0!==n&&vg.test(e.type)&&(e.which=1&n?1:2&n?3:4&n?2:0),e}function lt(t,e,n){yg?t.addEventListener(e,n):t.attachEvent("on"+e,n)}function ut(t){return 1<t.which}function ct(t){xg(this.event)}function ht(){}function dt(){var t=new Mg(6);return ft(t),t}function ft(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function pt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function gt(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],e=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=e,t}function mt(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function yt(t,e,n){var i=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],e=Math.sin(n),n=Math.cos(n);return t[0]=i*n+a*e,t[1]=-i*e+a*n,t[2]=r*n+s*e,t[3]=-r*e+n*s,t[4]=n*o+e*l,t[5]=n*l-e*o,t}function vt(t,e,n){var i=n[0],n=n[1];return t[0]=e[0]*i,t[1]=e[1]*n,t[2]=e[2]*i,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*n,t}function xt(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],e=n*a-o*i;return e?(t[0]=a*(e=1/e),t[1]=-o*e,t[2]=-i*e,t[3]=n*e,t[4]=(i*s-a*r)*e,t[5]=(o*r-n*s)*e,t):null}function _t(t){var e=dt();return pt(e,t),e}function bt(t){return 5e-5<t||t<-5e-5}function wt(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function Mt(t){return(t=Math.round(t))<0?0:255<t?255:t}function At(t){return t<0?0:1<t?1:t}function It(t){return Mt(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function Ct(t){return At(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function St(t,e,n){return n<0?n+=1:1<n&&--n,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function Tt(t,e,n){return t+(e-t)*n}function Dt(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function Nt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function Lt(t,e){Rg&&Nt(Rg,e),Rg=Yg.put(t,Rg||e.slice())}function kt(t,e){if(t){e=e||[];var n=Yg.get(t);if(n)return Nt(e,n);var i=(t+="").replace(/ /g,"").toLowerCase();if(i in jg)return Nt(e,jg[i]),Lt(t,e),e;if("#"!==i.charAt(0)){var r=i.indexOf("("),o=i.indexOf(")");if(-1!==r&&o+1===i.length){var n=i.substr(0,r),a=i.substr(r+1,o-(r+1)).split(","),s=1;switch(n){case"rgba":if(4!==a.length)return void Dt(e,0,0,0,1);s=Ct(a.pop());case"rgb":return 3!==a.length?void Dt(e,0,0,0,1):(Dt(e,It(a[0]),It(a[1]),It(a[2]),s),Lt(t,e),e);case"hsla":return 4!==a.length?void Dt(e,0,0,0,1):(a[3]=Ct(a[3]),Et(a,e),Lt(t,e),e);case"hsl":return 3!==a.length?void Dt(e,0,0,0,1):(Et(a,e),Lt(t,e),e);default:return}}Dt(e,0,0,0,1)}else{if(4===i.length)return 0<=(l=parseInt(i.substr(1),16))&&l<=4095?(Dt(e,(3840&l)>>4|(3840&l)>>8,240&l|(240&l)>>4,15&l|(15&l)<<4,1),Lt(t,e),e):void Dt(e,0,0,0,1);if(7===i.length){var l=parseInt(i.substr(1),16);return 0<=l&&l<=16777215?(Dt(e,(16711680&l)>>16,(65280&l)>>8,255&l,1),Lt(t,e),e):void Dt(e,0,0,0,1)}}}}function Et(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=Ct(t[1]),r=Ct(t[2]),i=r<=.5?r*(i+1):r+i-r*i,r=2*r-i;return Dt(e=e||[],Mt(255*St(r,i,n+1/3)),Mt(255*St(r,i,n)),Mt(255*St(r,i,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Ot(t,e){var n=kt(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,255<n[i]?n[i]=255:t[i]<0&&(n[i]=0);return Bt(n,4===n.length?"rgba":"rgb")}}function Pt(t){t=kt(t);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function zt(t,e,n){if(e&&e.length&&0<=t&&t<=1){n=n||[];var i=t*(e.length-1),r=Math.floor(i),o=Math.ceil(i),t=e[r],o=e[o],r=i-r;return n[0]=Mt(Tt(t[0],o[0],r)),n[1]=Mt(Tt(t[1],o[1],r)),n[2]=Mt(Tt(t[2],o[2],r)),n[3]=At(Tt(t[3],o[3],r)),n}}function jt(t,e,n){if(e&&e.length&&0<=t&&t<=1){var i=t*(e.length-1),r=Math.floor(i),o=Math.ceil(i),a=kt(e[r]),t=kt(e[o]),e=i-r,e=Bt([Mt(Tt(a[0],t[0],e)),Mt(Tt(a[1],t[1],e)),Mt(Tt(a[2],t[2],e)),At(Tt(a[3],t[3],e))],"rgba");return n?{color:e,leftIndex:r,rightIndex:o,value:i}:e}}function Yt(t,e,n,i){if(t=kt(t))return t=function(t){if(t){var e,n,i,r=t[0]/255,o=t[1]/255,a=t[2]/255,s=Math.min(r,o,a),l=Math.max(r,o,a),u=l-s,c=(l+s)/2;0==u?n=e=0:(n=c<.5?u/(l+s):u/(2-l-s),i=((l-r)/6+u/2)/u,s=((l-o)/6+u/2)/u,u=((l-a)/6+u/2)/u,r===l?e=u-s:o===l?e=1/3+i-u:a===l&&(e=2/3+s-i),e<0&&(e+=1),1<e&&--e);c=[360*e,n,c];return null!=t[3]&&c.push(t[3]),c}}(t),null!=e&&(t[0]=(e=e,(e=Math.round(e))<0?0:360<e?360:e)),null!=n&&(t[1]=Ct(n)),null!=i&&(t[2]=Ct(i)),Bt(Et(t),"rgba")}function Rt(t,e){if((t=kt(t))&&null!=e)return t[3]=At(e),Bt(t,"rgba")}function Bt(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function Ft(t,e){return t[e]}function Ht(t,e,n){t[e]=n}function Wt(t,e,n){return(e-t)*n+t}function Gt(t,e,n){return.5<n?e:t}function Ut(t,e,n,i,r){var o=t.length;if(1==r)for(s=0;s<o;s++)i[s]=Wt(t[s],e[s],n);else for(var a=o&&t[0].length,s=0;s<o;s++)for(var l=0;l<a;l++)i[s][l]=Wt(t[s][l],e[s][l],n)}function Zt(t,e,n){var i=t.length,r=e.length;if(i!==r)if(r<i)t.length=r;else for(a=i;a<r;a++)t.push(1===n?e[a]:Fg.call(e[a]));for(var o=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===n)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<o;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function Vt(t,e,n,i,r,o,a,s,l){var u=t.length;if(1==l)for(h=0;h<u;h++)s[h]=Xt(t[h],e[h],n[h],i[h],r,o,a);else for(var c=t[0].length,h=0;h<u;h++)for(var d=0;d<c;d++)s[h][d]=Xt(t[h][d],e[h][d],n[h][d],i[h][d],r,o,a)}function Xt(t,e,n,i,r,o,a){t=.5*(n-t),i=.5*(i-e);return(2*(e-n)+t+i)*a+(-3*(e-n)-2*t-i)*o+t*r+e}function qt(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function Jt(t,e,n,i,o,r){var a,s=t._getter,l=t._setter,u="spline"===e,c=i.length;if(c){var h=k(i[0].value),d=!1,f=!1,p=h?k((a=(a=i)[a.length-1].value)&&a[0])?2:1:0;i.sort(function(t,e){return t.time-e.time});for(var g=i[c-1].time,m=[],y=[],v=i[0].value,x=!0,_=0;_<c;_++){m.push(i[_].time/g);var b,w=i[_].value;h&&function(t,e,n){if(t===e)return 1;var i=t.length;if(i===e.length){if(1===n){for(o=0;o<i;o++)if(t[o]!==e[o])return}else for(var r=t[0].length,o=0;o<i;o++)for(var a=0;a<r;a++)if(t[o][a]!==e[o][a])return;return 1}}(w,v,p)||!h&&w===v||(x=!1),"string"==typeof(v=w)&&((b=kt(w))?(w=b,d=!0):f=!0),y.push(w)}if(r||!x){for(var M=y[c-1],_=0;_<c-1;_++)h?Zt(y[_],M,p):!isNaN(y[_])||isNaN(M)||f||d||(y[_]=M);h&&Zt(s(t._target,o),M,p);var A,I,C,S,T,D,N=0,L=0;d&&(D=[0,0,0,0]);n=new wt({target:t._target,life:g,loop:t._loop,delay:t._delay,onframe:function(t,e){var n;if(e<0)n=0;else if(e<L){for(n=Math.min(N+1,c-1);0<=n&&!(m[n]<=e);n--);n=Math.min(n,c-2)}else{for(n=N;n<c&&!(m[n]>e);n++);n=Math.min(n-1,c-2)}L=e;var i,r=m[(N=n)+1]-m[n];if(0!=r)if(A=(e-m[n])/r,u)if(C=y[n],I=y[0===n?n:n-1],S=y[c-2<n?c-1:n+1],T=y[c-3<n?c-1:n+2],h)Vt(I,C,S,T,A,A*A,A*A*A,s(t,o),p);else{if(d)i=Vt(I,C,S,T,A,A*A,A*A*A,D,1),i=qt(D);else{if(f)return.5<A?S:C;i=Xt(I,C,S,T,A,A*A,A*A*A)}l(t,o,i)}else if(h)Ut(y[n],y[n+1],A,s(t,o),p);else{if(d)Ut(y[n],y[n+1],A,D,1),i=qt(D);else{if(f)return Gt(y[n],y[n+1],A);i=Wt(y[n],y[n+1],A)}l(t,o,i)}},ondestroy:n});return e&&"spline"!==e&&(n.easing=e),n}}}function $t(t,e,n,i,r,o,a,s){L(i)?(o=r,r=i,i=0):m(r)?(o=r,r="linear",i=0):m(i)?(o=i,i=0):n=m(n)?(o=n,500):n||500,t.stopAnimation(),function t(e,n,i,r,o,a,s){var l={},u=0;for(var c in r)r.hasOwnProperty(c)&&(null!=i[c]?E(r[c])&&!k(r[c])?t(e,n?n+"."+c:c,i[c],r[c],o,a,s):(s?(l[c]=i[c],Qt(e,n,c,r[c])):l[c]=r[c],u++):null==r[c]||s||Qt(e,n,c,r[c]));0<u&&e.animate(n,!1).when(null==o?500:o,l).delay(a||0)}(t,"",t,e,n,i,s);var l=t.animators.slice(),u=l.length;u||o&&o();for(var c=0;c<l.length;c++)l[c].done(function(){--u||o&&o()}).start(r,a)}function Qt(t,e,n,i){var r;e?((r={})[e]={},r[e][n]=i,t.attr(r)):t.attr(n,i)}function Kt(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}function te(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;!function(t,e,n){for(n--;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}(t,e,r)}else for(;r<n&&0<=i(t[r],t[r-1]);)r++;return r-e}function ee(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var o,a=t[i],s=e,l=i;s<l;)r(a,t[o=s+l>>>1])<0?l=o:s=1+o;var u=i-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;0<u;)t[s+u]=t[s+u-1],u--}t[s]=a}}function ne(t,e,n,i,r,o){var a=0,s=0,l=1;if(0<o(t,e[n+r])){for(s=i-r;l<s&&0<o(t,e[n+r+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(t,e[n+r-l])<=0;)(l=1+((a=l)<<1))<=0&&(l=s);i=a,a=r-(l=s<l?s:l),l=r-i}for(a++;a<l;){var u=a+(l-a>>>1);0<o(t,e[n+u])?a=u+1:l=u}return l}function ie(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])<0){for(s=r+1;l<s&&o(t,e[n+r-l])<0;)(l=1+((a=l)<<1))<=0&&(l=s);var u=a,a=r-(l=s<l?s:l),l=r-u}else{for(s=i-r;l<s&&0<=o(t,e[n+r+l]);)(l=1+((a=l)<<1))<=0&&(l=s);s<l&&(l=s),a+=r,l+=r}for(a++;a<l;){var c=a+(l-a>>>1);o(t,e[n+c])<0?l=c:a=c+1}return l}function re(p,g){function e(t){var e=a[t],n=s[t],i=a[t+1],r=s[t+1];s[t]=n+r,t===o-3&&(a[t+1]=a[t+2],s[t+1]=s[t+2]),o--;t=ie(p[i],p,e,n,0,g);e+=t,0!=(n-=t)&&0!==(r=ne(p[e+n-1],p,i,r,r-1,g))&&(n<=r?function(t,e,n,i){var r=0;for(r=0;r<e;r++)y[r]=p[t+r];var o=0,a=n,s=t;if(p[s++]=p[a++],0!=--i)if(1!==e){for(var l,u,c,h=m;;){u=l=0,c=!1;do{if(g(p[a],y[o])<0){if(p[s++]=p[a++],u++,(l=0)==--i){c=!0;break}}else if(p[s++]=y[o++],l++,u=0,1==--e){c=!0;break}}while((l|u)<h);if(c)break;do{if(0!==(l=ie(p[a],y,o,e,0,g))){for(r=0;r<l;r++)p[s+r]=y[o+r];if(s+=l,o+=l,(e-=l)<=1){c=!0;break}}if(p[s++]=p[a++],0==--i){c=!0;break}if(0!==(u=ne(y[o],p,a,i,0,g))){for(r=0;r<u;r++)p[s+r]=p[a+r];if(s+=u,a+=u,0==(i-=u)){c=!0;break}}if(p[s++]=y[o++],1==--e){c=!0;break}}while(h--,im<=l||im<=u);if(c)break;h<0&&(h=0),h+=2}if((m=h)<1&&(m=1),1===e){for(r=0;r<i;r++)p[s+r]=p[a+r];p[s+i]=y[o]}else{if(0===e)throw new Error;for(r=0;r<e;r++)p[s+r]=y[o+r]}}else{for(r=0;r<i;r++)p[s+r]=p[a+r];p[s+i]=y[o]}else for(r=0;r<e;r++)p[s+r]=y[o+r]}:function(t,e,n,i){var r=0;for(r=0;r<i;r++)y[r]=p[n+r];var o=t+e-1,a=i-1,s=n+i-1,l=0,u=0;if(p[s--]=p[o--],0!=--e)if(1!==i){for(var c=m;;){var h=0,d=0,f=!1;do{if(g(y[a],p[o])<0){if(p[s--]=p[o--],h++,(d=0)==--e){f=!0;break}}else if(p[s--]=y[a--],d++,h=0,1==--i){f=!0;break}}while((h|d)<c);if(f)break;do{if(0!=(h=e-ie(y[a],p,t,e,e-1,g))){for(e-=h,u=1+(s-=h),l=1+(o-=h),r=h-1;0<=r;r--)p[u+r]=p[l+r];if(0===e){f=!0;break}}if(p[s--]=y[a--],1==--i){f=!0;break}if(0!=(d=i-ne(p[o],y,0,i,i-1,g))){for(i-=d,u=1+(s-=d),l=1+(a-=d),r=0;r<d;r++)p[u+r]=y[l+r];if(i<=1){f=!0;break}}if(p[s--]=p[o--],0==--e){f=!0;break}}while(c--,im<=h||im<=d);if(f)break;c<0&&(c=0),c+=2}if((m=c)<1&&(m=1),1===i){for(u=1+(s-=e),l=1+(o-=e),r=e-1;0<=r;r--)p[u+r]=p[l+r];p[s]=y[a]}else{if(0===i)throw new Error;for(l=s-(i-1),r=0;r<i;r++)p[l+r]=y[r]}}else{for(u=1+(s-=e),l=1+(o-=e),r=e-1;0<=r;r--)p[u+r]=p[l+r];p[s]=y[a]}else for(l=s-(i-1),r=0;r<i;r++)p[l+r]=y[r]})(e,n,i,r)}var m=im,o=0,y=[],a=[],s=[];this.mergeRuns=function(){for(;1<o;){var t=o-2;if(1<=t&&s[t-1]<=s[t]+s[t+1]||2<=t&&s[t-2]<=s[t]+s[t-1])s[t-1]<s[t+1]&&t--;else if(s[t]>s[t+1])break;e(t)}},this.forceMergeRuns=function(){for(;1<o;){var t=o-2;0<t&&s[t-1]<s[t+1]&&t--,e(t)}},this.pushRun=function(t,e){a[o]=t,s[o]=e,o+=1}}function oe(t,e,n,i){var r=(i=i||t.length)-(n=n||0);if(!(r<2)){var o=0;if(r<nm)return ee(t,n,i,n+(o=te(t,n,i,e)),e),0;var a,s=new re(t,e),l=function(t){for(var e=0;nm<=t;)e|=1&t,t>>=1;return t+e}(r);do{}while((o=te(t,n,i,e))<l&&(ee(t,n,n+(a=l<(a=r)?l:r),n+o,e),o=a),s.pushRun(n,o),s.mergeRuns(),n+=o,0!==(r-=o));s.forceMergeRuns()}}function ae(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function se(){return!1}function le(t,e,n){var i=sg(),r=e.getWidth(),o=e.getHeight(),e=i.style;return e&&(e.position="absolute",e.left=0,e.top=0,e.width=r+"px",e.height=o+"px",i.setAttribute("data-zr-dom-id",t)),i.width=r*n,i.height=o*n,i}function ue(t,e,n,i,r){if(t){if("string"!=typeof t)return t;if(e&&e.__zrImageSrc===t||!n)return e;var o=gm.get(t),r={hostEl:n,cb:i,cbPayload:r};return o?he(e=o.image)||o.pending.push(r):((e=!e?new Image:e).onload=e.onerror=ce,gm.put(t,e.__cachedImgObj={image:e,pending:[r]}),e.src=e.__zrImageSrc=t),e}return e}function ce(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function he(t){return t&&t.width&&t.height}function de(t,e){var n=t+":"+(e=e||_m);if(mm[n])return mm[n];for(var i,r,o=(t+"").split("\n"),a=0,s=0,l=o.length;s<l;s++)a=Math.max((i=o[s],r=e,bm.measureText(i,r)).width,a);return vm<ym&&(ym=0,mm={}),ym++,mm[n]=a}function fe(t,e,n,i,r,o,a){return o?function(t,e,n,i,r,o,a){e=we(t,{rich:o,truncate:a,font:e,textAlign:n,textPadding:r}),r=e.outerWidth,e=e.outerHeight;return new Kt(pe(0,r,n),ge(0,e,i),r,e)}(t,e,n,i,r,o,a):function(t,e,n,i,r,o){o=be(t,e,r,o),e=de(t,e);r&&(e+=r[1]+r[3]);r=o.outerHeight,r=new Kt(pe(0,e,n),ge(0,r,i),e,r);return r.lineHeight=o.lineHeight,r}(t,e,n,i,r,a)}function pe(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function ge(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function me(t,e,n){var i=e.x,r=e.y,o=e.height,a=e.width,s=o/2,l="left",u="top";switch(t){case"left":i-=n,r+=s,l="right",u="middle";break;case"right":i+=n+a,r+=s,u="middle";break;case"top":i+=a/2,r-=n,l="center",u="bottom";break;case"bottom":i+=a/2,r+=o+n,l="center";break;case"inside":i+=a/2,r+=s,l="center",u="middle";break;case"insideLeft":i+=n,r+=s,u="middle";break;case"insideRight":i+=a-n,r+=s,l="right",u="middle";break;case"insideTop":i+=a/2,r+=n,l="center";break;case"insideBottom":i+=a/2,r+=o-n,l="center",u="bottom";break;case"insideTopLeft":i+=n,r+=n;break;case"insideTopRight":i+=a-n,r+=n,l="right";break;case"insideBottomLeft":i+=n,r+=o-n,u="bottom";break;case"insideBottomRight":i+=a-n,r+=o-n,l="right",u="bottom"}return{x:i,y:r,textAlign:l,textVerticalAlign:u}}function ye(t,e,n,i,r){if(!e)return"";var o=(t+"").split("\n");r=ve(e,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=xe(o[a],r);return o.join("\n")}function ve(t,e,n,i){(i=S({},i)).font=e;n=z(n,"...");i.maxIterations=z(i.maxIterations,2);var r=i.minChar=z(i.minChar,0);i.cnCharWidth=de("",e);var o=i.ascCharWidth=de("a",e);i.placeholder=z(i.placeholder,"");for(var a=t=Math.max(0,t-1),s=0;s<r&&o<=a;s++)a-=o;e=de(n);return a<e&&(n="",e=0),a=t-e,i.ellipsis=n,i.ellipsisWidth=e,i.contentWidth=a,i.containerWidth=t,i}function xe(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return"";if((s=de(t,i))<=n)return t;for(var o=0;;o++){if(s<=r||o>=e.maxIterations){t+=e.ellipsis;break}var a=0===o?function(t,e,n,i){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}(t,r,e.ascCharWidth,e.cnCharWidth):0<s?Math.floor(t.length*r/s):0,s=de(t=t.substr(0,a),i)}return t=""===t?e.placeholder:t}function _e(t){return de("",t)}function be(t,e,n,i){null!=t&&(t+="");var r=_e(e),o=t?t.split("\n"):[],a=o.length*r,s=a;if(n&&(s+=n[0]+n[2]),t&&i){var l=i.outerHeight,u=i.outerWidth;if(null!=l&&l<s)t="",o=[];else if(null!=u)for(var c=ve(u-(n?n[1]+n[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),h=0,d=o.length;h<d;h++)o[h]=xe(o[h],c)}return{lines:o,height:a,outerHeight:s,lineHeight:r}}function we(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var i,r=xm.lastIndex=0;null!=(i=xm.exec(t));){var o=i.index;r<o&&Me(n,t.substring(r,o)),Me(n,i[2],i[1]),r=xm.lastIndex}r<t.length&&Me(n,t.substring(r,t.length));var a=n.lines,s=0,l=0,u=[],c=e.textPadding,h=e.truncate,d=h&&h.outerWidth,f=h&&h.outerHeight;for(c&&(null!=d&&(d-=c[1]+c[3]),null!=f&&(f-=c[0]+c[2])),C=0;C<a.length;C++){for(var p=a[C],g=0,m=0,y=0;y<p.tokens.length;y++){var v=(S=p.tokens[y]).styleName&&e.rich[S.styleName]||{},x=S.textPadding=v.textPadding,_=S.font=v.font||e.font,b=S.textHeight=z(v.textHeight,_e(_));if(x&&(b+=x[0]+x[2]),S.height=b,S.lineHeight=j(v.textLineHeight,e.textLineHeight,b),S.textAlign=v&&v.textAlign||e.textAlign,S.textVerticalAlign=v&&v.textVerticalAlign||"middle",null!=f&&s+S.lineHeight>f)return{lines:[],width:0,height:0};S.textWidth=de(S.text,_);var w,M,A=v.textWidth,I=null==A||"auto"===A;"string"==typeof A&&"%"===A.charAt(A.length-1)?(S.percentWidth=A,u.push(S),A=0):(I&&(A=S.textWidth,(M=(w=v.textBackgroundColor)&&w.image)&&he(M="string"!=typeof(w=M)?w:(w=gm.get(w))&&w.image)&&(A=Math.max(A,M.width*b/M.height))),A+=M=x?x[1]+x[3]:0,null!=(x=null!=d?d-m:null)&&x<A&&(!I||x<M?(S.text="",S.textWidth=A=0):(S.text=ye(S.text,x-M,_,h.ellipsis,{minChar:h.minChar}),S.textWidth=de(S.text,_),A=S.textWidth+M))),m+=S.width=A,v&&(g=Math.max(g,S.lineHeight))}p.width=m,s+=p.lineHeight=g,l=Math.max(l,m)}n.outerWidth=n.width=z(e.textWidth,l),n.outerHeight=n.height=z(e.textHeight,s),c&&(n.outerWidth+=c[1]+c[3],n.outerHeight+=c[0]+c[2]);for(var C=0;C<u.length;C++){var S=u[C],T=S.percentWidth;S.width=parseInt(T,10)/100*l}return n}function Me(t,e,n){for(var i=""===e,r=e.split("\n"),o=t.lines,a=0;a<r.length;a++){var s,l,u=r[a],c={styleName:n,text:u,isLineHolder:!u&&!i};a?o.push({tokens:[c]}):1===(l=(s=(o[o.length-1]||(o[0]={tokens:[]})).tokens).length)&&s[0].isLineHolder?s[0]=c:!u&&l&&!i||s.push(c)}}function Ae(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&c(e)||t.textFont||t.font}function Ie(t,e){var n,i,r,o,a,s=e.x,l=e.y,u=e.width,c=e.height,e=e.r;u<0&&(s+=u,u=-u),c<0&&(l+=c,c=-c),"number"==typeof e?n=i=r=o=e:e instanceof Array?1===e.length?n=i=r=o=e[0]:2===e.length?(n=r=e[0],i=o=e[1]):3===e.length?(n=e[0],i=o=e[1],r=e[2]):(n=e[0],i=e[1],r=e[2],o=e[3]):n=i=r=o=0,u<n+i&&(n*=u/(a=n+i),i*=u/a),u<r+o&&(r*=u/(a=r+o),o*=u/a),c<i+r&&(i*=c/(a=i+r),r*=c/a),c<n+o&&(n*=c/(a=n+o),o*=c/a),t.moveTo(s+n,l),t.lineTo(s+u-i,l),0!==i&&t.arc(s+u-i,l+i,i,-Math.PI/2,0),t.lineTo(s+u,l+c-r),0!==r&&t.arc(s+u-r,l+c-r,r,0,Math.PI/2),t.lineTo(s+o,l+c),0!==o&&t.arc(s+o,l+c-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}function Ce(t){return Se(t),P(t.rich,Se),t}function Se(t){var e;t&&(t.font=Ae(t),e=t.textAlign,t.textAlign=null==(e="middle"===e?"center":e)||wm[e]?e:"left",e=t.textVerticalAlign||t.textBaseline,t.textVerticalAlign=null==(e="center"===e?"middle":e)||Mm[e]?e:"top",t.textPadding&&(t.textPadding=n(t.textPadding)))}function Te(t,e,n,i,r,o){var a,s,l,u,c,h;i.rich?(s=e,l=n,u=i,c=r,(h=(a=t).__textCotentBlock)&&!a.__dirtyText||(h=a.__textCotentBlock=we(l,u)),function(t,e,n,i,r){var o=n.width,a=n.outerWidth,s=n.outerHeight,l=i.textPadding,u=Oe(0,i,r),c=u.baseX,h=u.baseY,d=u.textAlign,u=u.textVerticalAlign;De(e,i,r,c,h);var d=pe(c,a,d),u=ge(h,s,u),f=d,p=u;l&&(f+=l[3],p+=l[0]);var g=f+o;Le(i)&&ke(t,e,i,d,u,a,s);for(var m=0;m<n.lines.length;m++){for(var y,v=n.lines[m],x=v.tokens,_=x.length,b=v.lineHeight,w=v.width,M=0,A=f,I=g,C=_-1;M<_&&(!(y=x[M]).textAlign||"left"===y.textAlign);)Ne(t,e,y,i,b,p,A,"left"),w-=y.width,A+=y.width,M++;for(;0<=C&&"right"===(y=x[C]).textAlign;)Ne(t,e,y,i,b,p,I,"right"),w-=y.width,I-=y.width,C--;for(A+=(o-(A-f)-(g-I)-w)/2;M<=C;)Ne(t,e,y=x[M],i,b,p,A+y.width/2,"center"),A+=y.width,M++;p+=b}}(a,s,h,u,c)):function(t,e,n,i,r,o){var a=o&&o.style,s=a&&"text"===o.type,l=i.font||_m;s&&l===(a.font||_m)||(e.font=l);var u=t.__computedFont;t.__styleFont!==l&&(t.__styleFont=l,u=t.__computedFont=e.font);var c=i.textPadding,h=t.__textCotentBlock,d=(h=!h||t.__dirtyText?t.__textCotentBlock=be(n,u,c,i.truncate):h).outerHeight,f=h.lines,p=h.lineHeight,g=Oe(0,i,r),o=g.baseX,l=g.baseY,h=g.textAlign||"left",g=g.textVerticalAlign;De(e,i,r,o,l);var l=ge(l,d,g),m=o,y=l,g=Le(i);(g||c)&&(n=de(n,u),c&&(n+=c[1]+c[3]),u=pe(o,n,h),g&&ke(t,e,i,u,l,n,d),c&&(m=Re(o,h,c),y+=c[0]));for(e.textAlign=h,e.textBaseline="middle",A=0;A<Am.length;A++){var v=Am[A],x=v[0],_=v[1],b=i[x];s&&b===a[x]||(e[_]=om(e,_,b||v[2]))}y+=p/2;var o=i.textStrokeWidth,c=s?a.textStrokeWidth:null,h=!s||o!==c,c=!s||h||i.textStroke!==a.textStroke,w=ze(i.textStroke,o),M=je(i.textFill);if(w&&(h&&(e.lineWidth=o),c&&(e.strokeStyle=w)),M&&(s&&i.textFill===a.textFill&&!a.textBackgroundColor||(e.fillStyle=M)),1===f.length)w&&e.strokeText(f[0],m,y),M&&e.fillText(f[0],m,y);else for(var A=0;A<f.length;A++)w&&e.strokeText(f[A],m,y),M&&e.fillText(f[A],m,y),y+=p}(t,e,n,i,r,o)}function De(t,e,n,i,r){var o;n&&e.textRotation&&("center"===(o=e.textOrigin)?(i=n.width/2+n.x,r=n.height/2+n.y):o&&(i=o[0]+n.x,r=o[1]+n.y),t.translate(i,r),t.rotate(-e.textRotation),t.translate(-i,-r))}function Ne(t,e,n,i,r,o,a,s){var l=i.rich[n.styleName]||{};l.text=n.text;var u=n.textVerticalAlign,c=o+r/2;"top"===u?c=o+n.height/2:"bottom"===u&&(c=o+r-n.height/2),!n.isLineHolder&&Le(l)&&ke(t,e,l,"right"===s?a-n.width:"center"===s?a-n.width/2:a,c-n.height/2,n.width,n.height);t=n.textPadding;t&&(a=Re(a,s,t),c-=n.height/2-t[2]-n.textHeight/2),Pe(e,"shadowBlur",j(l.textShadowBlur,i.textShadowBlur,0)),Pe(e,"shadowColor",l.textShadowColor||i.textShadowColor||"transparent"),Pe(e,"shadowOffsetX",j(l.textShadowOffsetX,i.textShadowOffsetX,0)),Pe(e,"shadowOffsetY",j(l.textShadowOffsetY,i.textShadowOffsetY,0)),Pe(e,"textAlign",s),Pe(e,"textBaseline","middle"),Pe(e,"font",n.font||_m);t=ze(l.textStroke||i.textStroke,void 0),s=je(l.textFill||i.textFill),i=z(l.textStrokeWidth,i.textStrokeWidth);t&&(Pe(e,"lineWidth",i),Pe(e,"strokeStyle",t),e.strokeText(n.text,a,c)),s&&(Pe(e,"fillStyle",s),e.fillText(n.text,a,c))}function Le(t){return t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor}function ke(t,e,n,i,r,o,a){var s,l,u,c=n.textBackgroundColor,h=n.textBorderWidth,d=n.textBorderColor,f=L(c);Pe(e,"shadowBlur",n.textBoxShadowBlur||0),Pe(e,"shadowColor",n.textBoxShadowColor||"transparent"),Pe(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),Pe(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),(f||h&&d)&&(e.beginPath(),(s=n.textBorderRadius)?Ie(e,{x:i,y:r,width:o,height:a,r:s}):e.rect(i,r,o,a),e.closePath()),f?(Pe(e,"fillStyle",c),null!=n.fillOpacity?(u=e.globalAlpha,e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=u):e.fill()):m(c)?(Pe(e,"fillStyle",c(n)),e.fill()):E(c)&&(l=ue(l=c.image,null,t,Ee,c))&&he(l)&&e.drawImage(l,i,r,o,a),h&&d&&(Pe(e,"lineWidth",h),Pe(e,"strokeStyle",d),null!=n.strokeOpacity?(u=e.globalAlpha,e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=u):e.stroke())}function Ee(t,e){e.image=t}function Oe(t,e,n){var i,r=e.x||0,o=e.y||0,a=e.textAlign,s=e.textVerticalAlign;return n&&((i=e.textPosition)instanceof Array?(r=n.x+Ye(i[0],n.width),o=n.y+Ye(i[1],n.height)):(r=(n=me(i,n,e.textDistance)).x,o=n.y,a=a||n.textAlign,s=s||n.textVerticalAlign),(e=e.textOffset)&&(r+=e[0],o+=e[1])),{baseX:r,baseY:o,textAlign:a,textVerticalAlign:s}}function Pe(t,e,n){return t[e]=om(t,e,n),t[e]}function ze(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function je(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Ye(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t}function Re(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function Be(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function Fe(t){for(var e in Zg.call(this,t=t||{}),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new sm(t.style),this._rect=null,this.__clipPaths=[]}function He(t){Fe.call(this,t)}function We(t){return parseInt(t,10)}function Ge(t){var e=t[1][0]-t[0][0],t=t[1][1]-t[0][1];return Math.sqrt(e*e+t*t)}function Ue(t){return"mousewheel"===t&&Jp.browser.firefox?"DOMMouseScroll":t}function Ze(t,e,n){var i=t._gestureMgr;"start"===n&&i.clear();var r=i.recognize(e,t.handler.findHover(e.zrX,e.zrY,null).target,t.dom);"end"===n&&i.clear(),r&&(i=r.type,e.gestureEvent=i,t.handler.dispatchToElement({target:r.target},i,r.event))}function Ve(t){t._touching=!0,clearTimeout(t._touchTimer),t._touchTimer=setTimeout(function(){t._touching=!1},700)}function Xe(t){t=t.pointerType;return"pen"===t||"touch"===t}function qe(i){P(Em,function(t){i._handlers[t]=v(zm[t],i)}),P(Pm,function(t){i._handlers[t]=v(zm[t],i)}),P(km,function(t){var e,n;i._handlers[t]=(e=zm[t],n=i,function(){if(!n._touching)return e.apply(n,arguments)})})}function Je(n){function t(t,e){P(t,function(t){lt(n,Ue(t),e._handlers[t])},e)}gg.call(this),this.dom=n,this._touching=!1,this._touchTimer,this._gestureMgr=new Nm,this._handlers={},qe(this),Jp.pointerEventsSupported?t(Pm,this):(Jp.touchEventsSupported&&t(Em,this),t(km,this))}function $e(t,e){e=new Ym(qp++,t,e);return Fm[e.id]=e}function Qe(t,e){Bm[t]=e}function Ke(t){return t instanceof Array?t:null==t?[]:[t]}function tn(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}function en(t){return!Zm(t)||Vm(t)||t instanceof Date?t:t.value}function nn(t,r){r=(r||[]).slice();var o=I(t||[],function(t,e){return{exist:t}});return Um(r,function(t,e){if(Zm(t)){for(n=0;n<o.length;n++)if(!o[n].option&&null!=t.id&&o[n].exist.id===t.id+"")return o[n].option=t,void(r[e]=null);for(var n=0;n<o.length;n++){var i=o[n].exist;if(!(o[n].option||null!=i.id&&null!=t.id||null==t.name||an(t)||an(i)||i.name!==t.name+""))return o[n].option=t,void(r[e]=null)}}}),Um(r,function(t,e){if(Zm(t)){for(var n=0;n<o.length;n++){var i=o[n].exist;if(!o[n].option&&!an(i)&&null==t.id){o[n].option=t;break}}n>=o.length&&o.push({option:t})}}),o}function rn(t){var a=Y();Um(t,function(t,e){var n=t.exist;n&&a.set(n.id,t)}),Um(t,function(t,e){var n=t.option;u(!n||null==n.id||!a.get(n.id)||a.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&a.set(n.id,t),t.keyInfo||(t.keyInfo={})}),Um(t,function(t,e){var n=t.exist,i=t.option,r=t.keyInfo;if(Zm(i)){if(r.name=null!=i.name?i.name+"":n?n.name:Xm+e,n)r.id=n.id;else if(null!=i.id)r.id=i.id+"";else for(var o=0;r.id="\0"+r.name+"\0"+o++,a.get(r.id););a.set(r.id,t)}})}function on(t){t=t.name;return t&&t.indexOf(Xm)}function an(t){return Zm(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function sn(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?T(t.dataIndex)?I(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?T(t.name)?I(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0}function ln(){var e="__\0ec_inner_"+Jm+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}function un(o,a,s){L(a)&&((t={})[a+"Index"]=0,a=t);var t=s&&s.defaultMainType;!t||cn(a,t+"Index")||cn(a,t+"Id")||cn(a,t+"Name")||(a[t+"Index"]=0);var l={};return Um(a,function(t,e){var n,i,r,t=a[e];"dataIndex"!==e&&"dataIndexInside"!==e?(n=(r=e.match(/^(\w+)(Index|Id|Name)$/)||[])[1],i=(r[2]||"").toLowerCase(),!n||!i||null==t||"index"===i&&"none"===t||s&&s.includeMainTypes&&p(s.includeMainTypes,n)<0||(r={mainType:n},"index"===i&&"all"===t||(r[i]=t),r=o.queryComponents(r),l[n+"Models"]=r,l[n+"Model"]=r[0])):l[e]=t}),l}function cn(t,e){return t&&t.hasOwnProperty(e)}function hn(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function dn(t){return"auto"===t?Jp.domSupported?"html":"richText":t||"html"}function fn(t){var e={main:"",sub:""};return t&&(t=t.split($m),e.main=t[0]||"",e.sub=t[1]||""),e}function pn(t){(t.$constructor=t).extend=function(t){function e(){(t.$constructor||n).apply(this,arguments)}var n=this;return S(e.prototype,t),e.extend=this.extend,e.superCall=mn,e.superApply=yn,o(e,this),e.superClass=n,e}}function gn(t){var e=["__\0is_clz",Km++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function mn(t,e){var n=s(arguments,2);return this.superClass.prototype[e].apply(t,n)}function yn(t,e,n){return this.superClass.prototype[e].apply(t,n)}function vn(n,t){t=t||{};var i,r={};return n.registerClass=function(t,e){return e&&(i=e,u(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i),'componentType "'+i+'" illegal'),(e=fn(e)).sub?e.sub!==Qm&&((i=r[(n=e).main])&&i[Qm]||((i=r[n.main]={})[Qm]=!0),i[e.sub]=t):r[e.main]=t),t;var n,i},n.getClass=function(t,e,n){var i=r[t];if(i&&i[Qm]&&(i=e?i[e]:null),n&&!i)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return i},n.getClassesByMainType=function(t){t=fn(t);var n=[],t=r[t.main];return t&&t[Qm]?P(t,function(t,e){e!==Qm&&n.push(t)}):n.push(t),n},n.hasClass=function(t){return t=fn(t),!!r[t.main]},n.getAllClassMainTypes=function(){var n=[];return P(r,function(t,e){n.push(e)}),n},n.hasSubTypes=function(t){t=fn(t);t=r[t.main];return t&&t[Qm]},n.parseClassType=fn,t.registerWhenExtend&&(i=n.extend)&&(n.extend=function(t){var e=i.call(this,t);return n.registerClass(e,t.type)}),n}function xn(t){return-a0<t&&t<a0}function _n(t){return a0<t||t<-a0}function bn(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function wn(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)}function Mn(t,e,n,i,r){var o,a=6*n-12*e+6*t,i=9*e+3*i-3*t-9*n,n=3*e-3*t,e=0;return xn(i)?_n(a)&&0<=(o=-n/a)&&o<=1&&(r[e++]=o):xn(t=a*a-4*i*n)?r[0]=-a/(2*i):0<t&&(t=(-a-(n=o0(t)))/(2*i),0<=(o=(-a+n)/(2*i))&&o<=1&&(r[e++]=o),0<=t&&t<=1&&(r[e++]=t)),e}function An(t,e,n,i,r,o){var a=(e-t)*r+t,s=(n-e)*r+e,e=(i-n)*r+n,n=(s-a)*r+a,s=(e-s)*r+s,r=(s-n)*r+n;o[0]=t,o[1]=a,o[2]=n,o[3]=r,o[4]=r,o[5]=s,o[6]=e,o[7]=i}function In(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function Cn(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function Sn(t,e,n){n=t+n-2*e;return 0==n?.5:(t-e)/n}function Tn(t,e,n,i,r){var o=(e-t)*i+t,e=(n-e)*i+e,i=(e-o)*i+o;r[0]=t,r[1]=o,r[2]=i,r[3]=i,r[4]=e,r[5]=n}function Dn(t,e,n){if(0!==t.length){for(var i=t[0],r=i[0],o=i[0],a=i[1],s=i[1],l=1;l<t.length;l++)i=t[l],r=d0(r,i[0]),o=f0(o,i[0]),a=d0(a,i[1]),s=f0(s,i[1]);e[0]=r,e[1]=a,n[0]=o,n[1]=s}}function Nn(t,e,n,i,r,o){r[0]=d0(t,n),r[1]=d0(e,i),o[0]=f0(t,n),o[1]=f0(e,i)}function Ln(t,e,n,i,r,o,a){if(0!==r){var s=r,r=0;if(!(e+s<a&&i+s<a||a<e-s&&a<i-s||t+s<o&&n+s<o||o<t-s&&o<n-s)){if(t===n)return Math.abs(o-t)<=s/2;n=(r=(e-i)/(t-n))*o-a+(t*i-n*e)/(t-n);return n*n/(r*r+1)<=s/2*s/2}}}function kn(t,e,n,i,r,o,a,s,l,u,c){if(0!==l){l=l;return!(e+l<c&&i+l<c&&o+l<c&&s+l<c||c<e-l&&c<i-l&&c<o-l&&c<s-l||t+l<u&&n+l<u&&r+l<u&&a+l<u||u<t-l&&u<n-l&&u<r-l&&u<a-l)&&function(t,e,n,i,r,o,a,s,l,u,c){var h,d,f,p,g=.005,m=1/0;u0[0]=l,u0[1]=u;for(var y=0;y<1;y+=.05)c0[0]=bn(t,n,r,a,y),c0[1]=bn(e,i,o,s,y),(f=fg(u0,c0))<m&&(h=y,m=f);for(var m=1/0,v=0;v<32&&!(g<s0);v++)d=h+g,c0[0]=bn(t,n,r,a,p=h-g),c0[1]=bn(e,i,o,s,p),f=fg(c0,u0),0<=p&&f<m?(h=p,m=f):(h0[0]=bn(t,n,r,a,d),h0[1]=bn(e,i,o,s,d),p=fg(h0,u0),d<=1&&p<m?(h=d,m=p):g*=.5);return c&&(c[0]=bn(t,n,r,a,h),c[1]=bn(e,i,o,s,h)),o0(m)}(t,e,n,i,r,o,a,s,u,c,null)<=l/2}}function En(t,e,n,i,r,o,a,s,l){if(0!==a){a=a;return!(e+a<l&&i+a<l&&o+a<l||l<e-a&&l<i-a&&l<o-a||t+a<s&&n+a<s&&r+a<s||s<t-a&&s<n-a&&s<r-a)&&function(t,e,n,i,r,o,a,s,l){var u,c=.005,h=1/0;u0[0]=a,u0[1]=s;for(var d=0;d<1;d+=.05)c0[0]=In(t,n,r,d),c0[1]=In(e,i,o,d),(m=fg(u0,c0))<h&&(u=d,h=m);for(var h=1/0,f=0;f<32&&!(c<s0);f++){var p=u-c,g=u+c;c0[0]=In(t,n,r,p),c0[1]=In(e,i,o,p);var m=fg(c0,u0);0<=p&&m<h?(u=p,h=m):(h0[0]=In(t,n,r,g),h0[1]=In(e,i,o,g),p=fg(h0,u0),g<=1&&p<h?(u=g,h=p):c*=.5)}return l&&(l[0]=In(t,n,r,u),l[1]=In(e,i,o,u)),o0(h)}(t,e,n,i,r,o,s,l,null)<=a/2}}function On(t){return(t%=O0)<0&&(t+=O0),t}function Pn(t,e,n,i,r,o){if(e<o&&i<o||o<e&&o<i)return 0;if(i===e)return 0;var a=i<e?1:-1,o=(o-e)/(i-e);1!=o&&0!=o||(a=i<e?.5:-.5);t=o*(n-t)+t;return t===r?1/0:r<t?a:0}function zn(t,e,n,i,r,o,a,s,l,u){if(e<u&&i<u&&o<u&&s<u||u<e&&u<i&&u<o&&u<s)return 0;var c,h,d,f,p,g,m,y,v,x,_=(p=R0,v=(f=s)+3*((h=i)-(d=o))-(c=e),c=(x=3*(d-2*h+c))*(f=3*(h-c))-9*v*(d=c-(u=u)),u=f*f-3*x*d,d=0,xn(h=x*x-3*v*f)&&xn(c)?xn(x)?p[0]=0:0<=(m=-f/x)&&m<=1&&(p[d++]=m):xn(f=c*c-4*h*u)?(y=-(u=c/h)/2,0<=(m=-x/v+u)&&m<=1&&(p[d++]=m),0<=y&&y<=1&&(p[d++]=y)):0<f?(g=h*x+1.5*v*(-c-(f=o0(f))),0<=(m=(-x-((f=(f=h*x+1.5*v*(-c+f))<0?-r0(-f,1/3):r0(f,1/3))+(g=g<0?-r0(-g,1/3):r0(g,1/3))))/(3*v))&&m<=1&&(p[d++]=m)):(g=(2*h*x-3*v*c)/(2*o0(h*h*h)),c=Math.acos(g)/3,m=(-x-2*(g=o0(h))*(h=Math.cos(c)))/(3*v),y=(-x+g*(h+l0*Math.sin(c)))/(3*v),v=(-x+g*(h-l0*Math.sin(c)))/(3*v),0<=m&&m<=1&&(p[d++]=m),0<=y&&y<=1&&(p[d++]=y),0<=v&&v<=1&&(p[d++]=v)),d);if(0===_)return 0;for(var b,w,M=0,A=-1,I=0;I<_;I++){var C=R0[I],S=0===C||1===C?.5:1;bn(t,n,r,a,C)<l||(A<0&&(A=Mn(e,i,o,s,B0),B0[1]<B0[0]&&1<A&&(w=void 0,w=B0[0],B0[0]=B0[1],B0[1]=w),w=bn(e,i,o,s,B0[0]),1<A&&(b=bn(e,i,o,s,B0[1]))),2==A?C<B0[0]?M+=w<e?S:-S:C<B0[1]?M+=b<w?S:-S:M+=s<b?S:-S:C<B0[0]?M+=w<e?S:-S:M+=s<w?S:-S)}return M}function jn(t,e,n,i,r,o,a,s){if(e<s&&i<s&&o<s||s<e&&s<i&&s<o)return 0;var l,u,c,h,d,f,p=(h=R0,f=(l=e)-2*(u=i)+(c=o),c=2*(u-l),u=l-(s=s),l=0,xn(f)?_n(c)&&0<=(d=-u/c)&&d<=1&&(h[l++]=d):xn(s=c*c-4*f*u)?0<=(d=-c/(2*f))&&d<=1&&(h[l++]=d):0<s&&(s=(-c-(u=o0(s)))/(2*f),0<=(d=(-c+u)/(2*f))&&d<=1&&(h[l++]=d),0<=s&&s<=1&&(h[l++]=s)),l);if(0===p)return 0;var g=Sn(e,i,o);if(0<=g&&g<=1){for(var m=0,y=In(e,i,o,g),v=0;v<p;v++)x=0===R0[v]||1===R0[v]?.5:1,(_=In(t,n,r,R0[v]))<a||(R0[v]<g?m+=y<e?x:-x:m+=o<y?x:-x);return m}var x=0===R0[0]||1===R0[0]?.5:1,_=In(t,n,r,R0[0]);return _<a?0:o<e?x:-x}function Yn(t,e,n,i,r){for(var o,a,s=0,l=0,u=0,c=0,h=0,d=0;d<t.length;){var f=t[d++];switch(f===z0.M&&1<d&&(n||(s+=Pn(l,u,c,h,i,r))),1==d&&(c=l=t[d],h=u=t[d+1]),f){case z0.M:l=c=t[d++],u=h=t[d++];break;case z0.L:if(n){if(Ln(l,u,t[d],t[d+1],e,i,r))return!0}else s+=Pn(l,u,t[d],t[d+1],i,r)||0;l=t[d++],u=t[d++];break;case z0.C:if(n){if(kn(l,u,t[d++],t[d++],t[d++],t[d++],t[d],t[d+1],e,i,r))return!0}else s+=zn(l,u,t[d++],t[d++],t[d++],t[d++],t[d],t[d+1],i,r)||0;l=t[d++],u=t[d++];break;case z0.Q:if(n){if(En(l,u,t[d++],t[d++],t[d],t[d+1],e,i,r))return!0}else s+=jn(l,u,t[d++],t[d++],t[d],t[d+1],i,r)||0;l=t[d++],u=t[d++];break;case z0.A:var p=t[d++],g=t[d++],m=t[d++],y=t[d++],v=t[d++],x=t[d++],_=(t[d++],1-t[d++]),b=Math.cos(v)*m+p,w=Math.sin(v)*y+g;1<d?s+=Pn(l,u,b,w,i,r):(c=b,h=w);var M=(i-p)*y/m+p;if(n){if(function(t,e,n,i,r,o,a,s,l){if(0!==a){a=a;s-=t,l-=e;e=Math.sqrt(s*s+l*l);if(!(n<e-a||e+a<n)){if(Math.abs(i-r)%P0<1e-4)return 1;(r=o?(o=i,i=On(r),On(o)):(i=On(i),On(r)))<i&&(r+=P0);s=Math.atan2(l,s);return s<0&&(s+=P0),i<=s&&s<=r||i<=s+P0&&s+P0<=r}}}(p,g,y,v,v+x,_,e,M,r))return!0}else s+=function(t,e,n,i,r,o,a,s){if((s-=e)>n||s<-n)return 0;if(e=Math.sqrt(n*n-s*s),R0[0]=-e,R0[1]=e,(n=Math.abs(i-r))<1e-4)return 0;if(n%j0<1e-4)return r=j0,c=o?1:-1,a>=R0[i=0]+t&&a<=R0[1]+t?c:0;(r=o?(e=i,i=On(r),On(e)):(i=On(i),On(r)))<i&&(r+=j0);for(var l=0,u=0;u<2;u++){var c,h=R0[u];a<h+t&&(c=o?1:-1,(i<=(h=(h=Math.atan2(s,h))<0?j0+h:h)&&h<=r||i<=h+j0&&h+j0<=r)&&(l+=c=h>Math.PI/2&&h<1.5*Math.PI?-c:c))}return l}(p,g,y,v,v+x,_,M,r);l=Math.cos(v+x)*m+p,u=Math.sin(v+x)*y+g;break;case z0.R:c=l=t[d++],h=u=t[d++],b=c+t[d++],w=h+t[d++];if(n){if(Ln(c,h,b,h,e,i,r)||Ln(b,h,b,w,e,i,r)||Ln(b,w,c,w,e,i,r)||Ln(c,w,c,h,e,i,r))return!0}else s+=Pn(b,h,b,w,i,r),s+=Pn(c,w,c,h,i,r);break;case z0.Z:if(n){if(Ln(l,u,c,h,e,i,r))return!0}else s+=Pn(l,u,c,h,i,r);l=c,u=h}}return n||(o=u,a=h,Math.abs(o-a)<Y0)||(s+=Pn(l,u,c,h,i,r)||0),0!==s}function Rn(t){Fe.call(this,t),this.path=null}function Bn(t,e,n,i,r,o,a,s,l,u,c){var h=l*(ty/180),d=K0(h)*(t-n)/2+Q0(h)*(e-i)/2,f=-1*Q0(h)*(t-n)/2+K0(h)*(e-i)/2,l=d*d/(a*a)+f*f/(s*s);1<l&&(a*=$0(l),s*=$0(l));l=(r===o?-1:1)*$0((a*a*(s*s)-a*a*(f*f)-s*s*(d*d))/(a*a*(f*f)+s*s*(d*d)))||0,r=l*a*f/s,l=l*-s*d/a,t=(t+n)/2+K0(h)*r-Q0(h)*l,n=(e+i)/2+Q0(h)*r+K0(h)*l,e=G0([1,0],[(d-r)/a,(f-l)/s]),i=[(d-r)/a,(f-l)/s],f=[(-1*d-r)/a,(-1*f-l)/s],l=G0(i,f);ny(i,f)<=-1&&(l=ty),1<=ny(i,f)&&(l=0),0===o&&0<l&&(l-=2*ty),1===o&&l<0&&(l+=2*ty),c.addData(u,t,n,a,s,e,l,h,o)}function Fn(t,e){var n=function(t){if(!t)return new Wm;for(var e,n=0,i=0,r=n,o=i,a=new Wm,s=Wm.CMD,l=t.match(iy),u=0;u<l.length;u++){for(var c,h=l[u],d=h.charAt(0),f=h.match(ry)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var m=0;m<p;){var y,v,x,_,b,w=n,M=i;switch(d){case"l":n+=f[m++],i+=f[m++],c=s.L,a.addData(c,n,i);break;case"L":n=f[m++],i=f[m++],c=s.L,a.addData(c,n,i);break;case"m":n+=f[m++],i+=f[m++],c=s.M,a.addData(c,n,i),r=n,o=i,d="l";break;case"M":n=f[m++],i=f[m++],c=s.M,a.addData(c,n,i),r=n,o=i,d="L";break;case"h":n+=f[m++],c=s.L,a.addData(c,n,i);break;case"H":n=f[m++],c=s.L,a.addData(c,n,i);break;case"v":i+=f[m++],c=s.L,a.addData(c,n,i);break;case"V":i=f[m++],c=s.L,a.addData(c,n,i);break;case"C":c=s.C,a.addData(c,f[m++],f[m++],f[m++],f[m++],f[m++],f[m++]),n=f[m-2],i=f[m-1];break;case"c":c=s.C,a.addData(c,f[m++]+n,f[m++]+i,f[m++]+n,f[m++]+i,f[m++]+n,f[m++]+i),n+=f[m-2],i+=f[m-1];break;case"S":var A=n,I=i,C=a.len(),S=a.data;e===s.C&&(A+=n-S[C-4],I+=i-S[C-3]),c=s.C,w=f[m++],M=f[m++],n=f[m++],i=f[m++],a.addData(c,A,I,w,M,n,i);break;case"s":A=n,I=i;C=a.len(),S=a.data;e===s.C&&(A+=n-S[C-4],I+=i-S[C-3]),c=s.C,w=n+f[m++],M=i+f[m++],n+=f[m++],i+=f[m++],a.addData(c,A,I,w,M,n,i);break;case"Q":w=f[m++],M=f[m++],n=f[m++],i=f[m++],c=s.Q,a.addData(c,w,M,n,i);break;case"q":w=f[m++]+n,M=f[m++]+i,n+=f[m++],i+=f[m++],c=s.Q,a.addData(c,w,M,n,i);break;case"T":A=n,I=i;C=a.len(),S=a.data;e===s.Q&&(A+=n-S[C-4],I+=i-S[C-3]),n=f[m++],i=f[m++],c=s.Q,a.addData(c,A,I,n,i);break;case"t":A=n,I=i;C=a.len(),S=a.data;e===s.Q&&(A+=n-S[C-4],I+=i-S[C-3]),n+=f[m++],i+=f[m++],c=s.Q,a.addData(c,A,I,n,i);break;case"A":y=f[m++],v=f[m++],x=f[m++],_=f[m++],b=f[m++],Bn(w=n,M=i,n=f[m++],i=f[m++],_,b,y,v,x,c=s.A,a);break;case"a":y=f[m++],v=f[m++],x=f[m++],_=f[m++],b=f[m++],Bn(w=n,M=i,n+=f[m++],i+=f[m++],_,b,y,v,x,c=s.A,a)}}"z"!==d&&"Z"!==d||(c=s.Z,a.addData(c),n=r,i=o),e=c}return a.toStatic(),a}(t);return(e=e||{}).buildPath=function(t){var e;t.setData?(t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e)):n.rebuildPath(e=t)},e.applyTransform=function(t){J0(n,t),this.dirty(!0)},e}function Hn(t,e){return new Rn(Fn(t,e))}function Wn(t,e,n,i,r,o,a){t=.5*(n-t),i=.5*(i-e);return(2*(e-n)+t+i)*a+(-3*(e-n)-2*t-i)*o+t*r+e}function Gn(t,e,n){var i=e.points,r=e.smooth;if(i&&2<=i.length){if(r&&"spline"!==r){var o=function(t,e,n,i){var r,o,a,s,l=[],u=[],c=[],h=[];if(i){a=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)tt(a,a,t[d]),et(s,s,t[d]);tt(a,a,i[0]),et(s,s,i[1])}for(var d=0,f=t.length;d<f;d++){var p=t[d];if(n)r=t[d?d-1:f-1],o=t[(d+1)%f];else{if(0===d||d===f-1){l.push(F(t[d]));continue}r=t[d-1],o=t[d+1]}U(u,o,r),X(u,u,e);var g=J(p,r),m=J(p,o),y=g+m;0!==y&&(g/=y,m/=y),X(c,u,-g),X(h,u,m);var v=W([],p,c),x=W([],p,h);i&&(et(v,v,a),tt(v,v,s),et(x,x,a),tt(x,x,s)),l.push(v),l.push(x)}return n&&l.push(l.shift()),l}(i,r,n,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var a=i.length,s=0;s<(n?a:a-1);s++){var l=o[2*s],u=o[2*s+1],c=i[(s+1)%a];t.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{"spline"===r&&(i=function(t,e){for(var n=t.length,i=[],r=0,o=1;o<n;o++)r+=J(t[o-1],t[o]);for(var a,a=(a=r/2)<n?n:a,o=0;o<a;o++){var s,l,u,c=o/(a-1)*(e?n:n-1),h=Math.floor(c),d=c-h,f=t[h%n];e?(s=t[(h-1+n)%n],l=t[(h+1)%n],u=t[(h+2)%n]):(s=t[0===h?h:h-1],l=t[h>n-2?n-1:h+1],u=t[h>n-3?n-1:h+2]);var p=d*d,g=d*p;i.push([Wn(s[0],f[0],l[0],u[0],d,p,g),Wn(s[1],f[1],l[1],u[1],d,p,g)])}return i}(i,n)),t.moveTo(i[0][0],i[0][1]);for(var s=1,h=i.length;s<h;s++)t.lineTo(i[s][0],i[s][1])}n&&t.closePath()}}function Un(t,e,n){var i=t.cpx2,r=t.cpy2;return null===i||null===r?[(n?wn:bn)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?wn:bn)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?Cn:In)(t.x1,t.cpx1,t.x2,e),(n?Cn:In)(t.y1,t.cpy1,t.y2,e)]}function Zn(t){Fe.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function Vn(t){return Rn.extend(t)}function Xn(t,e,n,i){e=Hn(t,e);return n&&("center"===i&&(n=Jn(n,e.getBoundingRect())),$n(e,n)),e}function qn(t,e,n){var i=new He({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){"center"===n&&(t={width:t.width,height:t.height},i.setStyle(Jn(e,t)))}});return i}function Jn(t,e){var n=e.width/e.height,e=t.height*n,n=e<=t.width?t.height:(e=t.width)/n;return{x:t.x+t.width/2-e/2,y:t.y+t.height/2-n/2,width:e,height:n}}function $n(t,e){t.applyTransform&&(e=t.getBoundingRect().calculateTransform(e),t.applyTransform(e))}function Qn(t){var e=t.shape,n=t.style.lineWidth;return My(2*e.x1)===My(2*e.x2)&&(e.x1=e.x2=ti(e.x1,n,!0)),My(2*e.y1)===My(2*e.y2)&&(e.y1=e.y2=ti(e.y1,n,!0)),t}function Kn(t){var e=t.shape,n=t.style.lineWidth,i=e.x,r=e.y,o=e.width,a=e.height;return e.x=ti(e.x,n,!0),e.y=ti(e.y,n,!0),e.width=Math.max(ti(i+o,n,!1)-e.x,0===o?0:1),e.height=Math.max(ti(r+a,n,!1)-e.y,0===a?0:1),t}function ti(t,e,n){t=My(2*t);return(t+My(e))%2==0?t/2:(t+(n?1:-1))/2}function ei(t){return null!=t&&"none"!==t}function ni(t){var e,n,i,r,o=t.__hoverStl;o&&!t.__highlighted&&(e=t.useHoverLayer,t.__highlighted=e?"layer":"plain",!(n=t.__zr)&&e||(r=(i=t).style,_i(r=e?(i=n.addHover(t)).style:r),e||function(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(e){var n,i=t.__normalStl={},r=t.style;for(n in e)null!=e[n]&&(i[n]=r[n]);i.fill=r.fill,i.stroke=r.stroke}else t.__normalStl=null}}(i),r.extendFrom(o),ii(r,o,"fill"),ii(r,o,"stroke"),xi(r),e||(t.dirty(!1),t.z2+=1)))}function ii(t,e,n){!ei(e[n])&&ei(t[n])&&(t[n]=function(t){if("string"!=typeof t)return t;var e=Sy.get(t);return e||(e=Ot(t,-.1),Ty<1e4&&(Sy.set(t,e),Ty++)),e}(t[n]))}function ri(t){t.__highlighted&&(function(t){var e=t.__highlighted;{var n;"layer"===e?t.__zr&&t.__zr.removeHover(t):e&&(n=t.style,(e=t.__normalStl)&&(_i(n),t.setStyle(e),xi(n),--t.z2))}}(t),t.__highlighted=!1)}function oi(t,e){t.isGroup?t.traverse(function(t){t.isGroup||e(t)}):e(t)}function ai(t,e){e=t.__hoverStl=!1!==e&&(e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(ri(t),ni(t))}function si(t){return t&&t.__isEmphasisEntered}function li(t){this.__hoverSilentOnTouch&&t.zrByTouch||this.__isEmphasisEntered||oi(this,ni)}function ui(t){this.__hoverSilentOnTouch&&t.zrByTouch||this.__isEmphasisEntered||oi(this,ri)}function ci(){this.__isEmphasisEntered=!0,oi(this,ni)}function hi(){this.__isEmphasisEntered=!1,oi(this,ri)}function di(t,e,n){t.isGroup?t.traverse(function(t){t.isGroup||ai(t,t.hoverStyle||e)}):ai(t,t.hoverStyle||e),fi(t,n)}function fi(t,e){var n=!1===e;t.__hoverSilentOnTouch=null!=e&&e.hoverSilentOnTouch,n&&!t.__hoverStyleTrigger||(t[e=n?"off":"on"]("mouseover",li)[e]("mouseout",ui),t[e]("emphasis",ci)[e]("normal",hi),t.__hoverStyleTrigger=!n)}function pi(t,e,n,i,r,o,a){var s=(r=r||Cy).labelFetcher,l=r.labelDataIndex,u=r.labelDimIndex,c=n.getShallow("show"),h=i.getShallow("show");!c&&!h||null==(d=s?s.getFormattedLabel(l,"normal",null,u):d)&&(d=m(r.defaultText)?r.defaultText(l,r):r.defaultText);var c=c?d:null,d=h?z(s?s.getFormattedLabel(l,"emphasis",null,u):null,d):null;null==c&&null==d||(gi(t,n,o,r),gi(e,i,a,r,!0)),t.text=c,e.text=d}function gi(t,e,n,i,r){return mi(t,e,i,r),n&&S(t,n),t}function mi(t,e,n,i){(n=n||Cy).isRectText&&(a=e.getShallow("position")||(i?null:"inside"),t.textPosition=a="outside"===a?"top":a,t.textOffset=e.getShallow("offset"),null!=(a=e.getShallow("rotate"))&&(a*=Math.PI/180),t.textRotation=a,t.textDistance=z(e.getShallow("distance"),i?null:5));var r,o,a=e.ecModel,s=a&&a.option.textStyle,l=function(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||Cy).rich;if(n)for(var i in e=e||{},n)n.hasOwnProperty(i)&&(e[i]=1);t=t.parentModel}return e}(e);if(l)for(var u in r={},l)l.hasOwnProperty(u)&&(o=e.getModel(["rich",u]),yi(r[u]={},o,s,n,i));return t.rich=r,yi(t,e,s,n,i,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function yi(t,e,n,i,r,o){n=!r&&n||Cy,t.textFill=vi(e.getShallow("color"),i)||n.color,t.textStroke=vi(e.getShallow("textBorderColor"),i)||n.textBorderColor,t.textStrokeWidth=z(e.getShallow("textBorderWidth"),n.textBorderWidth),t.insideRawTextPosition=t.textPosition,r||(o&&(t.insideRollbackOpt=i,xi(t)),null==t.textFill&&(t.textFill=i.autoColor)),t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),o&&i.disableBox||(t.textBackgroundColor=vi(e.getShallow("backgroundColor"),i),t.textPadding=e.getShallow("padding"),t.textBorderColor=vi(e.getShallow("borderColor"),i),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function vi(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function xi(t){var e,n,i,r,o=t.insideRollbackOpt;o&&null==t.textFill&&(n=o.useInsideStyle,i=t.insideRawTextPosition,r=o.autoColor,!1!==n&&(!0===n||o.isRectText&&i&&"string"==typeof i&&0<=i.indexOf("inside"))?(e={textFill:null,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth},t.textFill="#fff",null==t.textStroke&&(t.textStroke=r,null==t.textStrokeWidth&&(t.textStrokeWidth=2))):null!=r&&(e={textFill:null},t.textFill=r),e&&(t.insideRollback=e))}function _i(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function bi(t,e){e=e||e.getModel("textStyle");return c([t.fontStyle||e&&e.getShallow("fontStyle")||"",t.fontWeight||e&&e.getShallow("fontWeight")||"",(t.fontSize||e&&e.getShallow("fontSize")||12)+"px",t.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}function wi(t,e,n,i,r,o){var a,s;"function"==typeof r&&(o=r,r=null),i&&i.isAnimationEnabled()?(a=i.getShallow("animationDuration"+(s=t?"Update":"")),t=i.getShallow("animationEasing"+s),"function"==typeof(s=i.getShallow("animationDelay"+s))&&(s=s(r,i.getAnimationDelayParams?i.getAnimationDelayParams(e,r):null)),0<(a="function"==typeof a?a(r):a)?e.animateTo(n,a,s||0,t,o,!!o):(e.stopAnimation(),e.attr(n),o&&o())):(e.stopAnimation(),e.attr(n),o&&o())}function Mi(t,e,n,i,r){wi(!0,t,e,n,i,r)}function Ai(t,e,n,i,r){wi(!1,t,e,n,i,r)}function Ii(t,e){for(var n=ft([]);t&&t!==e;)gt(n,t.getLocalTransform(),n),t=t.parent;return n}function Ci(t,e,n){return e&&!k(e)&&(e=wg.getLocalTransform(e)),K([],t,e=n?xt([],e):e)}function Si(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),r=Ci(r=["left"===t?-i:"right"===t?i:0,"top"===t?-r:"bottom"===t?r:0],e,n);return Math.abs(r[0])>Math.abs(r[1])?0<r[0]?"right":"left":0<r[1]?"bottom":"top"}function Ti(t,e,i,n){function r(t){var e={position:F(t.position),rotation:t.rotation};return t.shape&&(e.shape=S({},t.shape)),e}var o,a;t&&e&&(a={},t.traverse(function(t){!t.isGroup&&t.anid&&(a[t.anid]=t)}),o=a,e.traverse(function(t){var e,n;t.isGroup||!t.anid||(e=o[t.anid])&&(n=r(t),t.attr(r(e)),Mi(t,n,i,t.dataIndex))}))}function Di(t,n){return I(t,function(t){var e=t[0],e=Ay(e,n.x);e=Iy(e,n.x+n.width);t=t[1],t=Ay(t,n.y);return[e,t=Iy(t,n.y+n.height)]})}function Ni(t,e,n){var i=(e=S({rectHover:!0},e)).style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(i.image=t.slice(8),D(i,n),new He(e)):Xn(t.replace("path://",""),e,n,"center")}function Li(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function ki(t,e,n){for(var i=0;i<e.length&&(!e[i]||null!=(t=t&&"object"==typeof t?t[e[i]]:null));i++);return t=null==t&&n?n.get(e):t}function Ei(t,e){var n=Py(t).getParent;return n?n.call(t,e):t.parentModel}function Oi(t){return[t||"",Ry++,Math.random().toFixed(5)].join("_")}function Pi(t,e,n,i){var r=e[1]-e[0],o=n[1]-n[0];if(0==r)return 0==o?n[0]:(n[0]+n[1])/2;if(i)if(0<r){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/r*o+n[0]}function zi(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?t.replace(/^\s+/,"").replace(/\s+$/,"").match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function ji(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function Yi(t){return t.sort(function(t,e){return t-e}),t}function Ri(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}function Bi(t){var e=t.toString(),t=e.indexOf("e");if(0<t){var n=+e.slice(t+1);return n<0?-n:0}n=e.indexOf(".");return n<0?0:e.length-1-n}function Fi(t,e){var n=Math.log,i=Math.LN10,t=Math.floor(n(t[1]-t[0])/i),i=Math.round(n(Math.abs(e[1]-e[0]))/i),i=Math.min(Math.max(-t+i,0),20);return isFinite(i)?i:20}function Hi(t,e,n){if(!t[e])return 0;var i=y(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===i)return 0;for(var r=Math.pow(10,n),t=I(t,function(t){return(isNaN(t)?0:t)/i*r*100}),o=100*r,a=I(t,function(t){return Math.floor(t)}),s=y(a,function(t,e){return t+e},0),l=I(t,function(t,e){return t-a[e]});s<o;){for(var u=Number.NEGATIVE_INFINITY,c=null,h=0,d=l.length;h<d;++h)l[h]>u&&(u=l[h],c=h);++a[c],l[c]=0,++s}return a[e]/r}function Wi(t){var e=2*Math.PI;return(t%e+e)%e}function Gi(t){return-1e-4<t&&t<1e-4}function Ui(t){if(t instanceof Date)return t;if("string"!=typeof t)return null==t?new Date(NaN):new Date(Math.round(t));var e=Fy.exec(t);if(!e)return new Date(NaN);if(e[8]){t=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(t-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}function Zi(t){return Math.pow(10,Vi(t))}function Vi(t){return Math.floor(Math.log(t)/Math.LN10)}function Xi(t,e){var n=Vi(t),i=Math.pow(10,n),r=t/i;return t=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,-20<=n?+t.toFixed(n<0?-n:0):t}function qi(t){t.sort(function(t,e){return function t(e,n,i){return e.interval[i]<n.interval[i]||e.interval[i]===n.interval[i]&&(e.close[i]-n.close[i]==(i?-1:1)||!i&&t(e,n,1))}(t,e,0)?-1:1});for(var e=-1/0,n=1,i=0;i<t.length;){for(var r=t[i].interval,o=t[i].close,a=0;a<2;a++)r[a]<=e&&(r[a]=e,o[a]=a?1:1-n),e=r[a],n=o[a];r[0]===r[1]&&o[0]*o[1]!=1?t.splice(i,1):i++}return t}function Ji(t){return 0<=t-parseFloat(t)}function $i(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<t.length?"."+t[1]:"")}function Qi(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),t=e&&t?t.charAt(0).toUpperCase()+t.slice(1):t}function Ki(t){return null==t?"":(t+"").replace(Wy,function(t,e){return Gy[e]})}function tr(t,e,n){var i=(e=!T(e)?[e]:e).length;if(!i)return"";for(var r=e[0].$vars||[],o=0;o<r.length;o++){var a=Uy[o];t=t.replace(zy(a),zy(a,0))}for(var s=0;s<i;s++)for(var l=0;l<r.length;l++){var u=e[s][r[l]];t=t.replace(zy(Uy[l],s),n?Ki(u):u)}return t}function er(n,t,i){return P(t,function(t,e){n=n.replace("{"+e+"}",i?Ki(t):t)}),n}function nr(t,e){var n=(t=L(t)?{color:t,extraCssText:e}:t||{}).color,i=t.type,e=t.extraCssText,r=t.renderMode||"html",t=t.markerId||"X";return n?"html"===r?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Ki(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+Ki(n)+";"+(e||"")+'"></span>':{renderMode:r,content:"{marker"+t+"|}  ",style:{color:n}}:""}function ir(t,e){return"0000".substr(0,e-(t+="").length)+t}function rr(t,e,n){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var i=Ui(e),r=n?"UTC":"",o=i["get"+r+"FullYear"](),a=i["get"+r+"Month"]()+1,s=i["get"+r+"Date"](),l=i["get"+r+"Hours"](),e=i["get"+r+"Minutes"](),n=i["get"+r+"Seconds"](),r=i["get"+r+"Milliseconds"]();return t.replace("MM",ir(a,2)).replace("M",a).replace("yyyy",o).replace("yy",o%100).replace("dd",ir(s,2)).replace("d",s).replace("hh",ir(l,2)).replace("h",l).replace("mm",ir(e,2)).replace("m",e).replace("ss",ir(n,2)).replace("s",n).replace("SSS",ir(r,3))}function or(t){return t&&t.charAt(0).toUpperCase()+t.substr(1)}function ar(s,l,u,c,h){var d=0,f=0;null==c&&(c=1/0),null==h&&(h=1/0);var p=0;l.eachChild(function(t,e){var n,i,r=t.position,o=t.getBoundingRect(),a=l.childAt(e+1),e=a&&a.getBoundingRect();p="horizontal"===s?(a=o.width+(e?-e.x+o.x:0),(n=d+a)>c||t.newline?(d=0,n=a,f+=p+u,o.height):Math.max(p,o.height)):(e=o.height+(e?-e.y+o.y:0),(i=f+e)>h||t.newline?(d+=p+u,f=0,i=e,o.width):Math.max(p,o.width)),t.newline||(r[0]=d,r[1]=f,"horizontal"===s?d=n+u:f=i+u)})}function sr(t,e,n){n=Hy(n||0);var i=e.width,r=e.height,o=zi(t.left,i),a=zi(t.top,r),s=zi(t.right,i),l=zi(t.bottom,r),u=zi(t.width,i),c=zi(t.height,r),h=n[2]+n[0],d=n[1]+n[3],e=t.aspect;switch(isNaN(u)&&(u=i-s-d-o),isNaN(c)&&(c=r-l-h-a),null!=e&&(isNaN(u)&&isNaN(c)&&(i/r<e?u=.8*i:c=.8*r),isNaN(u)&&(u=e*c),isNaN(c)&&(c=u/e)),isNaN(o)&&(o=i-s-u-d),isNaN(a)&&(a=r-l-c-h),t.left||t.right){case"center":o=i/2-u/2-n[3];break;case"right":o=i-u-d}switch(t.top||t.bottom){case"middle":case"center":a=r/2-c/2-n[0];break;case"bottom":a=r-c-h}o=o||0,a=a||0,isNaN(u)&&(u=i-d-o-(s||0)),isNaN(c)&&(c=r-h-a-(l||0));l=new Kt(o+n[3],a+n[0],u,c);return l.margin=n,l}function lr(t,e,n,i,r){var o,a=!r||!r.hv||r.hv[0],s=!r||!r.hv||r.hv[1],l=r&&r.boundingMode||"all";(a||s)&&("raw"===l?o="group"===t.type?new Kt(0,0,+e.width||0,+e.height||0):t.getBoundingRect():(o=t.getBoundingRect(),t.needLocalTransform()&&(r=t.getLocalTransform(),(o=o.clone()).applyTransform(r))),e=sr(D({width:o.width,height:o.height},e),n,i),i=t.position,a=a?e.x-o.x:0,o=s?e.y-o.y:0,t.attr("position","raw"===l?[a,o]:[i[0]+a,i[1]+o]))}function ur(l,u,t){function e(t,e){var n={},i=0,r={},o=0;if(Vy(t,function(t){r[t]=l[t]}),Vy(t,function(t){c(u,t)&&(n[t]=r[t]=u[t]),h(n,t)&&i++,h(r,t)&&o++}),d[e])return h(u,t[1])?r[t[2]]=null:h(u,t[2])&&(r[t[1]]=null),r;if(2!==o&&i){if(2<=i)return n;for(var a=0;a<t.length;a++){var s=t[a];if(!c(n,s)&&c(l,s)){n[s]=l[s];break}}return n}return r}function c(t,e){return t.hasOwnProperty(e)}function h(t,e){return null!=t[e]&&"auto"!==t[e]}function n(t,e,n){Vy(t,function(t){e[t]=n[t]})}var d=(t=!E(t)?{}:t).ignoreSize;T(d)||(d=[d,d]);var i=e(qy[0],0),t=e(qy[1],1);n(qy[0],l,i),n(qy[1],l,t)}function cr(t){return hr({},t)}function hr(e,n){return n&&e&&Vy(Xy,function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e}function dr(t){var e=t.get("coordinateSystem"),n={coordSysName:e,coordSysDims:[],axisMap:Y(),categoryAxisMap:Y()},e=rv[e];if(e)return e(t,n,n.axisMap,n.categoryAxisMap),n}function fr(t){return"category"===t.get("type")}function pr(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===lv?{}:[]),this.sourceFormat=t.sourceFormat||"unknown",this.seriesLayoutBy=t.seriesLayoutBy||"column",this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&Y(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function gr(t){var e,n=t.option,i=n.data,r=x(i)?uv:ov,o=!1,a=n.seriesLayoutBy,s=n.sourceHeader,l=n.dimensions,u=function(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}(t);u&&(i=(e=u.option).source,r=hv(u).sourceFormat,o=!0,a=a||e.seriesLayoutBy,null==s&&(s=e.sourceHeader),l=l||e.dimensions);l=function(t,e,n,i,r){if(!t)return{dimensionsDefine:mr(r)};var o,a,s,l;e===av?("auto"===i||null==i?yr(function(t){null!=t&&"-"!==t&&(L(t)?null==a&&(a=1):a=0)},n,t,10):a=i?1:0,r||1!==a||(r=[],yr(function(t,e){r[e]=null!=t?t:""},n,t)),o=r?r.length:n===cv?t.length:t[0]?t[0].length:null):e===sv?r||(r=function(t){for(var e,n=0;n<t.length&&!(e=t[n++]););if(e){var i=[];return P(e,function(t,e){i.push(e)}),i}}(t),s=!0):e===lv?r||(r=[],s=!0,P(t,function(t,e){r.push(e)})):e===ov&&(t=en(t[0]),o=T(t)&&t.length||1);return s&&P(r,function(t,e){"name"===(E(t)?t.name:t)&&(l=e)}),{startIndex:a,dimensionsDefine:mr(r),dimensionsDetectCount:o,potentialNameDimIndex:l}}(i,r,a,s,l),n=n.encode;!n&&u&&(n=function(t,e,n,i,r,o){var a=dr(t),s={},l=[],u=[],c=t.subType,h=Y(["pie","map","funnel"]),d=Y(["line","bar","pictorialBar","scatter","effectScatter","candlestick","boxplot"]);if(a&&null!=d.get(c)){var t=t.ecModel,t=hv(t).datasetMap,e=e.uid+"_"+r,f=t.get(e)||t.set(e,{categoryWayDim:1,valueWayDim:0});P(a.coordSysDims,function(t){var e;null==a.firstCategoryDimIndex?(e=f.valueWayDim++,s[t]=e,u.push(e)):a.categoryAxisMap.get(t)?(s[t]=0,l.push(0)):(e=f.categoryWayDim++,s[t]=e,u.push(e))})}else if(null!=h.get(c)){for(var p,g=0;g<5&&null==p;g++)vr(n,i,r,o.dimensionsDefine,o.startIndex,g)||(p=g);null!=p&&(s.value=p,c=o.potentialNameDimIndex||Math.max(p-1,0),u.push(c),l.push(c))}return l.length&&(s.itemName=l),u.length&&(s.seriesName=u),s}(t,u,i,r,a,l)),hv(t).source=new pr({data:i,fromDataset:o,seriesLayoutBy:a,sourceFormat:r,dimensionsDefine:l.dimensionsDefine,startIndex:l.startIndex,dimensionsDetectCount:l.dimensionsDetectCount,encodeDefine:n})}function mr(t){if(t){var i=Y();return I(t,function(t,e){if(null==(t=S({},E(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var n=i.get(t.name);return n?t.name+="-"+n.count++:i.set(t.name,{count:1}),t})}}function yr(t,e,n,i){if(null==i&&(i=1/0),e===cv)for(o=0;o<n.length&&o<i;o++)t(n[o]?n[o][0]:null,o);else for(var r=n[0]||[],o=0;o<r.length&&o<i;o++)t(r[o],o)}function vr(t,e,n,i,r,o){function a(t){return(null==t||!isFinite(t)||""===t)&&(!(!L(t)||"-"===t)||void 0)}var s,l;if(x(t))return!1;if(i&&(l=E(l=i[o])?l.name:l),e===av)if(n===cv){for(var u=t[o],c=0;c<(u||[]).length&&c<5;c++)if(null!=(s=a(u[r+c])))return s}else for(c=0;c<t.length&&c<5;c++){var h=t[r+c];if(h&&null!=(s=a(h[o])))return s}else if(e===sv){if(!l)return;for(c=0;c<t.length&&c<5;c++)if((d=t[c])&&null!=(s=a(d[l])))return s}else if(e===lv){if(!l)return;if(!(u=t[l])||x(u))return!1;for(c=0;c<u.length&&c<5;c++)if(null!=(s=a(u[c])))return s}else if(e===ov)for(c=0;c<t.length&&c<5;c++){var d=t[c],f=en(d);if(!T(f))return!1;if(null!=(s=a(f[o])))return s}return!1}function xr(t){var n,e,i;this.option={},this.option[dv]=1,this._componentsMap=Y({series:[]}),this._seriesIndices,this._seriesIndicesMap,n=t,e=this._theme.option,i=n.color&&!n.colorLayer,P(e,function(t,e){"colorLayer"===e&&i||Qy.hasClass(e)||("object"==typeof t?n[e]=n[e]?g(n[e],t,!1):C(t):null==n[e]&&(n[e]=t))}),g(t,ev,!1),this.mergeOption(t)}function _r(t,e){t._seriesIndicesMap=Y(t._seriesIndices=I(e,function(t){return t.componentIndex})||[])}function br(t,e){return e.hasOwnProperty("subType")?b(t,function(t){return t.subType===e.subType}):t}function wr(e){P(pv,function(t){this[t]=v(e[t],e)},this)}function Mr(){this._coordinateSystems=[]}function Ar(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Ir(t,e,n){var i={width:e,height:n,aspectratio:e/n},r=!0;return P(t,function(t,e){var n=e.match(_v);n&&n[1]&&n[2]&&(e=n[1],n=n[2].toLowerCase(),n=i[n],t=t,("min"===(e=e)?t<=n:"max"===e?n<=t:n===t)||(r=!1))}),r}function Cr(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=Av.length;n<i;n++){var r=Av[n],o=e.normal,a=e.emphasis;o&&o[r]&&(t[r]=t[r]||{},t[r].normal?g(t[r].normal,o[r]):t[r].normal=o[r],o[r]=null),a&&a[r]&&(t[r]=t[r]||{},t[r].emphasis?g(t[r].emphasis,a[r]):t[r].emphasis=a[r],a[r]=null)}}function Sr(t,e,n){var i,r;t&&t[e]&&(t[e].normal||t[e].emphasis)&&(i=t[e].normal,r=t[e].emphasis,i&&(n?(t[e].normal=t[e].emphasis=null,D(t[e],i)):t[e]=i),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r))}function Tr(t){Sr(t,"itemStyle"),Sr(t,"lineStyle"),Sr(t,"areaStyle"),Sr(t,"label"),Sr(t,"labelLine"),Sr(t,"upperLabel"),Sr(t,"edgeLabel")}function Dr(t,e){var n=Mv(t)&&t[e],i=Mv(n)&&n.textStyle;if(i)for(var r=0,o=qm.length;r<o;r++){e=qm[r];i.hasOwnProperty(e)&&(n[e]=i[e])}}function Nr(t){t&&(Tr(t),Dr(t,"label"),t.emphasis&&Dr(t.emphasis,"label"))}function Lr(t){return T(t)?t:t?[t]:[]}function kr(t){return(T(t)?t[0]:t)||{}}function Er(e){P(Cv,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}function Or(g){P(g,function(u,c){var h=[],d=[NaN,NaN],t=[u.stackResultDimension,u.stackedOverDimension],f=u.data,p=u.isStackedByIndex,t=f.map(t,function(t,e,n){var i,r,o=f.get(u.stackedDimension,n);if(isNaN(o))return d;p?r=f.getRawIndex(n):i=f.get(u.stackedByDimension,n);for(var a=NaN,s=c-1;0<=s;s--){var l=g[s];if(0<=(r=!p?l.data.rawIndexOf(l.stackedByDimension,i):r)){l=l.data.getByRawIndex(l.stackResultDimension,r);if(0<=o&&0<l||o<=0&&l<0){o+=l,a=l;break}}}return h[0]=o,h[1]=a,h});f.hostModel.setData(t),u.data=t})}function Pr(t,e){pr.isInstance(t)||(t=pr.seriesDataToSource(t)),this._source=t;var n=this._data=t.data,i=t.sourceFormat;i===uv&&(this._offset=0,this._dimSize=e,this._data=n),S(this,Tv[i===av?i+"_"+t.seriesLayoutBy:i])}function zr(){return this._data.length}function jr(t){return this._data[t]}function Yr(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function Rr(t,e,n,i){return null!=n?t[n]:t}function Br(t,e,n,i){return Fr(t[i],this._dimensionInfos[e])}function Fr(t,e){var n=e&&e.type;if("ordinal"!==n)return null==(t="time"===n&&"number"!=typeof t&&null!=t&&"-"!==t?+Ui(t):t)||""===t?NaN:+t;e=e&&e.ordinalMeta;return e?e.parseAndCollect(t):t}function Hr(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var r,o,a=t.getProvider().getSource().sourceFormat,n=t.getDimensionInfo(n);return n&&(r=n.name,o=n.index),Dv[a](i,e,o,r)}}}function Wr(t,e,n){if(t){var i=t.getProvider().getSource().sourceFormat;if(i===ov||i===sv){e=t.getRawDataItem(e);return(e=i===ov&&!E(e)?null:e)?e[n]:void 0}}}function Gr(t){return new Ur(t)}function Ur(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function Zr(t,e,n,i,r,o){Yv.reset(n,i,r,o),t._callingProgress=e,t._callingProgress({start:n,end:i,count:i-n,next:Yv.next},t.context)}function Vr(t){var e,n,i=t.name;on(t)||(t.name=(e=t.getRawData(),n=[],P(e.mapDimension("seriesName",!0),function(t){t=e.getDimensionInfo(t);t.displayName&&n.push(t.displayName)}),n.join(" ")||i))}function Xr(t){return t.model.getRawData().count()}function qr(t){t=t.model;return t.setData(t.getRawData().cloneShallow()),Jr}function Jr(t,e){t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function $r(e,n){P(e.CHANGABLE_METHODS,function(t){e.wrapMethod(t,N(Qr,n))})}function Qr(t){t=Kr(t);t&&t.setOutputEnd(this.count())}function Kr(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){e=n.currentTask;return!e||(n=e.agentStubMap)&&(e=n.get(t.uid)),e}}function to(){this.group=new tm,this.uid=Oi("viewChart"),this.renderTask=Gr({plan:io,reset:ro}),this.renderTask.context={view:this}}function eo(t,e){if(t&&(t.trigger(e),"group"===t.type))for(var n=0;n<t.childCount();n++)eo(t.childAt(n),e)}function no(e,t,n){t=sn(e,t);null!=t?P(Ke(t),function(t){eo(e.getItemGraphicEl(t),n)}):e.eachItemGraphicEl(function(t){eo(t,n)})}function io(t){return Zv(t.model)}function ro(t){var e=t.model,n=t.ecModel,i=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,t=r&&Uv(r).updateMethod,t=o?"incrementalPrepareRender":t&&a[t]?t:"render";return"render"!==t&&a[t](e,n,i,r),Vv[t]}function oo(t,n,i){function r(){h=(new Date).getTime(),d=null,t.apply(s,l||[])}var o,a,s,l,u,c=0,h=0,d=null;n=n||0;function e(){o=(new Date).getTime(),s=this,l=arguments;var t=u||n,e=u||i;u=null,a=o-(e?c:h)-t,clearTimeout(d),e?d=setTimeout(r,t):0<=a?r():d=setTimeout(r,-a),c=o}return e.clear=function(){d&&(clearTimeout(d),d=null)},e.debounceNextCall=function(t){u=t},e}function ao(t,e,n,i){var r=t[e];if(r){var o=r[Xv]||r,a=r[Jv];if(r[qv]!==n||a!==i){if(null==n||!i)return t[e]=o;(r=t[e]=oo(o,n,"debounce"===i))[Xv]=o,r[Jv]=i,r[qv]=n}return r}}function so(t,e){var n=t[e];n&&n[Xv]&&(t[e]=n[Xv])}function lo(t,e,n,i){this.ecInstance=t,this.api=e,this.unfinished;n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice();this._allHandlers=n.concat(i),this._stageTaskMap=Y()}function uo(s,t,l,u,c){function h(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}var d;c=c||{},P(t,function(i,t){var e,n,r,o,a;c.visualType&&c.visualType!==i.visualType||(e=(o=s._stageTaskMap.get(i.uid)).seriesTaskMap,(n=o.overallTask)?((o=n.agentStubMap).each(function(t){h(c,t)&&(t.dirty(),r=!0)}),r&&n.dirty(),Kv(n,u),a=s.getPerformArgs(n,c.block),o.each(function(t){t.perform(a)}),d|=n.perform(a)):e&&e.each(function(t,e){h(c,t)&&t.dirty();var n=s.getPerformArgs(t,c.block);n.skip=!i.performRawSeries&&l.isSeriesFiltered(t.context.model),Kv(t,u),d|=t.perform(n)}))}),s.unfinished|=d}function co(t){t.overallReset(t.ecModel,t.api,t.payload)}function ho(t,e){return t.overallProgress&&fo}function fo(){this.agent.dirty(),this.getDownstream().dirty()}function po(){this.agent&&this.agent.dirty()}function go(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function mo(t){t.useClearVisual&&t.data.clearAllVisual();t=t.resetDefines=Ke(t.reset(t.model,t.ecModel,t.api,t.payload));return 1<t.length?I(t,function(t,e){return yo(e)}):t1}function yo(o){return function(t,e){var n=e.data,i=e.resetDefines[o];if(i&&i.dataEach)for(var r=t.start;r<t.end;r++)i.dataEach(n,r);else i&&i.progress&&i.progress(t,n)}}function vo(t){return t.data.count()}function xo(t,e,n){e=e.uid,e=t._pipelineMap.get(e);e.head||(e.head=n),e.tail&&e.tail.pipe(n),(e.tail=n).__idxInPipeline=e.count++,n.__pipeline=e}function _o(t,e){for(var n in e.prototype)t[n]=A}function bo(t){for(9===(t=L(t)?(new DOMParser).parseFromString(t,"text/xml"):t).nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function wo(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function Mo(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),D(e.__inheritedStyle,t.__inheritedStyle))}function Ao(t){for(var e=c(t).split(o1),n=[],i=0;i<e.length;i+=2){var r=parseFloat(e[i]),o=parseFloat(e[i+1]);n.push([r,o])}return n}function Io(t,e,n,i){var r,o=e.__inheritedStyle||{},a="text"===e.type;if(1===t.nodeType&&(function(t,e){t=t.getAttribute("transform");if(t){var n=null,i=[];(t=t.replace(/,/g," ")).replace(c1,function(t,e,n){i.push(e,n)});for(var r=i.length-1;0<r;r-=2){var o=i[r],a=i[r-1];switch(n=n||dt(),a){case"translate":o=c(o).split(o1),mt(n,n,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=c(o).split(o1),vt(n,n,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=c(o).split(o1),yt(n,n,parseFloat(o[0]));break;case"skew":o=c(o).split(o1),console.warn("Skew transform is not supported yet");break;case"matrix":o=c(o).split(o1),n[0]=parseFloat(o[0]),n[1]=parseFloat(o[1]),n[2]=parseFloat(o[2]),n[3]=parseFloat(o[3]),n[4]=parseFloat(o[4]),n[5]=parseFloat(o[5])}}}e.setLocalTransform(n)}(t,e),S(o,function(t){var e=t.getAttribute("style"),n={};if(!e)return n;var i,r,o={};for(h1.lastIndex=0;null!=(i=h1.exec(e));)o[i[1]]=i[2];for(r in l1)l1.hasOwnProperty(r)&&null!=o[r]&&(n[l1[r]]=o[r]);return n}(t)),!i))for(var s in l1)!l1.hasOwnProperty(s)||null!=(r=t.getAttribute(s))&&(o[l1[s]]=r);var l=a?"textFill":"fill",i=a?"textStroke":"stroke";e.style=e.style||new sm;var u=e.style;null!=o.fill&&u.set(l,Co(o.fill,n)),null!=o.stroke&&u.set(i,Co(o.stroke,n)),P(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(t){null!=o[t]&&u.set("lineWidth"===t&&a?"textStrokeWidth":t,parseFloat(o[t]))}),o.textBaseline&&"auto"!==o.textBaseline||(o.textBaseline="alphabetic"),"alphabetic"===o.textBaseline&&(o.textBaseline="bottom"),"start"===o.textAlign&&(o.textAlign="left"),"end"===o.textAlign&&(o.textAlign="right"),P(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],function(t){null!=o[t]&&u.set(t,o[t])}),o.lineDash&&(e.style.lineDash=c(o.lineDash).split(o1)),u[i]&&"none"!==u[i]&&(e[i]=!0),e.__inheritedStyle=o}function Co(t,e){var n=e&&t&&t.match(u1);return n?e[c(n[1])]:t}function So(t,e,n){var i=e/t.width,r=n/t.height,r=Math.min(i,r);return{scale:[r,r],position:[-(t.x+t.width/2)*r+e/2,-(t.y+t.height/2)*r+n/2]}}function To(i){return function(t,e,n){t=t&&t.toLowerCase(),gg.prototype[i].call(this,t,e,n)}}function Do(){gg.call(this)}function No(t,e,n){function i(t,e){return t.__prio-e.__prio}n=n||{},"string"==typeof e&&(e=k1[e]),this.id,this.group,this._dom=t;n=this._zr=$e(t,{renderer:n.renderer||"canvas",devicePixelRatio:n.devicePixelRatio,width:n.width,height:n.height});this._throttledZrFlush=oo(v(n.flush,n),17),(e=C(e))&&bv(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Mr;var r,o,a,e=this._api=(e=(r=this)._coordSysMgr,S(new wr(r),{getCoordinateSystems:v(e.getCoordinateSystems,e),getComponentByElement:function(t){for(;t;){var e=t.__ecComponentInfo;if(null!=e)return r._model.getComponent(e.mainType,e.index);t=t.parent}}}));oe(L1,i),oe(T1,i),this._scheduler=new lo(this,e,T1,L1),gg.call(this,this._ecEventProcessor=new Go),this._messageCenter=new Do,this._initEvents(),this.resize=v(this.resize,this),this._pendingActions=[],n.animation.on("frame",this._onframe,this),a=this,(o=n).on("rendered",function(){a.trigger("rendered"),!o.animation.isFinished()||a[w1]||a._scheduler.unfinished||a._pendingActions.length||a.trigger("finished")}),h(this)}function Lo(t,e,n){var i,r=this._model,o=this._coordSysMgr.getCoordinateSystems();e=un(r,e);for(var a=0;a<o.length;a++){var s=o[a];if(s[t]&&null!=(i=s[t](r,e,n)))return i}}function ko(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),Yo(t,"component",e,n),Yo(t,"chart",e,n),n.plan()}function Eo(e,n,i,r,t){function o(t){t&&t.__alive&&t[n]&&t[n](t.__model,l,e._api,i)}var a,s,l=e._model;r?((a={})[r+"Id"]=i[r+"Id"],a[r+"Index"]=i[r+"Index"],a[r+"Name"]=i[r+"Name"],a={mainType:r,query:a},t&&(a.subType=t),null!=(s=i.excludeSeriesId)&&(s=Y(Ke(s))),l&&l.eachComponent(a,function(t){s&&null!=s.get(t.id)||o(e["series"===r?"_chartsMap":"_componentsMap"][t.__viewId])},e)):y1(e._componentsViews.concat(e._chartsViews),o)}function Oo(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries(function(t){i.updateStreamModes(t,n[t.__viewId])})}function Po(e,t){var n=e.type,i=e.escapeConnect,r=C1[n],o=r.actionInfo,a=(s=(o.update||"update").split(":")).pop(),s=null!=s[0]&&_1(s[0]);this[b1]=!0;var l=[e],u=!1;e.batch&&(u=!0,l=I(e.batch,function(t){return(t=D(S({},t),e)).batch=null,t}));var c,h=[],d="highlight"===n||"downplay"===n;y1(l,function(t){(c=(c=r.action(t,this._model,this._api))||S({},t)).type=o.event||c.type,h.push(c),d?Eo(this,a,t,"series"):s&&Eo(this,a,t,s.main,s.sub)},this),"none"===a||d||s||(this[w1]?(ko(this),A1.update.call(this,e),this[w1]=!1):A1[a].call(this,e)),c=u?{type:o.event||n,escapeConnect:i,batch:h}:h[0],this[b1]=!1,t||this._messageCenter.trigger(c.type,c)}function zo(t){for(var e=this._pendingActions;e.length;){var n=e.shift();Po.call(this,n,t)}}function jo(t){t||this.trigger("updated")}function Yo(t,e,r,o){function n(t){var e,n="_ec_"+t.id+"_"+t.type,i=l[n];i||(e=_1(t.type),(i=new(a?Wv.getClass(e.main,e.sub):to.getClass(e.sub))).init(r,c),l[n]=i,s.push(i),u.add(i.group)),t.__viewId=i.__id=n,i.__alive=!0,i.__model=t,i.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},a||o.prepareView(i,t,r,c)}for(var a="component"===e,s=a?t._componentsViews:t._chartsViews,l=a?t._componentsMap:t._chartsMap,u=t._zr,c=t._api,i=0;i<s.length;i++)s[i].__alive=!1;for(a?r.eachComponent(function(t,e){"series"!==t&&n(e)}):r.eachSeries(n),i=0;i<s.length;){var h=s[i];h.__alive?i++:(a||h.renderTask.dispose(),u.remove(h.group),h.dispose(r,c),s.splice(i,1),delete l[h.__id],h.__id=h.group.__ecComponentInfo=null)}}function Ro(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function Bo(t,e,n,i){var r,o,a,s,l;r=t,o=e,a=n,s=i,y1(l||r._componentsViews,function(t){var e=t.__model;t.render(e,o,a,s),Wo(e,t)}),y1(t._chartsViews,function(t){t.__alive=!1}),Fo(t,e,0,i),y1(t._chartsViews,function(t){t.__alive||t.remove(e,n)})}function Fo(r,t,e,o,a){var s,n,i,l,u=r._scheduler;t.eachSeries(function(t){var e=r._chartsMap[t.__viewId];e.__alive=!0;var n,i=e.renderTask;u.updatePayload(i,o),a&&a.get(t.uid)&&i.dirty(),s|=i.perform(u.getPerformArgs(i)),e.group.silent=!!t.get("silent"),Wo(t,e),e=e,n=t.get("blendMode")||null,e.group.traverse(function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",n)})})}),u.unfinished|=s,n=r._zr,i=t,n=n.storage,l=0,n.traverse(function(t){t.isGroup||l++}),l>i.get("hoverLayerThreshold")&&!Jp.node&&n.traverse(function(t){t.isGroup||(t.useHoverLayer=!0)}),function(t,e){function c(t,e){if("string"!=typeof t)return t;var n=t;return P(e,function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),n}function h(t){var e=o.get(t);if(null==e){for(var n=t.split("."),i=$v.aria,r=0;r<n.length;++r)i=i[n[r]];return i}return e}function d(t){return $v.series.typeNames[t]||""}var o=e.getModel("aria");if(o.get("show"))if(o.get("description"))t.setAttribute("aria-label",o.get("description"));else{var f=0;e.eachSeries(function(t,e){++f},this);var n,p=o.get("data.maxCount")||10,i=o.get("series.maxCount")||10,g=Math.min(f,i);if(!(f<1)){var r=function(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}();n=r?c(h("general.withTitle"),{title:r}):h("general.withoutTitle");var m=[];n+=c(h(f>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:f}),e.eachSeries(function(t,e){if(e<g){var n,i=t.get("name"),r="series."+(f>1?"multiple":"single")+".";n=c(n=h(i?r+"withName":r+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:d(t.subType)});var o=t.getData();window.data=o,o.count()>p?n+=c(h("data.partialData"),{displayCnt:p}):n+=h("data.allData");for(var a=[],s=0;s<o.count();s++)if(s<p){var l=o.getName(s),u=Hr(o,s);a.push(c(h(l?"data.withName":"data.withoutName"),{name:l,value:u}))}n+=a.join(h("data.separator.middle"))+h("data.separator.end"),m.push(n)}}),n+=m.join(h("series.multiple.separator.middle"))+h("series.multiple.separator.end"),t.setAttribute("aria-label",n)}}}(r._zr.dom,t)}function Ho(e,n){y1(N1,function(t){t(e,n)})}function Wo(t,e){var n=t.get("z"),i=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=i&&(t.zlevel=i))})}function Go(){this.eventInfo}function Uo(t){P1[t]=!1}function Zo(t){return O1[e=Y1,(t=t).getAttribute?t.getAttribute(e):t[e]];var e}function Vo(t,e){k1[t]=e}function Xo(t){D1.push(t)}function qo(t,e){ta(T1,t,e,1e3)}function Jo(t,e,n){"function"==typeof e&&(n=e,e="");var i=x1(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,m1(M1.test(i)&&M1.test(e)),C1[i]||(C1[i]={action:n,actionInfo:t}),S1[e]=i}function $o(t,e){Mr.register(t,e)}function Qo(t,e){ta(L1,t,e,1e3,"layout")}function Ko(t,e){ta(L1,t,e,3e3,"visual")}function ta(t,e,n,i,r){(v1(e)||x1(e))&&(n=e,e=i);r=lo.wrapStageHandler(n,r);return r.__prio=e,r.__raw=n,t.push(r),r}function ea(t,e){E1[t]=e}function na(t){return Qy.extend(t)}function ia(t){return Wv.extend(t)}function ra(t){return Hv.extend(t)}function oa(t){return to.extend(t)}function aa(t){return t}function sa(t,e,n,i,r){this._old=t,this._new=e,this._oldKeyGetter=n||aa,this._newKeyGetter=i||aa,this.context=r}function la(t,e,n,i,r){for(var o=0;o<t.length;o++){var a="_ec_"+r[i](t[o],o),s=e[a];null==s?(n.push(a),e[a]=o):(s.length||(e[a]=s=[s]),s.push(o))}}function ua(r){var t={},o=t.encode={},a=Y(),s=[],l=[];P(r.dimensions,function(t){var e,i=r.getDimensionInfo(t),n=i.coordDim;n&&(e=o[n],(e=!o.hasOwnProperty(n)?o[n]=[]:e)[i.coordDimIndex]=t,i.isExtraCoord||(a.set(n,1),"ordinal"===(n=i.type)||"time"===n||(s[0]=t)),i.defaultTooltip&&l.push(t)),B1.each(function(t,e){var n=o[e];o.hasOwnProperty(e)||(n=o[e]=[]);e=i.otherDims[e];null!=e&&!1!==e&&(n[e]=i.name)})});var i=[],u={};a.each(function(t,e){var n=o[e];u[e]=n[0],i=i.concat(n)}),t.dataDimsOnCoord=i,t.encodeFirstDimNotExtra=u;var e=o.label;e&&e.length&&(s=e.slice());e=o.tooltip;return e&&e.length?l=e.slice():l.length||(l=s.slice()),o.defaultedLabel=s,o.defaultedTooltip=l,t}function ca(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function ha(t){return 65535<t._rawCount?W1:G1}function da(e,n){P(U1.concat(n.__wrappedMethods||[]),function(t){n.hasOwnProperty(t)&&(e[t]=n[t])}),e.__wrappedMethods=n.__wrappedMethods,P(Z1,function(t){e[t]=C(n[t])}),e._calculationInfo=S(n._calculationInfo)}function fa(t,e,n){var i,r,o;return null!=e&&(i=t._chunkSize,r=Math.floor(n/i),e=t.dimensions[e],(r=t._storage[e][r])&&(o=r[n%i],(e=t._dimensionInfos[e].ordinalMeta)&&e.categories.length&&(o=e.categories[o]))),o}function pa(t){return t}function ga(t){return t<this._count&&0<=t?this._indices[t]:-1}function ma(t,e){var n=t._idList[e];return n=null==(n=null==n?fa(t,t._idDimIdx,e):n)?"e\0\0"+e:n}function ya(t){return t=!T(t)?[t]:t}function va(t,e){var n=t.dimensions,i=new R1(I(n,t.getDimensionInfo,t),t.hostModel);da(i,t);for(var r=i._storage={},o=t._storage,a=0;a<n.length;a++){var s=n[a];o[s]&&(0<=p(e,s)?(r[s]=function(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=function(t){var e=t.constructor;return e===Array?t.slice():new e(t)}(t[n]);return e}(o[s]),i._rawExtent[s]=[1/0,-1/0],i._extent[s]=null):r[s]=o[s])}return i}function xa(t,e,n){function l(t,e,n){null!=B1.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,h.set(e,!0))}pr.isInstance(e)||(e=pr.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var i,r,o,a,s=(n.dimsDef||[]).slice(),u=Y(n.encodeDef),c=Y(),h=Y(),d=[],f=(i=e,r=t,o=n.dimCount,a=Math.max(i.dimensionsDetectCount||1,r.length,s.length,o||0),P(r,function(t){t=t.dimsDef;t&&(a=Math.max(a,t.length))}),a),p=0;p<f;p++){var g=s[p]=S({},E(s[p])?s[p]:{name:s[p]}),m=g.name,y=d[p]={otherDims:{}};null!=m&&null==c.get(m)&&(y.name=y.displayName=m,c.set(m,p)),null!=g.type&&(y.type=g.type),null!=g.displayName&&(y.displayName=g.displayName)}u.each(function(t,n){var i;1===(t=Ke(t).slice()).length&&t[0]<0?u.set(n,!1):(i=u.set(n,[]),P(t,function(t,e){null!=(t=L(t)?c.get(t):t)&&t<f&&(i[e]=t,l(d[t],n,e))}))});var v=0;P(t,function(n,t){var i,r,o,e;L(n)?(o=n,n={}):(o=n.name,e=n.ordinalMeta,n.ordinalMeta=null,(n=C(n)).ordinalMeta=e,i=n.dimsDef,r=n.otherDims,n.name=n.coordDim=n.coordDimIndex=n.dimsDef=n.otherDims=null);var a=u.get(o);if(!1!==a){if(!(a=Ke(a)).length)for(var s=0;s<(i&&i.length||1);s++){for(;v<d.length&&null!=d[v].coordDim;)v++;v<d.length&&a.push(v++)}P(a,function(t,e){t=d[t];l(D(t,n),o,e),null==t.name&&i&&(E(e=i[e])||(e={name:e}),t.name=t.displayName=e.name,t.defaultTooltip=e.defaultTooltip),r&&D(t.otherDims,r)})}});for(var x,_,b=n.generateCoord,w=null!=(M=n.generateCoordCount),M=b?M||1:0,A=b||"value",I=0;I<f;I++)null==(y=d[I]=d[I]||{}).coordDim&&(y.coordDim=_a(A,h,w),y.coordDimIndex=0,(!b||M<=0)&&(y.isExtraCoord=!0),M--),null==y.name&&(y.name=_a(y.coordDim,c)),null==y.type&&(x=e,_=I,y.name,vr(x.data,x.sourceFormat,x.seriesLayoutBy,x.dimensionsDefine,x.startIndex,_))&&(y.type="ordinal");return d}function _a(t,e,n){if(n||null!=e.get(t)){for(var i=0;null!=e.get(t+i);)i++;t+=i}return e.set(t,!0),t}function ba(t,n,e){var i,r,o,a,s,l,u=(e=e||{}).byIndex,c=e.stackedCoordDimension,h=!(!t||!t.get("stack"));return P(n,function(t,e){L(t)&&(n[e]=t={name:t}),h&&!t.isExtraCoord&&(u||i||!t.ordinalMeta||(i=t),r||"ordinal"===t.type||"time"===t.type||c&&c!==t.coordDim||(r=t))}),!r||u||i||(u=!0),r&&(o="__\0ecstackresult",a="__\0ecstackedover",i&&(i.createInvertedIndices=!0),s=r.coordDim,t=r.type,l=0,P(n,function(t){t.coordDim===s&&l++}),n.push({name:o,coordDim:s,coordDimIndex:l,type:t,isExtraCoord:!0,isCalculationCoord:!0}),l++,n.push({name:a,coordDim:a,coordDimIndex:l,type:t,isExtraCoord:!0,isCalculationCoord:!0})),{stackedDimension:r&&r.name,stackedByDimension:i&&i.name,isStackedByIndex:u,stackedOverDimension:a,stackResultDimension:o}}function wa(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function Ma(t,e){return wa(t,e)?t.getCalculationInfo("stackResultDimension"):e}function Aa(t,e,n){n=n||{},pr.isInstance(t)||(t=pr.seriesDataToSource(t));var r,i,o=e.get("coordinateSystem"),o=Mr.get(o),a=dr(e),s=(s=a?I(a.coordSysDims,function(t){var e={name:t},t=a.axisMap.get(t);return t&&(t=t.get("type"),e.type=ca(t)),e}):s)||(o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),s=X1(t,{coordDimensions:s,generateCoord:n.generateCoord});a&&P(s,function(t,e){var n=t.coordDim,n=a.categoryAxisMap.get(n);n&&(null==r&&(r=e),t.ordinalMeta=n.getOrdinalMeta()),null!=t.otherDims.itemName&&(i=!0)}),i||null==r||(s[r].otherDims.itemName=0);n=ba(e,s),e=new R1(s,e);e.setCalculationInfo(n);n=null!=r&&function(t){if(t.sourceFormat===ov){t=function(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=t&&!T(en(t))}}(t)?function(t,e,n,i){return i===r?n:this.defaultDimValueGetter(t,e,n,i)}:null;return e.hasItemOption=!1,e.initData(t,null,n),e}function Ia(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function Ca(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function Sa(t){return t._map||(t._map=Y(t.categories))}function Ta(t){return E(t)&&null!=t.value?t.value:t+""}function Da(t){return Bi(t)+2}function Na(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function La(t,e){isFinite(t[0])||(t[0]=e[0]),isFinite(t[1])||(t[1]=e[1]),Na(t,0,e),Na(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function ka(t){return t.get("stack")||tx+t.seriesIndex}function Ea(t){return t.dim+t.index}function Oa(t,e){var n=[];return e.eachSeriesByType(t,function(t){Ra(t)&&!Ba(t)&&n.push(t)}),n}function Pa(t){var s=[];return P(t,function(t){var e=t.getData(),n=t.coordinateSystem.getBaseAxis(),i=n.getExtent(),r="category"===n.type?n.getBandWidth():Math.abs(i[1]-i[0])/e.count(),o=zi(t.get("barWidth"),r),a=zi(t.get("barMaxWidth"),r),i=t.get("barGap"),e=t.get("barCategoryGap");s.push({bandWidth:r,barWidth:o,barMaxWidth:a,barGap:i,barCategoryGap:e,axisKey:Ea(n),stackId:ka(t)})}),za(s)}function za(t){var a={};P(t,function(t,e){var n=t.axisKey,i=t.bandWidth,r=a[n]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},o=r.stacks;a[n]=r;i=t.stackId;o[i]||r.autoWidthCount++,o[i]=o[i]||{width:0,maxWidth:0};n=t.barWidth;n&&!o[i].width&&(o[i].width=n,n=Math.min(r.remainedWidth,n),r.remainedWidth-=n);n=t.barMaxWidth;n&&(o[i].maxWidth=n);n=t.barGap;null!=n&&(r.gap=n);t=t.barCategoryGap;null!=t&&(r.categoryGap=t)});var h={};return P(a,function(t,n){h[n]={};var e=t.stacks,i=t.bandWidth,i=zi(t.categoryGap,i),r=zi(t.gap,1),o=t.remainedWidth,a=t.autoWidthCount,s=(o-i)/(a+(a-1)*r),s=Math.max(s,0);P(e,function(t,e){var n=t.maxWidth;n&&n<s&&(n=Math.min(n,o),t.width&&(n=Math.min(n,t.width)),o-=n,t.width=n,a--)}),s=(o-i)/(a+(a-1)*r),s=Math.max(s,0);var l,u=0;P(e,function(t,e){t.width||(t.width=s),u+=(l=t).width*(1+r)}),l&&(u-=l.width*r);var c=-u/2;P(e,function(t,e){h[n][e]=h[n][e]||{offset:c,width:t.width},c+=t.width*(1+r)})}),h}function ja(t,e,n){if(t&&e){e=t[Ea(e)];return e=null!=e&&null!=n?e[ka(n)]:e}}function Ya(t,e){var e=Oa(t,e),I=Pa(e),C={};P(e,function(t){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),r=ka(t),o=I[Ea(i)][r],a=o.offset,s=o.width,o=n.getOtherAxis(i),l=t.get("barMinHeight")||0;C[r]=C[r]||[],e.setLayout({offset:a,size:s});for(var u=e.mapDimension(o.dim),c=e.mapDimension(i.dim),h=wa(e,u),d=o.isHorizontal(),f=Fa(0,o),p=0,g=e.count();p<g;p++){var m,y,v,x,_,b,w,M=e.get(u,p),A=e.get(c,p);isNaN(M)||(m=0<=M?"p":"n",y=f,h&&(C[r][A]||(C[r][A]={p:f,n:f}),y=C[r][A][m]),d?(x=y,_=(v=n.dataToPoint([M,A]))[1]+a,b=v[0]-f,w=s,Math.abs(b)<l&&(b=(b<0?-1:1)*l),h&&(C[r][A][m]+=b)):(x=(v=n.dataToPoint([A,M]))[0]+a,_=y,b=s,w=v[1]-f,Math.abs(w)<l&&(w=(w<=0?-1:1)*l),h&&(C[r][A][m]+=w)),e.setItemLayout(p,{x:x,y:_,width:b,height:w}))}},this)}function Ra(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Ba(t){return t.pipelineContext&&t.pipelineContext.large}function Fa(t,e){var n,i=e.getGlobalExtent(),i=i[0]>i[1]?(n=i[1],i[0]):(n=i[0],i[1]),e=e.toGlobalCoord(e.dataToCoord(0));return e=i<(e=e<n?n:e)?i:e}function Ha(t,e){return cx(t,ux(e))}function Wa(t,e){var n,i,r,o=t.type,a=e.getMin(),s=e.getMax(),l=null!=a,u=null!=s,c=t.getExtent();"ordinal"===o?n=e.getCategories().length:((i="boolean"==typeof(i=!T(i=e.get("boundaryGap"))?[i||0,i||0]:i)[0]?[0,0]:i)[0]=zi(i[0],1),i[1]=zi(i[1],1),r=c[1]-c[0]||Math.abs(c[0])),null==a&&(a="ordinal"===o?n?0:NaN:c[0]-i[0]*r),null==s&&(s="ordinal"===o?n?n-1:NaN:c[1]+i[1]*r),"dataMin"===a?a=c[0]:"function"==typeof a&&(a=a({min:c[0],max:c[1]})),"dataMax"===s?s=c[1]:"function"==typeof s&&(s=s({min:c[0],max:c[1]})),null!=a&&isFinite(a)||(a=NaN),null!=s&&isFinite(s)||(s=NaN),t.setBlank(d(a)||d(s)||"ordinal"===o&&!t.getOrdinalMeta().categories.length),!e.getNeedCrossZero()||(a=0<a&&0<s&&!l?0:a)<0&&s<0&&!u&&(s=0);var h,u=e.ecModel;return u&&"time"===o&&(P(u=Oa("bar",u),function(t){h|=t.getBaseAxis()===e.axis}),h&&(u=Pa(u),a=(u=function(t,e,n,i){var r=n.axis.getExtent(),r=r[1]-r[0],i=ja(i,n.axis);if(void 0===i)return{min:t,max:e};var o=1/0;P(i,function(t){o=Math.min(t.offset,o)});var a=-1/0;P(i,function(t){a=Math.max(t.offset+t.width,a)}),o=Math.abs(o),a=Math.abs(a);n=o+a,i=e-t,i=i/(1-(o+a)/r)-i;return{min:t-=o/n*i,max:e+=a/n*i}}(a,s,e,u)).min,s=u.max)),[a,s]}function Ga(t,e){var n=Wa(t,e),i=null!=e.getMin(),r=null!=e.getMax(),o=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var a=t.type;t.setExtent(n[0],n[1]),t.niceExtent({splitNumber:o,fixMin:i,fixMax:r,minInterval:"interval"===a||"time"===a?e.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?e.get("maxInterval"):null});e=e.get("interval");null!=e&&t.setInterval&&t.setInterval(e)}function Ua(t,e){if(e=e||t.get("type"))switch(e){case"category":return new J1(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new K1;default:return(Ia.getClass(e)||K1).create(t)}}function Za(n){var e,i=n.getLabelModel().get("formatter"),r="category"===n.type?n.scale.getExtent()[0]:null;return"string"==typeof i?(e=i,i=function(t){return t=n.scale.getLabel(t),e.replace("{value}",null!=t?t:"")}):"function"==typeof i?function(t,e){return null!=r&&(e=t-r),i(Va(n,t),e)}:function(t){return n.scale.getLabel(t)}}function Va(t,e){return"category"===t.type?t.scale.getLabel(e):e}function Xa(t){var e,n,i,r=t.model,o=t.scale;if(r.get("axisLabel.show")&&!o.isBlank()){var a,s,r="category"===t.type,l=o.getExtent(),u=r?o.count():(a=o.getTicks()).length,c=t.getLabelModel(),h=Za(t),d=1;40<u&&(d=Math.ceil(u/40));for(var f=0;f<u;f+=d){var p=h(a?a[f]:l[0]+f),g=(e=c.getTextRect(p),n=c.get("rotate")||0,g=p=i=g=void 0,g=n*Math.PI/180,i=e.plain(),p=i.width,n=i.height,e=p*Math.cos(g)+n*Math.sin(g),g=p*Math.sin(g)+n*Math.cos(g),new Kt(i.x,i.y,e,g));s?s.union(g):s=g}return s}}function qa(t,e){var n,i;"image"!==this.type&&(n=this.style,(i=this.shape)&&"line"===i.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1))}function Ja(t,e,n,i,r,o,a){var s=0===t.indexOf("empty");return(r=0===(t=s?t.substr(5,1).toLowerCase()+t.substr(6):t).indexOf("image://")?qn(t.slice(8),new Kt(e,n,i,r),a?"center":"cover"):0===t.indexOf("path://")?Xn(t.slice(7),{},new Kt(e,n,i,r),a?"center":"cover"):new xx({shape:{symbolType:t,x:e,y:n,width:i,height:r}})).__isEmptyBrush=s,r.setColor=qa,r.setColor(o),r}function $a(t,e){return Math.abs(t-e)<_x}function Qa(t,e,n){var i=0,r=t[0];if(!r)return!1;for(var o=1;o<t.length;o++){var a=t[o];i+=Pn(r[0],r[1],a[0],a[1],e,n),r=a}var s=t[0];return $a(r[0],s[0])&&$a(r[1],s[1])||(i+=Pn(r[0],r[1],s[0],s[1],e,n)),0!==i}function Ka(t,e,n){this.name=t,this.geometries=e,n=n?[n[0],n[1]]:[(e=this.getBoundingRect()).x+e.width/2,e.y+e.height/2],this.center=n}function ts(t,e,n){for(var i=[],r=e[0],o=e[1],a=0;a<t.length;a+=2){var s=(s=t.charCodeAt(a)-64)>>1^-(1&s),l=(l=t.charCodeAt(a+1)-64)>>1^-(1&l),r=s+=r,o=l+=o;i.push([s/n,l/n])}return i}function es(t){return"category"===t.type?(r=(e=t).getLabelModel(),o=is(e,r),!r.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:o.labelCategoryInterval}:o):(t=(n=t).scale.getTicks(),i=Za(n),{labels:I(t,function(t,e){return{formattedLabel:i(t,e),rawLabel:n.scale.getLabel(t),tickValue:t}})});var n,i,e,r,o}function ns(t,e){return"category"===t.type?function(t,e){var n,i,r=rs(t,"ticks"),o=us(e),a=os(r,o);if(a)return a;e.get("show")&&!t.scale.isBlank()||(n=[]),n=m(o)?ls(t,o,!0):"auto"===o?(e=is(t,t.getLabelModel()),i=e.labelCategoryInterval,I(e.labels,function(t){return t.tickValue})):ss(t,i=o,!0);return as(r,o,{ticks:n,tickCategoryInterval:i})}(t,e):{ticks:t.scale.getTicks()}}function is(t,e){var n,i=rs(t,"labels"),r=us(e),e=os(i,r);return e||as(i,r,{labels:m(r)?ls(t,r):ss(t,n="auto"===r?null!=(t=Ax(n=t).autoInterval)?t:Ax(n).autoInterval=n.calculateCategoryInterval():r),labelCategoryInterval:n})}function rs(t,e){return Ax(t)[e]||(Ax(t)[e]=[])}function os(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function as(t,e,n){return t.push({key:e,value:n}),n}function ss(t,e,n){function i(t){l.push(n?t:{formattedLabel:r(t),rawLabel:o.getLabel(t),tickValue:t})}var r=Za(t),o=t.scale,a=o.getExtent(),s=t.getLabelModel(),l=[],u=Math.max((e||0)+1,1),t=a[0],e=o.count();0!==t&&1<u&&2<e/u&&(t=Math.round(Math.ceil(t/u)*u));e=s.get("showMinLabel"),s=s.get("showMaxLabel");e&&t!==a[0]&&i(a[0]);for(var c=t;c<=a[1];c+=u)i(c);return s&&c!==a[1]&&i(a[1]),l}function ls(t,n,i){var r=t.scale,o=Za(t),a=[];return P(r.getTicks(),function(t){var e=r.getLabel(t);n(t,e)&&a.push(i?t:{formattedLabel:o(t),rawLabel:e,tickValue:t})}),a}function us(t){t=t.get("interval");return null==t?"auto":t}function cs(t,e){e=(t[1]-t[0])/e/2;t[0]+=e,t[1]-=e}function hs(t,e){var n=t.mapDimension("defaultedLabel",!0),i=n.length;if(1===i)return Hr(t,e,n[0]);if(i){for(var r=[],o=0;o<n.length;o++){var a=Hr(t,e,n[o]);r.push(a)}return r.join(" ")}}function ds(t,e,n){tm.call(this),this.updateData(t,e,n)}function fs(t){return[t[0]/2,t[1]/2]}function ps(t,e){this.parent.drift(t,e)}function gs(){si(this)||ys.call(this)}function ms(){si(this)||vs.call(this)}function ys(){var t,e;this.incremental||this.useHoverLayer||(e=(t=this.__symbolOriginalScale)[1]/t[0],this.animateTo({scale:[Math.max(1.1*t[0],t[0]+3),Math.max(1.1*t[1],t[1]+3*e)]},400,"elasticOut"))}function vs(){this.incremental||this.useHoverLayer||this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function xs(t){this.group=new tm,this._symbolCtor=t||ds}function _s(t,e,n,i){return e&&!isNaN(e[0])&&!isNaN(e[1])&&(!i.isIgnore||!i.isIgnore(n))&&(!i.clipShape||i.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(n,"symbol")}function bs(t){return(t=null!=t&&!E(t)?{isIgnore:t}:t)||{}}function ws(t){t=t.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}function Ms(t,e,n){var i,r,o,a,s=t.getBaseAxis(),l=t.getOtherAxis(s),u=(o=n,a=0,r=(r=l).scale.getExtent(),"start"===o?a=r[0]:"end"===o?a=r[1]:0<r[0]?a=r[0]:r[1]<0&&(a=r[1]),a),n=s.dim,o=l.dim,r=e.mapDimension(o),a=e.mapDimension(n),s="x"===o||"radius"===o?1:0,l=I(t.dimensions,function(t){return e.mapDimension(t)}),t=e.getCalculationInfo("stackResultDimension");return(i|=wa(e,l[0]))&&(l[0]=t),(i|=wa(e,l[1]))&&(l[1]=t),{dataDimsForPoint:l,valueStart:u,valueAxisDim:o,baseAxisDim:n,stacked:!!i,valueDim:r,baseDim:a,baseDataOffset:s,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function As(t,e,n,i){var r=NaN;t.stacked&&(r=n.get(n.getCalculationInfo("stackedOverDimension"),i)),isNaN(r)&&(r=t.valueStart);var o=t.baseDataOffset,a=[];return a[o]=n.get(t.baseDim,i),a[1-o]=r,e.dataToPoint(a)}function Is(t){return isNaN(t[0])||isNaN(t[1])}function Cs(t,e,n,i,r,o,a,s,l,u){return("none"!==u&&u?Ss:Ts).apply(this,arguments)}function Ss(t,e,n,i,r,o,a,s,l,u,c){for(var h=0,d=n,f=0;f<i;f++){var p,g,m,y=e[d];if(r<=d||d<0)break;if(Is(y)){if(c){d+=o;continue}break}d===n?t[0<o?"moveTo":"lineTo"](y[0],y[1]):0<l?(p=e[h],m=(y[g="y"===u?1:0]-p[g])*l,zx(Yx,p),Yx[g]=p[g]+m,zx(Rx,y),Rx[g]=y[g]-m,t.bezierCurveTo(Yx[0],Yx[1],Rx[0],Rx[1],y[0],y[1])):t.lineTo(y[0],y[1]),h=d,d+=o}return f}function Ts(t,e,n,i,r,o,a,s,l,u,c){for(var h=0,d=n,f=0;f<i;f++){var p=e[d];if(r<=d||d<0)break;if(Is(p)){if(c){d+=o;continue}break}if(d===n)t[0<o?"moveTo":"lineTo"](p[0],p[1]),zx(Yx,p);else if(0<l){var g=d+o,m=e[g];if(c)for(;m&&Is(e[g]);)m=e[g+=o];var y,v,x=.5,_=e[h];!(m=e[g])||Is(m)?zx(Rx,p):(Is(m)&&!c&&(m=p),U(jx,m,_),_="x"===u||"y"===u?(y="x"===u?0:1,v=Math.abs(p[y]-_[y]),Math.abs(p[y]-m[y])):(v=dg(p,_),dg(p,m)),Px(Rx,p,jx,-l*(1-(x=_/(_+v))))),Ex(Yx,Yx,s),Ox(Yx,Yx,a),Ex(Rx,Rx,s),Ox(Rx,Rx,a),t.bezierCurveTo(Yx[0],Yx[1],Rx[0],Rx[1],p[0],p[1]),Px(Yx,p,jx,l*x)}else t.lineTo(p[0],p[1]);h=d,d+=o}return f}function Ds(t,e){var n=[1/0,1/0],i=[-1/0,-1/0];if(e)for(var r=0;r<t.length;r++){var o=t[r];o[0]<n[0]&&(n[0]=o[0]),o[1]<n[1]&&(n[1]=o[1]),o[0]>i[0]&&(i[0]=o[0]),o[1]>i[1]&&(i[1]=o[1])}return{min:e?n:i,max:e?i:n}}function Ns(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var i=t[n],r=e[n];if(i[0]!==r[0]||i[1]!==r[1])return}return 1}}function Ls(t){return"number"==typeof t?t:t?.5:0}function ks(t){var e,n=t.getGlobalExtent();return t.onBand&&(e=t.getBandWidth()/2-1,t=n[1]>n[0]?1:-1,n[0]+=t*e,n[1]-=t*e),n}function Es(t,e,n,i){return"polar"===t.type?function(t,e,n,i){var r=t.getAngleAxis(),o=t.getRadiusAxis().getExtent().slice();o[0]>o[1]&&o.reverse();var a=r.getExtent(),s=Math.PI/180;return n&&(o[0]-=.5,o[1]+=.5),r=new ly({shape:{cx:ji(t.cx,1),cy:ji(t.cy,1),r0:ji(o[0],1),r:ji(o[1],1),startAngle:-a[0]*s,endAngle:-a[1]*s,clockwise:r.inverse}}),e&&(r.shape.endAngle=-a[0]*s,Ai(r,{shape:{endAngle:-a[1]*s}},i)),r}(t,e,n,i):(o=e,a=n,s=i,e=ks((r=t).getAxis("x")),n=ks(r.getAxis("y")),i=r.getBaseAxis().isHorizontal(),t=Math.min(e[0],e[1]),r=Math.min(n[0],n[1]),e=Math.max(e[0],e[1])-t,n=Math.max(n[0],n[1])-r,a?(t-=.5,e+=.5,r-=.5,n+=.5):(a=s.get("lineStyle.width")||2,a=s.get("clipOverflow")?a/2:Math.max(e,n),i?(r-=a,n+=2*a):(t-=a,e+=2*a)),r=new dy({shape:{x:t,y:r,width:e,height:n}}),o&&(r.shape[i?"width":"height"]=0,Ai(r,{shape:{width:e,height:n}},s)),r);var r,o,a,s}function Os(t,e,n){for(var e=e.getBaseAxis(),i="x"===e.dim||"radius"===e.dim?0:1,r=[],o=0;o<t.length-1;o++){var a=t[o+1],s=t[o];r.push(s);var l=[];switch(n){case"end":l[i]=a[i],l[1-i]=s[1-i],r.push(l);break;case"middle":var u=(s[i]+a[i])/2,c=[];l[i]=c[i]=u,l[1-i]=s[1-i],c[1-i]=a[1-i],r.push(l),r.push(c);break;default:l[i]=s[i],l[1-i]=a[1-i],r.push(l)}}return t[o]&&r.push(t[o]),r}function Ps(t,e,n){var i=t.get("showAllSymbol"),t="auto"===i;if(!i||t){n=n.getAxesByScale("ordinal")[0];if(n&&(!t||!function(t,e){var n=t.getExtent(),i=Math.abs(n[1]-n[0])/t.scale.count();isNaN(i)&&(i=0);for(var r=e.count(),o=Math.max(1,Math.round(r/5)),a=0;a<r;a+=o)if(1.5*ds.getSymbolSize(e,a)[t.isHorizontal()?1:0]>i)return!1;return!0}(n,e))){var r=e.mapDimension(n.dim),o={};return P(n.getViewLabels(),function(t){o[t.tickValue]=1}),function(t){return!o.hasOwnProperty(e.get(r,t))}}}}function zs(t){return this._axes[t]}function js(t){Gx.call(this,t)}function Ys(t,e){return e.type||(e.data?"category":"value")}function Rs(t,e){return t.getCoordSysModel()===e}function Bs(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}function Fs(t,e,n,i){function r(t){return t.dim+"_"+t.index}n.getAxesOnZeroOf=function(){return o?[o]:[]};var o,a=t[e],e=n.model,n=e.get("axisLine.onZero"),e=e.get("axisLine.onZeroAxisIndex");if(n){if(null!=e)Hs(a[e])&&(o=a[e]);else for(var s in a)if(a.hasOwnProperty(s)&&Hs(a[s])&&!i[r(a[s])]){o=a[s];break}o&&(i[r(o)]=!0)}}function Hs(t){return t&&"category"!==t.type&&"time"!==t.type&&(e=(t=(e=t).scale.getExtent())[0],t=t[1],!(0<e&&0<t||e<0&&t<0));var e}function Ws(e){return I(Jx,function(t){return e.getReferringComponents(t)[0]})}function Gs(t){return"cartesian2d"===t.get("coordinateSystem")}function Us(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e}function Zs(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)}function Vs(t){t&&(t.ignore=!0)}function Xs(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(n&&i){var r=ft([]);return yt(r,r,-t.rotation),n.applyTransform(gt([],r,t.getLocalTransform())),i.applyTransform(gt([],r,e.getLocalTransform())),n.intersect(i)}}function qs(t){return"middle"===t||"center"===t}function Js(t,e){var u,c,r,h,d,f,n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return u=n,e=e,r=(c=t).getComponent("tooltip"),h=c.getComponent("axisPointer"),d=h.get("link",!0)||[],f=[],e_(e.getCoordinateSystems(),function(a){function t(t,e,n){var i,r=n.model.getModel("axisPointer",h),o=r.get("show");o&&("auto"!==o||t||Ks(r))&&(null==e&&(e=r.get("triggerTooltip")),i=(r=t?function(t,e,n,i,r,o){var a=e.getModel("axisPointer"),s={};e_(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){s[t]=C(a.get(t))}),s.snap="category"!==t.type&&!!o,"cross"===a.get("type")&&(s.type="line");e=s.label||(s.label={});null==e.show&&(e.show=!1),"cross"===r&&(r=a.get("label.show"),e.show=null==r||r,o||(o=s.lineStyle=a.get("crossStyle"))&&D(e,o.textStyle));return t.model.getModel("axisPointer",new Li(s,n,i))}(n,l,h,c,t,e):r).get("snap"),o=tl(n.model),t=e||i||"category"===n.type,r=u.axesInfo[o]={key:o,axis:n,coordSys:a,axisPointerModel:r,triggerTooltip:e,involveSeries:t,snap:i,useHandle:Ks(r),seriesModels:[]},s[o]=r,u.seriesInvolved|=t,null!=(t=function(t,e){for(var n=e.model,i=e.dim,r=0;r<t.length;r++){var o=t[r]||{};if($s(o[i+"AxisId"],n.id)||$s(o[i+"AxisIndex"],n.componentIndex)||$s(o[i+"AxisName"],n.name))return r}}(d,n))&&((n=f[t]||(f[t]={axesInfo:{}})).axesInfo[o]=r,n.mapper=d[t].mapper,r.linkGroup=n))}var s,l,e,n,i;a.axisPointerEnabled&&(i=tl(a.model),s=u.coordSysAxesInfo[i]={},l=(u.coordSysMap[i]=a).model.getModel("tooltip",r),e_(a.getAxes(),n_(t,!1,null)),a.getTooltipAxes&&r&&l.get("show")&&(e="axis"===l.get("trigger"),n="cross"===l.get("axisPointer.type"),i=a.getTooltipAxes(l.get("axisPointer.axis")),(e||n)&&e_(i.baseAxes,n_(t,!n||"cross",e)),n&&e_(i.otherAxes,n_(t,"cross",!1))))}),n.seriesInvolved&&function(r,t){t.eachSeries(function(n){var i=n.coordinateSystem,t=n.get("tooltip.trigger",!0),e=n.get("tooltip.show",!0);i&&"none"!==t&&!1!==t&&"item"!==t&&!1!==e&&!1!==n.get("axisPointer.show",!0)&&e_(r.coordSysAxesInfo[tl(i.model)],function(t){var e=t.axis;i.getAxis(e.dim)===e&&(t.seriesModels.push(n),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=n.getData().count())})},this)}(n,t),n}function $s(t,e){return"all"===t||T(t)&&0<=p(t,e)||t===e}function Qs(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[tl(t)]}function Ks(t){return!!t.get("handle.show")}function tl(t){return t.type+"||"+t.id}function el(t,e,n,i,r,o){var a,s=i_.getAxisPointerClass(t.axisPointerClass);s&&((a=(a=Qs(a=e))&&a.axisPointerModel)?(t._axisPointer||(t._axisPointer=new s)).render(e,a,i,o):nl(t,i))}function nl(t,e,n){var i=t._axisPointer;i&&i.dispose(e,n),t._axisPointer=null}function il(t,e,n){n=n||{};var i=t.coordinateSystem,r=e.axis,o={},a=r.getAxesOnZeroOf()[0],s=r.position,l=a?"onZero":s,u=r.dim,c=i.getRect(),t=[c.x,c.x+c.width,c.y,c.y+c.height],r={left:0,right:1,top:0,bottom:1,onZero:2},i=e.get("offset")||0,c="x"===u?[t[2]-i,t[3]+i]:[t[0]-i,t[1]+i];a&&(i=a.toGlobalCoord(a.dataToCoord(0)),c[r.onZero]=Math.max(Math.min(i,c[1]),c[0])),o.position=["y"===u?c[r[l]]:t[0],"x"===u?c[r[l]]:t[3]],o.rotation=Math.PI/2*("x"===u?0:1);o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],o.labelOffset=a?c[r[s]]-c[r.onZero]:0,e.get("axisTick.inside")&&(o.tickDirection=-o.tickDirection),O(n.labelInside,e.get("axisLabel.inside"))&&(o.labelDirection=-o.labelDirection);e=e.get("axisLabel.rotate");return o.labelRotate="top"===l?-e:e,o.z2=1,o}function rl(t,e,n,i,r,o){pi(t,e,n.getModel("label"),n.getModel("emphasis.label"),{labelFetcher:r,labelDataIndex:o,defaultText:hs(r.getData(),o),isRectText:!0,autoColor:i}),ol(t),ol(e)}function ol(t,e){"outside"===t.textPosition&&(t.textPosition=e)}function al(t,e,n){n.style.text=null,Mi(n,{shape:{width:0}},e,t,function(){n.parent&&n.parent.remove(n)})}function sl(t,e,n){n.style.text=null,Mi(n,{shape:{r:n.shape.r0}},e,t,function(){n.parent&&n.parent.remove(n)})}function ll(t,e,n,i,r,o,a,s){var l=e.getItemVisual(n,"color"),u=e.getItemVisual(n,"opacity"),c=i.getModel("itemStyle"),e=i.getModel("emphasis.itemStyle").getBarItemStyle();s||t.setShape("r",c.get("barBorderRadius")||0),t.useStyle(D({fill:l,opacity:u},c.getBarItemStyle()));c=i.getShallow("cursor");c&&t.attr("cursor",c);a?r.height:r.width;s||rl(t.style,e,i,l,o,n),di(t,e)}function ul(t,e,n){var i=t.getData(),r=[],o=i.getLayout("valueAxisHorizontal")?1:0;r[1-o]=i.getLayout("valueAxisStart");o=new d_({shape:{points:i.getLayout("largePoints")},incremental:!!n,__startPoint:r,__valueIdx:o});e.add(o),e=o,o=t,i=(t=i).getVisual("borderColor")||t.getVisual("color"),o=o.getModel("itemStyle").getItemStyle(["color","borderColor"]),e.useStyle(o),e.style.fill=null,e.style.stroke=i,e.style.lineWidth=t.getLayout("barWidth")}function cl(t,e,n,i){var r=e.getData(),o=this.dataIndex,o=r.getName(o),a=e.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:t,name:o,seriesId:e.id}),r.each(function(t){hl(r.getItemGraphicEl(t),r.getItemLayout(t),e.isSelected(r.getName(t)),a,n)})}function hl(t,e,n,i,r){e=(e.startAngle+e.endAngle)/2,i=n?i:0,i=[Math.cos(e)*i,Math.sin(e)*i];r?t.animate().when(200,{position:i}).start("bounceOut"):t.attr("position",i)}function dl(t,e){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function i(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}tm.call(this);var r=new ly({z2:2}),o=new hy,a=new U0;this.add(r),this.add(o),this.add(a),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function fl(r,t,e,n,i,o,a){function s(t,e){for(var n=t;0<=n&&(r[n].y-=e,!(0<n&&r[n].y>r[n-1].y+r[n-1].height));n--);}function l(t,e,n,i,r,o){for(var a,s,l,u=e?Number.MAX_VALUE:0,c=0,h=t.length;c<h;c++)"center"!==t[c].position&&(l=Math.abs(t[c].y-i),a=t[c].len,s=t[c].len2,l=l<r+a?Math.sqrt((r+a+s)*(r+a+s)-l*l):Math.abs(t[c].x-n),e&&u<=l&&(l=u-10),!e&&l<=u&&(l=u+10),t[c].x=n+l*o,u=l)}r.sort(function(t,e){return t.y-e.y});for(var u,c=0,h=r.length,d=[],f=[],p=0;p<h;p++)(u=r[p].y-c)<0&&function(t,e,n){for(var i=t;i<e;i++)if(r[i].y+=n,t<i&&i+1<e&&r[i+1].y>r[i].y+r[i].height)return s(i,n/2);s(e-1,n/2)}(p,h,-u),c=r[p].y+r[p].height;for(a-c<0&&s(h-1,c-a),p=0;p<h;p++)(r[p].y>=e?f:d).push(r[p]);l(d,!1,t,e,n,i),l(f,!0,t,e,n,i)}function pl(){this.group=new tm}function gl(t,e,n){Mx.call(this,t,e,n),this.type="value",this.angle=0,this.name="",this.model}function ml(t,e,n){this._model=t,this.dimensions=[],this._indicatorAxes=I(t.getIndicatorModels(),function(t,e){var n="indicator_"+e,e=new gl(n,new K1);return e.name=t.get("name"),(e.model=t).axis=e,this.dimensions.push(n),e},this),this.resize(t,n),this.cx,this.cy,this.r,this.r0,this.startAngle}function yl(t,e){return D({show:e},t)}function vl(){wg.call(this)}function xl(t){this.name=t,this.zoomLimit,wg.call(this),this._roamTransformable=new vl,this._rawTransformable=new vl,this._center,this._zoom}function _l(t,e,n,i){n=n.seriesModel,n=n?n.coordinateSystem:null;return n===this?n[t](i):null}function bl(t,e){var n,i=t.svgXML;try{u(null!=(n=(a=i&&(r=i,o={ignoreViewBox:!0,ignoreRootClip:!0},(new wo).parse(r,o))||{}).root))}catch(t){throw new Error("Invalid svg format\n"+t.message)}var r=a.width,o=a.height,a=a.viewBoxRect;return e||(e=null==r||null==o?n.getBoundingRect():new Kt(0,0,0,0),null!=r&&(e.width=r),null!=o&&(e.height=o)),a&&(o=So(a,e.width,e.height),a=n,(n=new tm).add(a),a.scale=o.scale,a.position=o.position),n.setClipPath(new dy({shape:e.plain()})),{root:n,boundingRect:e}}function wl(o){return function(n,i){var r=[];return P(Ml(n),function(t){var e=L_[t.type][o];e&&r.push(e(n,t,i))}),r}}function Ml(t){return p1(t)||[]}function Al(t,e,n,i){xl.call(this,t),this.map=e;n=k_.load(e,n);this._nameCoordMap=n.nameCoordMap,this._regionsMap=n.nameCoordMap,this._invertLongitute=null==i||i,this.regions=n.regions,this._rect=n.boundingRect}function Il(t,e,n,i){var r=n.geoModel,n=n.seriesModel,n=r?r.coordinateSystem:n?n.coordinateSystem||(n.getReferringComponents("geo")[0]||{}).coordinateSystem:null;return n===this?n[t](i):null}function Cl(t,e){var n=t.get("boundingCoords");null!=n&&(s=n[0],a=n[1],isNaN(s[0])||isNaN(s[1])||isNaN(a[0])||isNaN(a[1])||this.setBoundingRect(s[0],s[1],a[0]-s[0],a[1]-s[1]));var i,r=this.getBoundingRect(),o=t.get("layoutCenter"),n=t.get("layoutSize"),a=e.getWidth(),s=e.getHeight(),e=r.width/r.height*this.aspectScale,r=!1;o&&n&&(o=[zi(o[0],a),zi(o[1],s)],n=zi(n,Math.min(a,s)),isNaN(o[0])||isNaN(o[1])||isNaN(n)||(r=!0)),r?(i={},1<e?(i.width=n,i.height=n/e):(i.height=n,i.width=n*e),i.y=o[1]-i.height/2,i.x=o[0]-i.width/2):((o=t.getBoxLayoutParams()).aspect=e,i=sr(o,{width:a,height:s})),this.setViewRect(i.x,i.y,i.width,i.height),this.setCenter(t.get("center")),this.setZoom(t.get("zoom"))}function Sl(n,t){P(t.get("geoCoord"),function(t,e){n.addGeoCoord(e,t)})}function Tl(t,e){return Dl(t)[e]}function Dl(t){return t[P_]||(t[P_]={})}function Nl(n){this.pointerChecker,this._zr=n,this._opt={};var t=v,i=t(Ll,this),r=t(kl,this),o=t(El,this),a=t(Ol,this),s=t(Pl,this);gg.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(t,e){this.disable(),this._opt=D(C(e)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),!0!==(t=null==t?!0:t)&&"move"!==t&&"pan"!==t||(n.on("mousedown",i),n.on("mousemove",r),n.on("mouseup",o)),!0!==t&&"scale"!==t&&"zoom"!==t||(n.on("mousewheel",a),n.on("pinch",s))},this.disable=function(){n.off("mousedown",i),n.off("mousemove",r),n.off("mouseup",o),n.off("mousewheel",a),n.off("pinch",s)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function Ll(t){var e,n;ut(t)||t.target&&t.target.draggable||(e=t.offsetX,n=t.offsetY,this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0))}function kl(t){var e,n,i,r,o,a;!ut(t)&&Yl("moveOnMouseMove",t,this._opt)&&this._dragging&&"pinch"!==t.gestureEvent&&!Tl(this._zr,"globalPan")&&(e=t.offsetX,n=t.offsetY,o=e-(i=this._x),a=n-(r=this._y),this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&xg(t.event),jl(this,"pan","moveOnMouseMove",t,{dx:o,dy:a,oldX:i,oldY:r,newX:e,newY:n}))}function El(t){ut(t)||(this._dragging=!1)}function Ol(t){var e=Yl("zoomOnMouseWheel",t,this._opt),n=Yl("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,r=Math.abs(i),o=t.offsetX,a=t.offsetY;0!==i&&(e||n)&&(e&&(r=3<r?1.4:1<r?1.2:1.1,zl(this,"zoom","zoomOnMouseWheel",t,{scale:0<i?r:1/r,originX:o,originY:a})),n&&zl(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(0<i?1:-1)*(3<(i=Math.abs(i))?.4:1<i?.15:.05),originX:o,originY:a}))}function Pl(t){Tl(this._zr,"globalPan")||zl(this,"zoom",null,t,{scale:1<t.pinchScale?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}function zl(t,e,n,i,r){t.pointerChecker&&t.pointerChecker(i,r.originX,r.originY)&&(xg(i.event),jl(t,e,n,i,r))}function jl(t,e,n,i,r){r.isAvailableBehavior=v(Yl,null,n,i),t.trigger(e,r)}function Yl(t,e,n){n=n[t];return!t||n&&(!L(n)||e.event[n+"Key"])}function Rl(t,e,n){var i=t.target,t=i.position;t[0]+=e,t[1]+=n,i.dirty()}function Bl(t,e,n,i){var r=t.target,o=t.zoomLimit,a=r.position,s=r.scale,l=t.zoom=t.zoom||1;l*=e,o&&(u=o.min||0,o=o.max||1/0,l=Math.max(Math.min(o,l),u));var u=l/t.zoom;t.zoom=l,a[0]-=(n-a[0])*(u-1),a[1]-=(i-a[1])*(u-1),s[0]*=u,s[1]*=u,r.dirty()}function Fl(t,e,n){e=e.getComponentByElement(t.topTarget),t=e&&e.coordinateSystem;return e&&e!==n&&!z_[e.mainType]&&t&&t.model!==n}function Hl(t){var e=t.getItemStyle(),t=t.get("areaColor");return null!=t&&(e.fill=t),e}function Wl(n,t){t.eachChild(function(e){P(e.__regions,function(t){e.trigger(n.isSelected(t.name)?"emphasis":"normal")})})}function Gl(t,e){var n=new tm;this.uid=Oi("ec_map_draw"),this._controller=new Nl(t.getZr()),this._controllerHost={target:e?n:null},this.group=n,this._updateGroup=e,this._mouseDownFlag,this._mapName,this._initialized,n.add(this._regionsGroup=new tm),n.add(this._backgroundGroup=new tm)}function Ul(t,e,n){var i,r,o=t.getZoom(),a=t.getCenter(),s=e.zoom,l=t.dataToPoint(a);return null!=e.dx&&null!=e.dy&&(l[0]-=e.dx,l[1]-=e.dy,a=t.pointToData(l),t.setCenter(a)),null!=s&&(n&&(r=n.min||0,i=n.max||1/0,s=Math.max(Math.min(o*s,i),r)/o),t.scale[0]*=s,t.scale[1]*=s,i=t.position,r=(e.originX-i[0])*(s-1),e=(e.originY-i[1])*(s-1),i[0]-=r,i[1]-=e,t.updateTransform(),a=t.pointToData(l),t.setCenter(a),t.setZoom(s*o)),{center:t.getCenter(),zoom:t.getZoom()}}function Zl(n){var i=n.mainData,t=n.datas;t||(t={main:i},n.datasAttr={main:"data"}),n.datas=n.mainData=null,$l(i,t,n),Y_(t,function(e){Y_(i.TRANSFERABLE_METHODS,function(t){e.wrapMethod(t,N(Vl,n))})}),i.wrapMethod("cloneShallow",N(ql,n)),Y_(i.CHANGABLE_METHODS,function(t){i.wrapMethod(t,N(Xl,n))}),u(t[i.dataType]===i)}function Vl(t,e){var n;return(n=this)[B_]===n?$l((n=S({},this[R_]))[this.dataType]=e,n,t):Ql(e,this.dataType,this[B_],t),e}function Xl(t,e){return t.struct&&t.struct.update(this),e}function ql(n,i){return Y_(i[R_],function(t,e){t!==i&&Ql(t.cloneShallow(),e,i,n)}),i}function Jl(t){var e=this[B_];return null==t||null==e?e:e[R_][t]}function $l(n,t,i){n[R_]={},Y_(t,function(t,e){Ql(t,e,n,i)})}function Ql(t,e,n,i){(n[R_][e]=t)[B_]=n,t.dataType=e,i.struct&&(t[i.structAttr]=i.struct,i.struct[i.datasAttr[e]]=t),t.getLinkedData=Jl}function Kl(e,t,n){this.root,this.data,this._nodes=[],this.hostModel=e,this.levelModels=I(t||[],function(t){return new Li(t,e,e.ecModel)}),this.leavesModel=new Li(n||{},e,e.ecModel)}function tu(t,e){var n=t.isExpand?t.children:[],i=t.parentNode.children,r=t.hierNode.i?i[t.hierNode.i-1]:null;n.length?(function(t){for(var e=t.children,n=e.length,i=0,r=0;0<=--n;){var o=e[n];o.hierNode.prelim+=i,o.hierNode.modifier+=i,r+=o.hierNode.change,i+=o.hierNode.shift+r}}(t),n=(n[0].hierNode.prelim+n[n.length-1].hierNode.prelim)/2,r?(t.hierNode.prelim=r.hierNode.prelim+e(t,r),t.hierNode.modifier=t.hierNode.prelim-n):t.hierNode.prelim=n):r&&(t.hierNode.prelim=r.hierNode.prelim+e(t,r)),t.parentNode.hierNode.defaultAncestor=function(t,e,n,i){if(e){for(var r=t,o=t,a=o.parentNode.children[0],s=e,l=r.hierNode.modifier,u=o.hierNode.modifier,c=a.hierNode.modifier,h=s.hierNode.modifier;s=ru(s),o=ou(o),s&&o;){r=ru(r),a=ou(a),r.hierNode.ancestor=t;var d=s.hierNode.prelim+h-o.hierNode.prelim-u+i(s,o);0<d&&(function(t,e,n){var i=n/(e.hierNode.i-t.hierNode.i);e.hierNode.change-=i,e.hierNode.shift+=n,e.hierNode.modifier+=n,e.hierNode.prelim+=n,t.hierNode.change+=i}(function(t,e,n){return t.hierNode.ancestor.parentNode===e.parentNode?t.hierNode.ancestor:n}(s,t,n),t,d),u+=d,l+=d),h+=s.hierNode.modifier,u+=o.hierNode.modifier,l+=r.hierNode.modifier,c+=a.hierNode.modifier}s&&!ru(r)&&(r.hierNode.thread=s,r.hierNode.modifier+=h-l),o&&!ou(a)&&(a.hierNode.thread=o,a.hierNode.modifier+=u-c,n=t)}return n}(t,r,t.parentNode.hierNode.defaultAncestor||i[0],e)}function eu(t){var e=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:e},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function nu(t){return arguments.length?t:au}function iu(t,e){var n={};return t-=Math.PI/2,n.x=e*Math.cos(t),n.y=e*Math.sin(t),n}function ru(t){var e=t.children;return e.length&&t.isExpand?e[e.length-1]:t.hierNode.thread}function ou(t){var e=t.children;return e.length&&t.isExpand?e[0]:t.hierNode.thread}function au(t,e){return t.parentNode===e.parentNode?1:2}function su(t,e){var n=t.getItemLayout(e);return n&&!isNaN(n.x)&&!isNaN(n.y)&&"none"!==t.getItemVisual(e,"symbol")}function lu(t,e,n){return n.itemModel=e,n.itemStyle=e.getModel("itemStyle").getItemStyle(),n.hoverItemStyle=e.getModel("emphasis.itemStyle").getItemStyle(),n.lineStyle=e.getModel("lineStyle").getLineStyle(),n.labelModel=e.getModel("label"),n.hoverLabelModel=e.getModel("emphasis.label"),!1===t.isExpand&&0!==t.children.length?n.symbolInnerColor=n.itemStyle.fill:n.symbolInnerColor="#fff",n}function uu(t,e,n,i,r,o){var a=!n,s=t.tree.getNodeByDataIndex(e),o=lu(s,s.getModel(),o),l=t.tree.root,u=s.parentNode!==l&&s.parentNode||s,c=t.getItemGraphicEl(u.dataIndex),h=u.getLayout(),d=c?{x:c.position[0],y:c.position[1],rawX:c.__radialOldRawX,rawY:c.__radialOldRawY}:h,u=s.getLayout();a?(n=new ds(t,e,o)).attr("position",[d.x,d.y]):n.updateData(t,e,o),n.__radialOldRawX=n.__radialRawX,n.__radialOldRawY=n.__radialRawY,n.__radialRawX=u.rawX,n.__radialRawY=u.rawY,i.add(n),t.setItemGraphicEl(e,n),Mi(n,{position:[u.x,u.y]},r);var f,p,c=n.getSymbolPath();"radial"===o.layout&&(t=(a=l.children[0]).getLayout(),e=a.children.length,u.x===t.x&&!0===s.isExpand?((p={}).x=(a.children[0].getLayout().x+a.children[e-1].getLayout().x)/2,p.y=(a.children[0].getLayout().y+a.children[e-1].getLayout().y)/2,(f=Math.atan2(p.y-t.y,p.x-t.x))<0&&(f=2*Math.PI+f),(p=p.x<t.x)&&(f-=Math.PI)):((f=Math.atan2(u.y-t.y,u.x-t.x))<0&&(f=2*Math.PI+f),0===s.children.length||0!==s.children.length&&!1===s.isExpand?(p=u.x<t.x)&&(f-=Math.PI):(p=u.x>t.x)||(f-=Math.PI)),c.setStyle({textPosition:p?"left":"right",textRotation:-f,textOrigin:"center",verticalAlign:"middle"})),s.parentNode&&s.parentNode!==l&&(Mi(l=(l=n.__edge)||(n.__edge=new gy({shape:hu(o,d,d),style:D({opacity:0,strokeNoScale:!0},o.lineStyle)})),{shape:hu(o,h,u),style:{opacity:1}},r),i.add(l))}function cu(t,e,n,i,r,o){for(var a,s=t.tree.getNodeByDataIndex(e),l=t.tree.root,o=lu(s,s.getModel(),o),u=s.parentNode!==l&&s.parentNode||s;null==(a=u.getLayout());)u=u.parentNode!==l&&u.parentNode||u;Mi(n,{position:[a.x+1,a.y+1]},r,function(){i.remove(n),t.setItemGraphicEl(e,null)}),n.fadeOut(null,{keepLabel:!0});var c=n.__edge;c&&Mi(c,{shape:hu(o,a,a),style:{opacity:0}},r,function(){i.remove(c)})}function hu(t,e,n){var i,r,o,a,s=t.orient;if("radial"!==t.layout)return l=e.x,u=e.y,c=n.x,h=n.y,"LR"!==s&&"RL"!==s||(i=l+(c-l)*t.curvature,r=u,o=c+(l-c)*t.curvature,a=h),"TB"!==s&&"BT"!==s||(i=l,r=u+(h-u)*t.curvature,o=c,a=h+(u-h)*t.curvature),{x1:l,y1:u,x2:c,y2:h,cpx1:i,cpy1:r,cpx2:o,cpy2:a};var l=e.rawX,u=e.rawY,c=n.rawX,h=n.rawY,n=iu(l,u),l=iu(l,u+(h-u)*t.curvature),t=iu(c,h+(u-h)*t.curvature),h=iu(c,h);return{x1:n.x,y1:n.y,x2:h.x,y2:h.y,cpx1:l.x,cpy1:l.y,cpx2:t.x,cpy2:t.y}}function du(t,e){for(var n,i=[t];n=i.pop();)if(e(n),n.isExpand){var r=n.children;if(r.length)for(var o=r.length-1;0<=o;o--)i.push(r[o])}}function fu(t,e){var n=(g=e,sr(t.getBoxLayoutParams(),{width:g.getWidth(),height:g.getHeight()}));t.layoutInfo=n;var i,r,o,a,s,l,u,c,h,d=t.get("layout"),f=0,p=0,e=null,e="radial"===d?(f=2*Math.PI,p=Math.min(n.height,n.width)/2,nu(function(t,e){return(t.parentNode===e.parentNode?1:2)/t.depth})):(f=n.width,p=n.height,nu()),g=t.getData().tree.root,n=g.children[0];n&&(function(t){t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var e,n,i=[t];e=i.pop();)if(n=e.children,e.isExpand&&n.length)for(var r=n.length-1;0<=r;r--){var o=n[r];o.hierNode={defaultAncestor:null,ancestor:o,prelim:0,modifier:0,change:0,shift:0,i:r,thread:null},i.push(o)}}(g),function(t,e,n){for(var i,r=[t],o=[];i=r.pop();)if(o.push(i),i.isExpand){var a=i.children;if(a.length)for(var s=0;s<a.length;s++)r.push(a[s])}for(;i=o.pop();)e(i,n)}(n,tu,e),g.hierNode.modifier=-n.hierNode.prelim,du(n,eu),du(o=r=i=n,function(t){var e=t.getLayout().x;e<i.getLayout().x&&(i=t),e>r.getLayout().x&&(r=t),t.depth>o.depth&&(o=t)}),e=i===r?1:e(i,r)/2,a=e-i.getLayout().x,c=u=l=s=0,"radial"===d?(s=f/(r.getLayout().x+e+a),l=p/(o.depth-1||1),du(n,function(t){u=(t.getLayout().x+a)*s,c=(t.depth-1)*l;var e=iu(u,c);t.setLayout({x:e.x,y:e.y,rawX:u,rawY:c},!0)})):"RL"===(h=t.getOrient())||"LR"===h?(l=p/(r.getLayout().x+e+a),s=f/(o.depth-1||1),du(n,function(t){c=(t.getLayout().x+a)*l,u="LR"===h?(t.depth-1)*s:f-(t.depth-1)*s,t.setLayout({x:u,y:c},!0)})):"TB"!==h&&"BT"!==h||(s=f/(r.getLayout().x+e+a),l=p/(o.depth-1||1),du(n,function(t){u=(t.getLayout().x+a)*s,c="TB"===h?(t.depth-1)*l:p-(t.depth-1)*l,t.setLayout({x:u,y:c},!0)})))}function pu(t,e,n){if(t&&0<=p(e,t.type)){e=n.getData().tree.root,n=t.targetNode;if((n="string"==typeof n?e.getNodeById(n):n)&&e.contains(n))return{node:n};t=t.targetNodeId;return null!=t&&(n=e.getNodeById(t))?{node:n}:void 0}}function gu(t){for(var e=[];t;)(t=t.parentNode)&&e.push(t);return e.reverse()}function mu(t,e){return 0<=p(gu(t),e)}function yu(t,e){for(var n=[];t;){var i=t.dataIndex;n.push({name:t.name,dataIndex:i,value:e.getRawValue(i)}),t=t.parentNode}return n.reverse(),n}function vu(t){this.group=new tm,t.add(this.group)}function xu(c,l,u,h,d,n,f,t,e,i){function s(t,e){x?t.invisible||n.push(t):(e(),t.__tmWillVisible||(t.invisible=!1))}function p(t,e,n,i,r,o){var a=f.getModel(),s=O(c.getFormattedLabel(f.dataIndex,"normal",null,null,o?"upperLabel":"label"),a.get("name"));!o&&g.isLeafRoot&&(s=(u=c.get("drillDownIcon",!0))?u+" "+s:s);var l=a.getModel(o?X_:Z_),u=a.getModel(o?q_:V_),a=l.getShallow("show");pi(t,e,l,u,{defaultText:a?s:null,autoColor:n,isRectText:!0}),o&&(t.textRect=C(o)),t.truncate=a&&l.get("ellipsis")?{outerWidth:i,outerHeight:r,minChar:2}:null}function r(t,e,n,i){var r,o,a=null!=b&&u[t][b],s=d[t];return a?(u[t][b]=null,r=a,o=t,(s[_]={}).old="nodeGroup"===o?r.position.slice():S({},r.shape)):x||((a=new e({z:function(t,e){e=t*J_+e;return(e-1)/e}(n,i)})).__tmDepth=n,function(t,e){var n=t[_]={},i=f.parentNode;{var r;!i||h&&"drillDown"!==h.direction||(t=r=0,i=d.background[i.getRawIndex()],!h&&i&&i.old&&(r=i.old.width,t=i.old.height),n.old="nodeGroup"===e?[0,t]:{x:r,y:t,width:0,height:0})}n.fadein="nodeGroup"!==e}(s,a.__tmStorageName=t)),l[t][_]=a}if(f){var g=f.getLayout();if(g&&g.isInView){var m=g.width,y=g.height,v=g.borderWidth,x=g.invisible,_=f.getRawIndex(),b=t&&t.getRawIndex(),o=f.viewChildren,w=g.upperHeight,t=o&&o.length,M=f.getModel("itemStyle"),A=f.getModel("emphasis.itemStyle"),o=r("nodeGroup",W_);if(o){if(e.add(o),o.attr("position",[g.x||0,g.y||0]),o.__tmNodeWidth=m,o.__tmNodeHeight=y,g.isAboveViewRoot)return o;e=r("background",G_,i,1);return e&&function(t,i,r){i.dataIndex=f.dataIndex,i.seriesIndex=c.seriesIndex,i.setShape({x:0,y:0,width:m,height:y});var o=f.getVisual("borderColor",!0),a=A.get("borderColor");s(i,function(){var t=F_(M);t.fill=o;var e,n=$_(A);n.fill=a,r?p(t,n,o,e=m-2*v,w,{x:v,y:0,width:e,height:w}):t.text=n.text=null,i.setStyle(t),di(i,n)}),t.add(i)}(o,e,t&&g.upperHeight),t||(i=r("content",G_,i,2))&&function(t,n){n.dataIndex=f.dataIndex,n.seriesIndex=c.seriesIndex;var i=Math.max(m-2*v,0),r=Math.max(y-2*v,0);n.culling=!0,n.setShape({x:v,y:v,width:i,height:r});var o=f.getVisual("color",!0);s(n,function(){var t=F_(M);t.fill=o;var e=$_(A);p(t,e,o,i,r),n.setStyle(t),di(n,e)}),t.add(n)}(o,i),o}}}}function _u(t,e){var n=t.visual,i=[];E(n)?tb(n,function(t){i.push(t)}):null!=n&&i.push(n);e||1!==i.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(i[1]=i[0]),Tu(t,i)}function bu(i){return{applyVisual:function(t,e,n){t=this.mapValueToVisual(t),n("color",i(e("color"),t))},_doMap:Cu([0,1])}}function wu(t){var e=this.option.visual;return e[Math.round(Pi(t,[0,1],[0,e.length-1],!0))]||{}}function Mu(i){return function(t,e,n){n(i,this.mapValueToVisual(t))}}function Au(t){var e=this.option.visual;return e[this.option.loop&&t!==nb?t%e.length:t]}function Iu(){return this.option.visual[0]}function Cu(n){return{linear:function(t){return Pi(t,n,this.option.visual,!0)},category:Au,piecewise:function(t,e){e=Su.call(this,e);return e=null==e?Pi(t,n,this.option.visual,!0):e},fixed:Iu}}function Su(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){n=n[ib.findPieceIndex(t,n)];if(n&&n.visual)return n.visual[this.type]}}function Tu(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=I(e,function(t){return kt(t)})),e}function Du(t,e,n){return t?e<=n:e<n}function Nu(t,e,n,i,r,o){var a,s,l,u,c,h,d,f,p,g,m=t.getModel(),y=t.getLayout();y&&!y.invisible&&y.isInView&&(c=t.getModel(sb),h=c,d=e,f=n[t.depth],p=i,g=S({},d),P(["color","colorAlpha","colorSaturation"],function(t){var e=h.get(t,!0);null!=(e=null==(e=null==(e=null==e&&f?f[t]:e)?d[t]:e)?p.get(t):e)&&(g[t]=e)}),s=g,l=c.get("borderColor"),null!=(e=c.get("borderColorSaturation"))&&(c=e,l=null!=(e=a=Lu(s))?Yt(e,null,null,c):null),t.setVisual("borderColor",l),(l=t.viewChildren)&&l.length?(u=function(t,e,n,i){if(i&&i.length){var r=Eu(t,"color")||null!=n.color&&"none"!==n.color&&(Eu(t,"colorAlpha")||Eu(t,"colorSaturation"));if(r){i=t.get("visualMin"),n=t.get("visualMax"),e=e.dataExtent.slice();null!=i&&i<e[0]&&(e[0]=i),null!=n&&n>e[1]&&(e[1]=n);t=t.get("colorMappingBy"),r={type:r.name,dataExtent:e,visual:r.range};"color"!==r.type||"index"!==t&&"id"!==t?r.mappingMethod="linear":(r.mappingMethod="category",r.loop=!0);r=new ib(r);return r.__drColorMappingBy=t,r}}}(m,y,s,l),P(l,function(t,e){(t.depth>=r.length||t===r[t.depth])&&Nu(t,function(t,e,n,i,r,o){var a=S({},e);{var s;r&&(s=r.type,e="color"===s&&r.__drColorMappingBy,t="index"===e?i:"id"===e?o.mapIdToIndex(n.getId()):n.getValue(t.get("visualDimension")),a[s]=r.mapValueToVisual(t))}return a}(m,s,t,e,u,o),n,i,r,o)})):(a=Lu(s),t.setVisual("color",a)))}function Lu(t){var e=ku(t,"color");if(e){var n=ku(t,"colorAlpha"),t=ku(t,"colorSaturation");return t&&(e=Yt(e,null,null,t)),e=n?Rt(e,n):e}}function ku(t,e){e=t[e];if(null!=e&&"none"!==e)return e}function Eu(t,e){t=t.get(e);return ab(t)&&t.length?{name:e,range:t}:null}function Ou(t,e,n,i){if(!t.isRemoved()){var r=t.getLayout(),o=r.width,a=r.height,s=(d=t.getModel()).get(db),l=d.get(fb)/2,u=zu(d),c=Math.max(s,u),h=s-l,r=c-l,d=t.getModel();t.setLayout({borderWidth:s,upperHeight:c,upperLabelHeight:u},!0);var u=(o=lb(o-2*h,0))*(a=lb(a-h-r,0)),f=function(t,e,n,i,r,o){var a=t.children||[],s=i.sort;"asc"!==s&&"desc"!==s&&(s=null);o=null!=i.leafDepth&&i.leafDepth<=o;if(r&&!o)return t.viewChildren=[];!function(t,i){i&&t.sort(function(t,e){var n="asc"===i?t.getValue()-e.getValue():e.getValue()-t.getValue();return 0==n?"asc"===i?t.dataIndex-e.dataIndex:e.dataIndex-t.dataIndex:n})}(a=b(a,function(t){return!t.isRemoved()}),s);var l=function(t,e,n){for(var i=0,r=0,o=e.length;r<o;r++)i+=e[r].getValue();var a=t.get("visualDimension");{var s;e&&e.length?"value"===a&&n?(s=[e[e.length-1].getValue(),e[0].getValue()],"asc"===n&&s.reverse()):(s=[1/0,-1/0],hb(e,function(t){t=t.getValue(a);t<s[0]&&(s[0]=t),t>s[1]&&(s[1]=t)})):s=[NaN,NaN]}return{sum:i,dataExtent:s}}(e,a,s);if(0===l.sum)return t.viewChildren=[];if(l.sum=function(t,e,n,i,r){if(!i)return n;for(var o=t.get("visibleMin"),a=r.length,s=a,l=a-1;0<=l;l--){var u=r["asc"===i?a-l-1:l].getValue();u/n*e<o&&(s=l,n-=u)}return"asc"===i?r.splice(0,a-s):r.splice(s,a-s),n}(e,n,l.sum,s,a),0===l.sum)return t.viewChildren=[];for(var u=0,c=a.length;u<c;u++){var h=a[u].getValue()/l.sum*n;a[u].setLayout({area:h})}return o&&(a.length&&t.setLayout({isLeafRoot:!0},!0),a.length=0),t.viewChildren=a,t.setLayout({dataExtent:l.dataExtent},!0),a}(t,d,u,e,n,i);if(f.length){for(var p={x:h,y:r,width:o,height:a},g=ub(o,a),m=1/0,y=[],v=y.area=0,x=f.length;v<x;){var _=f[v];y.push(_),y.area+=_.getLayout().area;_=function(t,e,n){for(var i,r=0,o=1/0,a=0,s=t.length;a<s;a++)(i=t[a].getLayout().area)&&(i<o&&(o=i),r<i&&(r=i));var l=t.area*t.area,n=e*e*n;return l?lb(n*r/l,l/(n*o)):1/0}(y,g,e.squareRatio),m=_<=m?(v++,_):(y.area-=y.pop().getLayout().area,Pu(y,g,p,l,!1),g=ub(p.width,p.height),1/(y.length=y.area=0))}y.length&&Pu(y,g,p,l,!0),n||null!=(d=d.get("childrenVisibleMin"))&&u<d&&(n=!0);for(v=0,x=f.length;v<x;v++)Ou(f[v],e,n,i+1)}}}function Pu(t,e,n,i,r){var o=e===n.width?0:1,a=1-o,s=["x","y"],l=["width","height"],u=n[s[o]],c=e?t.area/e:0;(r||c>n[l[a]])&&(c=n[l[a]]);for(var h=0,d=t.length;h<d;h++){var f=t[h],p={},g=c?f.getLayout().area/c:0,m=p[l[a]]=lb(c-2*i,0),y=n[s[o]]+n[l[o]]-u,y=h===d-1||y<g?y:g,g=p[l[o]]=lb(y-2*i,0);p[s[a]]=n[s[a]]+ub(i,m/2),p[s[o]]=u+ub(i,g/2),u+=y,f.setLayout(p,!0)}n[s[a]]+=c,n[l[a]]-=c}function zu(t){return t.get(pb)?t.get(gb):0}function ju(t){return"_EC_"+t}function Yu(t,e){this.id=null==t?"":t,this.inEdges=[],this.outEdges=[],this.edges=[],this.hostGraph,this.dataIndex=null==e?-1:e}function Ru(t,e,n){this.node1=t,this.node2=e,this.dataIndex=null==n?-1:n}function Bu(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}function Fu(t){return"_"+t+"Type"}function Hu(t,e,n){var i=e.getItemVisual(n,"color"),r=e.getItemVisual(n,t),n=e.getItemVisual(n,t+"Size");if(r&&"none"!==r){i=Ja(r,-(n=!T(n)?[n,n]:n)[0]/2,-n[1]/2,n[0],n[1],i);return i.name=t,i}}function Wu(t,e){var n=e[0],i=e[1],e=e[2];t.x1=n[0],t.y1=n[1],t.x2=i[0],t.y2=i[1],t.percent=1,e?(t.cpx1=e[0],t.cpy1=e[1]):(t.cpx1=NaN,t.cpy1=NaN)}function Gu(t,e,n){tm.call(this),this._createLine(t,e,n)}function Uu(t){this._ctor=t||Gu,this.group=new tm}function Zu(t){t=t.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function Vu(t){return isNaN(t[0])||isNaN(t[1])}function Xu(t){return!Vu(t[0])&&!Vu(t[1])}function qu(t,e,n){for(var i,r=t[0],o=t[1],a=t[2],s=1/0,l=n*n,u=.1,c=.1;c<=.9;c+=.1)Ab[0]=Sb(r[0],o[0],a[0],c),Ab[1]=Sb(r[1],o[1],a[1],c),(f=Db(Tb(Ab,e)-l))<s&&(s=f,i=c);for(var h=0;h<32;h++){var d=i+u;Ib[0]=Sb(r[0],o[0],a[0],i),Ib[1]=Sb(r[1],o[1],a[1],i),Cb[0]=Sb(r[0],o[0],a[0],d),Cb[1]=Sb(r[1],o[1],a[1],d);var f=Tb(Ib,e)-l;if(Db(f)<.01)break;d=Tb(Cb,e)-l;u/=2,f<0?0<=d?i+=u:i-=u:0<=d?i-=u:i+=u}return i}function Ju(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function $u(t,e,n){var i=t.getGraphicEl(),r=Ju(t,e);null!=n&&(null==r&&(r=1),r*=n),i.downplay&&i.downplay(),i.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",r)})}function Qu(t,e){var n=Ju(t,e),t=t.getGraphicEl();t.highlight&&t.highlight(),t.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",n)})}function Ku(t){return t=!(t instanceof Array)?[t,t]:t}function tc(t){var e=t.coordinateSystem;e&&"view"!==e.type||((t=t.getGraph()).eachNode(function(t){var e=t.getModel();t.setLayout([+e.get("x"),+e.get("y")])}),ec(t))}function ec(t){t.eachEdge(function(t){var e=t.getModel().get("lineStyle.curveness")||0,n=F(t.node1.getLayout()),i=F(t.node2.getLayout()),r=[n,i];+e&&r.push([(n[0]+i[0])/2-(n[1]-i[1])*e,(n[1]+i[1])/2-(i[0]-n[0])*e]),t.setLayout(r)})}function nc(t){var e,n,i,r,s,l,o,a=t.coordinateSystem;a&&"view"!==a.type||(e=a.getBoundingRect(),t=(a=t.getData()).graph,n=0,i=a.getSum("value"),r=2*Math.PI/(i||a.count()),s=e.width/2+e.x,l=e.height/2+e.y,o=Math.min(e.width,e.height)/2,t.eachNode(function(t){var e=t.getValue("value");n+=r*(i?e:1)/2,t.setLayout([o*Math.cos(n)+s,o*Math.sin(n)+l]),n+=r*(i?e:1)/2}),a.setLayout({cx:s,cy:l}),t.eachEdge(function(t){var e,n=t.getModel().get("lineStyle.curveness")||0,i=F(t.node1.getLayout()),r=F(t.node2.getLayout()),o=(i[0]+r[0])/2,a=(i[1]+r[1])/2;+n&&(e=[s*(n*=3)+o*(1-n),l*n+a*(1-n)]),t.setLayout([i,r,e])}))}function ic(t,e){return e&&("string"==typeof e?t=e.replace("{value}",null!=t?t:""):"function"==typeof e&&(t=e(t))),t}function rc(t,e){function n(){o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore}function i(){o.ignore=o.normalIgnore,a.ignore=a.normalIgnore}tm.call(this);var r=new cy,o=new hy,a=new U0;this.add(r),this.add(o),this.add(a),this.updateData(t,e,!0),this.on("emphasis",n).on("normal",i).on("mouseover",n).on("mouseout",i)}function oc(t,e){t=t[e]-t[1-e];return{span:Math.abs(t),sign:0<t||!(t<0)&&e?-1:1}}function ac(t,e){return Math.min(e[1],Math.max(e[0],t))}function sc(t,e,n){this._axesMap=Y(),this._axesLayout={},this.dimensions=t.dimensions,this._rect,this._model=t,this._init(t,e,n)}function lc(t,e){return Bb(Fb(t,e[0]),e[1])}function uc(t){gg.call(this),this._zr=t,this.group=new tm,this._brushType,this._brushOption,this._panels,this._track=[],this._dragging,this._covers=[],this._creatingCover,this._creatingPanel,this._enableGlobalPan,this._uid="brushController_"+rw++,this._handlers={},Vb(ow,function(t,e){this._handlers[e]=v(t,this)},this)}function cc(t,e){var n,i,r=t._zr;t._enableGlobalPan||(n="globalPan",i=t._uid,Dl(r)[n]=i),Vb(t._handlers,function(t,e){r.on(e,t)}),t._brushType=e.brushType,t._brushOption=g(C(iw),e,!0)}function hc(t){var e,n,i,r=t._zr;e=r,n="globalPan",i=t._uid,(e=Dl(e))[n]===i&&(e[n]=null),Vb(t._handlers,function(t,e){r.off(e,t)}),t._brushType=t._brushOption=null}function dc(t,e){var n=aw[e.brushType].createCover(t,e);return n.__brushOption=e,gc(n,e),t.group.add(n),n}function fc(t,e){var n=yc(e);return n.endCreating&&(n.endCreating(t,e),gc(e,e.__brushOption)),e}function pc(t,e){var n=e.__brushOption;yc(e).updateCoverShape(t,e,n.range,n)}function gc(t,e){var n=e.z;null==n&&(n=Qb),t.traverse(function(t){t.z=n,t.z2=n})}function mc(t,e){yc(e).updateCommon(t,e),pc(t,e)}function yc(t){return aw[t.__brushOption.brushType]}function vc(t,e,n){var i=t._panels;if(!i)return!0;var r,o=t._transform;return Vb(i,function(t){t.isTargetByCursor(e,n,o)&&(r=t)}),r}function xc(t,e){t=t._panels;if(!t)return!0;e=e.__brushOption.panelId;return null==e||t[e]}function _c(e){var t=e._covers,n=t.length;return Vb(t,function(t){e.group.remove(t)},e),t.length=0,n}function bc(t,e){var n=Xb(t._covers,function(t){var e=t.__brushOption,t=C(e.range);return{brushType:e.brushType,panelId:e.panelId,range:t}});t.trigger("brush",n,{isEnd:!!e.isEnd,removeOnClick:!!e.removeOnClick})}function wc(t){var e=t.length-1;return[t[0],t[e=e<0?0:e]]}function Mc(e,n,t,i){var r=new tm;return r.add(new dy({name:"main",style:Sc(t),silent:!0,draggable:!0,cursor:"move",drift:Zb(e,n,r,"nswe"),ondragend:Zb(bc,n,{isEnd:!0})})),Vb(i,function(t){r.add(new dy({name:t,style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Zb(e,n,r,t),ondragend:Zb(bc,n,{isEnd:!0})}))}),r}function Ac(t,e,n,i){var r=i.brushStyle.lineWidth||0,o=Jb(r,tw),a=n[0][0],s=n[1][0],l=a-r/2,u=s-r/2,c=n[0][1],h=n[1][1],d=c-o+r/2,f=h-o+r/2,n=c-a,c=h-s,h=n+r,r=c+r;Cc(t,e,"main",a,s,n,c),i.transformable&&(Cc(t,e,"w",l,u,o,r),Cc(t,e,"e",d,u,o,r),Cc(t,e,"n",l,u,h,o),Cc(t,e,"s",l,f,h,o),Cc(t,e,"nw",l,u,o,o),Cc(t,e,"ne",d,u,o,o),Cc(t,e,"sw",l,f,o,o),Cc(t,e,"se",d,f,o,o))}function Ic(n,i){var t=i.__brushOption,r=t.transformable,e=i.childAt(0);e.useStyle(Sc(t)),e.attr({silent:!r,cursor:r?"move":"default"}),Vb(["w","e","n","s","se","sw","ne","nw"],function(t){var e=i.childOfName(t),t=function t(e,n){if(1<n.length)return"e"!==(r=[t(e,(n=n.split(""))[0]),t(e,n[1])])[0]&&"w"!==r[0]||r.reverse(),r.join("");var i={left:"w",right:"e",top:"n",bottom:"s"},r=Si({w:"left",e:"right",n:"top",s:"bottom"}[n],Dc(e));return i[r]}(n,t);e&&e.attr({silent:!r,invisible:!r,cursor:r?nw[t]+"-resize":null})})}function Cc(t,e,n,i,r,o,a){n=e.childOfName(n);n&&n.setShape((o=Ec(t,e,[[i,r],[i+o,r+a]]),r=qb(o[0][0],o[1][0]),a=qb(o[0][1],o[1][1]),{x:r,y:a,width:Jb(o[0][0],o[1][0])-r,height:Jb(o[0][1],o[1][1])-a}))}function Sc(t){return D({strokeNoScale:!0},t.brushStyle)}function Tc(t,e,n,i){var r=[qb(t,n),qb(e,i)],i=[Jb(t,n),Jb(e,i)];return[[r[0],i[0]],[r[1],i[1]]]}function Dc(t){return Ii(t.group)}function Nc(t,e,n,i,r,o,a,s){var l=i.__brushOption,u=t(l.range),c=kc(n,o,a);Vb(r.split(""),function(t){t=ew[t];u[t[0]][t[1]]+=c[t[0]]}),l.range=e(Tc(u[0][0],u[1][0],u[0][1],u[1][1])),mc(n,i),bc(n,{isEnd:!1})}function Lc(t,e,n,i,r){var o=e.__brushOption.range,a=kc(t,n,i);Vb(o,function(t){t[0]+=a[0],t[1]+=a[1]}),mc(t,e),bc(t,{isEnd:!1})}function kc(t,e,n){t=t.group,n=t.transformCoordToLocal(e,n),t=t.transformCoordToLocal(0,0);return[n[0]-t[0],n[1]-t[1]]}function Ec(t,e,n){e=xc(t,e);return e&&!0!==e?e.clipPath(n,t._transform):C(n)}function Oc(t){t=t.event;t.preventDefault&&t.preventDefault()}function Pc(t,e,n){return t.childOfName("main").contain(e,n)}function zc(t,e,n,i){var r,o,a=t._creatingCover,s=t._creatingPanel,l=t._brushOption;return t._track.push(n.slice()),function(t){if((n=t._track).length){var e=n[n.length-1],t=n[0],n=e[0]-t[0],t=e[1]-t[1];return $b(n*n+t*t,.5)>Kb}}(t)||a?(s&&!a&&("single"===l.brushMode&&_c(t),(r=C(l)).brushType=jc(r.brushType,s),r.panelId=!0===s?null:s.panelId,a=t._creatingCover=dc(t,r),t._covers.push(a)),a&&(o=aw[jc(t._brushType,s)],a.__brushOption.range=o.getCreatingRange(Ec(t,a,t._track)),i&&(fc(t,a),o.updateCommon(t,a)),pc(t,a),o={isEnd:i})):i&&"single"===l.brushMode&&l.removeOnClick&&vc(t,e,n)&&_c(t)&&(o={isEnd:i,removeOnClick:!0}),o}function jc(t,e){return"auto"===t?e.defaultBrushType:t}function Yc(t){this._dragging&&(Oc(t),t=zc(this,t,this.group.transformCoordToLocal(t.offsetX,t.offsetY),!0),this._dragging=!1,this._track=[],this._creatingCover=null,t&&bc(this,t))}function Rc(a){return{createCover:function(t,e){return Mc(Zb(Nc,function(t){t=[t,[0,100]];return a&&t.reverse(),t},function(t){return t[a]}),t,e,[["w","e"],["n","s"]][a])},getCreatingRange:function(t){t=wc(t);return[qb(t[0][a],t[1][a]),Jb(t[0][a],t[1][a])]},updateCoverShape:function(t,e,n,i){var r=xc(t,e),o=[n,!0!==r&&r.getLinearBrushOtherExtent?r.getLinearBrushOtherExtent(a,t._transform):[0,[(o=t._zr).getWidth(),o.getHeight()][1-a]]];a&&o.reverse(),Ac(t,e,o,i)},updateCommon:Ic,contain:Pc}}function Bc(n){return n=Wc(n),function(t,e){return Di(t,n)}}function Fc(n,i){return n=Wc(n),function(t){var e=null!=i?i:t,t=e?n.width:n.height,e=e?n.x:n.y;return[e,e+(t||0)]}}function Hc(i,r,o){return i=Wc(i),function(t,e,n){return i.contain(e[0],e[1])&&!Fl(t,r,o)}}function Wc(t){return Kt.create(t)}function Gc(t,e){t=t._model;return t.get("axisExpandable")&&t.get("axisExpandTriggerOn")===e}function Uc(t,e,n,i){for(var r,o=[],a=0;a<n.length;a++){var s=n[a],l=t.get(t.mapDimension(s),e);r=l,("category"===i.getAxis(s).type?null==r:null==r||isNaN(r))||o.push(i.dataToPoint(l,s))}return o}function Zc(t,e,n,i,r){r=Uc(t,n,i,r),r=new hy({shape:{points:r},silent:!0,z2:10});return e.add(r),t.setItemGraphicEl(n,r),r}function Vc(t){var e=t.get("smooth",!0);return!0===e&&(e=.3),{lineStyle:t.getModel("lineStyle").getLineStyle(),smooth:null!=e?e:.3}}function Xc(t,e,n,i){var r=i.lineStyle;e.hasItemOption&&(r=e.getItemModel(n).getModel("lineStyle").getLineStyle()),t.useStyle(r);r=t.style;r.fill=null,r.stroke=e.getItemVisual(n,"color"),r.opacity=e.getItemVisual(n,"opacity"),i.smooth&&(t.shape.smooth=i.smooth)}function qc(t,e){return t.getVisual("opacity")||t.getModel().get(e)}function Jc(t,e,n){var i=t.getGraphicEl(),r=qc(t,e);null!=n&&(null==r&&(r=1),r*=n),i.downplay&&i.downplay(),i.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",r)})}function $c(t,e){var n=qc(t,e),t=t.getGraphicEl();t.highlight&&t.highlight(),t.traverse(function(t){"group"!==t.type&&t.setStyle("opacity",n)})}function Qc(){var c=[],e=[];return{key:function(t){return c.push(t),this},sortKeys:function(t){return e[c.length-1]=t,this},entries:function(t){return function n(t,i){if(i>=c.length)return t;var r=[],o=e[i++];return P(t,function(t,e){r.push({key:e,values:n(t,i)})}),o?r.sort(function(t,e){return o(t.key,e.key)}):r}(function n(t,i){if(i>=c.length)return t;for(var e=-1,r=t.length,o=c[i++],a={},s={};++e<r;){var l=o(t[e]),u=s[l];u?u.push(t[e]):s[l]=[t[e]]}return P(s,function(t,e){a[e]=n(t,i)}),a}(t,0),0)}}}function Kc(t,e,n,i,r,o,a,s){var l;(function(t,e,n,i,r,o){for(var a=[],s=[],l=[],u=[],c=0,h=0;h<e.length;h++)a[h]=1;for(h=0;h<t.length;h++)s[h]=t[h].inEdges.length,0===s[h]&&l.push(t[h]);for(;l.length;){for(var d=0;d<l.length;d++){var f=l[d];"vertical"===o?(f.setLayout({y:c},!0),f.setLayout({dy:n},!0)):(f.setLayout({x:c},!0),f.setLayout({dx:n},!0));for(var p=0;p<f.outEdges.length;p++){var g=f.outEdges[p];a[e.indexOf(g)]=0;g=g.node2;0==--s[t.indexOf(g)]&&u.push(g)}}++c,l=u,u=[]}for(h=0;h<a.length;h++);(function(t,e,n){P(t,function(t){t.outEdges.length||("vertical"===n?t.setLayout({y:e-1},!0):t.setLayout({x:e-1},!0))})})(t,c,o),function(t,n,i){P(t,function(t){var e;"vertical"===i?(e=t.getLayout().y*n,t.setLayout({y:e},!0)):(e=t.getLayout().x*n,t.setLayout({x:e},!0))})}(t,"vertical"===o?(r-n)/(c-1):(i-n)/(c-1),o)})(t,e,n,r,o,s),function(t,e,n,i,r,o,a){var s=Qc().key(function(t){return"vertical"===t?function(t){return t.getLayout().y}:function(t){return t.getLayout().x}}(a)).sortKeys(function(t,e){return t-e}).entries(t).map(function(t){return t.values});(function(t,e,r,o,a,s){var l=[];P(t,function(t){var e,n=t.length,i=0;P(t,function(t){i+=t.getLayout().value}),e="vertical"===s?(o-(n-1)*a)/i:(r-(n-1)*a)/i,l.push(e)}),l.sort(function(t,e){return t-e});var i=l[0];P(t,function(t){P(t,function(t,e){var n=t.getLayout().value*i;"vertical"===s?(t.setLayout({x:e},!0),t.setLayout({dx:n},!0)):(t.setLayout({y:e},!0),t.setLayout({dy:n},!0))})}),P(e,function(t){var e=+t.getValue()*i;t.setLayout({dy:e},!0)})})(s,e,n,i,r,a),th(s,r,n,i,a);for(var l=1;0<o;o--)(function(t,i,r){P(t.slice().reverse(),function(t){P(t,function(t){var e,n;t.outEdges.length&&(n=oh(t.outEdges,eh,r)/oh(t.outEdges,rh,r),"vertical"===r?(e=t.getLayout().x+(n-ih(t,r))*i,t.setLayout({x:e},!0)):(n=t.getLayout().y+(n-ih(t,r))*i,t.setLayout({y:n},!0)))})})})(s,l*=.99,a),th(s,r,n,i,a),function(t,i,r){P(t,function(t){P(t,function(t){var e,n;t.inEdges.length&&(n=oh(t.inEdges,nh,r)/oh(t.inEdges,rh,r),"vertical"===r?(e=t.getLayout().x+(n-ih(t,r))*i,t.setLayout({x:e},!0)):(n=t.getLayout().y+(n-ih(t,r))*i,t.setLayout({y:n},!0)))})})}(s,l,a),th(s,r,n,i,a)}(t,e,o,r,i,a,s),l=s,P(t=t,function(t){"vertical"===l?(t.outEdges.sort(function(t,e){return t.node2.getLayout().x-e.node2.getLayout().x}),t.inEdges.sort(function(t,e){return t.node1.getLayout().x-e.node1.getLayout().x})):(t.outEdges.sort(function(t,e){return t.node2.getLayout().y-e.node2.getLayout().y}),t.inEdges.sort(function(t,e){return t.node1.getLayout().y-e.node1.getLayout().y}))}),P(t,function(t){var e=0,n=0;P(t.outEdges,function(t){t.setLayout({sy:e},!0),e+=t.getLayout().dy}),P(t.inEdges,function(t){t.setLayout({ty:n},!0),n+=t.getLayout().dy})})}function th(t,l,u,c,h){P(t,function(t){var e,n,i,r,o,a=0,s=t.length;if("vertical"===h){for(t.sort(function(t,e){return t.getLayout().x-e.getLayout().x}),i=0;i<s;i++)0<(n=a-(e=t[i]).getLayout().x)&&(r=e.getLayout().x+n,e.setLayout({x:r},!0)),a=e.getLayout().x+e.getLayout().dx+l;if(0<(n=a-l-c))for(r=e.getLayout().x-n,e.setLayout({x:r},!0),a=r,i=s-2;0<=i;--i)0<(n=(e=t[i]).getLayout().x+e.getLayout().dx+l-a)&&(r=e.getLayout().x-n,e.setLayout({x:r},!0)),a=e.getLayout().x}else{for(t.sort(function(t,e){return t.getLayout().y-e.getLayout().y}),i=0;i<s;i++)0<(n=a-(e=t[i]).getLayout().y)&&(o=e.getLayout().y+n,e.setLayout({y:o},!0)),a=e.getLayout().y+e.getLayout().dy+l;if(0<(n=a-l-u))for(o=e.getLayout().y-n,e.setLayout({y:o},!0),a=o,i=s-2;0<=i;--i)0<(n=(e=t[i]).getLayout().y+e.getLayout().dy+l-a)&&(o=e.getLayout().y-n,e.setLayout({y:o},!0)),a=e.getLayout().y}})}function eh(t,e){return ih(t.node2,e)*t.getValue()}function nh(t,e){return ih(t.node1,e)*t.getValue()}function ih(t,e){return"vertical"===e?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function rh(t){return t.getValue()}function oh(t,e,n){for(var i=0,r=t.length,o=-1;++o<r;){var a=+e.call(t,t[o],n);isNaN(a)||(i+=a)}return i}function ah(t,e,n,i,r){var o,a,s=t.ends,s=new yw({shape:{points:r?(o=i,a=t,I(s,function(t){return(t=t.slice())[o]=a.initBaseline,t})):s}});return sh(t,s,e,n,r),s}function sh(t,e,n,i,r){var o=n.hostModel;(0,Dy[r?"initProps":"updateProps"])(e,{shape:{points:t.ends}},o,i);t=n.getItemModel(i),o=t.getModel(gw),i=n.getItemVisual(i,"color"),o=o.getItemStyle(["borderColor"]);o.stroke=i,o.strokeNoScale=!0,e.useStyle(o),e.z2=100,di(e,t.getModel(mw).getItemStyle())}function lh(t,e,n){var i,r=t.ends;return new Mw({shape:{points:n?(i=t,I(r,function(t){return(t=t.slice())[1]=i.initBaseline,t})):r},z2:100})}function uh(t,e,n,i){var r=e.getItemModel(n),o=r.getModel(_w),a=e.getItemVisual(n,"color"),n=e.getItemVisual(n,"borderColor")||a,o=o.getItemStyle(ww);t.useStyle(o),t.style.strokeNoScale=!0,t.style.fill=a,t.style.stroke=n,t.__simpleBox=i,di(t,r.getModel(bw).getItemStyle())}function ch(t,e,n){var i=t.getData(),r=i.getLayout("largePoints"),o=new Aw({shape:{points:r},__sign:1});e.add(o);r=new Aw({shape:{points:r},__sign:-1});e.add(r),hh(1,o,t,i),hh(-1,r,t,i),n&&(o.incremental=!0,r.incremental=!0)}function hh(t,e,n,i){t=0<t?"P":"N",t=i.getVisual("borderColor"+t)||i.getVisual("color"+t),n=n.getModel(_w).getItemStyle(ww);e.useStyle(n),e.style.fill=null,e.style.stroke=t}function dh(t,e,n,i,r){return!(i<n)&&(n<i||!(0<e)||t.get(r,e-1)<=i)?1:-1}function fh(t,e){t.eachChild(function(t){t.attr({z:e.z,zlevel:e.zlevel,style:{stroke:"stroke"===e.brushType?e.color:null,fill:"fill"===e.brushType?e.color:null}})})}function ph(t,e){tm.call(this);var n=new ds(t,e),i=new tm;this.add(n),this.add(i),i.beforeUpdate=function(){this.attr(n.getScale())},this.updateData(t,e)}function gh(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=I(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),l([e,t[0],t[1]])}))}function mh(t,e,n){tm.call(this),this.add(this.createLine(t,e,n)),this._updateEffectSymbol(t,e)}function yh(t,e,n){tm.call(this),this._createPolyline(t,e,n)}function vh(t,e,n){mh.call(this,t,e,n),this._lastFrame=0,this._lastFramePercent=0}function xh(){this.group=new tm}function _h(t){return t=!(t instanceof Array)?[t,t]:t}function bh(){var t=sg();this.canvas=t,this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={}}function wh(t,e,n,i){var r,o,a,s,l,u=t.getItemLayout(e),c=n.get("symbolRepeat"),h=n.get("symbolClip"),d=n.get("symbolPosition")||"start",f=(n.get("symbolRotate")||0)*Math.PI/180||0,p=n.get("symbolPatternSize")||2,g=n.isAnimationEnabled(),m={dataIndex:e,layout:u,itemModel:n,symbolType:t.getItemVisual(e,"symbol")||"circle",color:t.getItemVisual(e,"color"),symbolClip:h,symbolRepeat:c,symbolRepeatDirection:n.get("symbolRepeatDirection"),symbolPatternSize:p,rotation:f,animationModel:g?n:null,hoverAnimation:g&&n.get("hoverAnimation"),z2:n.getShallow("z",!0)||0};(function(t,e,n,i,r){var o=i.valueDim,a=t.get("symbolBoundingData"),s=i.coordSys.getOtherAxis(i.coordSys.getBaseAxis()),l=s.toGlobalCoord(s.dataToCoord(0)),u=1-(n[o.wh]<=0);l=T(a)?((t=[Mh(s,a[0])-l,Mh(s,a[1])-l])[1]<t[0]&&t.reverse(),t[u]):null!=a?Mh(s,a)-l:e?i.coordSysExtent[o.index][u]-l:n[o.wh];r.boundingLength=l,e&&(r.repeatCutLength=n[o.wh]),r.pxSign=0<l?1:l<0?-1:0})(n,c,u,i,m),r=t,o=e,a=u,s=c,l=m.boundingLength,y=m.pxSign,h=p,g=m,e=(t=i).valueDim,p=t.categoryDim,a=Math.abs(a[p.wh]),(o=T(o=r.getItemVisual(o,"symbolSize"))?o.slice():[o=null==o?"100%":o,o])[p.index]=zi(o[p.index],a),o[e.index]=zi(o[e.index],s?a:Math.abs(l)),g.symbolSize=o,(g.symbolScale=[o[0]/h,o[1]/h])[e.index]*=(t.isHorizontal?-1:1)*y,function(t,e,n,i,r){t=t.get(jw)||0;t&&(Rw.attr({scale:e.slice(),rotation:n}),Rw.updateTransform(),t/=Rw.getLineScale(),t*=e[i.valueDim.index]),r.valueLineWidth=t}(n,m.symbolScale,f,i,m);var y=m.symbolSize,f=n.get("symbolOffset");return function(t,e,n,i,r,o,a,s,l,u,c){var h=u.categoryDim,d=u.valueDim,f=c.pxSign,p=Math.max(e[d.index]+a,0),g=p;{var m,y,v;i&&(m=Math.abs(s),x=O(t.get("symbolMargin"),"15%")+"",y=!1,x.lastIndexOf("!")===x.length-1&&(y=!0,x=x.slice(0,x.length-1)),x=zi(x,e[d.index]),v=Math.max(p+2*x,0),a=y?0:2*x,t=Ji(i),e=t?i:Rh((m+a)/v),v=p+2*(x=(m-e*p)/2/(y?e:e-1)),a=y?0:2*x,t||"fixed"===i||(e=l?Rh((Math.abs(l)+a)/v):0),g=e*v-a,c.repeatTimes=e,c.symbolMargin=x)}var x=f*(g/2),g=c.pathPosition=[];g[h.index]=n[h.wh]/2,g[d.index]="start"===o?x:"end"===o?s-x:s/2,r&&(g[0]+=r[0],g[1]+=r[1]);r=c.bundlePosition=[];r[h.index]=n[h.xy],r[d.index]=n[d.xy];r=c.barRectShape=S({},n);r[d.wh]=f*Math.max(Math.abs(n[d.wh]),Math.abs(g[d.index]+x)),r[h.wh]=n[h.wh];c=c.clipShape={};c[h.xy]=-n[h.xy],c[h.wh]=u.ecSize[h.wh],c[d.xy]=0,c[d.wh]=n[d.wh]}(n,y,u,c,f=T(f)?[zi(f[0],y[0]),zi(f[1],y[1])]:f,d,m.valueLineWidth,m.boundingLength,m.repeatCutLength,i,m),m}function Mh(t,e){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(e)))}function Ah(t){var e=t.symbolPatternSize,t=Ja(t.symbolType,-e/2,-e/2,e,e,t.color);return t.attr({culling:!0}),"image"!==t.type&&t.setStyle({strokeNoScale:!0}),t}function Ih(t,e,r,n){function i(t){var e=l.slice(),n=r.pxSign,i=t;return("start"===r.symbolRepeatDirection?0<n:n<0)&&(i=c-1-t),e[u.index]=d*(i-c/2+.5)+l[u.index],{position:e,scale:r.symbolScale.slice(),rotation:r.rotation}}var o=t.__pictorialBundle,a=r.symbolSize,s=r.valueLineWidth,l=r.pathPosition,u=e.valueDim,c=r.repeatTimes||0,h=0,d=a[e.valueDim.index]+s+2*r.symbolMargin;for(zh(t,function(t){t.__pictorialAnimationIndex=h,t.__pictorialRepeatTimes=c,h<c?jh(t,null,i(h),r,n):jh(t,null,{scale:[0,0]},r,n,function(){o.remove(t)}),kh(t,r),h++});h<c;h++){var f=Ah(r);f.__pictorialAnimationIndex=h,f.__pictorialRepeatTimes=c,o.add(f);var p=i(h);jh(f,{position:p.position,scale:[0,0]},{scale:p.scale,rotation:p.rotation},r,n),f.on("mouseover",function(){zh(t,function(t){t.trigger("emphasis")})}).on("mouseout",function(){zh(t,function(t){t.trigger("normal")})}),kh(f,r)}}function Ch(t,e,n,i){var r=t.__pictorialBundle,o=t.__pictorialMainPath;o?jh(o,null,{position:n.pathPosition.slice(),scale:n.symbolScale.slice(),rotation:n.rotation},n,i):(o=t.__pictorialMainPath=Ah(n),r.add(o),jh(o,{position:n.pathPosition.slice(),scale:[0,0],rotation:n.rotation},{scale:n.symbolScale.slice()},n,i),o.on("mouseover",function(){this.trigger("emphasis")}).on("mouseout",function(){this.trigger("normal")})),kh(o,n)}function Sh(t,e,n){var i=S({},e.barRectShape),r=t.__pictorialBarRect;r?jh(r,null,{shape:i},e,n):(r=t.__pictorialBarRect=new dy({z2:2,shape:i,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),t.add(r))}function Th(t,e,n,i){var r,o,a,s;n.symbolClip&&(r=t.__pictorialClipPath,o=S({},n.clipShape),a=e.valueDim,s=n.animationModel,e=n.dataIndex,r?Mi(r,{shape:o},s,e):(o[a.wh]=0,r=new dy({shape:o}),t.__pictorialBundle.setClipPath(r),t.__pictorialClipPath=r,(t={})[a.wh]=n.clipShape[a.wh],Dy[i?"updateProps":"initProps"](r,{shape:t},s,e)))}function Dh(t,e){e=t.getItemModel(e);return e.getAnimationDelayParams=Nh,e.isAnimationEnabled=Lh,e}function Nh(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function Lh(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function kh(t,e){t.off("emphasis").off("normal");var n=e.symbolScale.slice();e.hoverAnimation&&t.on("emphasis",function(){this.animateTo({scale:[1.1*n[0],1.1*n[1]]},400,"elasticOut")}).on("normal",function(){this.animateTo({scale:n.slice()},400,"elasticOut")})}function Eh(t,e,n,i){var r=new tm,o=new tm;return r.add(o),(r.__pictorialBundle=o).attr("position",n.bundlePosition.slice()),n.symbolRepeat?Ih(r,e,n):Ch(r,0,n),Sh(r,n,i),Th(r,e,n,i),r.__pictorialShapeStr=Ph(t,n),r.__pictorialSymbolMeta=n,r}function Oh(t,e,n,i){var r=i.__pictorialBarRect;r&&(r.style.text=null);var o=[];zh(i,function(t){o.push(t)}),i.__pictorialMainPath&&o.push(i.__pictorialMainPath),i.__pictorialClipPath&&(n=null),P(o,function(t){Mi(t,{scale:[0,0]},n,e,function(){i.parent&&i.parent.remove(i)})}),t.setItemGraphicEl(e,null)}function Ph(t,e){return[t.getItemVisual(e.dataIndex,"symbol")||"none",!!e.symbolRepeat,!!e.symbolClip].join(":")}function zh(e,n,i){P(e.__pictorialBundle.children(),function(t){t!==e.__pictorialBarRect&&n.call(i,t)})}function jh(t,e,n,i,r,o){e&&t.attr(e),i.symbolClip&&!r?n&&t.attr(n):n&&Dy[r?"updateProps":"initProps"](t,n,i.animationModel,i.dataIndex,o)}function Yh(t,e,n){var i=n.color,r=n.dataIndex,o=n.itemModel,a=o.getModel("itemStyle").getItemStyle(["color"]),s=o.getModel("emphasis.itemStyle").getItemStyle(),l=o.getShallow("cursor");zh(t,function(t){t.setColor(i),t.setStyle(D({fill:i,opacity:n.opacity},a)),di(t,s),l&&(t.cursor=l),t.z2=n.z2});var u={},t=(e.valueDim.posDesc[+(0<n.boundingLength)],t.__pictorialBarRect);rl(t.style,u,o,i,e.seriesModel,r),di(t,u)}function Rh(t){var e=Math.round(t);return Math.abs(t-e)<1e-4?e:Math.ceil(t)}function Bh(t,e,n){this.dimension="single",this.dimensions=["single"],this._axis=null,this._rect,this._init(t,e,n),this.model=t}function Fh(t,e){e=e||{};var n=t.coordinateSystem,i=t.axis,r={},o=i.position,a=i.orient,i=n.getRect(),n=[i.x,i.x+i.width,i.y,i.y+i.height],i={horizontal:{top:n[2],bottom:n[3]},vertical:{left:n[0],right:n[1]}};r.position=["vertical"===a?i.vertical[o]:n[0],"horizontal"===a?i.horizontal[o]:n[3]];r.rotation=Math.PI/2*{horizontal:0,vertical:1}[a];r.labelDirection=r.tickDirection=r.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],t.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),O(e.labelInside,t.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);e=e.rotate;return null==e&&(e=t.get("axisLabel.rotate")),r.labelRotation="top"===o?-e:e,r.z2=1,r}function Hh(t,e,n,i,r){var o,a,s,l,u,c,h,d,f,p,g=t.axis;!g.scale.isBlank()&&g.containData(e)&&(t.involveSeries?(s=(o=(l=e,u=t.axis,c=u.dim,h=l,d=[],f=Number.MAX_VALUE,p=-1,Gw(t.seriesModels,function(e,t){var n=e.getData().mapDimension(c,!0);if(e.getAxisTooltipData)var i=e.getAxisTooltipData(n,l,u),r=i.dataIndices,o=i.nestestValue;else{if(!(r=e.getData().indicesOfNearest(n[0],l,"category"===u.type?.5:null)).length)return;o=e.getData().get(n[0],r[0])}null!=o&&isFinite(o)&&(i=l-o,(n=Math.abs(i))<=f&&((n<f||0<=i&&p<0)&&(f=n,p=i,h=o,d.length=0),Gw(r,function(t){d.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}),{payloadBatch:d,snapToValue:h})).snapToValue,(a=o.payloadBatch)[0]&&null==r.seriesIndex&&S(r,a[0]),!i&&t.snap&&g.containData(s)&&null!=s&&(e=s),n.showPointer(t,e,a,r),n.showTooltip(t,o,s)):n.showPointer(t,e))}function Wh(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function Gh(t,e,n,i){var r,o=n.payloadBatch,a=e.axis,s=a.model,l=e.axisPointerModel;e.triggerTooltip&&o.length&&(n=tl(r=e.coordSys.model),(e=t.map[n])||(e=t.map[n]={coordSysId:r.id,coordSysIndex:r.componentIndex,coordSysType:r.type,coordSysMainType:r.mainType,dataByAxis:[]},t.list.push(e)),e.dataByAxis.push({axisDim:a.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:o.slice()}))}function Uh(t){var e=t.axis.model,n={},t=n.axisDim=t.axis.dim;return n.axisIndex=n[t+"AxisIndex"]=e.componentIndex,n.axisName=n[t+"AxisName"]=e.name,n.axisId=n[t+"AxisId"]=e.id,n}function Zh(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function Vh(t,e,n){var i,h,d;function r(t,c){h.on(t,function(e){var n,i,t,r,o,a,s,l=(n=d,{dispatchAction:u,pendings:i={showTip:[],hideTip:[]}});function u(t){var e=i[t.type];e?e.push(t):(t.dispatchAction=u,n.dispatchAction(t))}Xw(Vw(h).records,function(t){t&&c(t,e,l.dispatchAction)}),r=d,a=(t=l.pendings).showTip.length,s=t.hideTip.length,a?o=t.showTip[a-1]:s&&(o=t.hideTip[s-1]),o&&(o.dispatchAction=null,r.dispatchAction(o))})}Jp.node||(i=e.getZr(),Vw(i).records||(Vw(i).records={}),d=e,Vw(h=i).initialized||(Vw(h).initialized=!0,r("click",N(qh,"click")),r("mousemove",N(qh,"mousemove")),r("globalout",Xh)),(Vw(i).records[t]||(Vw(i).records[t]={})).handler=n)}function Xh(t,e,n){t.handler("leave",null,n)}function qh(t,e,n,i){e.handler(t,n,i)}function Jh(t,e){Jp.node||(e=e.getZr(),(Vw(e).records||{})[t]&&(Vw(e).records[t]=null))}function $h(){}function Qh(t,e,n,i){!function n(i,t){if(E(i)&&E(t)){var r=!0;return P(t,function(t,e){r=r&&n(i[e],t)}),!!r}return i===t}(Jw(n).lastProp,i)&&(Jw(n).lastProp=i,e?Mi(n,i,t):(n.stopAnimation(),n.attr(i)))}function Kh(t,e){t[e.get("label.show")?"show":"hide"]()}function td(t){return{position:t.position.slice(),rotation:t.rotation||0}}function ed(t,e,n){var i=e.get("z"),r=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=r&&(t.zlevel=r),t.silent=n)})}function nd(t){var e,n=t.get("type"),t=t.getModel(n+"Style");return"line"===n?(e=t.getLineStyle()).fill=null:"shadow"===n&&((e=t.getAreaStyle()).stroke=null),e}function id(t,e,n,i,r){var o=rd(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),a=n.getModel("label"),s=Hy(a.get("padding")||0),l=a.getFont(),u=fe(o,l),c=r.position,h=u.width+s[1]+s[3],d=u.height+s[0]+s[2],n=r.align;"right"===n&&(c[0]-=h),"center"===n&&(c[0]-=h/2);u=r.verticalAlign;"bottom"===u&&(c[1]-=d),"middle"===u&&(c[1]-=d/2),s=c,n=h,r=d,i=(u=i).getWidth(),u=u.getHeight(),s[0]=Math.min(s[0]+n,i)-n,s[1]=Math.min(s[1]+r,u)-r,s[0]=Math.max(s[0],0),s[1]=Math.max(s[1],0);s=a.get("backgroundColor");s&&"auto"!==s||(s=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:h,height:d,r:a.get("borderRadius")},position:c.slice(),style:{text:o,textFont:l,textFill:a.getTextColor(),textPosition:"inside",fill:s,stroke:a.get("borderColor")||"transparent",lineWidth:a.get("borderWidth")||0,shadowBlur:a.get("shadowBlur"),shadowColor:a.get("shadowColor"),shadowOffsetX:a.get("shadowOffsetX"),shadowOffsetY:a.get("shadowOffsetY")},z2:10}}function rd(t,e,n,i,r){t=e.scale.parse(t);var o,a=e.scale.getLabel(t,{precision:r.precision}),r=r.formatter;return r&&(o={value:Va(e,t),seriesData:[]},P(i,function(t){var e=n.getSeriesByIndex(t.seriesIndex),t=t.dataIndexInside,t=e&&e.getDataParams(t);t&&o.seriesData.push(t)}),L(r)?a=r.replace("{value}",a):m(r)&&(a=r(o))),a}function od(t,e,n){var i=dt();return yt(i,i,n.rotation),mt(i,i,n.position),Ci([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function ad(t,e,n,i,r,o){var a=$x.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get("label.margin"),id(e,i,r,o,{position:od(i.axis,t,n),align:a.textAlign,verticalAlign:a.textVerticalAlign})}function sd(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}}function ld(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}function ud(t,e,n,i,r,o){return{cx:t,cy:e,r0:n,r:i,startAngle:r,endAngle:o,clockwise:!0}}function cd(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}function hd(t){return"x"===t.dim?0:1}function dd(t){return t.isHorizontal()?0:1}function fd(t,e){t=t.getRect();return[t[tM[e]],t[tM[e]]+t[eM[e]]]}function pd(n,t,e){if(n.count())for(var i,r=t.coordinateSystem,o=t.getLayerSeries(),a=n.mapDimension("single"),s=n.mapDimension("value"),l=I(o,function(t){return I(t.indices,function(t){var e=r.dataToPoint(n.get(a,t));return e[1]=n.get(s,t),e})}),t=function(t){for(var e=t.length,n=t[0].length,i=[],r=[],o=0,a={},s=0;s<n;++s){for(var l=0,u=0;l<e;++l)u+=t[l][s][1];o<u&&(o=u),i.push(u)}for(var c=0;c<n;++c)r[c]=(o-i[c])/2;for(var h=o=0;h<n;++h){var d=i[h]+r[h];o<d&&(o=d)}return a.y0=r,a.max=o,a}(l),u=t.y0,c=e/t.max,h=o.length,d=o[0].indices.length,f=0;f<d;++f){i=u[f]*c,n.setItemLayout(o[0].indices[f],{layerIndex:0,x:l[0][f][0],y0:i,y:l[0][f][1]*c});for(var p=1;p<h;++p)i+=l[p-1][f][1]*c,n.setItemLayout(o[p].indices[f],{layerIndex:p,x:l[p][f][0],y0:i,y:l[p][f][1]*c})}}function gd(t,e,n){function i(){a.ignore=a.hoverIgnore}function r(){a.ignore=a.normalIgnore}tm.call(this);var o=new ly({z2:2});o.seriesIndex=e.seriesIndex;var a=new U0({z2:4,silent:t.getModel("label").get("silent")});this.add(o),this.add(a),this.updateData(!0,t,"normal",e,n),this.on("emphasis",i).on("normal",r).on("mouseover",i).on("mouseout",r)}function md(t,e,n){var i=t.getVisual("color"),r=t.getVisual("visualMeta");r&&0!==r.length||(i=null);r=t.getModel("itemStyle").get("color");if(r)return r;if(i)return i;if(0===t.depth)return n.option.color[0];i=n.option.color.length;return n.option.color[function(t){for(var e=t;1<e.depth;)e=e.parentNode;return p(t.getAncestors()[0].children,e)}(t)%i]}function yd(t,e){var n=t.children||[];t.children=function(t,e){if("function"==typeof e)return t.sort(e);var i="asc"===e;return t.sort(function(t,e){var n=(t.getValue()-e.getValue())*(i?1:-1);return 0==n?(t.dataIndex-e.dataIndex)*(i?-1:1):n})}(n,e),n.length&&P(t.children,function(t){yd(t,e)})}function vd(i,r){return r=r||[0,0],I(["x","y"],function(t,e){var n=this.getAxis(t),t=r[e],e=i[e]/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(t-e)-n.dataToCoord(t+e))},this)}function xd(o,a){return a=a||[0,0],I([0,1],function(t){var e=a[t],n=o[t]/2,i=[],r=[];return i[t]=e-n,r[t]=e+n,i[1-t]=r[1-t]=a[1-t],Math.abs(this.dataToPoint(i)[t]-this.dataToPoint(r)[t])},this)}function _d(t,e){var n=this.getAxis(),e=e instanceof Array?e[0]:e,t=(t instanceof Array?t[0]:t)/2;return"category"===n.type?n.getBandWidth():Math.abs(n.dataToCoord(e-t)-n.dataToCoord(e+t))}function bd(o,a){return I(["Radius","Angle"],function(t,e){var n=this["get"+t+"Axis"](),i=a[e],r=o[e]/2,e="dataTo"+t,r="category"===n.type?n.getBandWidth():Math.abs(n[e](i-r)-n[e](i+r));return r="Angle"===t?r*Math.PI/180:r},this)}function wd(t,e,n,i,r){null==n[t]||r||(e[t]=n[t],n[t]=i[t])}function Md(r,o,e,t){function a(t){null==t&&(t=l),y&&(u=o.getItemModel(t),c=u.getModel(dM),h=u.getModel(fM),d=o.getItemVisual(t,"color"),y=!1)}var n=r.get("renderItem"),i=r.coordinateSystem,s={};i&&(s=i.prepareCustoms?i.prepareCustoms():gM[i.type](i));var l,u,c,h,d,f,p,g=D({getWidth:t.getWidth,getHeight:t.getHeight,getZr:t.getZr,getDevicePixelRatio:t.getDevicePixelRatio,value:function(t,e){return null==e&&(e=l),o.get(o.getDimension(t||0),e)},style:function(t,e){a(e=null==e?l:e);var n=u.getModel(cM).getItemStyle();null!=d&&(n.fill=d);var i=o.getItemVisual(e,"opacity");return null!=i&&(n.opacity=i),gi(n,c,null,{autoColor:d,isRectText:!0}),n.text=c.getShallow("show")?z(r.getFormattedLabel(e,"normal"),hs(o,e)):null,t&&S(n,t),n},styleEmphasis:function(t,e){a(e=null==e?l:e);var n=u.getModel(hM).getItemStyle();return gi(n,h,null,{isRectText:!0},!0),n.text=h.getShallow("show")?j(r.getFormattedLabel(e,"emphasis"),r.getFormattedLabel(e,"normal"),hs(o,e)):null,t&&S(n,t),n},visual:function(t,e){return null==e&&(e=l),o.getItemVisual(e,t)},barLayout:function(t){if(i.getBaseAxis)return function(t){var e=[],n=t.axis;if("category"===n.type){for(var i=n.getBandWidth(),r=0;r<t.count;r++)e.push(D({bandWidth:i,axisKey:"axis0",stackId:tx+r},t));for(var o=za(e),a=[],r=0;r<t.count;r++){var s=o.axis0[tx+r];s.offsetCenter=s.offset+s.width/2,a.push(s)}return a}}(D({axis:i.getBaseAxis()},t))},currentSeriesIndices:function(){return e.getCurrentSeriesIndices()},font:function(t){return bi(t,e)}},s.api||{}),m={context:{},seriesId:r.id,seriesName:r.name,seriesIndex:r.seriesIndex,coordSys:s.coordSys,dataInsideLength:o.count(),encode:(f=r.getData(),p={},P(f.dimensions,function(t,e){var n=f.getDimensionInfo(t);n.isExtraCoord||(t=n.coordDim,(p[t]=p[t]||[])[n.coordDimIndex]=e)}),p)},y=!0;return function(t,e){return l=t,y=!0,n&&n(D({dataIndexInside:t,dataIndex:o.getRawIndex(t),actionType:e?e.type:null},m),g)}}function Ad(t,e,n,i,r,o){return(t=Id(t,e,n,i,r,o,!0))&&o.setItemGraphicEl(e,t),t}function Id(t,e,n,i,r,o,a){var s,l,u,c,h,d,f,p,g,m=!n,y=(n=n||{}).type,v=n.shape,x=n.style;if(t&&(m||null!=y&&y!==t.__customGraphicType||"path"===y&&((g=v)&&(g.hasOwnProperty("pathData")||g.hasOwnProperty("d")))&&Dd(v)!==t.__customPathData||"image"===y&&Nd(x,"image")&&x.image!==t.__customImagePath||"text"===y&&Nd(v,"text")&&x.text!==t.__customText)&&(r.remove(t),t=null),!m){var x=!t;return t||("path"===(p=(h=n).type)?(m=null!=(d=h.shape).width&&null!=d.height?{x:d.x||0,y:d.y||0,width:d.width,height:d.height}:null,(d=Xn(f=Dd(d),null,m,d.layout||"center")).__customPathData=f):"image"===p?(d=new He({})).__customImagePath=h.style.image:"text"===p?(d=new U0({})).__customText=h.style.text:d=new Dy[p.charAt(0).toUpperCase()+p.slice(1)],d.__customGraphicType=p,d.name=h.name,t=d),s=t,f=e,p=i,l=x,h=a,d={},c=(x=n).style||{},x.shape&&(d.shape=C(x.shape)),x.position&&(d.position=x.position.slice()),x.scale&&(d.scale=x.scale.slice()),x.origin&&(d.origin=x.origin.slice()),x.rotation&&(d.rotation=x.rotation),"image"===s.type&&x.style&&(u=d.style={},P(["x","y","width","height"],function(t){wd(t,u,c,s.style,l)})),"text"===s.type&&x.style&&(u=d.style={},P(["x","y"],function(t){wd(t,u,c,s.style,l)}),!c.hasOwnProperty("textFill")&&c.fill&&(c.textFill=c.fill),!c.hasOwnProperty("textStroke")&&c.stroke&&(c.textStroke=c.stroke)),"group"!==s.type&&(s.useStyle(c),l)&&(s.style.opacity=0,a=c.opacity,Ai(s,{style:{opacity:a=null==a?1:a}},p,f)),l?s.attr(d):Mi(s,d,p,f),x.hasOwnProperty("z2")&&s.attr("z2",x.z2||0),x.hasOwnProperty("silent")&&s.attr("silent",x.silent),x.hasOwnProperty("invisible")&&s.attr("invisible",x.invisible),x.hasOwnProperty("ignore")&&s.attr("ignore",x.ignore),x.hasOwnProperty("info")&&s.attr("info",x.info),f=x.styleEmphasis,x=!1===f,s.__cusHasEmphStl&&null==f||!s.__cusHasEmphStl&&x||(ai(s,f),s.__cusHasEmphStl=!x),h&&fi(s,!x),"group"===y&&function(t,e,n,i,r){var o=n.children,a=o?o.length:0,s=n.$mergeChildren,n="byName"===s||n.diffChildrenByName,s=!1===s;if(a||n||s)if(n)!function(t){new sa(t.oldChildren,t.newChildren,Cd,Cd,t).add(Sd).update(Sd).remove(Td).execute()}({oldChildren:t.children()||[],newChildren:o||[],dataIndex:e,animatableModel:i,group:t,data:r});else{s&&t.removeAll();for(var l=0;l<a;l++)o[l]&&Id(t.childAt(l),e,o[l],i,t,r)}}(t,e,n,i,o),r.add(t),t}}function Cd(t,e){t=t&&t.name;return null!=t?t:pM+e}function Sd(t,e){var n=this.context,t=null!=t?n.newChildren[t]:null;Id(null!=e?n.oldChildren[e]:null,n.dataIndex,t,n.animatableModel,n.group,n.data)}function Td(t){var e=this.context,t=e.oldChildren[t];t&&e.group.remove(t)}function Dd(t){return t&&(t.pathData||t.d)}function Nd(t,e){return t&&t.hasOwnProperty(e)}function Ld(t,e,n,i){var r=n.type,n=new Dy[r.charAt(0).toUpperCase()+r.slice(1)](n);e.add(n),i.set(t,n),n.__ecGraphicId=t}function kd(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse(function(t){kd(t,e)}),e.removeKey(t.__ecGraphicId),n.remove(t))}function Ed(e,t){var n;return P(t,function(t){null!=e[t]&&"auto"!==e[t]&&(n=!0)}),n}function Od(t,e,n){var i,r={},o="toggleSelected"===t;return n.eachComponent("legend",function(n){o&&null!=i?n[i?"select":"unSelect"](e.name):(n[t](e.name),i=n.isSelected(e.name)),P(n.getData(),function(t){var e=t.get("name");"\n"!==e&&""!==e&&(t=n.isSelected(e),r.hasOwnProperty(e)?r[e]=r[e]&&t:r[e]=t)})}),{name:e.name,selected:r}}function Pd(t,e){var n=Hy(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),new dy({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}function zd(t,e){e.dispatchAction({type:"legendToggleSelect",name:t})}function jd(t,e,n,i){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function Yd(t,e,n,i){var r=n.getZr().storage.getDisplayList()[0];r&&r.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}function Rd(t,e,n){var i=[1,1];i[t.getOrient().index]=0,ur(e,n,{type:"box",ignoreSize:i})}function Bd(i){var n,r,e,o=[],t=i.get("transitionDuration"),a=i.get("backgroundColor"),s=i.getModel("textStyle"),l=i.get("padding");return t&&o.push((e="left "+t+"s cubic-bezier(0.23, 1, 0.32, 1),top "+t+"s cubic-bezier(0.23, 1, 0.32, 1)",I(TM,function(t){return t+"transition:"+e}).join(";"))),a&&(Jp.canvasSupported?o.push("background-Color:"+a):(o.push("background-Color:#"+Pt(a)),o.push("filter:alpha(opacity=70)"))),CM(["width","color","radius"],function(t){var e="border-"+t,n=SM(e),n=i.get(n);null!=n&&o.push(e+":"+n+("color"===t?"":"px"))}),o.push((r=[],a=(n=s).get("fontSize"),(s=n.getTextColor())&&r.push("color:"+s),r.push("font:"+n.getFont()),a&&r.push("line-height:"+Math.round(3*a/2)+"px"),CM(["decoration","align"],function(t){var e=n.get(t);e&&r.push("text-"+t+":"+e)}),r.join(";"))),null!=l&&o.push("padding:"+Hy(l).join("px ")+"px"),o.join(";")+";"}function Fd(n,t){if(Jp.wxa)return null;var e=document.createElement("div"),i=this._zr=t.getZr();this.el=e,this._x=t.getWidth()/2,this._y=t.getHeight()/2,n.appendChild(e),this._container=n,this._show=!1,this._hideTimeout;var r=this;e.onmouseenter=function(){r._enterable&&(clearTimeout(r._hideTimeout),r._show=!0),r._inContent=!0},e.onmousemove=function(t){var e;t=t||window.event,r._enterable||(e=i.handler,st(n,t,!0),e.dispatch("mousemove",t))},e.onmouseleave=function(){r._enterable&&r._show&&r.hideLater(r._hideDelay),r._inContent=!1}}function Hd(t){this._zr=t.getZr(),this._show=!1,this._hideTimeout}function Wd(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(Li.isInstance(n)&&(n=n.get("tooltip",!0)),e=new Li(n="string"==typeof n?{formatter:n}:n,e,e.ecModel))}return e}function Gd(t,e){return t.dispatchAction||v(e.dispatchAction,e)}function Ud(t){return"center"===t||"middle"===t}function Zd(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function Vd(t,e){Mx.call(this,"radius",t,e),this.type="category"}function Xd(t,e){Mx.call(this,"angle",t,e=e||[0,360]),this.type="category"}function qd(t,e){return e.type||(e.data?"category":"value")}function Jd(t,e){var n,i=this,r=i.getAngleAxis(),o=i.getRadiusAxis();r.scale.setExtent(1/0,-1/0),o.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){var e;t.coordinateSystem===i&&(P((e=t.getData()).mapDimension("radius",!0),function(t){o.scale.unionExtentFromData(e,Ma(e,t))}),P(e.mapDimension("angle",!0),function(t){r.scale.unionExtentFromData(e,Ma(e,t))}))}),Ga(r.scale,r.model),Ga(o.scale,o.model),"category"!==r.type||r.onBand||(n=r.getExtent(),t=360/r.scale.count(),r.inverse?n[1]+=t:n[1]-=t,r.setExtent(n[0],n[1]))}function $d(t,e){var n;t.type=e.get("type"),t.scale=Ua(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType&&(t.inverse^=e.get("clockwise"),n=e.get("startAngle"),t.setExtent(n,n+(t.inverse?-360:360))),(e.axis=t).model=e}function Qd(t,e,n){e[1]>e[0]&&(e=e.slice().reverse());var i=t.coordToPoint([e[0],n]),n=t.coordToPoint([e[1],n]);return{x1:i[0],y1:i[1],x2:n[0],y2:n[1]}}function Kd(t){return t.getRadiusAxis().inverse?0:1}function tf(t){var e=t[0],n=t[t.length-1];e&&n&&Math.abs(Math.abs(e.coord-n.coord)-360)<1e-4&&t.pop()}function ef(i,t){t.update="updateView",Jo(t,function(t,e){var n={};return e.eachComponent({mainType:"geo",query:t},function(e){e[i](t.name),P(e.coordinateSystem.regions,function(t){n[t.name]=e.isSelected(t.name)||!1})}),{selected:n,name:t.name}})}function nf(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return 1}function rf(e,t,r){var o={};return BM(t,function(n){var i=o[n]=(t.prototype.__hidden=t.prototype,new t);function t(){}BM(e[n],function(t,e){ib.isValidType(e)&&(t={type:e,visual:t},r&&r(t,n),i[e]=new ib(t),"opacity"===e&&((t=C(t)).type="colorAlpha",i.__hidden.__alphaForOpacity=new ib(t)))})}),o}function of(e,n,t){var i;P(t,function(t){n.hasOwnProperty(t)&&nf(n[t])&&(i=!0)}),i&&P(t,function(t){n.hasOwnProperty(t)&&nf(n[t])?e[t]=C(n[t]):delete e[t]})}function af(i){var r=["x","y"],o=["width","height"];return{point:function(t,e,n){if(t){n=n.range;return sf(t[i],n)}},rect:function(t,e,n){if(t){n=n.range,t=[t[r[i]],t[r[i]]+t[o[i]]];return t[1]<t[0]&&t.reverse(),sf(t[0],n)||sf(t[1],n)||sf(n[0],t)||sf(n[1],t)}}}}function sf(t,e){return e[0]<=t&&t<=e[1]}function lf(t,e,n,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(function(t,e,n,i,r,o,a,s){var l=uf(n-t,r-a,i-e,o-s);if(function(t){return t<=1e-6&&-1e-6<=t}(l))return!1;s=uf(r-t,r-a,o-e,o-s)/l;if(s<0||1<s)return!1;l=uf(n-t,r-t,i-e,o-e)/l;return!(l<0||1<l)}(t,e,n,i,s[0],s[1],a[0],a[1]))return 1;a=s}}function uf(t,e,n,i){return t*i-e*n}function cf(t,e,n){var i=this._targetInfoList=[],r={},o=df(e,t);HM(ZM,function(t,e){n&&n.include&&!(0<=WM(n.include,e))||t(o,i,r)})}function hf(t){return t[0]>t[1]&&t.reverse(),t}function df(t,e){return un(t,e,{includeMainTypes:UM})}function ff(t,e,n,i){var r=n.getAxis(["x","y"][t]),o=hf(I([0,1],function(t){return e?r.coordToData(r.toLocalCoord(i[t])):r.toGlobalCoord(r.dataToCoord(i[t]))})),n=[];return n[t]=o,n[1-t]=[NaN,NaN],{values:o,xyMinMax:n}}function pf(t,e,n,i){return[e[0]-i[t]*n[0],e[1]-i[t]*n[1]]}function gf(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}function mf(t,e){var n;t.isDisposed()||((n=t.getZr())[KM]=!0,t.dispatchAction({type:"brushSelect",batch:e}),n[KM]=!1)}function yf(t,e,n,i){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(t[a.brushType](i,n,a.selectors,a))return 1}}function vf(t){var o=t.brushSelector;if(L(o)){var e=[];return P(FM,function(r,t){e[t]=function(t,e,n,i){t=e.getItemLayout(t);return r[o](t,n,i)}}),e}if(m(o)){var n={};return P(FM,function(t,e){n[e]=o}),n}return o}function xf(t){return new Kt(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}function _f(t,e){return g({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Li(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},e,!0)}function bf(t,e,n,i){i&&i.$from===t.id||this._brushController.setPanels(t.brushTargetManager.makePanelOpts(n)).enableBrush(t.brushOption).updateCovers(t.areas.slice())}function wf(t,e){n2[t]=e}function Mf(t){return n2[t]}function Af(t,e,n){this.model=t,this.ecModel=e,this.api=n,this._brushType,this._brushMode}function If(t,e,n){this._model=t}function Cf(t,e,n,i){var r=n.calendarModel,n=n.seriesModel,n=r?r.coordinateSystem:n?n.coordinateSystem:null;return n===this?n[t](i):null}function Sf(t,i){var r=t.cellSize;T(r)?1===r.length&&(r[1]=r[0]):r=t.cellSize=[r,r];var e=I([0,1],function(t){return(null!=(e=i)[qy[n=t][0]]||null!=e[qy[n][1]]&&null!=e[qy[n][2]])&&(r[t]="auto"),null!=r[t]&&"auto"!==r[t];var e,n});ur(t,i,{type:"box",ignoreSize:e})}function Tf(n,a,s){function l(t,n){n.nodes.push(t),a(function(e){P(s(t,e)||[],function(t){n.records[e.name][t]=!0})})}return function(t){var e,o={nodes:[],records:{}};if(a(function(t){o.records[t.name]={}}),!t)return o;for(l(t,o);e=!1,n(function(t){var n,i,r;0<=p(o.nodes,t)||(n=t,i=o,r=!1,a(function(e){P(s(n,e)||[],function(t){i.records[e.name][t]&&(r=!0)})}),!r)||(l(t,o),e=!0)}),e;);return o}}function Df(t,n,e){var i=[1/0,-1/0];return f2(e,function(t){var e=t.getData();e&&f2(e.mapDimension(n,!0),function(t){t=e.getApproximateExtent(t);t[0]<i[0]&&(i[0]=t[0]),t[1]>i[1]&&(i[1]=t[1])})}),function(t,e){var n=t.getAxisModel(),i=n.getMin(!0),r="category"===n.get("type"),t=r&&n.getCategories().length;null!=i&&"dataMin"!==i&&"function"!=typeof i?e[0]=i:r&&(e[0]=0<t?0:NaN);i=n.getMax(!0);null!=i&&"dataMax"!==i&&"function"!=typeof i?e[1]=i:r&&(e[1]=0<t?t-1:NaN),n.get("scale",!0)||(0<e[0]&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,i=i[1]<i[0]?[NaN,NaN]:i),i}function Nf(t,e){var n=t.getAxisModel(),i=t._percentWindow,r=t._valueWindow;i&&(t=Fi(r,[0,500]),t=Math.min(t,20),i=e||0===i[0]&&100===i[1],n.setRange(i?null:+r[0].toFixed(t),i?null:+r[1].toFixed(t)))}function Lf(e){var n={};return g2(["start","end","startValue","endValue","throttle"],function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}function kf(t,i){var r=t._rangePropMode,o=t.get("rangeMode");g2([["start","startValue"],["end","endValue"]],function(t,e){var n=null!=i[t[0]],t=null!=i[t[1]];n&&!t?r[e]="percent":!n&&t?r[e]="value":o?r[e]=o[e]:n&&(r[e]="percent")})}function Ef(t){return"vertical"===t?"ns-resize":"ew-resize"}function Of(t,i){var e=zf(t),r=i.dataZoomId,o=i.coordId;P(e,function(t,e){var n=t.dataZoomInfos;n[r]&&p(i.allCoordIds,o)<0&&(delete n[r],t.count--)}),jf(e);var a,n,s=e[o];s||((s=e[o]={coordId:o,dataZoomInfos:{},count:0}).controller=(a=s,n=new Nl(t.getZr()),P(["pan","zoom","scrollMove"],function(r){n.on(r,function(n){var i=[];P(a.dataZoomInfos,function(t){var e;n.isAvailableBehavior(t.dataZoomModel.option)&&(e=(e=(t.getRange||{})[r])&&e(a.controller,n),!t.dataZoomModel.get("disabled",!0)&&e&&i.push({dataZoomId:t.dataZoomId,start:e[0],end:e[1]}))}),i.length&&a.dispatchAction(i)})}),n),s.dispatchAction=N(Yf,t)),s.dataZoomInfos[r]||s.count++,s.dataZoomInfos[r]=i;var l,u,c,t=(t=s.dataZoomInfos,u={type_true:2,type_move:1,type_false:0,type_undefined:-1},c=!0,P(t,function(t){var e=t.dataZoomModel,t=!e.get("disabled",!0)&&(!e.get("zoomLock",!0)||"move");u["type_"+l]<u["type_"+t]&&(l=t),c&=e.get("preventDefaultMouseMove",!0)}),{controlType:l,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!c}});s.controller.enable(t.controlType,t.opt),s.controller.setPointerChecker(i.containsPoint),ao(s,"dispatchAction",i.dataZoomModel.get("throttle",!0),"fixRate")}function Pf(t){return t.type+"\0_"+t.id}function zf(t){t=t.getZr();return t[I2]||(t[I2]={})}function jf(n){P(n,function(t,e){t.count||(t.controller.dispose(),delete n[e])})}function Yf(t,e){t.dispatchAction({type:"dataZoom",batch:e})}function Rf(s){return function(t,e,n,i){var r=this._range,o=r.slice(),a=t.axisModels[0];if(a){i=s(o,a,t,e,n,i);return Yb(i,o,[0,100],"all"),this._range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}}}function Bf(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}function Ff(t,e,n,i){for(var r=e.targetVisuals[i],o=ib.prepareVisualTypes(r),a={color:t.getData().getVisual("color")},s=0,l=o.length;s<l;s++){var u=o[s],u=r["opacity"===u?"__alphaForOpacity":u];u&&u.applyVisual(n,function(t){return a[t]},function(t,e){a[t]=e})}return a.color}function Hf(t,e,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],a=0;a<=200&&r<n[1];a++)o.push(r),r+=i;return o.push(n[1]),o}function Wf(t,e,n){var i=t.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var t={width:e.getWidth(),height:e.getHeight()},o="horizontal"===i.orient?1:0,a=[["left","right","width"],["top","bottom","height"]],s=a[o],l=[0,null,10],u={},c=0;c<3;c++)u[a[1-o][c]]=l[c],u[s[c]]=2===c?n[0]:i[s[c]];r=[["x","width",3],["y","height",0]][o],e=sr(u,t,i.padding);return s[(e.margin[r[2]]||0)+e[r[0]]+.5*e[r[1]]<.5*t[r[1]]?0:1]}function Gf(e){return P(e||[],function(t){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null)}),e}function Uf(t,e,n,i){return new cy({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){xg(t.event)},ondragend:i})}function Zf(t){var e=t.get("hoverLinkOnHandle");return null==e?t.get("realtime"):e}function Vf(t){return"vertical"===t?"ns-resize":"ew-resize"}function Xf(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}function qf(t){tn(t,"label",["show"])}function Jf(t,e,n,i,r,o){var a=[],s=wa(e,i)?e.getCalculationInfo("stackResultDimension"):i,t=ep(e,s,t),t=e.indicesOfNearest(s,t)[0];a[r]=e.get(n,t),a[o]=e.get(i,t);t=Ri(e.get(i,t));return 0<=(t=Math.min(t,20))&&(a[o]=+a[o].toFixed(t)),a}function $f(t,e){var n=t.getData(),i=t.coordinateSystem;if(e&&(o=e,isNaN(parseFloat(o.x))||isNaN(parseFloat(o.y)))&&!T(e.coord)&&i){var r=i.dimensions,o=Qf(e,n,i,t);if((e=C(e)).type&&Q2[e.type]&&o.baseAxis&&o.valueAxis){i=$2(r,o.baseAxis.dim),t=$2(r,o.valueAxis.dim);e.coord=Q2[e.type](n,o.baseDataDim,o.valueDataDim,i,t),e.value=e.coord[t]}else{for(var a=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],s=0;s<2;s++)Q2[a[s]]&&(a[s]=ep(n,n.mapDimension(r[s]),a[s]));e.coord=a}}return e}function Qf(t,e,n,i){var r={};return null!=t.valueIndex||null!=t.valueDim?(r.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,r.valueAxis=n.getAxis(function(t,e){var n=t.getData(),i=n.dimensions;e=n.getDimension(e);for(var r=0;r<i.length;r++){var o=n.getDimensionInfo(i[r]);if(o.name===e)return o.coordDim}}(i,r.valueDataDim)),r.baseAxis=n.getOtherAxis(r.valueAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim)):(r.baseAxis=i.getBaseAxis(),r.valueAxis=n.getOtherAxis(r.baseAxis),r.baseDataDim=e.mapDimension(r.baseAxis.dim),r.valueDataDim=e.mapDimension(r.valueAxis.dim)),r}function Kf(t,e){return!(t&&t.containData&&e.coord&&(n=e,isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y))))||t.containData(e.coord);var n}function tp(t,e,n,i){return i<2?t.coord&&t.coord[i]:t.value}function ep(t,e,n){if("average"!==n)return"median"===n?t.getMedian(e):t.getDataExtent(e,!0)["max"===n?1:0];var i=0,r=0;return t.each(e,function(t,e){isNaN(t)||(i+=t,r++)}),i/r}function np(a,s,l){var u=s.coordinateSystem;a.each(function(t){var e,n,i=a.getItemModel(t),r=zi(i.get("x"),l.getWidth()),o=zi(i.get("y"),l.getHeight());isNaN(r)||isNaN(o)?s.getMarkerPosition?n=s.getMarkerPosition(a.getValues(a.dimensions,t)):u&&(e=a.get(u.dimensions[0],t),i=a.get(u.dimensions[1],t),n=u.dataToPoint([e,i])):n=[r,o],isNaN(r)||(n[0]=r),isNaN(o)||(n[1]=o),a.setItemLayout(t,n)})}function ip(t){return!isNaN(t)&&!isFinite(t)}function rp(t,e,n,i){var r=1-t,o=i.dimensions[t];return ip(e[r])&&ip(n[r])&&e[t]===n[t]&&i.getAxis(o).containData(e[t])}function op(t,e){if("cartesian2d"===t.type){var n=e[0].coord,i=e[1].coord;if(n&&i&&(rp(1,n,i,t)||rp(0,n,i,t)))return!0}return Kf(t,e[0])&&Kf(t,e[1])}function ap(t,e,n,i,r){var o,a,s,l,u=i.coordinateSystem,c=t.getItemModel(e),h=zi(c.get("x"),r.getWidth()),r=zi(c.get("y"),r.getHeight());isNaN(h)||isNaN(r)?(o=i.getMarkerPosition?i.getMarkerPosition(t.getValues(t.dimensions,e)):(l=u.dimensions,a=t.get(l[0],e),s=t.get(l[1],e),u.dataToPoint([a,s])),"cartesian2d"===u.type&&(a=u.getAxis("x"),s=u.getAxis("y"),l=u.dimensions,ip(t.get(l[0],e))?o[0]=a.toGlobalCoord(a.getExtent()[n?0:1]):ip(t.get(l[1],e))&&(o[1]=s.toGlobalCoord(s.getExtent()[n?0:1]))),isNaN(h)||(o[0]=h),isNaN(r)||(o[1]=r)):o=[h,r],t.setItemLayout(e,o)}function sp(t){return!isNaN(t)&&!isFinite(t)}function lp(t,e,n){t=1-t;return sp(e[t])&&sp(n[t])}function up(t,e){var n=e.coord[0],i=e.coord[1];return!("cartesian2d"!==t.type||!n||!i||!lp(1,n,i)&&!lp(0,n,i))||Kf(t,{coord:n,x:e.x0,y:e.y0})||Kf(t,{coord:i,x:e.x1,y:e.y1})}function cp(t,e,n,i,r){var o,a,s,l,u=i.coordinateSystem,c=t.getItemModel(e),h=zi(c.get(n[0]),r.getWidth()),r=zi(c.get(n[1]),r.getHeight());return isNaN(h)||isNaN(r)?(l=i.getMarkerPosition?i.getMarkerPosition(t.getValues(n,e)):(o=[a=t.get(n[0],e),s=t.get(n[1],e)],u.clampData&&u.clampData(o,o),u.dataToPoint(o,!0)),"cartesian2d"===u.type&&(o=u.getAxis("x"),u=u.getAxis("y"),a=t.get(n[0],e),s=t.get(n[1],e),sp(a)?l[0]=o.toGlobalCoord(o.getExtent()["x0"===n[0]?0:1]):sp(s)&&(l[1]=u.toGlobalCoord(u.getExtent()["y0"===n[1]?0:1]))),isNaN(h)||(l[0]=h),isNaN(r)||(l[1]=r)):l=[h,r],l}function hp(t){var e=t.itemStyle||(t.itemStyle={}),e=e.emphasis||(e.emphasis={}),t=t.label||t.label||{},n=t.normal||(t.normal={}),i={normal:1,emphasis:1};P(t,function(t,e){i[e]||dp(n,e)||(n[e]=t)}),e.label&&!dp(t,"emphasis")&&(t.emphasis=e.label,delete e.label)}function dp(t,e){return t.hasOwnProperty(e)}function fp(t,e,n,i,r,o){var a=e.get("color");r?(r.setColor(a),n.add(r),o&&o.onUpdate(r)):((r=Ja(t.get("symbol"),-1,-1,2,2,a)).setStyle("strokeNoScale",!0),n.add(r),o&&o.onCreate(r));n=e.getItemStyle(["color","symbol","symbolSize"]);r.setStyle(n),i=g({rectHover:!0,z2:100},i,!0);o=t.get("symbolSize");(o=o instanceof Array?o.slice():[+o,+o])[0]/=2,o[1]/=2,i.scale=o;e=t.get("symbolOffset");e&&((n=i.position=i.position||[0,0])[0]+=zi(e[0],o[0]),n[1]+=zi(e[1],o[1]));t=t.get("symbolRotate");return i.rotation=(t||0)*Math.PI/180||0,r.attr(i),r.updateTransform(),r}function pp(t,e,n,i,r){var o;t.dragging||(o=i.getModel("checkpointStyle"),e=n.dataToCoord(i.getData().get(["value"],e)),r||!o.get("animation",!0)?t.attr({position:[e,0]}):(t.stopAnimation(!0),t.animateTo({position:[e,0]},o.get("animationDuration",!0),o.get("animationEasing",!0))))}function gp(t){this.model=t}function mp(t){this.model=t}function yp(t){var r,o,a,c,t=(r={},o=[],a=[],t.eachRawSeries(function(t){var e,n,i=t.coordinateSystem;i&&("cartesian2d"===i.type||"polar"===i.type)&&"category"===(e=i.getBaseAxis()).type?(n=e.dim+"_"+e.index,r[n]||(r[n]={categoryAxis:e,valueAxis:i.getOtherAxis(e),series:[]},a.push({axisDim:e.dim,axisIndex:e.index})),r[n].series.push(t)):o.push(t)}),{seriesGroupByCategoryAxis:r,other:o,meta:a});return{value:b([(c=[],P(t.seriesGroupByCategoryAxis,function(t,e){var n=t.categoryAxis,i=t.valueAxis.dim,r=[" "].concat(I(t.series,function(t){return t.name})),o=[n.model.getCategories()];P(t.series,function(t){o.push(t.getRawData().mapArray(i,function(t){return t}))});for(var a=[r.join(hA)],s=0;s<o[0].length;s++){for(var l=[],u=0;u<o.length;u++)l.push(o[u][s]);a.push(l.join(hA))}c.push(a.join("\n"))}),c.join("\n\n"+cA+"\n\n")),I(t.other,function(t){var i=t.getRawData(),r=[t.name],o=[];return i.each(i.dimensions,function(){for(var t=arguments.length,e=i.getName(arguments[t-1]),n=0;n<t-1;n++)o[n]=arguments[n];r.push((e?e+hA:"")+o.join(hA))}),r.join("\n")}).join("\n\n"+cA+"\n\n")],function(t){return t.replace(/[\n\t\s]/g,"")}).join("\n\n"+cA+"\n\n"),meta:t.meta}}function vp(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function xp(t,r){var o={series:[]};return P(t.split(new RegExp("\n*"+cA+"\n*","g")),function(t,e){var n,i;0<=t.slice(0,t.indexOf("\n")).indexOf(hA)?(n=function(t){for(var e=t.split(/\n+/g),n=[],i=I(vp(e.shift()).split(dA),function(t){return{name:t,data:[]}}),r=0;r<e.length;r++){var o=vp(e[r]).split(dA);n.push(o.shift());for(var a=0;a<o.length;a++)i[a]&&(i[a].data[r]=o[a])}return{series:i,categories:n}}(t),e=(i=r[e]).axisDim+"Axis",i&&(o[e]=o[e]||[],o[e][i.axisIndex]={data:n.categories},o.series=o.series.concat(n.series))):(n=function(t){for(var e=t.split(/\n+/g),t=vp(e.shift()),n=[],i=0;i<e.length;i++){for(var r,o=vp(e[i]).split(dA),a=!1,s=isNaN(o[0])?(a=!0,r=o[0],o=o.slice(1),n[i]={name:r,value:[]},n[i].value):n[i]=[],l=0;l<o.length;l++)s.push(+o[l]);1===s.length&&(a?n[i].value=s[0]:n[i]=s[0])}return{name:t,data:n}}(t),o.series.push(n))}),o}function _p(t){this._dom=null,this.model=t}function bp(t){return t[pA]||(t[pA]=[{}])}function wp(t,e,n){(this._brushController=new uc(n.getZr())).on("brush",v(this._onBrush,this)).mount(),this._isZoomActive}function Mp(e){var n={};return P(["xAxisIndex","yAxisIndex"],function(t){n[t]=e[t],null==n[t]&&(n[t]="all"),!1!==n[t]&&"none"!==n[t]||(n[t]=[])}),n}function Ap(t,e){t.setIconStatus("back",1<bp(e).length?"emphasis":"normal")}function Ip(t){this.model=t}function Cp(t){return yA(t)}function Sp(t){return parseInt(t,10)}function Tp(t,e){!xA&&_A&&(xA=!0,((n=_A.styleSheets).length<31?_A.createStyleSheet():n[0]).addRule(".zrvml","behavior:url(#default#VML)")),this.root=t,this.storage=e;var n=document.createElement("div"),i=document.createElement("div");n.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;",i.style.cssText="position:absolute;left:0;top:0;",t.appendChild(n),this._vmlRoot=i,this._vmlViewport=n,this.resize();var r=e.delFromStorage,o=e.addToStorage;e.delFromStorage=function(t){r.call(e,t),t&&t.onRemove&&t.onRemove(i)},e.addToStorage=function(t){t.onAdd&&t.onAdd(i),o.call(e,t)},this._firstPaint=!0}function Dp(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Np(t){return $A(1e4*t)/1e4}function Lp(t){return t<iI&&-iI<t}function kp(t,e){e&&Ep(t,"transform","matrix("+qA.call(e,",")+")")}function Ep(t,e,n){n&&("linear"===n.type||"radial"===n.type)||("string"==typeof n&&-1<n.indexOf("NaN")&&console.log(n),t.setAttribute(e,n))}function Op(t,e,n,i){var r,o;r=e,null!=(r=n?r.textFill:r.fill)&&r!==JA?(o="transparent"===(o=n?e.textFill:e.fill)?JA:o,"none"!==t.getAttribute("clip-path")&&o===JA&&(o="rgba(0, 0, 0, 0.002)"),Ep(t,"fill",o),Ep(t,"fill-opacity",null!=e.fillOpacity?e.fillOpacity*e.opacity:e.opacity)):Ep(t,"fill",JA),o=e,null!=(o=n?o.textStroke:o.stroke)&&o!==JA?(Ep(t,"stroke",o="transparent"===(o=n?e.textStroke:e.stroke)?JA:o),Ep(t,"stroke-width",(n?e.textStrokeWidth:e.lineWidth)/(!n&&e.strokeNoScale?i.getLineScale():1)),Ep(t,"paint-order",n?"stroke":"fill"),Ep(t,"stroke-opacity",null!=e.strokeOpacity?e.strokeOpacity:e.opacity),e.lineDash?(Ep(t,"stroke-dasharray",e.lineDash.join(",")),Ep(t,"stroke-dashoffset",$A(e.lineDashOffset||0))):Ep(t,"stroke-dasharray",""),e.lineCap&&Ep(t,"stroke-linecap",e.lineCap),e.lineJoin&&Ep(t,"stroke-linejoin",e.lineJoin),e.miterLimit&&Ep(t,"stroke-miterlimit",e.miterLimit)):Ep(t,"stroke",JA)}function Pp(t){return"middle"===t?"middle":"bottom"===t?"after-edge":"hanging"}function zp(){}function jp(t,e,n,i,r){this._zrId=t,this._svgRoot=e,this._tagNames="string"==typeof n?[n]:n,this._markLabel=i,this._domName=r||"_dom",this.nextId=0}function Yp(t,e){jp.call(this,t,e,["linearGradient","radialGradient"],"__gradient_in_use__")}function Rp(t,e){jp.call(this,t,e,"clipPath","__clippath_in_use__")}function Bp(t,e){jp.call(this,t,e,["filter"],"__filter_in_use__","_shadowDom")}function Fp(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY||t.textShadowBlur||t.textShadowOffsetX||t.textShadowOffsetY)}function Hp(t){return parseInt(t,10)}function Wp(t,e){return e&&t&&e.parentNode!==t}function Gp(t,e,n){Wp(t,e)&&n&&((n=n.nextSibling)?t.insertBefore(e,n):t.appendChild(e))}function Up(t,e){var n;Wp(t,e)&&((n=t.firstChild)?t.insertBefore(e,n):t.appendChild(e))}function Zp(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)}function Vp(t){return t.__textSvgEl}function Xp(t){return t.__svgEl}var qp=2311,Jp="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:(Oy={},sy=(Ey=navigator.userAgent).match(/Firefox\/([\d.]+)/),_y=Ey.match(/MSIE\s([\d.]+)/)||Ey.match(/Trident\/.+?rv:(([\d.]+))/),Ly=Ey.match(/Edge\/([\d.]+)/),Ey=/micromessenger/i.test(Ey),sy&&(Oy.firefox=!0,Oy.version=sy[1]),_y&&(Oy.ie=!0,Oy.version=_y[1]),Ly&&(Oy.edge=!0,Oy.version=Ly[1]),Ey&&(Oy.weChat=!0),{browser:Oy,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!Oy.ie&&!Oy.edge,pointerEventsSupported:"onpointerdown"in window&&(Oy.edge||Oy.ie&&11<=Oy.version),domSupported:"undefined"!=typeof document}),$p={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Qp={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Kp=Object.prototype.toString,tg=Array.prototype,eg=tg.forEach,ng=tg.filter,ig=tg.slice,rg=tg.map,og=tg.reduce,ag={},sg=function(){return ag.createCanvas()};ag.createCanvas=function(){return document.createElement("canvas")};var lg,ug="__ec_primitive__";w.prototype={constructor:w,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=v(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}};var cg=(Object.freeze||Object)({$override:e,clone:C,merge:g,mergeAll:l,extend:S,defaults:D,createCanvas:sg,getContext:i,indexOf:p,inherits:o,mixin:r,isArrayLike:k,each:P,map:I,reduce:y,filter:b,find:function(t,e,n){if(t&&e)for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return t[i]},bind:v,curry:N,isArray:T,isFunction:m,isString:L,isObject:E,isBuiltInObject:a,isTypedArray:x,isDom:_,eqNaN:d,retrieve:O,retrieve2:z,retrieve3:j,slice:s,normalizeCssArray:n,assert:u,trim:c,setAsPrimitive:h,isPrimitive:f,createHashMap:Y,concatArray:M,noop:A}),hg="undefined"==typeof Float32Array?Array:Float32Array,dg=J,fg=$,pg=(Object.freeze||Object)({create:R,copy:B,clone:F,set:H,add:W,scaleAndAdd:G,sub:U,len:Z,length:Z,lenSquare:V,lengthSquare:V,mul:function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},div:function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:X,normalize:q,distance:J,dist:dg,distanceSquare:$,distSquare:fg,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:Q,applyTransform:K,min:tt,max:et});nt.prototype={constructor:nt,_dragStart:function(t){var e=t.target;e&&e.draggable&&((this._draggingTarget=e).dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(it(e,t),"dragstart",t.event))},_drag:function(t){var e,n,i,r,o=this._draggingTarget;o&&(i=t.offsetX,r=t.offsetY,e=i-this._x,n=r-this._y,this._x=i,this._y=r,o.drift(e,n,t),this.dispatchToElement(it(o,t),"drag",t.event),i=this.findHover(i,r,o).target,r=this._dropTarget,o!==(this._dropTarget=i)&&(r&&i!==r&&this.dispatchToElement(it(r,t),"dragleave",t.event),i&&i!==r&&this.dispatchToElement(it(i,t),"dragenter",t.event)))},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(it(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(it(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};function gg(t){this._$handlers={},this._$eventProcessor=t}var mg=Array.prototype.slice;gg.prototype={constructor:gg,one:function(t,e,n,i){var r=this._$handlers;if("function"==typeof e&&(i=n,n=e,e=null),!n||!t)return this;e=rt(this,e),r[t]||(r[t]=[]);for(var o=0;o<r[t].length;o++)if(r[t][o].h===n)return this;return r[t].push({h:n,one:!0,query:e,ctx:i||this}),this},on:function(t,e,n,i){var r=this._$handlers;if("function"==typeof e&&(i=n,n=e,e=null),!n||!t)return this;e=rt(this,e),r[t]||(r[t]=[]);for(var o=0;o<r[t].length;o++)if(r[t][o].h===n)return this;return r[t].push({h:n,one:!1,query:e,ctx:i||this}),this},isSilent:function(t){var e=this._$handlers;return e[t]&&e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,o=n[t].length;r<o;r++)n[t][r].h!==e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var i=arguments,r=i.length;3<r&&(i=mg.call(i,1));for(var o=e.length,a=0;a<o;){var s=e[a];if(n&&n.filter&&null!=s.query&&!n.filter(t,s.query))a++;else{switch(r){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,i[1]);break;case 3:s.h.call(s.ctx,i[1],i[2]);break;default:s.h.apply(s.ctx,i)}s.one?(e.splice(a,1),o--):a++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e)for(var i=arguments,r=i.length,o=(i=4<r?mg.call(i,1,i.length-1):i)[i.length-1],a=e.length,s=0;s<a;){var l=e[s];if(n&&n.filter&&null!=l.query&&!n.filter(t,l.query))s++;else{switch(r){case 1:l.h.call(o);break;case 2:l.h.call(o,i[1]);break;case 3:l.h.call(o,i[1],i[2]);break;default:l.h.apply(o,i)}l.one?(e.splice(s,1),a--):s++}}return n&&n.afterTrigger&&n.afterTrigger(t),this}};var yg="undefined"!=typeof window&&!!window.addEventListener,vg=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xg=yg?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};ht.prototype.dispose=function(){};function _g(t,e,n,i){gg.call(this),this.storage=t,this.painter=e,this.painterRoot=i,n=n||new ht,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,nt.call(this),this.setHandlerProxy(n)}var bg=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];_g.prototype={constructor:_g,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(P(bg,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(t){var e=t.zrX,n=t.zrY,i=this._hovered,r=i.target;r&&!r.__zr&&(r=(i=this.findHover(i.x,i.y)).target);var o=this._hovered=this.findHover(e,n),e=o.target,n=this.proxy;n.setCursor&&n.setCursor(e?e.cursor:"default"),r&&e!==r&&this.dispatchToElement(i,"mouseout",t),this.dispatchToElement(o,"mousemove",t),e&&e!==r&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){this.dispatchToElement(this._hovered,"mouseout",t);for(var e,n=t.toElement||t.relatedTarget;(n=n&&n.parentNode)&&9!=n.nodeType&&!(e=n===this.painterRoot););e||this.trigger("globalout",{event:t})},resize:function(t){this._hovered={}},dispatch:function(t,e){t=this[t];t&&t.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var i=(t=t||{}).target;if(!i||!i.silent){for(var r="on"+e,o={type:e,event:n,target:(t=t).target,topTarget:t.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:ct};i&&(i[r]&&(o.cancelBubble=i[r].call(i,o)),i.trigger(e,o),i=i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)}))}},findHover:function(t,e,n){for(var i,r=this.storage.getDisplayList(),o={x:t,y:e},a=r.length-1;0<=a;a--)if(r[a]!==n&&!r[a].ignore&&(i=function(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i,r=t;r;){if(r.clipPath&&!r.clipPath.contain(e,n))return!1;r.silent&&(i=!0),r=r.parent}return!i||"silent"}return!1}(r[a],t,e))&&(o.topTarget||(o.topTarget=r[a]),"silent"!==i)){o.target=r[a];break}return o}},P(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(i){_g.prototype[i]=function(t){var e=this.findHover(t.zrX,t.zrY),n=e.target;if("mousedown"===i)this._downEl=n,this._downPoint=[t.zrX,t.zrY],this._upEl=n;else if("mouseup"===i)this._upEl=n;else if("click"===i){if(this._downEl!==this._upEl||!this._downPoint||4<dg(this._downPoint,[t.zrX,t.zrY]))return;this._downPoint=null}this.dispatchToElement(e,i,t)}}),r(_g,gg),r(_g,nt);function wg(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null}var Mg="undefined"==typeof Float32Array?Array:Float32Array,Ag=(Object.freeze||Object)({create:dt,identity:ft,copy:pt,mul:gt,translate:mt,rotate:yt,scale:vt,invert:xt,clone:_t}),Ig=ft,Cg=wg.prototype;Cg.transform=null,Cg.needLocalTransform=function(){return bt(this.rotation)||bt(this.position[0])||bt(this.position[1])||bt(this.scale[0]-1)||bt(this.scale[1]-1)};var Sg=[];Cg.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),i=this.transform;n||e?(i=i||dt(),n?this.getLocalTransform(i):Ig(i),e&&(n?gt(i,t.transform,i):pt(i,t.transform)),this.transform=i,null!=(e=this.globalScaleRatio)&&1!==e&&(this.getGlobalScale(Sg),t=((Sg[1]-(n=Sg[1]<0?-1:1))*e+n)/Sg[1]||0,i[0]*=n=((Sg[0]-(n=Sg[0]<0?-1:1))*e+n)/Sg[0]||0,i[1]*=n,i[2]*=t,i[3]*=t),this.invTransform=this.invTransform||dt(),xt(this.invTransform,i)):i&&Ig(i)},Cg.getLocalTransform=function(t){return wg.getLocalTransform(this,t)},Cg.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},Cg.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var Tg=[],Dg=dt();Cg.setLocalTransform=function(t){var e,n,i,r;t&&(e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=this.position,r=this.scale,bt(e-1)&&(e=Math.sqrt(e)),bt(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),i[0]=t[4],i[1]=t[5],r[0]=e,r[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e))},Cg.decomposeTransform=function(){var t,e;this.transform&&(e=this.parent,t=this.transform,e&&e.transform&&(gt(Tg,e.invTransform,t),t=Tg),(e=this.origin)&&(e[0]||e[1])&&(Dg[4]=e[0],Dg[5]=e[1],gt(Tg,t,Dg),Tg[4]-=e[0],Tg[5]-=e[1],t=Tg),this.setLocalTransform(t))},Cg.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1])):(t[0]=1,t[1]=1),t},Cg.transformCoordToLocal=function(t,e){t=[t,e],e=this.invTransform;return e&&K(t,t,e),t},Cg.transformCoordToGlobal=function(t,e){t=[t,e],e=this.transform;return e&&K(t,t,e),t},wg.getLocalTransform=function(t,e){Ig(e=e||[]);var n=t.origin,i=t.scale||[1,1],r=t.rotation||0,t=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),vt(e,e,i),r&&yt(e,e,r),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=t[0],e[5]+=t[1],e};var Ng={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(e=!n||n<1?(n=1,.1):.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)},bounceIn:function(t){return 1-Ng.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*Ng.bounceIn(2*t):.5*Ng.bounceOut(2*t-1)+.5}};wt.prototype={constructor:wt,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else if(!((n=(t-this._startTime-this._pausedTime)/this._life)<0)){var n=Math.min(n,1),e=this.easing,e="string"==typeof e?Ng[e]:e,e="function"==typeof e?e(n):n;return this.fire("frame",e),1==n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};function Lg(){this.head=null,this.tail=null,this._len=0}var kg=Lg.prototype;kg.insert=function(t){t=new Eg(t);return this.insertEntry(t),t},kg.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},kg.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},kg.len=function(){return this._len},kg.clear=function(){this.head=this.tail=null,this._len=0};var Eg=function(t){this.value=t,this.next,this.prev},Og=function(t){this._list=new Lg,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},Pg=Og.prototype;Pg.put=function(t,e){var n,i,r=this._list,o=this._map,a=null;return null==o[t]&&(i=r.len(),n=this._lastRemovedEntry,i>=this._maxSize&&0<i&&(i=r.head,r.remove(i),delete o[i.key],a=i.value,this._lastRemovedEntry=i),n?n.value=e:n=new Eg(e),n.key=t,r.insertEntry(n),o[t]=n),a},Pg.get=function(t){var e=this._map[t],t=this._list;if(null!=e)return e!==t.tail&&(t.remove(e),t.insertEntry(e)),e.value},Pg.clear=function(){this._list.clear(),this._map={}};function zg(t,e,n,i){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||Ft,this._setter=i||Ht,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]}var jg={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Yg=new Og(20),Rg=null,Bg=(Object.freeze||Object)({parse:kt,lift:Ot,toHex:Pt,fastLerp:zt,fastMapToColor:zt,lerp:jt,mapToColor:jt,modifyHSL:Yt,modifyAlpha:Rt,stringify:Bt}),Fg=Array.prototype.slice;zg.prototype={when:function(t,e){var n,i=this._tracks;for(n in e)if(e.hasOwnProperty(n)){if(!i[n]){i[n]=[];var r=this._getter(this._target,n);if(null==r)continue;0!==t&&i[n].push({time:0,value:function(t){if(k(t)){var e=t.length;if(k(t[0])){for(var n=[],i=0;i<e;i++)n.push(Fg.call(t[i]));return n}return Fg.call(t)}return t}(r)})}i[n].push({time:t,value:e[n]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;n<e;n++)t[n].call(this)},start:function(t,e){var n,i,r,o,a=this,s=0;for(i in this._tracks)!this._tracks.hasOwnProperty(i)||(r=Jt(this,t,function(){--s||a._doneCallback()},this._tracks[i],i,e))&&(this._clipList.push(r),s++,this.animation&&this.animation.addClip(r),n=r);return n&&(o=n.onframe,n.onframe=function(t,e){o(t,e);for(var n=0;n<a._onframeList.length;n++)a._onframeList[n](t,e)}),s||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,i=0;i<e.length;i++){var r=e[i];t&&r.onframe(this._target,1),n&&n.removeClip(r)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};function Hg(){this.animators=[]}var Wg=1,Gg=Wg="undefined"!=typeof window?Math.max(window.devicePixelRatio||1,1):Wg,Ug=function(){};Hg.prototype={constructor:Hg,animate:function(t,e){var n,i=!1,r=this,o=this.__zr;if(t){for(var a=t.split("."),s=r,i="shape"===a[0],l=0,u=a.length;l<u;l++)s=s&&s[a[l]];s&&(n=s)}else n=r;if(n){var c=r.animators,h=new zg(n,e);return h.during(function(t){r.dirty(i)}).done(function(){c.splice(p(c,h),1)}),c.push(h),o&&o.animation.addAnimator(h),h}Ug('Property "'+t+'" is not existed in element '+r.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,i=0;i<n;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,e,n,i,r,o){$t(this,t,e,n,i,r,o)},animateFrom:function(t,e,n,i,r,o){$t(this,t,e,n,i,r,o,!0)}};function Zg(t){wg.call(this,t),gg.call(this,t),Hg.call(this,t),this.id=t.id||qp++}Zg.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;(n=n||(this.transform=[1,0,0,1,0,0]))[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){var n;"position"===t||"scale"===t||"origin"===t?e&&((n=(n=this[t])||(this[t]=[]))[0]=e[0],n[1]=e[1]):this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(E(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),(this.clipPath=t).__zr=e,(t.__clipTarget=this).dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},r(Zg,Hg),r(Zg,wg),r(Zg,gg);var Vg,Xg,qg,Jg,$g=K,Qg=Math.min,Kg=Math.max;Kt.prototype={constructor:Kt,union:function(t){var e=Qg(t.x,this.x),n=Qg(t.y,this.y);this.width=Kg(t.x+t.width,this.x+this.width)-e,this.height=Kg(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:(Vg=[],Xg=[],qg=[],Jg=[],function(t){var e;t&&(Vg[0]=qg[0]=this.x,Vg[1]=Jg[1]=this.y,Xg[0]=Jg[0]=this.x+this.width,Xg[1]=qg[1]=this.y+this.height,$g(Vg,Vg,t),$g(Xg,Xg,t),$g(qg,qg,t),$g(Jg,Jg,t),this.x=Qg(Vg[0],Xg[0],qg[0],Jg[0]),this.y=Qg(Vg[1],Xg[1],qg[1],Jg[1]),e=Kg(Vg[0],Xg[0],qg[0],Jg[0]),t=Kg(Vg[1],Xg[1],qg[1],Jg[1]),this.width=e-this.x,this.height=t-this.y)}),calculateTransform:function(t){var e=t.width/this.width,n=t.height/this.height,i=dt();return mt(i,i,[-this.x,-this.y]),vt(i,i,[e,n]),mt(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof Kt||(t=Kt.create(t));var e=this.x,n=this.x+this.width,i=this.y,r=this.y+this.height,o=t.x,a=t.x+t.width,s=t.y,t=t.y+t.height;return!(n<o||a<e||r<s||t<i)},contain:function(t,e){return t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height},clone:function(){return new Kt(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}};var tm=function(t){for(var e in Zg.call(this,t=t||{}),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};tm.prototype={constructor:tm,isGroup:!0,type:"group",silent:!(Kt.create=function(t){return new Kt(t.x,t.y,t.width,t.height)}),children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){var n;return t&&t!==this&&t.parent!==this&&e&&e.parent===this&&(0<=(e=(n=this._children).indexOf(e))&&(n.splice(e,0,t),this._doAdd(t))),this},_doAdd:function(t){t.parent&&t.parent.remove(t);var e=(t.parent=this).__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof tm&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,i=this._children,r=p(i,t);return r<0||(i.splice(r,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof tm&&t.delChildrenFromStorage(n)),e&&e.refresh()),this},removeAll:function(){for(var t,e=this._children,n=this.__storage,i=0;i<e.length;i++)t=e[i],n&&(n.delFromStorage(t),t instanceof tm&&t.delChildrenFromStorage(n)),t.parent=null;return e.length=0,this},eachChild:function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n];t.call(e,i),"group"===i.type&&i.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof tm&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof tm&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new Kt(0,0,0,0),i=t||this._children,r=[],o=0;o<i.length;o++){var a,s=i[o];s.ignore||s.invisible||(a=s.getBoundingRect(),(s=s.getLocalTransform(r))?(n.copy(a),n.applyTransform(s),(e=e||n.clone()).union(n)):(e=e||a.clone()).union(a))}return e||n}},o(tm,Zg);function em(){this._roots=[],this._displayList=[],this._displayListLen=0}var nm=32,im=7;em.prototype={constructor:em,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,r=e.length;i<r;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,Jp.canvasSupported&&oe(n,ae)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i){e=e?e.slice():[];for(var r=i,o=t;r;)r.parent=o,r.updateTransform(),e.push(r),r=(o=r).clipPath}if(t.isGroup){for(var a=t._children,s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof tm&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(n=0;n<this._roots.length;n++){var e=this._roots[n];e instanceof tm&&e.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var n=0,i=t.length;n<i;n++)this.delRoot(t[n]);else{var r=p(this._roots,t);0<=r&&(this.delFromStorage(t),this._roots.splice(r,1),t instanceof tm&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:ae};for(var rm={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},om=function(t,e,n){return rm.hasOwnProperty(e)?n*t.dpr:n},am=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],sm=function(t){this.extendFrom(t,!1)},lm=sm.prototype={constructor:sm,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){for(var i=this,r=n&&n.style,o=!r,a=0;a<am.length;a++){var s=am[a],l=s[0];!o&&i[l]===r[l]||(t[l]=om(t,l,i[l]||s[1]))}!o&&i.fill===r.fill||(t.fillStyle=i.fill),!o&&i.stroke===r.stroke||(t.strokeStyle=i.stroke),!o&&i.opacity===r.opacity||(t.globalAlpha=null==i.opacity?1:i.opacity),!o&&i.blend===r.blend||(t.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()&&(n=i.lineWidth,t.lineWidth=n/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1))},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&0<this.lineWidth},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var i=("radial"===e.type?function(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*i+n.x,s=s*r+n.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}:function(t,e,n){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),i=isNaN(i)?0:i,r=isNaN(r)?1:r,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(i,o,r,a)})(t,e,n),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}},um=0;um<am.length;um++){var cm=am[um];cm[0]in lm||(lm[cm[0]]=cm[1])}sm.getGradient=lm.getGradient;function hm(t,e){this.image=t,this.repeat=e,this.type="pattern"}function dm(t,e,n){var i;n=n||Gg,"string"==typeof t?i=le(t,e,n):E(t)&&(t=(i=t).id),this.id=t,(t=(this.dom=i).style)&&(i.onselectstart=se,t["-webkit-user-select"]="none",t["user-select"]="none",t["-webkit-touch-callout"]="none",t["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",t.padding=0,t.margin=0,t["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n}dm.prototype={constructor:dm,__dirty:!0,__used:!(hm.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")}),__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=le("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!=t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),i.width=t*n,i.height=e*n,o&&(o.width=t*n,o.height=e*n,1!=n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,i=this.dom,r=this.ctx,o=i.width,a=i.height,e=e||this.clearColor,s=this.motionBlur&&!t,l=this.lastFrameAlpha,t=this.dpr;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,o/t,a/t)),r.clearRect(0,0,o,a),e&&"transparent"!==e&&(e.colorStops?(n=e.__canvasGradient||sm.getGradient(r,e,{x:0,y:0,width:o,height:a}),e.__canvasGradient=n):e.image&&(n=hm.prototype.getCanvasPattern.call(e,r)),r.save(),r.fillStyle=n||e,r.fillRect(0,0,o,a),r.restore()),s&&(s=this.domBack,r.save(),r.globalAlpha=l,r.drawImage(s,0,0,o,a),r.restore())}};function fm(){}var pm="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},gm=new Og(50),mm={},ym=0,vm=5e3,xm=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,_m="12px sans-serif",bm={measureText:function(t,e){var n=i();return n.font=e||_m,n.measureText(t)}},wm={left:1,right:1,center:1},Mm={top:1,bottom:1,middle:1},Am=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Im=new Kt;fm.prototype={constructor:fm,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&Ce(n);var i,r=n.text;null!=r&&(r+=""),Be(r,n)&&(t.save(),i=this.transform,n.transformText?this.setTransform(t):i&&(Im.copy(e),Im.applyTransform(i),e=Im),Te(this,t,r,n,e),t.restore())}},Fe.prototype={constructor:Fe,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){e=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(e[0],e[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?Zg.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new sm(t),this.dirty(!1),this}},o(Fe,Zg),r(Fe,fm),He.prototype={constructor:He,type:"image",brush:function(t,e){var n=this.style,i=n.image;n.bind(t,this,e);var r,o,a,s,l,u,c=this._image=ue(i,this._image,this,this.onload);c&&he(c)&&(r=n.x||0,o=n.y||0,a=n.width,s=n.height,e=c.width/c.height,null==a&&null!=s?a=s*e:null==s&&null!=a?s=a/e:null==a&&null==s&&(a=c.width,s=c.height),this.setTransform(t),n.sWidth&&n.sHeight?(l=n.sx||0,u=n.sy||0,t.drawImage(c,l,u,n.sWidth,n.sHeight,r,o,a,s)):n.sx&&n.sy?(i=a-(l=n.sx),e=s-(u=n.sy),t.drawImage(c,l,u,i,e,r,o,a,s)):t.drawImage(c,r,o,a,s),null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect())))},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new Kt(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},o(He,Fe);var Cm=new Kt(0,0,0,0),Sm=new Kt(0,0,0,0),Tm=function(t,e,n){this.type="canvas";var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=S({},n||{}),this.dpr=n.devicePixelRatio||Gg,this._singleCanvas=i;var r=(this.root=t).style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]=r["user-select"]=r["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o,r=this._zlevelList=[],e=this._layers={};this._layerConfig={},this._needsManuallyCompositing=!1,i?(i=t.width,o=t.height,null!=n.width&&(i=n.width),null!=n.height&&(o=n.height),this.dpr=n.devicePixelRatio||1,t.width=i*this.dpr,t.height=o*this.dpr,this._width=i,this._height=o,(o=new dm(t,this,this.dpr)).__builtin__=!0,o.initContext(),(e[314159]=o).zlevel=314159,r.push(314159),this._domRoot=t):(this._width=this._getSize(0),this._height=this._getSize(1),r=this._domRoot=(e=this._width,o=this._height,(r=document.createElement("div")).style.cssText=["position:relative","overflow:hidden","width:"+e+"px","height:"+o+"px","padding:0","margin:0","border-width:0"].join(";")+";",r),t.appendChild(r)),this._hoverlayer=null,this._hoverElements=[]};Tm.prototype={constructor:Tm,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var i=0;i<n.length;i++){var r=n[i],o=this._layers[r];!o.__builtin__&&o.refresh&&(r=0===i?this._backgroundColor:null,o.refresh(r))}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return(n.__from=t).__hoverMir=n,e&&n.setStyle(e),this._hoverElements.push(n),n}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,e=p(n,e);0<=e&&n.splice(e,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,n=0;n<e.length;n++){var i=e[n].__from;i&&(i.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length;if((n=this._hoverlayer)&&n.clear(),e){oe(t,this.storage.displayableSortFunc);var n,i={};(n=n||(this._hoverlayer=this.getLayer(1e5))).ctx.save();for(var r=0;r<e;){var o=t[r],a=o.__from;a&&a.__zr?(r++,a.invisible||(o.transform=a.transform,o.invTransform=a.invTransform,o.__clipPaths=a.__clipPaths,this._doPaintEl(o,n,!0,i))):(t.splice(r,1),a.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,n){var i,r;this._redrawId===n&&(e=e||!1,this._updateLayerStatus(t),i=this._doPaintList(t,e),this._needsManuallyCompositing&&this._compositeManually(),i||(r=this,pm(function(){r._paintList(t,e,n)})))},_compositeManually:function(){var e=this.getLayer(314159).ctx,n=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,n,i),this.eachBuiltinLayer(function(t){t.virtual&&e.drawImage(t.dom,0,0,n,i)})},_doPaintList:function(t,e){for(var n=[],i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];(s=this._layers[r]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&n.push(s)}for(var o=!0,a=0;a<n.length;a++){var s=n[a],l=s.ctx,u={};l.save();var c,h=e?s.__startIndex:s.__drawIndex,d=!e&&s.incremental&&Date.now,f=d&&Date.now(),p=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;s.__startIndex===s.__endIndex?s.clear(!1,p):h===s.__startIndex&&((c=t[h]).incremental&&c.notClear&&!e||s.clear(!1,p)),-1===h&&(console.error("For some unknown reason. drawIndex is -1"),h=s.__startIndex);for(var g=h;g<s.__endIndex;g++){var m=t[g];if(this._doPaintEl(m,s,e,u),m.__dirty=m.__dirtyText=!1,d&&15<Date.now()-f)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(o=!1),u.prevElClipPaths&&l.restore(),l.restore()}return Jp.wxa&&P(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),o},_doPaintEl:function(t,e,n,i){var r,o=e.ctx,a=t.transform;!e.__dirty&&!n||t.invisible||0===t.style.opacity||a&&!a[0]&&!a[3]||t.culling&&(n=t,a=this._width,r=this._height,Cm.copy(n.getBoundingRect()),n.transform&&Cm.applyTransform(n.transform),Sm.width=a,Sm.height=r,!Cm.intersect(Sm))||(r=t.__clipPaths,i.prevElClipPaths&&!function(t,e){if(t!=e){if(!t||!e||t.length!==e.length)return 1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return 1}}(r,i.prevElClipPaths)||(i.prevElClipPaths&&(e.ctx.restore(),i.prevElClipPaths=null,i.prevEl=null),r&&(o.save(),function(t,e){for(var n=0;n<t.length;n++){var i=t[n];i.setTransform(e),e.beginPath(),i.buildPath(e,i.shape),e.clip(),i.restoreTransform(e)}}(r,o),i.prevElClipPaths=r)),t.beforeBrush&&t.beforeBrush(o),t.brush(o,i.prevEl||null),(i.prevEl=t).afterBrush&&t.afterBrush(o))},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=314159);var n=this._layers[t];return n||((n=new dm("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]&&g(n,this._layerConfig[t],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n,i=this._layers,r=this._zlevelList,o=r.length,a=null,s=-1,l=this._domRoot;if(i[t])Ug("ZLevel "+t+" has been used already");else if((n=e)&&(n.__builtin__||"function"==typeof n.resize&&"function"==typeof n.refresh)){if(0<o&&t>r[0]){for(s=0;s<o-1&&!(r[s]<t&&r[s+1]>t);s++);a=i[r[s]]}r.splice(s+1,0,t),(i[t]=e).virtual||(a?(a=a.dom).nextSibling?l.insertBefore(e.dom,a.nextSibling):l.appendChild(e.dom):l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom))}else Ug("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){for(var n,i=this._zlevelList,r=0;r<i.length;r++)n=i[r],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){for(var n,i,r=this._zlevelList,o=0;o<r.length;o++)i=r[o],(n=this._layers[i]).__builtin__&&t.call(e,n,i)},eachOtherLayer:function(t,e){for(var n,i,r=this._zlevelList,o=0;o<r.length;o++)i=r[o],(n=this._layers[i]).__builtin__||t.call(e,n,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){n&&(n.__endIndex!==t&&(n.__dirty=!0),n.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(r=1;r<t.length;r++)if((a=t[r]).zlevel!==t[r-1].zlevel||a.incremental){this._needsManuallyCompositing=!0;break}for(var n=null,i=0,r=0;r<t.length;r++){var o,a=t[r],s=a.zlevel;a.incremental?((o=this.getLayer(s+.001,this._needsManuallyCompositing)).incremental=!0,i=1):o=this.getLayer(s+(0<i?.01:0),this._needsManuallyCompositing),o.__builtin__||Ug("ZLevel "+s+" has been used by unkown layer "+o.id),o!==n&&(o.__used=!0,o.__startIndex!==r&&(o.__dirty=!0),o.__startIndex=r,o.incremental?o.__drawIndex=-1:o.__drawIndex=r,e(r),n=o),a.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=r))}e(r),this.eachBuiltinLayer(function(t,e){!t.__used&&0<t.getElementCount()&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?g(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var r=this._zlevelList[i];r!==t&&r!==t+.01||g(this._layers[r],n[t],!0)}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(p(n,t),1))},resize:function(e,n){if(this._domRoot.style){var t=this._domRoot;t.style.display="none";var i=this._opts;if(null!=e&&(i.width=e),null!=n&&(i.height=n),e=this._getSize(0),n=this._getSize(1),t.style.display="",this._width!=e||n!=this._height){for(var r in t.style.width=e+"px",t.style.height=n+"px",this._layers)this._layers.hasOwnProperty(r)&&this._layers[r].resize(e,n);P(this._progressiveLayers,function(t){t.resize(e,n)}),this.refresh(!0)}this._width=e,this._height=n}else{if(null==e||null==n)return;this._width=e,this._height=n,this.getLayer(314159).resize(e,n)}return this},clearLayer:function(t){t=this._layers[t];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new dm("image",this,(t=t||{}).pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,i=e.dom.height,r=e.ctx;this.eachLayer(function(t){t.__builtin__?r.drawImage(t.dom,0,0,n,i):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var o={},a=this.storage.getDisplayList(!0),s=0;s<a.length;s++){var l=a[s];this._doPaintEl(l,e,!0,o)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);t=this.root,e=document.defaultView.getComputedStyle(t);return(t[i]||We(e[n])||We(t.style[n]))-(We(e[r])||0)-(We(e[o])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),i=n.getContext("2d"),r=t.getBoundingRect(),o=t.style,a=o.shadowBlur*e,s=o.shadowOffsetX*e,l=o.shadowOffsetY*e,u=o.hasStroke()?o.lineWidth:0,c=Math.max(u/2,a-s),o=Math.max(u/2,s+a),s=Math.max(u/2,a-l),a=Math.max(u/2,l+a),o=r.width+c+o,a=r.height+s+a;n.width=o*e,n.height=a*e,i.scale(e,e),i.clearRect(0,0,o,a),i.dpr=e;e={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[c-r.x,s-r.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(i);n=new He({style:{x:0,y:0,image:n}});return null!=e.position&&(n.position=t.position=e.position),null!=e.rotation&&(n.rotation=t.rotation=e.rotation),null!=e.scale&&(n.scale=t.scale=e.scale),n}};function Dm(t){this.stage=(t=t||{}).stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,gg.call(this)}Dm.prototype={constructor:Dm,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){t=p(this._clips,t);0<=t&&this._clips.splice(t,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,i=n.length,r=[],o=[],a=0;a<i;a++){var s=n[a],l=s.step(t,e);l&&(r.push(l),o.push(s))}for(a=0;a<i;)n[a]._needsRemove?(n[a]=n[i-1],n.pop(),i--):a++;for(i=r.length,a=0;a<i;a++)o[a].fire(r[a]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,pm(function t(){e._running&&(pm(t),e._paused||e._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){e=new zg(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(e),e}},r(Dm,gg);function Nm(){this._track=[]}Nm.prototype={constructor:Nm,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var i=t.touches;if(i){for(var r={points:[],touches:[],target:e,event:t},o=0,a=i.length;o<a;o++){var s=i[o],l=ot(n,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},_recognize:function(t){for(var e in Lm)if(Lm.hasOwnProperty(e)){e=Lm[e](this._track,t);if(e)return e}}};var Lm={pinch:function(t,e){var n=t.length;if(n){var i=(t[n-1]||{}).points,n=(t[n-2]||{}).points||i;if(n&&1<n.length&&i&&1<i.length){n=Ge(i)/Ge(n);isFinite(n)||(n=1),e.pinchScale=n;i=[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=i[0],e.pinchY=i[1],{type:"pinch",target:t[0].target,event:e}}}}},km=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Em=["touchstart","touchend","touchmove"],Om={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},Pm=I(km,function(t){var e=t.replace("mouse","pointer");return Om[e]?e:t}),zm={mousemove:function(t){t=st(this.dom,t),this.trigger("mousemove",t)},mouseout:function(t){var e=(t=st(this.dom,t)).toElement||t.relatedTarget;if(e!=this.dom)for(;e&&9!=e.nodeType;){if(e===this.dom)return;e=e.parentNode}this.trigger("mouseout",t)},touchstart:function(t){(t=st(this.dom,t)).zrByTouch=!0,this._lastTouchMoment=new Date,Ze(this,t,"start"),zm.mousemove.call(this,t),zm.mousedown.call(this,t),Ve(this)},touchmove:function(t){(t=st(this.dom,t)).zrByTouch=!0,Ze(this,t,"change"),zm.mousemove.call(this,t),Ve(this)},touchend:function(t){(t=st(this.dom,t)).zrByTouch=!0,Ze(this,t,"end"),zm.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&zm.click.call(this,t),Ve(this)},pointerdown:function(t){zm.mousedown.call(this,t)},pointermove:function(t){Xe(t)||zm.mousemove.call(this,t)},pointerup:function(t){zm.mouseup.call(this,t)},pointerout:function(t){Xe(t)||zm.mouseout.call(this,t)}};P(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(e){zm[e]=function(t){t=st(this.dom,t),this.trigger(e,t)}});var jm=Je.prototype;jm.dispose=function(){for(var t,e,n=km.concat(Em),i=0;i<n.length;i++){var r=n[i];t=this.dom,e=Ue(r),r=this._handlers[r],yg?t.removeEventListener(e,r):t.detachEvent("on"+e,r)}},jm.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},r(Je,gg);function Ym(t,e,n){n=n||{},this.dom=e,this.id=t;var i=this,r=new em,o=n.renderer;if(Rm){if(!Bm.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");o="vml"}else o&&Bm[o]||(o="canvas");n=new Bm[o](e,r,n,t),this.storage=r,this.painter=n,t=Jp.node||Jp.worker?null:new Je(n.getViewportRoot()),this.handler=new _g(r,n,t,n.root),this.animation=new Dm({stage:{update:v(this.flush,this)}}),this.animation.start(),this._needsRefresh;var a=r.delFromStorage,s=r.addToStorage;r.delFromStorage=function(t){a.call(r,t),t&&t.removeSelfFromZr(i)},r.addToStorage=function(t){s.call(r,t),t.addSelfToZr(i)}}var Rm=!Jp.canvasSupported,Bm={canvas:Tm},Fm={};Ym.prototype={constructor:Ym,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){e=this.painter.addHover(t,e);return this.refreshHover(),e}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete Fm[t]}};function Hm(a){for(var t=0;t<a.length;t++)a[t][1]||(a[t][1]=a[t][0]);return function(t,e,n){for(var i={},r=0;r<a.length;r++){var o=a[r][1];e&&0<=p(e,o)||n&&p(n,o)<0||null!=(o=t.getShallow(o))&&(i[a[r][0]]=o)}return i}}function Wm(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null}var Gm=(Object.freeze||Object)({version:"4.0.5",init:$e,dispose:function(t){if(t)t.dispose();else{for(var e in Fm)Fm.hasOwnProperty(e)&&Fm[e].dispose();Fm={}}return this},getInstance:function(t){return Fm[t]},registerPainter:Qe}),Um=P,Zm=E,Vm=T,Xm="series\0",qm=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],Jm=0,$m=".",Qm="___EC__COMPONENT__CONTAINER___",Km=0,t0=Hm([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),e0={getLineStyle:function(t){var e=t0(this,t),t=this.getLineDash(e.lineWidth);return t&&(e.lineDash=t),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),t=4*t;return"solid"===e||null==e?null:"dashed"===e?[t,t]:[n,n]}},n0=Hm([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),i0={getAreaStyle:function(t,e){return n0(this,t,e)}},r0=Math.pow,o0=Math.sqrt,a0=1e-8,s0=1e-4,l0=o0(3),u0=R(),c0=R(),h0=R(),d0=Math.min,f0=Math.max,p0=Math.sin,g0=Math.cos,m0=2*Math.PI,y0=R(),v0=R(),x0=R(),_0=[],b0=[],w0={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},M0=[],A0=[],I0=[],C0=[],S0=Math.min,T0=Math.max,D0=Math.cos,N0=Math.sin,L0=Math.sqrt,k0=Math.abs,E0="undefined"!=typeof Float32Array;Wm.prototype={constructor:Wm,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e){this._ux=k0(1/Gg/t)||0,this._uy=k0(1/Gg/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return(this._ctx=t)&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(w0.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=k0(t-this._xi)>this._ux||k0(e-this._yi)>this._uy||this._len<5;return this.addData(w0.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,i,r,o){return this.addData(w0.C,t,e,n,i,r,o),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,i,r,o):this._ctx.bezierCurveTo(t,e,n,i,r,o)),this._xi=r,this._yi=o,this},quadraticCurveTo:function(t,e,n,i){return this.addData(w0.Q,t,e,n,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,i):this._ctx.quadraticCurveTo(t,e,n,i)),this._xi=n,this._yi=i,this},arc:function(t,e,n,i,r,o){return this.addData(w0.A,t,e,n,n,i,r-i,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,o),this._xi=D0(r)*n+t,this._yi=N0(r)*n+e,this},arcTo:function(t,e,n,i,r){return this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},rect:function(t,e,n,i){return this._ctx&&this._ctx.rect(t,e,n,i),this.addData(w0.R,t,e,n,i),this},closePath:function(){this.addData(w0.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t;for(var e=this._dashIdx=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length==e||!E0||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){for(var e=(t=!(t instanceof Array)?[t]:t).length,n=0,i=this._len,r=0;r<e;r++)n+=t[r].len();for(E0&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n)),r=0;r<e;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,i,r=this._dashSum,o=this._dashOffset,a=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,c=t-l,h=e-u,d=L0(c*c+h*h),f=l,p=u,g=a.length;for(o<0&&(o=r+o),f-=(o%=r)*(c/=d),p-=o*(h/=d);0<c&&f<=t||c<0&&t<=f||0==c&&(0<h&&p<=e||h<0&&e<=p);)f+=c*(n=a[i=this._dashIdx]),p+=h*n,this._dashIdx=(i+1)%g,0<c&&f<l||c<0&&l<f||0<h&&p<u||h<0&&u<p||s[i%2?"moveTo":"lineTo"]((0<=c?S0:T0)(f,t),(0<=h?S0:T0)(p,e));this._dashOffset=-L0((c=f-t)*c+(h=p-e)*h)},_dashedBezierTo:function(t,e,n,i,r,o){var a,s,l,u,c,h=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,y=bn,v=0,x=this._dashIdx,_=f.length,b=0;for(d<0&&(d=h+d),d%=h,a=0;a<1;a+=.1)s=y(g,t,n,r,a+.1)-y(g,t,n,r,a),l=y(m,e,i,o,a+.1)-y(m,e,i,o,a),v+=L0(s*s+l*l);for(;x<_&&!((b+=f[x])>d);x++);for(a=(b-d)/v;a<=1;)u=y(g,t,n,r,a),c=y(m,e,i,o,a),x%2?p.moveTo(u,c):p.lineTo(u,c),a+=f[x]/v,x=(x+1)%_;x%2!=0&&p.lineTo(r,o),this._dashOffset=-L0((s=r-u)*s+(l=o-c)*l)},_dashedQuadraticTo:function(t,e,n,i){var r=n,o=i;n=(n+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,i,r,o)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,E0&&(this.data=new Float32Array(t)))},getBoundingRect:function(){M0[0]=M0[1]=I0[0]=I0[1]=Number.MAX_VALUE,A0[0]=A0[1]=C0[0]=C0[1]=-Number.MAX_VALUE;for(var t,e,n,i,r=this.data,o=0,a=0,s=0,l=0,u=0;u<r.length;){var c=r[u++];switch(1==u&&(s=o=r[u],l=a=r[u+1]),c){case w0.M:o=s=r[u++],a=l=r[u++],I0[0]=s,I0[1]=l,C0[0]=s,C0[1]=l;break;case w0.L:Nn(o,a,r[u],r[u+1],I0,C0),o=r[u++],a=r[u++];break;case w0.C:(function(t,e,n,i,r,o,a,s,l,u){var c,h=Mn,d=bn,f=h(t,n,r,a,_0);for(l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0,c=0;c<f;c++){var p=d(t,n,r,a,_0[c]);l[0]=d0(p,l[0]),u[0]=f0(p,u[0])}for(f=h(e,i,o,s,b0),c=0;c<f;c++){var g=d(e,i,o,s,b0[c]);l[1]=d0(g,l[1]),u[1]=f0(g,u[1])}l[0]=d0(t,l[0]),u[0]=f0(t,u[0]),l[0]=d0(a,l[0]),u[0]=f0(a,u[0]),l[1]=d0(e,l[1]),u[1]=f0(e,u[1]),l[1]=d0(s,l[1]),u[1]=f0(s,u[1])})(o,a,r[u++],r[u++],r[u++],r[u++],r[u],r[u+1],I0,C0),o=r[u++],a=r[u++];break;case w0.Q:h=o,g=a,t=r[u++],e=r[u++],d=r[u],m=r[u+1],n=I0,p=C0,y=f=y=f=i=void 0,i=In,f=f0(d0((y=Sn)(h,t,d),1),0),y=f0(d0(y(g,e,m),1),0),f=i(h,t,d,f),y=i(g,e,m,y),n[0]=d0(h,d,f),n[1]=d0(g,m,y),p[0]=f0(h,d,f),p[1]=f0(g,m,y),o=r[u++],a=r[u++];break;case w0.A:var h=r[u++],d=r[u++],f=r[u++],p=r[u++],g=r[u++],m=r[u++]+g,y=(r[u++],1-r[u++]);1==u&&(s=D0(g)*f+h,l=N0(g)*p+d),function(t,e,n,i,r,o,a,s,l){var u=tt,c=et,h=Math.abs(r-o);if(h%m0<1e-4&&1e-4<h)return s[0]=t-n,s[1]=e-i,l[0]=t+n,l[1]=e+i;y0[0]=g0(r)*n+t,y0[1]=p0(r)*i+e,v0[0]=g0(o)*n+t,v0[1]=p0(o)*i+e,u(s,y0,v0),c(l,y0,v0),(r%=m0)<0&&(r+=m0),(o%=m0)<0&&(o+=m0),o<r&&!a?o+=m0:r<o&&a&&(r+=m0),a&&(a=o,o=r,r=a);for(var d=0;d<o;d+=Math.PI/2)r<d&&(x0[0]=g0(d)*n+t,x0[1]=p0(d)*i+e,u(s,x0,s),c(l,x0,l))}(h,d,f,p,g,m,y,I0,C0),o=D0(m)*f+h,a=N0(m)*p+d;break;case w0.R:Nn(s=o=r[u++],l=a=r[u++],s+r[u++],l+r[u++],I0,C0);break;case w0.Z:o=s,a=l}tt(M0,M0,I0),et(A0,A0,C0)}return 0===u&&(M0[0]=M0[1]=A0[0]=A0[1]=0),new Kt(M0[0],M0[1],A0[0]-M0[0],A0[1]-M0[1])},rebuildPath:function(t){for(var e,n,i,r,o=this.data,a=this._ux,s=this._uy,l=this._len,u=0;u<l;){var c=o[u++];switch(1==u&&(e=i=o[u],n=r=o[u+1]),c){case w0.M:e=i=o[u++],n=r=o[u++],t.moveTo(i,r);break;case w0.L:_=o[u++],b=o[u++],(k0(_-i)>a||k0(b-r)>s||u===l-1)&&(t.lineTo(_,b),i=_,r=b);break;case w0.C:t.bezierCurveTo(o[u++],o[u++],o[u++],o[u++],o[u++],o[u++]),i=o[u-2],r=o[u-1];break;case w0.Q:t.quadraticCurveTo(o[u++],o[u++],o[u++],o[u++]),i=o[u-2],r=o[u-1];break;case w0.A:var h=o[u++],d=o[u++],f=o[u++],p=o[u++],g=o[u++],m=o[u++],y=o[u++],v=o[u++],x=p<f?f:p,_=p<f?1:f/p,b=p<f?p/f:1,m=g+m;.001<Math.abs(f-p)?(t.translate(h,d),t.rotate(y),t.scale(_,b),t.arc(0,0,x,g,m,1-v),t.scale(1/_,1/b),t.rotate(-y),t.translate(-h,-d)):t.arc(h,d,x,g,m,1-v),1==u&&(e=D0(g)*f+h,n=N0(g)*p+d),i=D0(m)*f+h,r=N0(m)*p+d;break;case w0.R:e=i=o[u],n=r=o[u+1],t.rect(o[u++],o[u++],o[u++],o[u++]);break;case w0.Z:t.closePath(),i=e,r=n}}}},Wm.CMD=w0;var O0=2*Math.PI,P0=2*Math.PI,z0=Wm.CMD,j0=2*Math.PI,Y0=1e-4,R0=[-1,-1,-1],B0=[-1,-1],F0=hm.prototype.getCanvasPattern,H0=Math.abs,W0=new Wm(!0);Rn.prototype={constructor:Rn,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(t,e){var n,i=this.style,r=this.path||W0,o=i.hasStroke(),a=i.hasFill(),s=i.fill,l=i.stroke,u=a&&!!s.colorStops,c=o&&!!l.colorStops,h=a&&!!s.image,d=o&&!!l.image;i.bind(t,this,e),this.setTransform(t),this.__dirty&&(u&&(n=n||this.getBoundingRect(),this._fillGradient=i.getGradient(t,s,n)),c&&(n=n||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,l,n))),u?t.fillStyle=this._fillGradient:h&&(t.fillStyle=F0.call(s,t)),c?t.strokeStyle=this._strokeGradient:d&&(t.strokeStyle=F0.call(l,t));var f,s=i.lineDash,c=i.lineDashOffset,d=!!t.setLineDash,l=this.getGlobalScale();r.setScale(l[0],l[1]),this.__dirtyPath||s&&!d&&o?(r.beginPath(t),s&&!d&&(r.setLineDash(s),r.setLineDashOffset(c)),this.buildPath(r,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),a&&(null!=i.fillOpacity?(f=t.globalAlpha,t.globalAlpha=i.fillOpacity*i.opacity,r.fill(t),t.globalAlpha=f):r.fill(t)),s&&d&&(t.setLineDash(s),t.lineDashOffset=c),o&&(null!=i.strokeOpacity?(f=t.globalAlpha,t.globalAlpha=i.strokeOpacity*i.opacity,r.stroke(t),t.globalAlpha=f):r.stroke(t)),s&&d&&t.setLineDash([]),null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,n){},createPathProxy:function(){this.path=new Wm},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n&&(i=(i=this.path)||(this.path=new Wm),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),t=i.getBoundingRect()),this._rect=t,e.hasStroke()){var i,r=this._rectWithStroke||(this._rectWithStroke=t.clone());return(this.__dirty||n)&&(r.copy(t),i=e.lineWidth,n=e.strokeNoScale?this.getLineScale():1,e.hasFill()||(i=Math.max(i,this.strokeContainThreshold||4)),1e-10<n&&(r.width+=i/n,r.height+=i/n,r.x-=i/n/2,r.y-=i/n/2)),r}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var o=this.path.data;if(r.hasStroke()){n=r.lineWidth,i=r.strokeNoScale?this.getLineScale():1;if(1e-10<i&&(r.hasFill()||(n=Math.max(n,this.strokeContainThreshold)),Yn(o,n/i,!0,t,e)))return!0}if(r.hasFill())return Yn(o,0,!1,t,e)}return!1},dirty:function(t){(t=null==t?!0:t)&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Fe.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(E(t))for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&1e-10<H0(t[0]-1)&&1e-10<H0(t[3]-1)?Math.sqrt(H0(t[0]*t[3]-t[2]*t[1])):1}},Rn.extend=function(r){function t(t){Rn.call(this,t),r.style&&this.style.extendFrom(r.style,!1);var e=r.shape;if(e){this.shape=this.shape||{};var n,i=this.shape;for(n in e)!i.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(i[n]=e[n])}r.init&&r.init.call(this,t)}for(var e in o(t,Rn),r)"style"!==e&&"shape"!==e&&(t.prototype[e]=r[e]);return t},o(Rn,Fe);function G0(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ny(t,e))}function U0(t){Fe.call(this,t)}var Z0=Wm.CMD,V0=[[],[],[]],X0=Math.sqrt,q0=Math.atan2,J0=function(t,e){for(var n,i,r,o,a=t.data,s=Z0.M,l=Z0.C,u=Z0.L,c=Z0.R,h=Z0.A,d=Z0.Q,f=0,p=0;f<a.length;){switch(n=a[f++],p=f,i=0,n){case s:case u:i=1;break;case l:i=3;break;case d:i=2;break;case h:var g=e[4],m=e[5],y=X0(e[0]*e[0]+e[1]*e[1]),v=X0(e[2]*e[2]+e[3]*e[3]),x=q0(-e[1]/v,e[0]/y);a[f]*=y,a[f++]+=g,a[f]*=v,a[f++]+=m,a[f++]*=y,a[f++]*=v,a[f++]+=x,a[f++]+=x,p=f+=2;break;case c:o[0]=a[f++],o[1]=a[f++],K(o,o,e),a[p++]=o[0],a[p++]=o[1],o[0]+=a[f++],o[1]+=a[f++],K(o,o,e),a[p++]=o[0],a[p++]=o[1]}for(r=0;r<i;r++)(o=V0[r])[0]=a[f++],o[1]=a[f++],K(o,o,e),a[p++]=o[0],a[p++]=o[1]}},$0=Math.sqrt,Q0=Math.sin,K0=Math.cos,ty=Math.PI,ey=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},ny=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(ey(t)*ey(e))},iy=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,ry=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;U0.prototype={constructor:U0,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&Ce(n),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var i=n.text;null!=i&&(i+=""),Be(i,n)&&(this.setTransform(t),Te(this,t,i,n,null,e),this.restoreTransform(t))},getBoundingRect:function(){var t,e=this.style;return this.__dirty&&Ce(e),this._rect||(null!=(t=e.text)?t+="":t="",(t=fe(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.rich)).x+=e.x||0,t.y+=e.y||0,ze(e.textStroke,e.textStrokeWidth)&&(e=e.textStrokeWidth,t.x-=e/2,t.y-=e/2,t.width+=e,t.height+=e),this._rect=t),this._rect}},o(U0,Fe);var oy=Rn.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),ay=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],sy=function(s){return Jp.browser.ie&&11<=Jp.browser.version?function(){var t,e=this.__clipPaths,n=this.style;if(e)for(var i=0;i<e.length;i++){var r=e[i],o=r&&r.shape,r=r&&r.type;if(o&&("sector"===r&&o.startAngle===o.endAngle||"rect"===r&&(!o.width||!o.height))){for(a=0;a<ay.length;a++)ay[a][2]=n[ay[a][0]],n[ay[a][0]]=ay[a][1];t=!0;break}}if(s.apply(this,arguments),t)for(var a=0;a<ay.length;a++)n[ay[a][0]]=ay[a][2]}:s},ly=Rn.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:sy(Rn.prototype.brush),buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=e.startAngle,s=e.endAngle,l=e.clockwise,u=Math.cos(a),e=Math.sin(a);t.moveTo(u*r+n,e*r+i),t.lineTo(u*o+n,e*o+i),t.arc(n,i,o,a,s,!l),t.lineTo(Math.cos(s)*r+n,Math.sin(s)*r+i),0!==r&&t.arc(n,i,r,s,a,l),t.closePath()}}),uy=Rn.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)}}),cy=Rn.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Gn(t,e,!0)}}),hy=Rn.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){Gn(t,e,!1)}}),dy=Rn.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width,o=e.height;e.r?Ie(t,e):t.rect(n,i,r,o),t.closePath()}}),fy=Rn.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,e=e.percent;0!==e&&(t.moveTo(n,i),e<1&&(r=n*(1-e)+r*e,o=i*(1-e)+o*e),t.lineTo(r,o))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),py=[],gy=Rn.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,e=e.percent;0!==e&&(t.moveTo(n,i),null==l||null==u?(e<1&&(Tn(n,a,r,e,py),a=py[1],r=py[2],Tn(i,s,o,e,py),s=py[1],o=py[2]),t.quadraticCurveTo(a,s,r,o)):(e<1&&(An(n,a,l,r,e,py),a=py[1],l=py[2],r=py[3],An(i,s,u,o,e,py),s=py[1],u=py[2],o=py[3]),t.bezierCurveTo(a,s,l,u,r,o)))},pointAt:function(t){return Un(this.shape,t,!1)},tangentAt:function(t){t=Un(this.shape,t,!0);return q(t,t)}}),my=Rn.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),e=Math.sin(o);t.moveTo(l*r+n,e*r+i),t.arc(n,i,r,o,a,!s)}}),yy=Rn.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1])},buildPath:function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),Rn.prototype.getBoundingRect.call(this)}}),vy=function(t){this.colorStops=t||[]};vy.prototype={constructor:vy,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};function xy(t,e,n,i,r,o){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==i?0:i,this.type="linear",this.global=o||!1,vy.call(this,r)}xy.prototype={constructor:xy},o(xy,vy);var _y=function(t,e,n,i,r){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=r||!1,vy.call(this,i)};_y.prototype={constructor:_y},o(_y,vy),Zn.prototype.incremental=!0,Zn.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},Zn.prototype.addDisplayable=function(t,e){(e?this._temporaryDisplayables:this._displayables).push(t),this.dirty()},Zn.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},Zn.prototype.eachPendingDisplayable=function(t){for(e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(var e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},Zn.prototype.update=function(){for(this.updateTransform(),t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(var t=0;t<this._temporaryDisplayables.length;t++){var e=this._temporaryDisplayables[t];e.parent=this,e.update(),e.parent=null}},Zn.prototype.brush=function(t,e){for(n=this._cursor;n<this._displayables.length;n++)(i=this._displayables[n]).beforeBrush&&i.beforeBrush(t),i.brush(t,n===this._cursor?null:this._displayables[n-1]),i.afterBrush&&i.afterBrush(t);this._cursor=n;for(var n=0;n<this._temporaryDisplayables.length;n++){var i=this._temporaryDisplayables[n];i.beforeBrush&&i.beforeBrush(t),i.brush(t,0===n?null:this._temporaryDisplayables[n-1]),i.afterBrush&&i.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var by=[];Zn.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Kt(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(by)),t.union(i)}this._rect=t}return this._rect},Zn.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(t,e))return!0;return!1},o(Zn,Fe);function wy(t,e){for(var n=[],i=t.length,r=0;r<i;r++){var o=t[r];o.path||o.createPathProxy(),o.__dirtyPath&&o.buildPath(o.path,o.shape,!0),n.push(o.path)}return(e=new Rn(e)).createPathProxy(),e.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},e}var My=Math.round,Ay=Math.max,Iy=Math.min,Cy={},Sy=Y(),Ty=0,Dy=(Object.freeze||Object)({extendShape:Vn,extendPath:function(t,e){return Rn.extend(Fn(t,e))},makePath:Xn,makeImage:qn,mergePath:wy,resizePath:$n,subPixelOptimizeLine:Qn,subPixelOptimizeRect:Kn,subPixelOptimize:ti,setElementHoverStyle:ai,isInEmphasis:si,setHoverStyle:di,setAsHoverStyleTrigger:fi,setLabelStyle:pi,setTextStyle:gi,setText:function(t,e,n){var i,r={isRectText:!0};!1===n?i=!0:r.autoColor=n,mi(t,e,r,i)},getFont:bi,updateProps:Mi,initProps:Ai,getTransform:Ii,applyTransform:Ci,transformDirection:Si,groupTransition:Ti,clipPointsByRect:Di,clipRectByRect:function(t,e){var n=Ay(t.x,e.x),i=Iy(t.x+t.width,e.x+e.width),r=Ay(t.y,e.y),e=Iy(t.y+t.height,e.y+e.height);if(n<=i&&r<=e)return{x:n,y:r,width:i-n,height:e-r}},createIcon:Ni,Group:tm,Image:He,Text:U0,Circle:oy,Sector:ly,Ring:uy,Polygon:cy,Polyline:hy,Rect:dy,Line:fy,BezierCurve:gy,Arc:my,IncrementalDisplayable:Zn,CompoundPath:yy,LinearGradient:xy,RadialGradient:_y,BoundingRect:Kt}),Ny=["textStyle","color"],Ly={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Ny):null)},getFont:function(){return bi({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return fe(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("rich"),this.getShallow("truncateText"))}},ky=Hm([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),Ey={getItemStyle:function(t,e){t=ky(this,t,e),e=this.getBorderLineDash();return e&&(t.lineDash=e),t},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},Oy=r,Py=ln();Li.prototype={constructor:Li,init:null,mergeOption:function(t){g(this.option,t,!0)},get:function(t,e){return null==t?this.option:ki(this.option,this.parsePath(t),!e&&Ei(this,t))},getShallow:function(t,e){var n=this.option,n=null==n?n:n[t],e=!e&&Ei(this,t);return n=null==n&&e?e.getShallow(t):n},getModel:function(t,e){var n;return new Li(null==t?this.option:ki(this.option,t=this.parsePath(t)),e=e||(n=Ei(this,t))&&n.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(C(this.option))},setReadOnly:function(t){},parsePath:function(t){return t="string"==typeof t?t.split("."):t},customizeGetParent:function(t){Py(this).getParent=t},isAnimationEnabled:function(){if(!Jp.node)return null!=this.option.animation?!!this.option.animation:this.parentModel?this.parentModel.isAnimationEnabled():void 0}},pn(Li),gn(Li),Oy(Li,e0),Oy(Li,i0),Oy(Li,Ly),Oy(Li,Ey);function zy(t,e){return"{"+t+(null==e?"":e)+"}"}var jy,Yy,Ry=0,By=9007199254740991,Fy=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,tg=(Object.freeze||Object)({linearMap:Pi,parsePercent:zi,round:ji,asc:Yi,getPrecision:Ri,getPrecisionSafe:Bi,getPixelPrecision:Fi,getPercentWithPrecision:Hi,MAX_SAFE_INTEGER:By,remRadian:Wi,isRadianAroundZero:Gi,parseDate:Ui,quantity:Zi,nice:Xi,quantile:function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),e=+t[i-1],n=n-i;return n?e+n*(t[i]-e):e},reformIntervals:qi,isNumeric:Ji}),Hy=n,Wy=/([&<>"'])/g,Gy={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Uy=["a","b","c","d","e","f","g"],Zy=ye,Cg=(Object.freeze||Object)({addCommas:$i,toCamelCase:Qi,normalizeCssArray:Hy,encodeHTML:Ki,formatTpl:tr,formatTplSimple:er,getTooltipMarker:nr,formatTime:rr,capitalFirst:or,truncateText:Zy,getTextRect:fe}),Vy=P,Xy=["left","right","top","bottom","width","height"],qy=[["width","left","right"],["height","top","bottom"]],Jy=ar,kg=(N(ar,"vertical"),N(ar,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),$y=ln(),Qy=Li.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,i){Li.call(this,t,e,n,i),this.uid=Oi("ec_cpt_model")},init:function(t,e,n,i){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?cr(t):{};g(t,e.getTheme().get(this.mainType)),g(t,this.getDefaultOption()),n&&ur(t,i,n)},mergeOption:function(t,e){g(this.option,t,!0);var n=this.layoutMode;n&&ur(this.option,t,n)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=$y(this);if(!t.defaultOption){for(var e=[],n=this.constructor;n;){var i=n.prototype.defaultOption;i&&e.push(i),n=n.superClass}for(var r={},o=e.length-1;0<=o;o--)r=g(r,e[o],!0);t.defaultOption=r}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});function Ky(a){var s={},l=[];return P(a,function(n){var e,i,t,r,o=tv(s,n),t=(t=o.originalDeps=(t=n,r=[],P(Qy.getClassesByMainType(t),function(t){r=r.concat(t.prototype.dependencies||[])}),r=I(r,function(t){return fn(t).main}),"dataset"!==t&&p(r,"dataset")<=0&&r.unshift("dataset"),r),e=a,i=[],P(t,function(t){0<=p(e,t)&&i.push(t)}),i);o.entryCount=t.length,0===o.entryCount&&l.push(n),P(t,function(t){p(o.predecessor,t)<0&&o.predecessor.push(t);var e=tv(s,t);p(e.successor,t)<0&&e.successor.push(n)})}),{graph:s,noEntryList:l}}function tv(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}vn(Qy,{registerWhenExtend:!0}),Yy={},(jy=Qy).registerSubTypeDefaulter=function(t,e){t=fn(t),Yy[t.main]=e},jy.determineSubType=function(t,e){var n,i=e.type;return i||(n=fn(t).main,jy.hasSubTypes(t)&&Yy[n]&&(i=Yy[n](e))),i},Qy.topologicalTravel=function(t,e,n,i){function r(t){o[t].entryCount--,0===o[t].entryCount&&a.push(t)}if(t.length){var e=Ky(e),o=e.graph,a=e.noEntryList,s={};for(P(t,function(t){s[t]=!0});a.length;){var l=a.pop(),u=o[l],c=!!s[l];c&&(n.call(i,l,u.originalDeps.slice()),delete s[l]),P(u.successor,c?function(t){s[t]=!0,r(t)}:r)}P(s,function(){throw new Error("Circle dependency may exists")})}},r(Qy,kg);var Pg="",ev={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:(Pg="undefined"!=typeof navigator?navigator.platform||"":Pg).match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},nv=ln(),iv={clearColorPalette:function(){nv(this).colorIdx=0,nv(this).colorNameMap={}},getColorFromPalette:function(t,e,n){var i=nv(e=e||this),r=i.colorIdx||0,o=i.colorNameMap=i.colorNameMap||{};if(o.hasOwnProperty(t))return o[t];var a=Ke(this.get("color",!0)),e=this.get("colorLayer",!0);if((n=(n=null!=n&&e?function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}(e,n):a)||a)&&n.length){a=n[r];return t&&(o[t]=a),i.colorIdx=(r+1)%n.length,a}}},rv={cartesian2d:function(t,e,n,i){var r=t.getReferringComponents("xAxis")[0],t=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],n.set("x",r),n.set("y",t),fr(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),fr(t)&&(i.set("y",t),e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,i){t=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],n.set("single",t),fr(t)&&(i.set("single",t),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var r=t.getReferringComponents("polar")[0],t=r.findAxisModel("radiusAxis"),r=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",t),n.set("angle",r),fr(t)&&(i.set("radius",t),e.firstCategoryDimIndex=0),fr(r)&&(i.set("angle",r),e.firstCategoryDimIndex=1)},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,i,r,o){var a=t.ecModel,t=a.getComponent("parallel",t.get("parallelIndex")),s=i.coordSysDims=t.dimensions.slice();P(t.parallelAxisIndex,function(t,e){var n=a.getComponent("parallelAxis",t),t=s[e];r.set(t,n),fr(n)&&null==i.firstCategoryDimIndex&&(o.set(t,n),i.firstCategoryDimIndex=e)})}},ov="original",av="arrayRows",sv="objectRows",lv="keyedColumns",uv="typedArray",cv="row";pr.seriesDataToSource=function(t){return new pr({data:t,sourceFormat:x(t)?uv:ov,fromDataset:!1})},gn(pr);var hv=ln(),dv="\0_ec_inner",fv=Li.extend({init:function(t,e,n,i){n=n||{},this.option=null,this._theme=new Li(n),this._optionManager=i},setOption:function(t,e){u(!(dv in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e,n=!1,i=this._optionManager;return t&&"recreate"!==t||(e=i.mountOption("recreate"===t),this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(e)):xr.call(this,e),n=!0),"timeline"!==t&&"media"!==t||this.restoreData(),t&&"recreate"!==t&&"timeline"!==t||(e=i.getTimelineOption(this))&&(this.mergeOption(e),n=!0),t&&"recreate"!==t&&"media"!==t||(i=i.getMediaOption(this,this._api)).length&&P(i,function(t){this.mergeOption(t,n=!0)},this),n},mergeOption:function(n){var s=this.option,l=this._componentsMap,i=[];hv(this).datasetMap=Y(),P(n,function(t,e){null!=t&&(Qy.hasClass(e)?e&&i.push(e):s[e]=null==s[e]?C(t):g(s[e],t,!0))}),Qy.topologicalTravel(i,Qy.getAllClassMainTypes(),function(o,t){var e=Ke(n[o]),e=nn(l.get(o),e);rn(e),P(e,function(t,e){var n,i=t.option;E(i)&&(t.keyInfo.mainType=o,t.keyInfo.subType=(n=o,i=i,t=t.exist,i.type||(t?t.subType:Qy.determineSubType(n,i))))});var a=function(e,t){T(t)||(t=t?[t]:[]);var n={};return P(t,function(t){n[t]=(e.get(t)||[]).slice()}),n}(l,t);s[o]=[],l.set(o,[]),P(e,function(t,e){var n,i=t.exist,r=t.option;u(E(r)||i,"Empty component definition"),r?(n=Qy.getClass(o,t.keyInfo.subType,!0),i&&i instanceof n?(i.name=t.keyInfo.name,i.mergeOption(r,this),i.optionUpdated(r,!1)):(t=S({dependentModels:a,componentIndex:e},t.keyInfo),S(i=new n(r,this,this,t),t),i.init(r,this,this,t),i.optionUpdated(null,!0))):(i.mergeOption({},this),i.optionUpdated({},!1)),l.get(o)[e]=i,s[o][e]=i.option},this),"series"===o&&_r(this,l.get("series"))},this),this._seriesIndicesMap=Y(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var i=C(this.option);return P(i,function(t,e){if(Qy.hasClass(e)){for(var n=(t=Ke(t)).length-1;0<=n;n--)an(t[n])&&t.splice(n,1);i[e]=t}}),delete i[dv],i},getTheme:function(){return this._theme},getComponent:function(t,e){t=this._componentsMap.get(t);if(t)return t[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,i,r=t.index,o=t.id,a=t.name,s=this._componentsMap.get(e);return s&&s.length?br(null!=r?b(I(r=!T(r)?[r]:r,function(t){return s[t]}),function(t){return!!t}):null!=o?(n=T(o),b(s,function(t){return n&&0<=p(o,t.id)||!n&&t.id===o})):null!=a?(i=T(a),b(s,function(t){return i&&0<=p(a,t.name)||!i&&t.name===a})):s.slice(),t):[]},findComponents:function(t){var e,n,i,r=t.query,o=t.mainType,i=(e=o+"Index",n=o+"Id",i=o+"Name",!r||null==r[e]&&null==r[n]&&null==r[i]?null:{mainType:o,index:r[e],id:r[n],name:r[i]});return o=br(i?this.queryComponents(i):this._componentsMap.get(o),t),t.filter?b(o,t.filter):o},eachComponent:function(t,i,r){var e=this._componentsMap;"function"==typeof t?(r=i,i=t,e.each(function(t,n){P(t,function(t,e){i.call(r,n,t,e)})})):L(t)?P(e.get(t),i,r):E(t)&&P(this.findComponents(t),i,r)},getSeriesByName:function(e){return b(this._componentsMap.get("series"),function(t){return t.name===e})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(e){return b(this._componentsMap.get("series"),function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(n,i){P(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];n.call(i,e,t)},this)},eachRawSeries:function(t,e){P(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(n,i,r){P(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];e.subType===n&&i.call(r,e,t)},this)},eachRawSeriesByType:function(t,e,n){return P(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){_r(this,b(this._componentsMap.get("series"),t,e))},restoreData:function(n){var i=this._componentsMap;_r(this,i.get("series"));var r=[];i.each(function(t,e){r.push(e)}),Qy.topologicalTravel(r,Qy.getAllClassMainTypes(),function(e,t){P(i.get(e),function(t){"series"===e&&function(t,e){if(e){var n=e.seiresIndex,i=e.seriesId,e=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=e&&t.name!==e}}(t,n)||t.restoreData()})})}});r(fv,iv);var pv=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],gv={};Mr.prototype={constructor:Mr,create:function(n,i){var r=[];P(gv,function(t,e){t=t.create(n,i);r=r.concat(t||[])}),this._coordinateSystems=r},update:function(e,n){P(this._coordinateSystems,function(t){t.update&&t.update(e,n)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Mr.register=function(t,e){gv[t]=e},Mr.get=function(t){return gv[t]};var mv=P,yv=C,vv=I,xv=g,_v=/^(min|max)?(.+)$/;Ar.prototype={constructor:Ar,setOption:function(t,e){t&&P(Ke(t.series),function(t){t&&t.data&&x(t.data)&&h(t.data)}),t=yv(t,!0);var r,n=this._optionBackup,t=function(t,n,i){var e,r,o,a=[],s=[],l=t.timeline;return t.baseOption&&(r=t.baseOption),(l||t.options)&&(r=r||{},a=(t.options||[]).slice()),t.media&&(r=r||{},o=t.media,mv(o,function(t){t&&t.option&&(t.query?s.push(t):e=e||t)})),(r=r||t).timeline||(r.timeline=l),mv([r].concat(a).concat(I(s,function(t){return t.option})),function(e){mv(n,function(t){t(e,i)})}),{baseOption:r,timelineOptions:a,mediaDefault:e,mediaList:s}}.call(this,t,e,!n);this._newBaseOption=t.baseOption,n?(r=n.baseOption,e=t.baseOption,mv(e=e||{},function(t,e){var n,i;null!=t&&(n=r[e],Qy.hasClass(e)?(t=Ke(t),i=nn(n=Ke(n),t),r[e]=vv(i,function(t){return t.option&&t.exist?xv(t.exist,t.option,!0):t.exist||t.option})):r[e]=xv(n,t,!0))}),t.timelineOptions.length&&(n.timelineOptions=t.timelineOptions),t.mediaList.length&&(n.mediaList=t.mediaList),t.mediaDefault&&(n.mediaDefault=t.mediaDefault)):this._optionBackup=t},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=vv(e.timelineOptions,yv),this._mediaList=vv(e.mediaList,yv),this._mediaDefault=yv(e.mediaDefault),this._currentMediaIndices=[],yv(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;return!n.length||(t=t.getComponent("timeline"))&&(e=yv(n[t.getCurrentIndex()],!0)),e},getMediaOption:function(t){var e=this._api.getWidth(),n=this._api.getHeight(),i=this._mediaList,r=this._mediaDefault,o=[],a=[];if(!i.length&&!r)return a;for(var s,l,u=0,c=i.length;u<c;u++)Ir(i[u].query,e,n)&&o.push(u);return(o=!o.length&&r?[-1]:o).length&&(s=o,l=this._currentMediaIndices,s.join(",")!==l.join(","))&&(a=vv(o,function(t){return yv((-1===t?r:i[t]).option)})),this._currentMediaIndices=o,a}};function bv(e,t){Iv(e,t),e.series=Ke(e.series),P(e.series,function(t){var e,n;E(t)&&("pie"!==(e=t.type)&&"gauge"!==e||null!=t.clockWise&&(t.clockwise=t.clockWise),"gauge"===e&&null!=(n=function(t,e){e=e.split(",");for(var n=t,i=0;i<e.length&&null!=(n=n&&n[e[i]]);i++);return n}(t,"pointer.color"))&&function(t,e,n,i){e=e.split(",");for(var r,o=t,a=0;a<e.length-1;a++)null==o[r=e[a]]&&(o[r]={}),o=o[r];!i&&null!=o[e[a]]||(o[e[a]]=n)}(t,"itemStyle.normal.color",n),Er(t))}),e.dataRange&&(e.visualMap=e.dataRange),P(Sv,function(t){t=e[t];t&&P(t=!T(t)?[t]:t,function(t){Er(t)})})}var wv=P,Mv=E,Av=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],Iv=function(e,t){wv(Lr(e.series),function(t){Mv(t)&&function(t){if(Mv(t)){Cr(t),Tr(t),Dr(t,"label"),Dr(t,"upperLabel"),Dr(t,"edgeLabel"),t.emphasis&&(Dr(t.emphasis,"label"),Dr(t.emphasis,"upperLabel"),Dr(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Cr(e),Nr(e));var n=t.markLine;n&&(Cr(n),Nr(n));var i=t.markArea;i&&Nr(i);var r=t.data;if("graph"===t.type){var r=r||t.nodes,o=t.links||t.edges;if(o&&!x(o))for(s=0;s<o.length;s++)Nr(o[s]);P(t.categories,function(t){Tr(t)})}if(r&&!x(r))for(s=0;s<r.length;s++)Nr(r[s]);if((e=t.markPoint)&&e.data)for(var a=e.data,s=0;s<a.length;s++)Nr(a[s]);if((n=t.markLine)&&n.data)for(var l=n.data,s=0;s<l.length;s++)T(l[s])?(Nr(l[s][0]),Nr(l[s][1])):Nr(l[s]);"gauge"===t.type?(Dr(t,"axisLabel"),Dr(t,"title"),Dr(t,"detail")):"treemap"===t.type?(Sr(t.breadcrumb,"itemStyle"),P(t.levels,function(t){Tr(t)})):"tree"===t.type&&Tr(t.leaves)}}(t)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),wv(n,function(t){wv(Lr(e[t]),function(t){t&&(Dr(t,"axisLabel"),Dr(t.axisPointer,"label"))})}),wv(Lr(e.parallel),function(t){t=t&&t.parallelAxisDefault;Dr(t,"axisLabel"),Dr(t&&t.axisPointer,"label")}),wv(Lr(e.calendar),function(t){Sr(t,"itemStyle"),Dr(t,"dayLabel"),Dr(t,"monthLabel"),Dr(t,"yearLabel")}),wv(Lr(e.radar),function(t){Dr(t,"name")}),wv(Lr(e.geo),function(t){Mv(t)&&(Nr(t),wv(Lr(t.regions),function(t){Nr(t)}))}),wv(Lr(e.timeline),function(t){Nr(t),Sr(t,"label"),Sr(t,"itemStyle"),Sr(t,"controlStyle",!0);t=t.data;T(t)&&P(t,function(t){E(t)&&(Sr(t,"label"),Sr(t,"itemStyle"))})}),wv(Lr(e.toolbox),function(t){Sr(t,"iconStyle"),wv(t.feature,function(t){Sr(t,"iconStyle")})}),Dr(kr(e.axisPointer),"label"),Dr(kr(e.tooltip).axisPointer,"label")},Cv=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Sv=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Wg=Pr.prototype;Wg.pure=!1;var Tv={arrayRows_column:{pure:Wg.persistent=!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:Yr},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],n=this._data,i=0;i<n.length;i++){var r=n[i];e.push(r?r[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:zr,getItem:jr,appendData:Yr},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,t=this._data[t];return t?t.length:0},getItem:function(t){for(var e=[],n=this._source.dimensionsDefine,i=0;i<n.length;i++){var r=this._data[n[i].name];e.push(r?r[t]:null)}return e},appendData:function(t){var r=this._data;P(t,function(t,e){for(var n=r[e]||(r[e]=[]),i=0;i<(t||[]).length;i++)n.push(t[i])})}},original:{count:zr,getItem:jr,appendData:Yr},typedArray:{persistent:!(Wg.getSource=function(){return this._source}),pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var n=this._dimSize*t,i=0;i<this._dimSize;i++)e[i]=this._data[n+i];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},Dv={arrayRows:Rr,objectRows:function(t,e,n,i){return null!=n?t[i]:t},keyedColumns:Rr,original:function(t,e,n,i){t=en(t);return null!=n&&t instanceof Array?t[n]:t},typedArray:Rr},Nv={arrayRows:Br,objectRows:function(t,e,n,i){return Fr(t[e],this._dimensionInfos[e])},keyedColumns:Br,original:function(t,e,n,i){var r=t&&(null==t.value?t:t.value);return this._rawData.pure||(!Zm(t=t)||t instanceof Array)||(this.hasItemOption=!0),Fr(r instanceof Array?r[i]:r,this._dimensionInfos[e])},typedArray:function(t,e,n,i){return t[i]}},Lv=/\{@(.+?)\}/g,Og={getDataParams:function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),r=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,"color"),l=this.ecModel.getComponent("tooltip"),n=dn(l&&l.get("renderMode")),t=this.mainType,l="series"===t;return{componentType:t,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:l?this.subType:null,seriesIndex:this.seriesIndex,seriesId:l?this.id:null,seriesName:l?this.name:null,name:o,dataIndex:r,data:a,dataType:e,value:i,color:s,marker:nr({color:s,renderMode:n}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(i,t,e,n,r){t=t||"normal";var o=this.getData(e),a=o.getItemModel(i),e=this.getDataParams(i,e);null!=n&&e.value instanceof Array&&(e.value=e.value[n]);r=a.get("normal"===t?[r||"label","formatter"]:[t,r||"label","formatter"]);return"function"==typeof r?(e.status=t,r(e)):"string"==typeof r?tr(r,e).replace(Lv,function(t,e){var n=e.length;return"["===e.charAt(0)&&"]"===e.charAt(n-1)&&(e=+e.slice(1,n-1)),Hr(o,i,e)}):void 0},getRawValue:function(t,e){return Hr(this.getData(e),t)},formatTooltip:function(){}},jm=Ur.prototype;jm.perform=function(t){function e(t){return t=!(1<=t)?1:t}var n=this._upstream,i=t&&t.skip;this._dirty&&n&&((s=this.context).data=s.outputData=n.context.outputData),this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(r=this._plan(this.context));var r,o,a=e(this._modBy),s=this._modDataCount||0,l=e(t&&t.modBy),u=t&&t.modDataCount||0;a===l&&s===u||(r="reset"),!this._dirty&&"reset"!==r||(this._dirty=!1,s=i,(r=this)._dueIndex=r._outputDueEnd=r._dueEnd=0,r._settedOutputEnd=null,!s&&r._reset&&((o=r._reset(r.context))&&o.progress&&(p=o.forceFirstProgress,o=o.progress),T(o)&&!o.length&&(o=null)),r._progress=o,r._modBy=r._modDataCount=null,(r=r._downstream)&&r.dirty(),p=p),this._modBy=l,this._modDataCount=u;t=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var c=this._dueIndex,h=Math.min(null!=t?this._dueIndex+t:1/0,this._dueEnd);if(!i&&(p||c<h)){var d=this._progress;if(T(d))for(var f=0;f<d.length;f++)Zr(this,d[f],c,h,l,u);else Zr(this,d,c,h,l,u)}this._dueIndex=h;var p=null!=this._settedOutputEnd?this._settedOutputEnd:h;this._outputDueEnd=p}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var kv,Ev,Ov,Pv,zv,jv,Yv=jv={reset:function(t,e,n,i){Ev=t,kv=e,Ov=n,Pv=i,zv=Math.ceil(Pv/Ov),jv.next=1<Ov&&0<Pv?Bv:Rv}};function Rv(){return Ev<kv?Ev++:null}function Bv(){var t=Ev%zv*Ov+Math.ceil(Ev/zv),t=kv<=Ev?null:t<Pv?t:Ev;return Ev++,t}jm.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},jm.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},jm.pipe=function(t){this._downstream===t&&!this._dirty||((this._downstream=t)._upstream=this,t.dirty())},jm.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},jm.getUpstream=function(){return this._upstream},jm.getDownstream=function(){return this._downstream},jm.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var Fv=ln(),Hv=Qy.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,visualColorAccessPath:"itemStyle.color",layoutMode:null,init:function(t,e,n,i){this.seriesIndex=this.componentIndex,this.dataTask=Gr({count:Xr,reset:qr}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),gr(this);n=this.getInitialData(t,n);$r(n,this),this.dataTask.context.data=n,Fv(this).dataBeforeProcessed=n,Vr(this)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?cr(t):{},r=this.subType;Qy.hasClass(r),g(t,e.getTheme().get(this.subType)),g(t,this.getDefaultOption()),tn(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&ur(t,i,n)},mergeOption:function(t,e){t=g(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&ur(this.option,t,n),gr(this);e=this.getInitialData(t,e);$r(e,this),this.dataTask.dirty(),this.dataTask.context.data=e,Fv(this).dataBeforeProcessed=e,Vr(this)},fillDataTextStyle:function(t){if(t&&!x(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&tn(t[n],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=Kr(this);if(e){e=e.context.data;return null==t?e:e.getLinkedData(t)}return Fv(this).data},setData:function(t){var e,n=Kr(this);n&&((e=n.context).data!==t&&n.modifyOutputEnd&&n.setOutputEnd(t.count()),e.outputData=t,n!==this.dataTask&&(e.data=t)),Fv(this).data=t},getSource:function(){return hv(this).source},getRawData:function(){return Fv(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(n,s,t,l){var e,u=this,i="html"===(l=l||"html")?"<br/>":"\n",c="richText"===l,h={},d=0,f=this.getData(),r=f.mapDimension("defaultedTooltip",!0),o=r.length,a=this.getRawValue(n),p=T(a),g=(g=E(g=f.getItemVisual(n,"color"))&&g.colorStops?(g.colorStops[0]||{}).color:g)||"transparent",m=(1<o||p&&!o?function(t){function e(t,e){var n,i,r=f.getDimensionInfo(e);r&&!1!==r.otherDims.tooltip&&(n=r.type,i="sub"+u.seriesIndex+"at"+d,e="string"==typeof(e=nr({color:g,type:"subItem",renderMode:l,markerId:i}))?e:e.content,(t=(o?e+Ki(r.displayName||"-")+": ":"")+Ki("ordinal"===n?t+"":"time"===n?s?"":rr("yyyy/MM/dd hh:mm:ss",t):$i(t)))&&a.push(t),c&&(h[i]=g,++d))}var o=y(t,function(t,e,n){n=f.getDimensionInfo(n);return t|(n&&!1!==n.tooltip&&null!=n.displayName)},0),a=[];r.length?P(r,function(t){e(Hr(f,n,t),t)}):P(t,e);t=o?c?"\n":"<br/>":"",t+=a.join(t||", ");return{renderMode:l,content:t,style:h}}(a):(e=o?Hr(f,n,r[0]):p?a[0]:a,{renderMode:l,content:Ki($i(e)),style:h})).content,o=u.seriesIndex+"at"+d,p=nr({color:g,type:"item",renderMode:l,markerId:o});h[o]=g,++d;a=f.getName(n),o=this.name,o=(o=!on(this)?"":o)?Ki(o)+(s?": ":i):"",p="string"==typeof p?p:p.content;return{html:s?p+o+m:o+p+(a?Ki(a)+": "+m:m),markers:h}},isAnimationEnabled:function(){if(Jp.node)return!1;var t=this.getShallow("animation");return t=t&&this.getData().count()>this.getShallow("animationThreshold")?!1:t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var i=this.ecModel;return iv.getColorFromPalette.call(this,t,e,n)||i.getColorFromPalette(t,e,n)},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});r(Hv,Og),r(Hv,iv);var Wv=function(){this.group=new tm,this.uid=Oi("viewComponent")};Wv.prototype={constructor:Wv,init:function(t,e){},render:function(t,e,n,i){},dispose:function(){},filterForExposedEvent:null};Tm=Wv.prototype;Tm.updateView=Tm.updateLayout=Tm.updateVisual=function(t,e,n,i){},pn(Wv),vn(Wv,{registerWhenExtend:!0});function Gv(){var o=ln();return function(t){var e=o(t),n=t.pipelineContext,i=e.large,r=e.progressiveRender,t=e.large=n.large,n=e.progressiveRender=n.progressiveRender;return!!(i^t||r^n)&&"reset"}}var Uv=ln(),Zv=Gv(),_y=to.prototype={type:"chart",init:function(t,e){},render:function(t,e,n,i){},highlight:function(t,e,n,i){no(t.getData(),i,"emphasis")},downplay:function(t,e,n,i){no(t.getData(),i,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};_y.updateView=_y.updateLayout=_y.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},pn(to),vn(to,{registerWhenExtend:!0}),to.markUpdateMethod=function(t,e){Uv(t).updateMethod=e};var Vv={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},Xv="\0__throttleOriginMethod",qv="\0__throttleRate",Jv="\0__throttleType",e0={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var n=e.getData(),i=(e.visualColorAccessPath||"itemStyle.color").split("."),r=e.get(i)||e.getColorFromPalette(e.name,null,t.getSeriesCount());if(n.setVisual("color",r),!t.isSeriesFiltered(e))return"function"!=typeof r||r instanceof vy||n.each(function(t){n.setItemVisual(t,"color",r(e.getDataParams(t)))}),{dataEach:n.hasItemOption?function(t,e){var n=t.getItemModel(e).get(i,!0);null!=n&&t.setItemVisual(e,"color",n)}:null}}},$v={toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}},Qv=Math.PI,i0=lo.prototype;i0.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){t=t.overallTask;t&&t.dirty()})},i0.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,n=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,i=i&&i.modDataCount;return{step:n,modBy:null!=i?Math.ceil(i/n):null,modDataCount:i}}},i0.getPipeline=function(t){return this._pipelineMap.get(t)},i0.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData().count(),r=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,e=t.get("large")&&i>=t.get("largeThreshold"),i="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=n.context={progressiveRender:r,modDataCount:i,large:e}},i0.restorePipelines=function(t){var i=this,r=i._pipelineMap=Y();t.eachSeries(function(t){var e=t.getProgressive(),n=t.uid;r.set(n,{id:n,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:e&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(e||700),count:0}),xo(i,t,t.dataTask)})},i0.prepareStageTasks=function(){var n=this._stageTaskMap,i=this.ecInstance.getModel(),r=this.api;P(this._allHandlers,function(t){var e=n.get(t.uid)||n.set(t.uid,[]);t.reset&&function(n,i,t,r,o){function e(t){var e=t.uid,e=a.get(e)||a.set(e,Gr({plan:go,reset:mo,count:vo}));e.context={model:t,ecModel:r,api:o,useClearVisual:i.isVisual&&!i.isLayout,plan:i.plan,reset:i.reset,scheduler:n},xo(n,t,e)}var a=t.seriesTaskMap||(t.seriesTaskMap=Y()),s=i.seriesType,t=i.getTargetSeries;i.createOnAllSeries?r.eachRawSeries(e):s?r.eachRawSeriesByType(s,e):t&&t(r,o).each(e);var l=n._pipelineMap;a.each(function(t,e){l.get(e)||(t.dispose(),a.removeKey(e))})}(this,t,e,i,r),t.overallReset&&function(i,t,e,n,r){function o(t){var e=t.uid,n=s.get(e);n||(n=s.set(e,Gr({reset:ho,onDirty:po})),a.dirty()),n.context={model:t,overallProgress:u,modifyOutputEnd:c},n.agent=a,n.__block=u,xo(i,t,n)}var a=e.overallTask=e.overallTask||Gr({reset:co});a.context={ecModel:n,api:r,overallReset:t.overallReset,scheduler:i};var s=a.agentStubMap=a.agentStubMap||Y(),l=t.seriesType,e=t.getTargetSeries,u=!0,c=t.modifyOutputEnd;l?n.eachRawSeriesByType(l,o):e?e(n,r).each(o):(u=!1,P(n.getSeries(),o));var h=i._pipelineMap;s.each(function(t,e){h.get(e)||(t.dispose(),a.dirty(),s.removeKey(e))})}(this,t,e,i,r)},this)},i0.prepareView=function(t,e,n,i){var r=t.renderTask,o=r.context;o.model=e,o.ecModel=n,o.api=i,r.__block=!t.incrementalPrepareRender,xo(this,e,r)},i0.performDataProcessorTasks=function(t,e){uo(this,this._dataProcessorHandlers,t,e,{block:!0})},i0.performVisualTasks=function(t,e,n){uo(this,this._visualHandlers,t,e,n)},i0.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},i0.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}}while(e=e.getUpstream())})};var Kv=i0.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t1=yo(0);lo.wrapStageHandler=function(t,e){return(t=m(t)?{overallReset:t,seriesType:function(t){e1=null;try{t(n1,i1)}catch(t){}return e1}(t)}:t).uid=Oi("stageHandler"),e&&(t.visualType=e),t};var e1,n1={},i1={};_o(n1,fv),_o(i1,wr),n1.eachSeriesByType=n1.eachRawSeriesByType=function(t){e1=t},n1.eachComponent=function(t){"series"===t.mainType&&t.subType&&(e1=t.subType)};Ly=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],Oy={color:Ly,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Ly]},Ey=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],kg={color:Ey,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:"#eee"},crossStyle:{color:"#eee"}}},legend:{textStyle:{color:"#eee"}},textStyle:{color:"#eee"},title:{textStyle:{color:"#eee"}},toolbox:{iconStyle:{normal:{borderColor:"#eee"}}},dataZoom:{textStyle:{color:"#eee"}},visualMap:{textStyle:{color:"#eee"}},timeline:{lineStyle:{color:"#eee"},itemStyle:{normal:{color:Ey[1]}},label:{normal:{textStyle:{color:"#eee"}}},controlStyle:{normal:{color:"#eee",borderColor:"#eee"}}},timeAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},logAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},valueAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},categoryAxis:{axisLine:{lineStyle:{color:"#eee"}},axisTick:{lineStyle:{color:"#eee"}},axisLabel:{textStyle:{color:"#eee"}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:"#eee"}}},line:{symbol:"circle"},graph:{color:Ey},gauge:{title:{textStyle:{color:"#eee"}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};kg.categoryAxis.splitLine.show=!1,Qy.extend({type:"dataset",defaultOption:{seriesLayoutBy:"column",sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(t){var e=t.option.source,n="unknown";if(x(e))n=uv;else if(T(e)){0===e.length&&(n=av);for(var i=0,r=e.length;i<r;i++){var o=e[i];if(null!=o){if(T(o)){n=av;break}if(E(o)){n=sv;break}}}}else if(E(e)){for(var a in e)if(e.hasOwnProperty(a)&&k(e[a])){n=lv;break}}else if(null!=e)throw new Error("Invalid data");hv(t).sourceFormat=n}(this)}}),Wv.extend({type:"dataset"});var r1=Rn.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.rx,o=e.ry,a=.5522848*r,e=.5522848*o;t.moveTo(n-r,i),t.bezierCurveTo(n-r,i-e,n-a,i-o,n,i-o),t.bezierCurveTo(n+a,i-o,n+r,i-e,n+r,i),t.bezierCurveTo(n+r,i+e,n+a,i+o,n,i+o),t.bezierCurveTo(n-a,i+o,n-r,i+e,n-r,i),t.closePath()}}),o1=/[\s,]+/;wo.prototype.parse=function(t,e){e=e||{};var n=bo(t);if(!n)throw new Error("Illegal svg");var i=new tm;this._root=i;var r=n.getAttribute("viewBox")||"",o=parseFloat(n.getAttribute("width")||e.width),t=parseFloat(n.getAttribute("height")||e.height);isNaN(o)&&(o=null),isNaN(t)&&(t=null),Io(n,i,null,!0);for(var a,s,l,u=n.firstChild;u;)this._parseNode(u,i),u=u.nextSibling;return!r||4<=(l=c(r).split(o1)).length&&(a={x:parseFloat(l[0]||0),y:parseFloat(l[1]||0),width:parseFloat(l[2]),height:parseFloat(l[3])}),a&&null!=o&&null!=t&&(s=So(a,o,t),!e.ignoreViewBox)&&(l=i,(i=new tm).add(l),l.scale=s.scale.slice(),l.position=s.position.slice()),e.ignoreRootClip||null==o||null==t||i.setClipPath(new dy({shape:{x:0,y:0,width:o,height:t}})),{root:i,width:o,height:t,viewBoxRect:a,viewBoxTransform:s}},wo.prototype._parseNode=function(t,e){var n,i,r,o,a=t.nodeName.toLowerCase();"defs"===a?this._isDefine=!0:"text"===a&&(this._isText=!0),this._isDefine?(o=s1[a])&&(i=o.call(this,t),(r=t.getAttribute("id"))&&(this._defs[r]=i)):(o=a1[a])&&(n=o.call(this,t,e),e.add(n));for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,n),3===s.nodeType&&this._isText&&this._parseText(s,n),s=s.nextSibling;"defs"===a?this._isDefine=!1:"text"===a&&(this._isText=!1)},wo.prototype._parseText=function(t,e){var n;1===t.nodeType&&(n=t.getAttribute("dx")||0,i=t.getAttribute("dy")||0,this._textX+=parseFloat(n),this._textY+=parseFloat(i));var i=new U0({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Mo(e,i),Io(t,i,this._defs);t=i.style.fontSize;t&&t<9&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=t/9,i.scale[1]*=t/9);t=i.getBoundingRect();return this._textX+=t.width,e.add(i),i};var a1={g:function(t,e){var n=new tm;return Mo(e,n),Io(t,n,this._defs),n},rect:function(t,e){var n=new dy;return Mo(e,n),Io(t,n,this._defs),n.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),n},circle:function(t,e){var n=new oy;return Mo(e,n),Io(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),n},line:function(t,e){var n=new fy;return Mo(e,n),Io(t,n,this._defs),n.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),n},ellipse:function(t,e){var n=new r1;return Mo(e,n),Io(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),n},polygon:function(t,e){var n=(n=t.getAttribute("points"))&&Ao(n),n=new cy({shape:{points:n||[]}});return Mo(e,n),Io(t,n,this._defs),n},polyline:function(t,e){var n=new Rn;Mo(e,n),Io(t,n,this._defs);t=(t=t.getAttribute("points"))&&Ao(t);return new hy({shape:{points:t||[]}})},image:function(t,e){var n=new He;return Mo(e,n),Io(t,n,this._defs),n.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),n},text:function(t,e){var n=t.getAttribute("x")||0,i=t.getAttribute("y")||0,r=t.getAttribute("dx")||0,o=t.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(r),this._textY=parseFloat(i)+parseFloat(o);o=new tm;return Mo(e,o),Io(t,o,this._defs),o},tspan:function(t,e){var n=t.getAttribute("x"),i=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=i&&(this._textY=parseFloat(i));var r=t.getAttribute("dx")||0,n=t.getAttribute("dy")||0,i=new tm;return Mo(e,i),Io(t,i,this._defs),this._textX+=r,this._textY+=n,i},path:function(t,e){var n=Hn(t.getAttribute("d")||"");return Mo(e,n),Io(t,n,this._defs),n}},s1={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),n=parseInt(t.getAttribute("y1")||0,10),i=parseInt(t.getAttribute("x2")||10,10),r=parseInt(t.getAttribute("y2")||0,10),r=new xy(e,n,i,r);return function(t,e){for(var n,i,r=t.firstChild;r;)1===r.nodeType&&(n=0<(n=r.getAttribute("offset")).indexOf("%")?parseInt(n,10)/100:n?parseFloat(n):0,i=r.getAttribute("stop-color")||"#000000",e.addColorStop(n,i)),r=r.nextSibling}(t,r),r},radialgradient:function(t){}},l1={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},u1=/url\(\s*#(.*?)\)/,c1=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,h1=/([^\s:;]+)\s*:\s*([^:;]+)/g,d1=Y(),f1=function(t,e,n){n=T(e)?e:e.svg?[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),[{type:"geoJSON",source:e,specialAreas:n}]);return P(n,function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON"),(0,g1[e])(t)}),d1.set(t,n)},p1=function(t){return d1.get(t)},g1={geoJSON:function(t){var e=t.source;t.geoJSON=L(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=bo(t.source)}},m1=u,y1=P,v1=m,x1=E,_1=Qy.parseClassType,Pg={PROCESSOR:{FILTER:1e3,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,GLOBAL:2e3,CHART:3e3,COMPONENT:4e3,BRUSH:5e3}},b1="__flagInMainProcess",w1="__optionUpdated",M1=/^[a-zA-Z0-9_]+$/;Do.prototype.on=To("on"),Do.prototype.off=To("off"),Do.prototype.one=To("one"),r(Do,gg);Wg=No.prototype;Wg._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[w1]){var e=this[w1].silent;this[b1]=!0,ko(this),A1.update.call(this),this[b1]=!1,this[w1]=!1,zo.call(this,e),jo.call(this,e)}else if(t.unfinished){var n=1,i=this._model;this._api,t.unfinished=!1;do{var r=+new Date}while(t.performSeriesTasks(i),t.performDataProcessorTasks(i),Oo(this,i),t.performVisualTasks(i),Fo(this,this._model,0,"remain"),0<(n-=+new Date-r)&&t.unfinished);t.unfinished||this._zr.flush()}}},Wg.getDom=function(){return this._dom},Wg.getZr=function(){return this._zr},Wg.setOption=function(t,e,n){var i,r,o;x1(e)&&(n=e.lazyUpdate,i=e.silent,e=e.notMerge),this[b1]=!0,this._model&&!e||(r=new Ar(this._api),o=this._theme,(e=this._model=new fv(null,null,o,r)).scheduler=this._scheduler,e.init(null,null,o,r)),this._model.setOption(t,D1),n?(this[w1]={silent:i},this[b1]=!1):(ko(this),A1.update.call(this),this._zr.flush(),this[w1]=!1,this[b1]=!1,zo.call(this,i),jo.call(this,i))},Wg.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},Wg.getModel=function(){return this._model},Wg.getOption=function(){return this._model&&this._model.getOption()},Wg.getWidth=function(){return this._zr.getWidth()},Wg.getHeight=function(){return this._zr.getHeight()},Wg.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},Wg.getRenderedCanvas=function(t){if(Jp.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},Wg.getSvgDataUrl=function(){if(Jp.svgSupported){var t=this._zr;return P(t.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),t.painter.pathToDataUrl()}},Wg.getDataURL=function(t){var e=(t=t||{}).excludeComponents,n=this._model,i=[],r=this;y1(e,function(t){n.eachComponent({mainType:t},function(t){t=r._componentsMap[t.__viewId];t.group.ignore||(i.push(t),t.group.ignore=!0)})});t="svg"===this._zr.painter.getType()?this.getSvgDataUrl():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return y1(i,function(t){t.group.ignore=!1}),t},Wg.getConnectedDataURL=function(i){if(Jp.canvasSupported){var r=this.group,o=Math.min,a=Math.max;if(P1[r]){var s=1/0,l=1/0,u=-1/0,c=-1/0,h=[],e=i&&i.pixelRatio||1;P(O1,function(t,e){var n;t.group===r&&(n=t.getRenderedCanvas(C(i)),t=t.getDom().getBoundingClientRect(),s=o(t.left,s),l=o(t.top,l),u=a(t.right,u),c=a(t.bottom,c),h.push({dom:n,left:t.left,top:t.top}))});var t=(u*=e)-(s*=e),n=(c*=e)-(l*=e),d=sg();d.width=t,d.height=n;var f=$e(d);return y1(h,function(t){t=new He({style:{x:t.left*e-s,y:t.top*e-l,image:t.dom}});f.add(t)}),f.refreshImmediately(),d.toDataURL("image/"+(i&&i.type||"png"))}return this.getDataURL(i)}},Wg.convertToPixel=N(Lo,"convertToPixel"),Wg.convertFromPixel=N(Lo,"convertFromPixel"),Wg.containPixel=function(t,i){var r;return P(t=un(this._model,t),function(t,n){0<=n.indexOf("Models")&&P(t,function(t){var e=t.coordinateSystem;e&&e.containPoint?r|=!!e.containPoint(i):"seriesModels"!==n||(e=this._chartsMap[t.__viewId])&&e.containPoint&&(r|=e.containPoint(i,t))},this)},this),!!r},Wg.getVisual=function(t,e){var n=(t=un(this._model,t,{defaultMainType:"series"})).seriesModel.getData(),t=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?n.indexOfRawIndex(t.dataIndex):null;return null!=t?n.getItemVisual(t,e):n.getVisual(e)},Wg.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},Wg.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var A1={prepareAndUpdate:function(t){ko(this),A1.update.call(this,t)},update:function(t){var e=this._model,n=this._api,i=this._zr,r=this._coordSysMgr,o=this._scheduler;e&&(o.restoreData(e,t),o.performSeriesTasks(e),r.create(e,n),o.performDataProcessorTasks(e,t),Oo(this,e),r.update(e,n),Ro(e),o.performVisualTasks(e,t),Bo(this,e,n,t),t=e.get("backgroundColor")||"transparent",Jp.canvasSupported?i.setBackgroundColor(t):(t=Bt(i=kt(t),"rgb"),0===i[3]&&(t="transparent")),Ho(e,n))},updateTransform:function(i){var r,n,o=this._model,a=this,s=this._api;o&&(r=[],o.eachComponent(function(t,e){var n=a.getViewOfComponentModel(e);n&&n.__alive&&(!n.updateTransform||(e=n.updateTransform(e,o,s,i))&&e.update)&&r.push(n)}),n=Y(),o.eachSeries(function(t){var e=a._chartsMap[t.__viewId];(!e.updateTransform||(e=e.updateTransform(t,o,s,i))&&e.update)&&n.set(t.uid,1)}),Ro(o),this._scheduler.performVisualTasks(o,i,{setDirty:!0,dirtyMap:n}),Fo(a,o,0,i,n),Ho(o,this._api))},updateView:function(t){var e=this._model;e&&(to.markUpdateMethod(t,"updateView"),Ro(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),Bo(this,this._model,this._api,t),Ho(e,this._api))},updateVisual:function(t){A1.update.call(this,t)},updateLayout:function(t){A1.update.call(this,t)}};Wg.resize=function(t){this._zr.resize(t);var e=this._model;this._loadingFX&&this._loadingFX.resize(),e&&(e=e.resetOption("media"),t=t&&t.silent,this[b1]=!0,e&&ko(this),A1.update.call(this),this[b1]=!1,zo.call(this,t),jo.call(this,t))},Wg.showLoading=function(t,e){x1(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),E1[t]&&(t=E1[t](this._api,e),e=this._zr,this._loadingFX=t,e.add(t))},Wg.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},Wg.makeActionFromEvent=function(t){var e=S({},t);return e.type=S1[t.type],e},Wg.dispatchAction=function(t,e){x1(e)||(e={silent:!!e}),C1[t.type]&&this._model&&(this[b1]?this._pendingActions.push(t):(Po.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&Jp.browser.weChat&&this._throttledZrFlush(),zo.call(this,e.silent),jo.call(this,e.silent)))},Wg.appendData=function(t){var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0},Wg.on=To("on"),Wg.off=To("off"),Wg.one=To("one");var I1=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];Wg._initEvents=function(){y1(I1,function(a){this._zr.on(a,function(t){var e,n,i,r=this.getModel(),o=t.target;"globalout"===a?e={}:o&&null!=o.dataIndex?e=(i=o.dataModel||r.getSeriesByIndex(o.seriesIndex))&&i.getDataParams(o.dataIndex,o.dataType,o)||{}:o&&o.eventData&&(e=S({},o.eventData)),e&&(n=e.componentType,i=e.componentIndex,"markLine"!==n&&"markPoint"!==n&&"markArea"!==n||(n="series",i=e.seriesIndex),i=(n=n&&null!=i&&r.getComponent(n,i))&&this["series"===n.mainType?"_chartsMap":"_componentsMap"][n.__viewId],e.event=t,e.type=a,this._ecEventProcessor.eventInfo={targetEl:o,packedEvent:e,model:n,view:i},this.trigger(a,e))},this)},this),y1(S1,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},Wg.isDisposed=function(){return this._disposed},Wg.clear=function(){this.setOption({series:[]},!0)},Wg.dispose=function(){var e,n;this._disposed||(this._disposed=!0,hn(this.getDom(),Y1,""),e=this._api,n=this._model,y1(this._componentsViews,function(t){t.dispose(n,e)}),y1(this._chartsViews,function(t){t.dispose(n,e)}),this._zr.dispose(),delete O1[this.id])},r(No,gg),Go.prototype={constructor:Go,normalizeQuery:function(t){var e,a,s,l={},u={},c={};return L(t)?(e=_1(t),l.mainType=e.main||null,l.subType=e.sub||null):(a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1},P(t,function(t,e){for(var n=!1,i=0;i<a.length;i++){var r=a[i],o=e.lastIndexOf(r);0<o&&o===e.length-r.length&&("data"!==(o=e.slice(0,o))&&(l.mainType=o,l[r.toLowerCase()]=t,n=!0))}s.hasOwnProperty(e)&&(u[e]=t,n=!0),n||(c[e]=t)})),{cptQuery:l,dataQuery:u,otherQuery:c}},filter:function(t,e,n){function i(t,e,n,i){return null==t[n]||e[i||n]===t[n]}var r=this.eventInfo;if(!r)return!0;var o=r.targetEl,a=r.packedEvent,s=r.model,l=r.view;if(!s||!l)return!0;var u=e.cptQuery,r=e.dataQuery;return i(u,s,"mainType")&&i(u,s,"subType")&&i(u,s,"index","componentIndex")&&i(u,s,"name")&&i(u,s,"id")&&i(r,a,"name")&&i(r,a,"dataIndex")&&i(r,a,"dataType")&&(!l.filterForExposedEvent||l.filterForExposedEvent(t,e.otherQuery,o,a))},afterTrigger:function(){this.eventInfo=null}};var C1={},S1={},T1=[],D1=[],N1=[],L1=[],k1={},E1={},O1={},P1={},z1=+new Date,j1=+new Date,Y1="_echarts_instance_",jm=Uo;Ko(2e3,e0),Xo(bv),qo(5e3,function(t){var i=Y();t.eachSeries(function(t){var e,n=t.get("stack");n&&(e=i.get(n)||i.set(n,[]),(t={stackResultDimension:(n=t.getData()).getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:t}).stackedDimension&&(t.isStackedByIndex||t.stackedByDimension)&&(e.length&&n.setCalculationInfo("stackedOnSeries",e[e.length-1].seriesModel),e.push(t)))}),i.each(Or)}),ea("default",function(i,t){D(t=t||{},{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var r=new dy({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),o=new my({shape:{startAngle:-Qv/2,endAngle:-Qv/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),a=new dy({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*Qv/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*Qv/2}).delay(300).start("circularInOut");t=new tm;return t.add(o),t.add(a),t.add(r),t.resize=function(){var t=i.getWidth()/2,e=i.getHeight()/2;o.setShape({cx:t,cy:e});var n=o.shape.r;a.setShape({x:t-n,y:e-n,width:2*n,height:2*n}),r.setShape({x:0,y:0,width:i.getWidth(),height:i.getHeight()})},t.resize(),t}),Jo({type:"highlight",event:"highlight",update:"highlight"},A),Jo({type:"downplay",event:"downplay",update:"downplay"},A),Vo("light",Oy),Vo("dark",kg);sa.prototype={constructor:sa,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,n={},i=[],r=[];for(la(t,{},i,"_oldKeyGetter",this),la(e,n,r,"_newKeyGetter",this),o=0;o<t.length;o++)null!=(s=n[a=i[o]])?((u=s.length)?(1===u&&(n[a]=null),s=s.unshift()):n[a]=null,this._update&&this._update(s,o)):this._remove&&this._remove(o);for(var o=0;o<r.length;o++){var a=r[o];if(n.hasOwnProperty(a)){var s=n[a];if(null!=s)if(s.length)for(var l=0,u=s.length;l<u;l++)this._add&&this._add(s[l]);else this._add&&this._add(s)}}}};function R1(t,e){t=t||["x","y"];for(var n={},i=[],r={},o=0;o<t.length;o++){var a=t[o],s=(a=L(a)?{name:a}:a).name;a.type=a.type||"float",a.coordDim||(a.coordDim=s,a.coordDimIndex=0),a.otherDims=a.otherDims||{},i.push(s),(n[s]=a).index=o,a.createInvertedIndices&&(r[s]=[])}this.dimensions=i,this._dimensionInfos=n,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=ua(this),this._invertedIndicesMap=r,this._calculationInfo={}}var B1=Y(["tooltip","label","itemName","itemId","seriesName"]),F1=E,H1={float:"undefined"==typeof Float64Array?Array:Float64Array,int:"undefined"==typeof Int32Array?Array:Int32Array,ordinal:Array,number:Array,time:Array},W1="undefined"==typeof Uint32Array?Array:Uint32Array,G1="undefined"==typeof Uint16Array?Array:Uint16Array,U1=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Z1=["_extent","_approximateExtent","_rawExtent"],Tm=R1.prototype;Tm.type="list",Tm.hasItemOption=!0,Tm.getDimension=function(t){return t=!isNaN(t)?this.dimensions[t]||t:t},Tm.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},Tm.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Tm.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];t=n.encode[t];return!0===e?(t||[]).slice():t&&t[e]},Tm.initData=function(t,e,n){(pr.isInstance(t)||k(t))&&(t=new Pr(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=Nv[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},Tm.getProvider=function(){return this._rawData},Tm.appendData=function(t){var e=this._rawData,n=this.count();e.appendData(t);t=e.count();e.persistent||(t+=n),this._initDataFromProvider(n,t)},Tm._initDataFromProvider=function(t,e){if(!(e<=t)){for(var n,i=this._chunkSize,r=this._rawData,o=this._storage,a=this.dimensions,s=a.length,l=this._dimensionInfos,u=this._nameList,c=this._idList,h=this._rawExtent,d=this._nameRepeatCount={},f=this._chunkCount,p=f-1,g=0;g<s;g++){h[N=a[g]]||(h[N]=[1/0,-1/0]);var m=l[N];0===m.otherDims.itemName&&(n=this._nameDimIdx=g),0===m.otherDims.itemId&&(this._idDimIdx=g);var y=H1[m.type];o[N]||(o[N]=[]);var v=o[N][p];if(v&&v.length<i){for(var x=new y(Math.min(e-p*i,i)),_=0;_<v.length;_++)x[_]=v[_];o[N][p]=x}for(D=f*i;D<e;D+=i)o[N].push(new y(Math.min(e-D,i)));this._chunkCount=o[N].length}for(var b=new Array(s),w=t;w<e;w++){for(var M,A,I,C,b=r.getItem(w,b),S=Math.floor(w/i),T=w%i,D=0;D<s;D++){var N=a[D],L=o[N][S],k=this._dimValueGetter(b,N,w,D);L[T]=k;L=h[N];k<L[0]&&(L[0]=k),k>L[1]&&(L[1]=k)}r.pure||(I=u[w],b&&null==I&&(null!=b.name?u[w]=I=b.name:null==n||(A=o[M=a[n]][S])&&(I=A[T],(C=l[M].ordinalMeta)&&C.categories.length&&(I=C.categories[I]))),null==(C=null==b?null:b.id)&&null!=I&&(d[I]=d[I]||0,0<d[C=I]&&(C+="__ec__"+d[I]),d[I]++),null!=C&&(c[w]=C))}!r.persistent&&r.clean&&r.clean(),this._rawCount=this._count=e,this._extent={},P(O=(E=this)._invertedIndicesMap,function(t,e){var n=E._dimensionInfos[e].ordinalMeta;if(n){for(t=O[e]=new W1(n.categories.length),i=0;i<t.length;i++)t[i]=NaN;for(var i=0;i<E._count;i++)t[E.get(e,i)]=i}})}var E,O},Tm.count=function(){return this._count},Tm.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array)for(i=new e(n),r=0;r<n;r++)i[r]=t[r];else i=new e(t.buffer,0,n)}else for(var i=new(e=ha(this))(this.count()),r=0;r<i.length;r++)i[r]=r;return i},Tm.get=function(t,e){if(!(0<=e&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var i=Math.floor(e/this._chunkSize),e=e%this._chunkSize;return n[t][i][e]},Tm.getByRawIndex=function(t,e){if(!(0<=e&&e<this._rawCount))return NaN;var n=this._storage[t];if(!n)return NaN;t=Math.floor(e/this._chunkSize),e%=this._chunkSize;return n[t][e]},Tm._getFast=function(t,e){var n=Math.floor(e/this._chunkSize),e=e%this._chunkSize;return this._storage[t][n][e]},Tm.getValues=function(t,e){var n=[];T(t)||(e=t,t=this.dimensions);for(var i=0,r=t.length;i<r;i++)n.push(this.get(t[i],e));return n},Tm.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=this._dimensionInfos,i=0,r=e.length;i<r;i++)if("ordinal"!==n[e[i]].type&&isNaN(this.get(e[i],t)))return!1;return!0},Tm.getDataExtent=function(t){t=this.getDimension(t);var e=[1/0,-1/0];if(!this._storage[t])return e;var n,i=this.count();if(!this._indices)return this._rawExtent[t].slice();if(n=this._extent[t])return n.slice();for(var r=(n=e)[0],o=n[1],a=0;a<i;a++){var s=this._getFast(t,this.getRawIndex(a));s<r&&(r=s),o<s&&(o=s)}return this._extent[t]=n=[r,o]},Tm.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},Tm.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},Tm.getCalculationInfo=function(t){return this._calculationInfo[t]},Tm.setCalculationInfo=function(t,e){F1(t)?S(this._calculationInfo,t):this._calculationInfo[t]=e},Tm.getSum=function(t){var e=0;if(this._storage[t])for(var n=0,i=this.count();n<i;n++){var r=this.get(t,n);isNaN(r)||(e+=r)}return e},Tm.getMedian=function(t){var n=[];this.each(t,function(t,e){isNaN(t)||n.push(t)});var e=[].concat(n).sort(function(t,e){return t-e}),t=this.count();return 0===t?0:t%2==1?e[(t-1)/2]:(e[t/2]+e[t/2-1])/2},Tm.rawIndexOf=function(t,e){e=(t&&this._invertedIndicesMap[t])[e];return null==e||isNaN(e)?-1:e},Tm.indexOfName=function(t){for(var e=0,n=this.count();e<n;e++)if(this.getName(e)===t)return e;return-1},Tm.indexOfRawIndex=function(t){if(!this._indices)return t;if(t>=this._rawCount||t<0)return-1;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(e[o]<t)i=1+o;else{if(!(e[o]>t))return o;r=o-1}}return-1},Tm.indicesOfNearest=function(t,e,n){var i=[];if(!this._storage[t])return i;null==n&&(n=1/0);for(var r=Number.MAX_VALUE,o=-1,a=0,s=this.count();a<s;a++){var l=e-this.get(t,a),u=Math.abs(l);l<=n&&u<=r&&((u<r||0<=l&&o<0)&&(r=u,o=l,i.length=0),i.push(a))}return i},Tm.getRawIndex=pa,Tm.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var i=this.dimensions[n];e.push(this.get(i,t))}return e},Tm.getName=function(t){t=this.getRawIndex(t);return this._nameList[t]||fa(this,this._nameDimIdx,t)||""},Tm.getId=function(t){return ma(this,this.getRawIndex(t))},Tm.each=function(t,e,n,i){if(this._count){"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this;for(var r=(t=I(ya(t),this.getDimension,this)).length,o=0;o<this.count();o++)switch(r){case 0:e.call(n,o);break;case 1:e.call(n,this.get(t[0],o),o);break;case 2:e.call(n,this.get(t[0],o),this.get(t[1],o),o);break;default:for(var a=0,s=[];a<r;a++)s[a]=this.get(t[a],o);s[a]=o,e.apply(n,s)}}},Tm.filterSelf=function(t,e,n,i){if(this._count){"function"==typeof t&&(i=n,n=e,e=t,t=[]),n=n||i||this,t=I(ya(t),this.getDimension,this);for(var r=this.count(),o=new(ha(this))(r),a=[],s=t.length,l=0,u=t[0],c=0;c<r;c++){var h=this.getRawIndex(c);if(0===s)f=e.call(n,c);else if(1===s)var d=this._getFast(u,h),f=e.call(n,d,c);else{for(var p=0;p<s;p++)a[p]=this._getFast(u,h);a[p]=c,f=e.apply(n,a)}f&&(o[l++]=h)}return l<r&&(this._indices=o),this._count=l,this._extent={},this.getRawIndex=this._indices?ga:pa,this}},Tm.selectRange=function(t){if(this._count){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);var i=n.length;if(i){var r=this.count(),o=new(ha(this))(r),a=0,s=n[0],l=t[s][0],u=t[s][1],c=!1;if(!this._indices){var h=0;if(1===i){for(var d=this._storage[n[0]],f=0;f<this._chunkCount;f++)for(var p=d[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++)((b=p[m])>=l&&b<=u||isNaN(b))&&(o[a++]=h),h++;c=!0}else if(2===i){for(var d=this._storage[s],y=this._storage[n[1]],v=t[n[1]][0],x=t[n[1]][1],f=0;f<this._chunkCount;f++)for(var p=d[f],_=y[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){var b=p[m],w=_[m];(l<=b&&b<=u||isNaN(b))&&(v<=w&&w<=x||isNaN(w))&&(o[a++]=h),h++}c=!0}}if(!c)if(1===i)for(m=0;m<r;m++)A=this.getRawIndex(m),((b=this._getFast(s,A))>=l&&b<=u||isNaN(b))&&(o[a++]=A);else for(m=0;m<r;m++){for(var M=!0,A=this.getRawIndex(m),f=0;f<i;f++){var I=n[f];((b=this._getFast(e,A))<t[I][0]||b>t[I][1])&&(M=!1)}M&&(o[a++]=this.getRawIndex(m))}return a<r&&(this._indices=o),this._count=a,this._extent={},this.getRawIndex=this._indices?ga:pa,this}}},Tm.mapArray=function(t,e,n,i){"function"==typeof t&&(i=n,n=e,e=t,t=[]);var r=[];return this.each(t,function(){r.push(e&&e.apply(this,arguments))},n=n||i||this),r},Tm.map=function(t,e,n,i){n=n||i||this;i=va(this,t=I(ya(t),this.getDimension,this));i._indices=this._indices,i.getRawIndex=i._indices?ga:pa;for(var r=i._storage,o=[],a=this._chunkSize,s=t.length,l=this.count(),u=[],c=i._rawExtent,h=0;h<l;h++){for(var d=0;d<s;d++)u[d]=this.get(t[d],h);u[s]=h;var f=e&&e.apply(n,u);if(null!=f){"object"!=typeof f&&(o[0]=f,f=o);for(var p=this.getRawIndex(h),g=Math.floor(p/a),m=p%a,y=0;y<f.length;y++){var v=t[y],x=f[y],_=c[v],v=r[v];v&&(v[g][m]=x),x<_[0]&&(_[0]=x),x>_[1]&&(_[1]=x)}}}return i},Tm.downSample=function(t,e,n,i){for(var r=va(this,[t]),o=r._storage,a=[],s=Math.floor(1/e),l=o[t],u=this.count(),c=this._chunkSize,h=r._rawExtent[t],d=new(ha(this))(u),f=0,p=0;p<u;p+=s){u-p<s&&(a.length=s=u-p);for(var g=0;g<s;g++){var m=this.getRawIndex(p+g),y=Math.floor(m/c);a[g]=l[y][m%c]}var v=n(a),x=this.getRawIndex(Math.min(p+i(a,v)||0,u-1)),_=x%c;(l[Math.floor(x/c)][_]=v)<h[0]&&(h[0]=v),v>h[1]&&(h[1]=v),d[f++]=x}return r._count=f,r._indices=d,r.getRawIndex=ga,r},Tm.getItemModel=function(t){var e=this.hostModel;return new Li(this.getRawDataItem(t),e,e&&e.ecModel)},Tm.diff=function(e){var n=this;return new sa(e?e.getIndices():[],this.getIndices(),function(t){return ma(e,t)},function(t){return ma(n,t)})},Tm.getVisual=function(t){var e=this._visual;return e&&e[t]},Tm.setVisual=function(t,e){if(F1(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},Tm.setLayout=function(t,e){if(F1(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},Tm.getLayout=function(t){return this._layout[t]},Tm.getItemLayout=function(t){return this._itemLayouts[t]},Tm.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?S(this._itemLayouts[t]||{},e):e},Tm.clearItemLayouts=function(){this._itemLayouts.length=0},Tm.getItemVisual=function(t,e,n){t=this._itemVisuals[t],t=t&&t[e];return null!=t||n?t:this.getVisual(e)},Tm.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{},r=this.hasItemVisual;if(this._itemVisuals[t]=i,F1(e))for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o],r[o]=!0);else i[e]=n,r[e]=!0},Tm.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};function V1(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType}Tm.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(V1,e)),this._graphicEls[t]=e},Tm.getItemGraphicEl=function(t){return this._graphicEls[t]},Tm.eachItemGraphicEl=function(n,i){P(this._graphicEls,function(t,e){t&&n&&n.call(i,t,e)})},Tm.cloneShallow=function(t){var e;return t||(e=I(this.dimensions,this.getDimensionInfo,this),t=new R1(e,this.hostModel)),t._storage=this._storage,da(t,this),this._indices?(e=this._indices.constructor,t._indices=new e(this._indices)):t._indices=null,t.getRawIndex=t._indices?ga:pa,t},Tm.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(s(arguments)))})},Tm.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Tm.CHANGABLE_METHODS=["filterSelf","selectRange"];function X1(t,e){return xa((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})}Ia.prototype.parse=function(t){return t},Ia.prototype.getSetting=function(t){return this._setting[t]},Ia.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},Ia.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},Ia.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},Ia.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},Ia.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},Ia.prototype.getExtent=function(){return this._extent.slice()},Ia.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},Ia.prototype.isBlank=function(){return this._isBlank},Ia.prototype.setBlank=function(t){this._isBlank=t},Ia.prototype.getLabel=null,pn(Ia),vn(Ia,{registerWhenExtend:!0}),Ca.createByAxisModel=function(t){var e=t.option,t=e.data,t=t&&I(t,Ta);return new Ca({categories:t,needCollect:!t,deduplication:!1!==e.dedplication})};_y=Ca.prototype;_y.getOrdinal=function(t){return Sa(this).get(t)},_y.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!=typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=Sa(this);return null==(e=i.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e};var q1=Ia.prototype,J1=Ia.extend({type:"ordinal",init:function(t,e){t&&!T(t)||(t=new Ca({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),q1.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return q1.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(q1.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:A,niceExtent:A});J1.create=function(){return new J1};var $1=ji,Q1=ji,K1=Ia.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),K1.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Da(t)},getTicks:function(){return function(t,e,n,i){var r=[];if(!t)return r;e[0]<n[0]&&r.push(e[0]);for(var o=n[0];o<=n[1]&&(r.push(o),(o=$1(o+t,i))!==r[r.length-1]);)if(1e4<r.length)return[];return e[1]>(r.length?r[r.length-1]:n[1])&&r.push(e[1]),r}(this._interval,this._extent,this._niceExtent,this._intervalPrecision)},getLabel:function(t,e){if(null==t)return"";e=e&&e.precision;return null==e?e=Bi(t)||0:"auto"===e&&(e=this._intervalPrecision),$i(t=Q1(t,e,!0))},niceTicks:function(t,e,n){t=t||5;var i,r=this._extent,o=r[1]-r[0];isFinite(o)&&(o<0&&(o=-o,r.reverse()),i=t,o=e,t=n,e={},r=(n=r)[1]-n[0],i=e.interval=Xi(r/i,!0),null!=o&&i<o&&(i=e.interval=o),null!=t&&t<i&&(i=e.interval=t),t=e.intervalPrecision=Da(i),La(e.niceTickExtent=[$1(Math.ceil(n[0]/i)*i,t),$1(Math.floor(n[1]/i)*i,t)],n),this._intervalPrecision=(e=e).intervalPrecision,this._interval=e.interval,this._niceExtent=e.niceTickExtent)},niceExtent:function(t){var e=this._extent;e[0]===e[1]&&(0!==e[0]?(n=e[0],t.fixMax||(e[1]+=n/2),e[0]-=n/2):e[1]=1);var n=e[1]-e[0];isFinite(n)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);n=this._interval;t.fixMin||(e[0]=Q1(Math.floor(e[0]/n)*n)),t.fixMax||(e[1]=Q1(Math.ceil(e[1]/n)*n))}});K1.create=function(){return new K1};var tx="__ec_stack_",ex="undefined"!=typeof Float32Array?Float32Array:Array,i0={seriesType:"bar",plan:Gv(),reset:function(t){if(Ra(t)&&Ba(t)){var e=t.getData(),s=t.coordinateSystem,n=s.getBaseAxis(),l=s.getOtherAxis(n),u=e.mapDimension(l.dim),c=e.mapDimension(n.dim),h=l.isHorizontal(),d=h?0:1,f=ja(Pa([t]),n,t).width;return.5<f||(f=.5),{progress:function(t,e){for(var n,i=new ex(2*t.count),r=[],o=[],a=0;null!=(n=t.next());)o[d]=e.get(u,n),o[1-d]=e.get(c,n),r=s.dataToPoint(o,null,r),i[a++]=r[0],i[a++]=r[1];e.setLayout({largePoints:i,barWidth:f,valueAxisStart:Fa(0,l),valueAxisHorizontal:h})}}}}},nx=K1.prototype,ix=Math.ceil,rx=Math.floor,ox=K1.extend({type:"time",getLabel:function(t){var e=this._stepLvl,t=new Date(t);return rr(e[0],t,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;e[0]===e[1]&&(e[0]-=864e5,e[1]+=864e5),e[1]===-1/0&&e[0]===1/0&&(n=new Date,e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-864e5),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;t.fixMin||(e[0]=ji(rx(e[0]/n)*n)),t.fixMax||(e[1]=ji(ix(e[1]/n)*n))},niceTicks:function(t,e,n){var i=this._extent,r=i[1]-i[0],o=r/(t=t||10);null!=e&&o<e&&(o=e);e=ax.length,o=function(t,e,n,i){for(;n<i;){var r=n+i>>>1;t[r][1]<e?n=1+r:i=r}return n}(ax,o=null!=n&&n<o?n:o,0,e),o=ax[Math.min(o,e-1)],e=o[1];"year"===o[0]&&(e*=Xi(r/e/t,!0));t=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,t=[Math.round(ix((i[0]-t)/e)*e+t),Math.round(rx((i[1]-t)/e)*e+t)];La(t,i),this._stepLvl=o,this._interval=e,this._niceExtent=t},parse:function(t){return+Ui(t)}});P(["contain","normalize"],function(e){ox.prototype[e]=function(t){return nx[e].call(this,this.parse(t))}});var ax=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",36e5],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",216e5],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",864e5],["MM-dd\nyyyy",1728e5],["MM-dd\nyyyy",2592e5],["MM-dd\nyyyy",3456e5],["MM-dd\nyyyy",432e6],["MM-dd\nyyyy",5184e5],["week",6048e5],["MM-dd\nyyyy",864e6],["week",12096e5],["week",18144e5],["month",26784e5],["week",36288e5],["month",53568e5],["week",6048e6],["quarter",8208e6],["month",107136e5],["month",13392e6],["half-year",16416e6],["month",214272e5],["month",26784e6],["year",32832e6]];ox.create=function(t){return new ox({useUTC:t.ecModel.get("useUTC")})};var sx=Ia.prototype,lx=K1.prototype,ux=Bi,cx=ji,hx=Math.floor,dx=Math.ceil,fx=Math.pow,px=Math.log,gx=Ia.extend({type:"log",base:10,$constructor:function(){Ia.apply(this,arguments),this._originalScale=new K1},getTicks:function(){var n=this._originalScale,i=this._extent,r=n.getExtent();return I(lx.getTicks.call(this),function(t){var e=ji(fx(this.base,t)),e=t===i[0]&&n.__fixMin?Ha(e,r[0]):e;return t===i[1]&&n.__fixMax?Ha(e,r[1]):e},this)},getLabel:lx.getLabel,scale:function(t){return t=sx.scale.call(this,t),fx(this.base,t)},setExtent:function(t,e){var n=this.base;t=px(t)/px(n),e=px(e)/px(n),lx.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=sx.getExtent.call(this);e[0]=fx(t,e[0]),e[1]=fx(t,e[1]);var n=this._originalScale,t=n.getExtent();return n.__fixMin&&(e[0]=Ha(e[0],t[0])),n.__fixMax&&(e[1]=Ha(e[1],t[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=px(t[0])/px(e),t[1]=px(t[1])/px(e),sx.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n==1/0||n<=0)){var i=Zi(n);for(t/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&0<Math.abs(i);)i*=10;e=[ji(dx(e[0]/i)*i),ji(hx(e[1]/i)*i)];this._interval=i,this._niceExtent=e}},niceExtent:function(t){lx.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});P(["contain","normalize"],function(e){gx.prototype[e]=function(t){return t=px(t)/px(this.base),sx[e].call(this,t)}}),gx.create=function(){return new gx};var mx={getMin:function(t){var e=this.option,e=t||null==e.rangeStart?e.min:e.rangeStart;return e=this.axis&&null!=e&&"dataMin"!==e&&"function"!=typeof e&&!d(e)?this.axis.scale.parse(e):e},getMax:function(t){var e=this.option,e=t||null==e.rangeEnd?e.max:e.rangeEnd;return e=this.axis&&null!=e&&"dataMax"!==e&&"function"!=typeof e&&!d(e)?this.axis.scale.parse(e):e},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:A,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Ly=Vn({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,e=e.height/2;t.moveTo(n,i-e),t.lineTo(n+r,i+e),t.lineTo(n-r,i+e),t.closePath()}}),Ey=Vn({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,e=e.height/2;t.moveTo(n,i-e),t.lineTo(n+r,i),t.lineTo(n,i+e),t.lineTo(n-r,i),t.closePath()}}),Wg=Vn({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,u=Math.asin(s/a),c=Math.cos(u)*a,h=Math.sin(u),e=Math.cos(u),r=.6*a,o=.7*a;t.moveTo(n-c,l+s),t.arc(n,l,a,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(n+c-h*r,l+s+e*r,n,i-o,n,i),t.bezierCurveTo(n,i-o,n-c+h*r,l+s+e*r,n-c,l+s),t.closePath()}}),e0=Vn({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,e=e.y,i=i/3*2;t.moveTo(r,e),t.lineTo(r+i,e+n),t.lineTo(r,e+n/4*3),t.lineTo(r-i,e+n),t.lineTo(r,e),t.closePath()}}),yx={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){i=Math.min(n,i);r.x=t,r.y=e,r.width=i,r.height=i},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},vx={};P({line:fy,rect:dy,roundRect:dy,square:dy,circle:oy,diamond:Ey,pin:Wg,arrow:e0,triangle:Ly},function(t,e){vx[e]=new t});var xx=Vn({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var t=this.style;"pin"===this.shape.symbolType&&"inside"===t.textPosition&&(t.textPosition=["50%","40%"],t.textAlign="center",t.textVerticalAlign="middle")},buildPath:function(t,e,n){var i=e.symbolType,r=vx[i];"none"!==e.symbolType&&(r=r||vx[i="rect"],yx[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n))}}),Oy=(Object.freeze||Object)({createList:function(t){return Aa(t.getSource(),t)},getLayoutRect:sr,dataStack:{isDimensionStacked:wa,enableDataStack:ba,getStackedDimension:Ma},createScale:function(t,e){var n=e;Li.isInstance(e)||r(n=new Li(e),mx);e=Ua(n);return e.setExtent(t[0],t[1]),Ga(e,n),e},mixinAxisModelCommonMethods:function(t){r(t,mx)},completeDimensions:xa,createDimensions:X1,createSymbol:Ja}),_x=1e-8;Ka.prototype={constructor:Ka,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var t=Number.MAX_VALUE,e=[t,t],n=[-t,-t],i=[],r=[],o=this.geometries,a=0;a<o.length;a++)"polygon"===o[a].type&&(Dn(o[a].exterior,i,r),tt(e,e,i),et(n,n,r));return 0===a&&(e[0]=e[1]=n[0]=n[1]=0),this._rect=new Kt(e[0],e[1],n[0]-e[0],n[1]-e[1])},contain:function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var i=0,r=n.length;i<r;i++)if("polygon"===n[i].type){var o=n[i].exterior,a=n[i].interiors;if(Qa(o,t[0],t[1])){for(var s=0;s<(a?a.length:0);s++)if(Qa(a[s]))continue t;return!0}}return!1},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),o=r.width/r.height;n?i=i||n/o:n=o*i;for(var i=new Kt(t,e,n,i),a=r.calculateTransform(i),s=this.geometries,l=0;l<s.length;l++)if("polygon"===s[l].type){for(var u=s[l].exterior,c=s[l].interiors,h=0;h<u.length;h++)K(u[h],u[h],a);for(var d=0;d<(c?c.length:0);d++)for(h=0;h<c[d].length;h++)K(c[d][h],c[d][h],a)}(r=this._rect).copy(i),this.center=[r.x+r.width/2,r.y+r.height/2]},cloneShallow:function(t){t=new Ka(t=null==t?this.name:t,this.geometries,this.center);return t._rect=this._rect,t.transformTo=null,t}};function bx(t){return function(t){if(!t.UTF8Encoding)return;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,i=0;i<n.length;i++)for(var r=n[i].geometry,o=r.coordinates,a=r.encodeOffsets,s=0;s<o.length;s++){var l=o[s];if("Polygon"===r.type)o[s]=ts(l,a[s],e);else if("MultiPolygon"===r.type)for(var u=0;u<l.length;u++){var c=l[u];l[u]=ts(c,a[s][u],e)}}t.UTF8Encoding=!1}(t),I(b(t.features,function(t){return t.geometry&&t.properties&&0<t.geometry.coordinates.length}),function(t){var e=t.properties,n=t.geometry,t=n.coordinates,i=[];"Polygon"===n.type&&i.push({type:"polygon",exterior:t[0],interiors:t.slice(1)}),"MultiPolygon"===n.type&&P(t,function(t){t[0]&&i.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});t=new Ka(e.name,i,e.cp);return t.properties=e,t})}function Mx(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1}var Ax=ln(),Ix=[0,1];Mx.prototype={constructor:Mx,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),e=Math.max(e[0],e[1]);return n<=t&&t<=e},containData:function(t){return this.contain(this.dataToCoord(t))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return Fi(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&cs(n=n.slice(),i.count()),Pi(t,Ix,n,e)},coordToData:function(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&cs(n=n.slice(),i.count());e=Pi(t,n,Ix,e);return this.scale.scale(e)},pointToData:function(t,e){},getTicksCoords:function(t){var e,n,i,r,o=(t=t||{}).tickModel||this.getTickModel(),a=ns(this,o),s=I(a.ticks,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this),l=o.get("alignWithLabel");return e=this,o=s,a.tickCategoryInterval,a=l,l=t.clamp,t=o.length,e.onBand&&!a&&t&&(e=e.getExtent(),1===t?(o[0].coord=e[0],n=o[1]={coord:e[0]}):(i=o[1].coord-o[0].coord,P(o,function(t){t.coord-=i/2}),n={coord:o[t-1].coord+i},o.push(n)),r=e[0]>e[1],u(o[0].coord,e[0])&&(l?o[0].coord=e[0]:o.shift()),l&&u(e[0],o[0].coord)&&o.unshift({coord:e[0]}),u(e[1],n.coord)&&(l?n.coord=e[1]:o.pop()),l&&u(n.coord,e[1])&&o.push({coord:e[1]})),s;function u(t,e){return r?e<t:t<e}},getViewLabels:function(){return es(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),e=e[1]-e[0]+(this.onBand?1:0);0===e&&(e=1);t=Math.abs(t[1]-t[0]);return Math.abs(t)/e},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return function(t){var e=(l=(o=t).getLabelModel(),{axisRotate:o.getRotate?o.getRotate():o.isHorizontal&&!o.isHorizontal()?90:0,labelRotate:l.get("rotate")||0,font:l.getFont()}),n=Za(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=(u=t.scale).getExtent(),o=u.count();if(r[1]-r[0]<1)return 0;var a=1;40<o&&(a=Math.max(1,Math.floor(o/40)));for(var s=r[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),u=Math.abs(l*Math.cos(i)),l=Math.abs(l*Math.sin(i)),c=0,h=0;s<=r[1];s+=a)var d=fe(n(s),e.font,"center","top"),f=1.3*d.width,d=1.3*d.height,c=Math.max(c,f,7),h=Math.max(h,d,7);return i=c/u,u=h/l,isNaN(i)&&(i=1/0),isNaN(u)&&(u=1/0),l=Math.max(0,Math.floor(Math.min(i,u))),i=Ax(t.model),u=i.lastAutoInterval,t=i.lastTickCount,null!=u&&null!=t&&Math.abs(u-l)<=1&&Math.abs(t-o)<=1&&l<u?l=u:(i.lastTickCount=o,i.lastAutoInterval=l),l}(this)}};var kg=bx,Cx={};P(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){Cx[t]=cg[t]});var Sx={};P(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(t){Sx[t]=Dy[t]}),Hv.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return Aa(this.getSource(),this)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clipOverflow:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Tm=ds.prototype,Tx=ds.getSymbolSize=function(t,e){e=t.getItemVisual(e,"symbolSize");return e instanceof Array?e.slice():[+e,+e]};Tm._createSymbol=function(t,e,n,i,r){this.removeAll();r=Ja(t,-1,-1,2,2,e.getItemVisual(n,"color"),r);r.attr({z2:100,culling:!0,scale:fs(i)}),r.drift=ps,this._symbolType=t,this.add(r)},Tm.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},Tm.getSymbolPath=function(){return this.childAt(0)},Tm.getScale=function(){return this.childAt(0).scale},Tm.highlight=function(){this.childAt(0).trigger("emphasis")},Tm.downplay=function(){this.childAt(0).trigger("normal")},Tm.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},Tm.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":"pointer"},Tm.updateData=function(t,e,n){this.silent=!1;var i,r,o=t.getItemVisual(e,"symbol")||"circle",a=t.hostModel,s=Tx(t,e),l=o!==this._symbolType;l?(i=t.getItemVisual(e,"symbolKeepAspect"),this._createSymbol(o,t,e,s,i)):((r=this.childAt(0)).silent=!1,Mi(r,{scale:fs(s)},a,e)),this._updateCommon(t,e,s,n),l&&(r=this.childAt(0),l=n&&n.fadeIn,n={scale:r.scale.slice()},l&&(n.style={opacity:r.style.opacity}),r.scale=[0,0],l&&(r.style.opacity=0),Ai(r,n,a,e)),this._seriesModel=a};var Dx=["itemStyle"],Nx=["emphasis","itemStyle"],Lx=["label"],kx=["emphasis","label"];Tm._updateCommon=function(n,t,e,i){var r=this.childAt(0),o=n.hostModel,a=n.getItemVisual(t,"color");"image"!==r.type&&r.useStyle({strokeNoScale:!0});var s=i&&i.itemStyle,l=i&&i.hoverItemStyle,u=i&&i.symbolRotate,c=i&&i.symbolOffset,h=i&&i.labelModel,d=i&&i.hoverLabelModel,f=i&&i.hoverAnimation,p=i&&i.cursorStyle;!i||n.hasItemOption?(s=(g=i&&i.itemModel?i.itemModel:n.getItemModel(t)).getModel(Dx).getItemStyle(["color"]),l=g.getModel(Nx).getItemStyle(),u=g.getShallow("symbolRotate"),c=g.getShallow("symbolOffset"),h=g.getModel(Lx),d=g.getModel(kx),f=g.getShallow("hoverAnimation"),p=g.getShallow("cursor")):l=S({},l);var g=r.style;r.attr("rotation",(u||0)*Math.PI/180||0),c&&r.attr("position",[zi(c[0],e[0]),zi(c[1],e[1])]),p&&r.attr("cursor",p),r.setColor(a,i&&i.symbolInnerColor),r.setStyle(s);p=n.getItemVisual(t,"opacity");null!=p&&(g.opacity=p);s=n.getItemVisual(t,"liftZ"),p=r.__z2Origin;null!=s?null==p&&(r.__z2Origin=r.z2,r.z2+=s):null!=p&&(r.z2=p,r.__z2Origin=null);var m=i&&i.useNameLabel;pi(g,l,h,d,{labelFetcher:o,labelDataIndex:t,defaultText:function(t,e){return m?n.getName(t):hs(n,t)},isRectText:!0,autoColor:a}),r.off("mouseover").off("mouseout").off("emphasis").off("normal"),r.hoverStyle=l,di(r),r.__symbolOriginalScale=fs(e),f&&o.isAnimationEnabled()&&r.on("mouseover",gs).on("mouseout",ms).on("emphasis",ys).on("normal",vs)},Tm.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,e&&e.keepLabel||(n.style.text=null),Mi(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},o(ds,tm);_y=xs.prototype;_y.updateData=function(i,r){r=bs(r);var o=this.group,a=i.hostModel,s=this._data,l=this._symbolCtor,u=ws(i);s||o.removeAll(),i.diff(s).add(function(t){var e,n=i.getItemLayout(t);_s(i,n,t,r)&&((e=new l(i,t,u)).attr("position",n),i.setItemGraphicEl(t,e),o.add(e))}).update(function(t,e){var n=s.getItemGraphicEl(e),e=i.getItemLayout(t);_s(i,e,t,r)?(n?(n.updateData(i,t,u),Mi(n,{position:e},a)):(n=new l(i,t)).attr("position",e),o.add(n),i.setItemGraphicEl(t,n)):o.remove(n)}).remove(function(t){var e=s.getItemGraphicEl(t);e&&e.fadeOut(function(){o.remove(e)})}).execute(),this._data=i},_y.isPersistent=function(){return!0},_y.updateLayout=function(){var n=this._data;n&&n.eachItemGraphicEl(function(t,e){e=n.getItemLayout(e);t.attr("position",e)})},_y.incrementalPrepareUpdate=function(t){this._seriesScope=ws(t),this._data=null,this.group.removeAll()},_y.incrementalUpdate=function(t,e,n){n=bs(n);for(var i=t.start;i<t.end;i++){var r,o=e.getItemLayout(i);_s(e,o,i,n)&&((r=new this._symbolCtor(e,i,this._seriesScope)).traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),r.attr("position",o),this.group.add(r),e.setItemGraphicEl(i,r))}},_y.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()};var Ex=tt,Ox=et,Px=G,zx=B,jx=[],Yx=[],Rx=[],Bx=Rn.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:sy(Rn.prototype.brush),buildPath:function(t,e){var n=e.points,i=0,r=n.length,o=Ds(n,e.smoothConstraint);if(e.connectNulls){for(;0<r&&Is(n[r-1]);r--);for(;i<r&&Is(n[i]);i++);}for(;i<r;)i+=Cs(t,n,i,r,r,1,o.min,o.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),Fx=Rn.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:sy(Rn.prototype.brush),buildPath:function(t,e){var n=e.points,i=e.stackedOnPoints,r=0,o=n.length,a=e.smoothMonotone,s=Ds(n,e.smoothConstraint),l=Ds(i,e.smoothConstraint);if(e.connectNulls){for(;0<o&&Is(n[o-1]);o--);for(;r<o&&Is(n[r]);r++);}for(;r<o;){var u=Cs(t,n,r,o,o,1,s.min,s.max,e.smooth,a,e.connectNulls);Cs(t,i,r+u-1,u,o,-1,l.min,l.max,e.stackedOnSmooth,a,e.connectNulls),r+=u+1,t.closePath()}}});to.extend({type:"line",init:function(){var t=new tm,e=new xs;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,n){var i=t.coordinateSystem,r=this.group,o=t.getData(),a=t.getModel("lineStyle"),s=t.getModel("areaStyle"),l=o.mapArray(o.getItemLayout),u="polar"===i.type,c=this._coordSys,h=this._symbolDraw,d=this._polyline,f=this._polygon,p=this._lineGroup,g=t.get("animation"),m=!s.isEmpty(),y=s.get("origin"),v=function(t,e,n){if(!n.valueDim)return[];for(var i=[],r=0,o=e.count();r<o;r++)i.push(As(n,t,e,r));return i}(i,o,Ms(i,o,y)),x=t.get("showSymbol"),_=x&&!u&&Ps(t,o,i),b=this._data;b&&b.eachItemGraphicEl(function(t,e){t.__temp&&(r.remove(t),b.setItemGraphicEl(e,null))}),x||h.remove(),r.add(p);u=!u&&t.get("step");d&&c.type===i.type&&u===this._step?(m&&!f?f=this._newPolygon(l,v,i,g):f&&!m&&(p.remove(f),f=this._polygon=null),p.setClipPath(Es(i,!1,!1,t)),x&&h.updateData(o,{isIgnore:_,clipShape:Es(i,!1,!0,t)}),o.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),Ns(this._stackedOnPoints,v)&&Ns(this._points,l)||(g?this._updateAnimation(o,v,i,n,u,y):(u&&(l=Os(l,i,u),v=Os(v,i,u)),d.setShape({points:l}),f&&f.setShape({points:l,stackedOnPoints:v})))):(x&&h.updateData(o,{isIgnore:_,clipShape:Es(i,!1,!0,t)}),u&&(l=Os(l,i,u),v=Os(v,i,u)),d=this._newPolyline(l,i,g),m&&(f=this._newPolygon(l,v,i,g)),p.setClipPath(Es(i,!0,!1,t)));g=function(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()&&"cartesian2d"===e.type){for(var i,r,o=n.length-1;0<=o;o--){var a=n[o].dimension,a=t.dimensions[a],a=t.getDimensionInfo(a);if("x"===(i=a&&a.coordDim)||"y"===i){r=n[o];break}}if(r){var s=e.getAxis(i),l=I(r.stops,function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}}),u=l.length,c=r.outerColors.slice();u&&l[0].coord>l[u-1].coord&&(l.reverse(),c.reverse());var h=l[0].coord-10,e=l[u-1].coord+10,d=e-h;if(d<.001)return"transparent";P(l,function(t){t.offset=(t.coord-h)/d}),l.push({offset:u?l[u-1].offset:.5,color:c[1]||"transparent"}),l.unshift({offset:u?l[0].offset:.5,color:c[0]||"transparent"});l=new xy(0,0,0,0,l,!0);return l[i]=h,l[i+"2"]=e,l}}}(o,i)||o.getVisual("color");d.useStyle(D(a.getLineStyle(),{fill:"none",stroke:g,lineJoin:"bevel"}));p=t.get("smooth"),p=Ls(t.get("smooth"));d.setShape({smooth:p,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),f&&(a=o.getCalculationInfo("stackedOnSeries"),d=0,f.useStyle(D(s.getAreaStyle(),{fill:g,opacity:.7,lineJoin:"bevel"})),a&&(d=Ls(a.get("smooth"))),f.setShape({smooth:p,stackedOnSmooth:d,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})),this._data=o,this._coordSys=i,this._stackedOnPoints=v,this._points=l,this._step=u,this._valueOrigin=y},dispose:function(){},highlight:function(t,e,n,i){var r=t.getData(),o=sn(r,i);if(!(o instanceof Array)&&null!=o&&0<=o){var a=r.getItemGraphicEl(o);if(!a){var s=r.getItemLayout(o);if(!s)return;(a=new ds(r,o)).position=s,a.setZ(t.get("zlevel"),t.get("z")),a.ignore=isNaN(s[0])||isNaN(s[1]),a.__temp=!0,r.setItemGraphicEl(o,a),a.stopSymbolAnimation(!0),this.group.add(a)}a.highlight()}else to.prototype.highlight.call(this,t,e,n,i)},downplay:function(t,e,n,i){var r,o=t.getData(),a=sn(o,i);null!=a&&0<=a?(r=o.getItemGraphicEl(a))&&(r.__temp?(o.setItemGraphicEl(a,null),this.group.remove(r)):r.downplay()):to.prototype.downplay.call(this,t,e,n,i)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Bx({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Fx({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n},_updateAnimation:function(t,e,n,i,r,o){var a=this._polyline,s=this._polygon,l=t.hostModel,u=function(t,e,n,i,r,o,a,s){for(var l,u=(l=[],e.diff(t).add(function(t){l.push({cmd:"+",idx:t})}).update(function(t,e){l.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){l.push({cmd:"-",idx:t})}).execute(),l),c=[],h=[],d=[],f=[],p=[],g=[],m=[],y=Ms(r,e,a),v=Ms(o,t,s),x=0;x<u.length;x++){var _=u[x],b=!0;switch(_.cmd){case"=":var w=t.getItemLayout(_.idx),M=e.getItemLayout(_.idx1);(isNaN(w[0])||isNaN(w[1]))&&(w=M.slice()),c.push(w),h.push(M),d.push(n[_.idx]),f.push(i[_.idx1]),m.push(e.getRawIndex(_.idx1));break;case"+":A=_.idx,c.push(r.dataToPoint([e.get(y.dataDimsForPoint[0],A),e.get(y.dataDimsForPoint[1],A)])),h.push(e.getItemLayout(A).slice()),d.push(As(y,r,e,A)),f.push(i[A]),m.push(e.getRawIndex(A));break;case"-":var A=_.idx,M=t.getRawIndex(A);M!==A?(c.push(t.getItemLayout(A)),h.push(o.dataToPoint([t.get(v.dataDimsForPoint[0],A),t.get(v.dataDimsForPoint[1],A)])),d.push(n[A]),f.push(As(v,o,t,A)),m.push(M)):b=!1}b&&(p.push(_),g.push(g.length))}g.sort(function(t,e){return m[t]-m[e]});for(var I=[],C=[],S=[],T=[],D=[],x=0;x<g.length;x++)A=g[x],I[x]=c[A],C[x]=h[A],S[x]=d[A],T[x]=f[A],D[x]=p[A];return{current:I,next:C,stackedOnCurrent:S,stackedOnNext:T,status:D}}(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,o),c=u.current,h=u.stackedOnCurrent,e=u.next,o=u.stackedOnNext;r&&(c=Os(u.current,n,r),h=Os(u.stackedOnCurrent,n,r),e=Os(u.next,n,r),o=Os(u.stackedOnNext,n,r)),a.shape.__points=u.current,a.shape.points=c,Mi(a,{shape:{points:e}},l),s&&(s.setShape({points:c,stackedOnPoints:h}),Mi(s,{shape:{points:e,stackedOnPoints:o}},l));for(var d,f=[],p=u.status,g=0;g<p.length;g++)"="!==p[g].cmd||(d=t.getItemGraphicEl(p[g].idx1))&&f.push({el:d,ptIdx:g});a.animators&&a.animators.length&&a.animators[0].during(function(){for(var t=0;t<f.length;t++)f[t].el.attr("position",a.shape.__points[f[t].ptIdx])})},remove:function(t){var n=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(t,e){t.__temp&&(n.remove(t),i.setItemGraphicEl(e,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});function Hx(t){return{seriesType:t,plan:Gv(),reset:function(t){var e=t.getData(),c=t.coordinateSystem,h=t.pipelineContext.large;if(c){var d=I(c.dimensions,function(t){return e.mapDimension(t)}).slice(0,2),f=d.length,t=e.getCalculationInfo("stackResultDimension");return wa(e,d[0])&&(d[0]=t),wa(e,d[1])&&(d[1]=t),f&&{progress:function(t,e){for(var n,i,r=t.end-t.start,o=h&&new Float32Array(r*f),a=t.start,s=0,l=[],u=[];a<t.end;a++)i=1===f?(n=e.get(d[0],a),!isNaN(n)&&c.dataToPoint(n,null,u)):(n=l[0]=e.get(d[0],a),i=l[1]=e.get(d[1],a),!isNaN(n)&&!isNaN(i)&&c.dataToPoint(l,null,u)),h?(o[s++]=i?i[0]:NaN,o[s++]=i?i[1]:NaN):e.setItemLayout(a,i&&i.slice()||[NaN,NaN]);h&&e.setLayout("symbolPoints",o)}}}}}}function Wx(t,e){return Math.round(t.length/2)}function Gx(t){this._axes={},this._dimList=[],this.name=t||""}var Ey=function(t,s,l){return{seriesType:t,performRawSeries:!0,reset:function(o,t,e){var n=o.getData(),i=o.get("symbol")||s,a=o.get("symbolSize"),r=o.get("symbolKeepAspect");if(n.setVisual({legendSymbol:l||i,symbol:i,symbolSize:a,symbolKeepAspect:r}),!t.isSeriesFiltered(o))return{dataEach:n.hasItemOption||"function"==typeof a?function(t,e){var n,i,r;"function"==typeof a&&(n=o.getRawValue(e),i=o.getDataParams(e),t.setItemVisual(e,"symbolSize",a(n,i))),t.hasItemOption&&(n=(r=t.getItemModel(e)).getShallow("symbol",!0),i=r.getShallow("symbolSize",!0),r=r.getShallow("symbolKeepAspect",!0),null!=n&&t.setItemVisual(e,"symbol",n),null!=i&&t.setItemVisual(e,"symbolSize",i),null!=r&&t.setItemVisual(e,"symbolKeepAspect",r))}:null}}}},Ux={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}};Gx.prototype={constructor:Gx,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return I(this._dimList,zs,this)},getAxesByScale:function(e){return e=e.toLowerCase(),b(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,i=t instanceof Array?[]:{},r=0;r<n.length;r++){var o=n[r],a=this._axes[o];i[o]=a[e](t[o])}return i}},js.prototype={constructor:js,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,n){var i=this.getAxis("x"),r=this.getAxis("y");return(n=n||[])[0]=i.toGlobalCoord(i.dataToCoord(t[0])),n[1]=r.toGlobalCoord(r.dataToCoord(t[1])),n},clampData:function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),o=i.getExtent(),n=n.parse(t[0]),t=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),n),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),t),Math.max(o[0],o[1])),e},pointToData:function(t,e){var n=this.getAxis("x"),i=this.getAxis("y");return(e=e||[])[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=i.coordToData(i.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")}},o(js,Gx);function Zx(t,e,n,i,r){Mx.call(this,t,e,n),this.type=i||"value",this.position=r||"bottom"}Zx.prototype={constructor:Zx,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},o(Zx,Mx);var Wg={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Vx={};Vx.categoryAxis=g({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Wg),Vx.valueAxis=g({boundaryGap:[0,0],splitNumber:5},Wg),Vx.timeAxis=D({scale:!0,min:"dataMin",max:"dataMax"},Vx.valueAxis),Vx.logAxis=D({scale:!0,logBase:10},Vx.valueAxis);var Xx=["value","category","time","log"],e0=function(o,t,a,e){P(Xx,function(r){t.extend({type:o+"Axis."+r,mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,i=n?cr(t):{};g(t,e.getTheme().get(r+"Axis")),g(t,this.getDefaultOption()),t.type=a(o,t),n&&ur(t,i,n)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=Ca.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:l([{},Vx[r+"Axis"],e],!0)})}),Qy.registerSubTypeDefaulter(o+"Axis",N(a,o))},qx=Qy.extend({type:"cartesian2dAxis",axis:null,init:function(){qx.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){qx.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){qx.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});g(qx.prototype,mx);Ly={offset:0};e0("x",qx,Ys,Ly),e0("y",qx,Ys,Ly),Qy.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});Tm=Bs.prototype;Tm.type="grid",Tm.axisPointerEnabled=!0,Tm.getRect=function(){return this._rect},Tm.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),P(n.x,function(t){Ga(t.scale,t.model)}),P(n.y,function(t){Ga(t.scale,t.model)});var i={};P(n.x,function(t){Fs(n,"y",t,i)}),P(n.y,function(t){Fs(n,"x",t,i)}),this.resize(this.model,e)},Tm.resize=function(t,e,n){function i(){P(r,function(t){var e,n,i=t.isHorizontal(),r=i?[0,a.width]:[0,a.height],o=t.inverse?1:0;t.setExtent(r[o],r[1-o]),t=t,e=i?a.x:a.y,i=t.getExtent(),n=i[0]+i[1],t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return n-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return n-t+e}})}var a=sr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=a;var r=this._axesList;i(),!n&&t.get("containLabel")&&(P(r,function(t){var e,n,i;t.model.get("axisLabel.inside")||(e=Xa(t))&&(n=t.isHorizontal()?"height":"width",i=t.model.get("axisLabel.margin"),a[n]-=e[n]+i,"top"===t.position?a.y+=e.height+i:"left"===t.position&&(a.x+=e.width+i))}),i())},Tm.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var i in n)if(n.hasOwnProperty(i))return n[i];return n[e]}},Tm.getAxes=function(){return this._axesList.slice()},Tm.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];E(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,i=this._coordsList;n<i.length;n++)if(i[n].getAxis("x").index===t||i[n].getAxis("y").index===e)return i[n]},Tm.getCartesians=function(){return this._coordsList.slice()},Tm.convertToPixel=function(t,e,n){e=this._findConvertTarget(t,e);return e.cartesian?e.cartesian.dataToPoint(n):e.axis?e.axis.toGlobalCoord(e.axis.dataToCoord(n)):null},Tm.convertFromPixel=function(t,e,n){e=this._findConvertTarget(t,e);return e.cartesian?e.cartesian.pointToData(n):e.axis?e.axis.coordToData(e.axis.toLocalCoord(n)):null},Tm._findConvertTarget=function(t,e){var n,i,r=e.seriesModel,o=e.xAxisModel||r&&r.getReferringComponents("xAxis")[0],a=e.yAxisModel||r&&r.getReferringComponents("yAxis")[0],s=e.gridModel,e=this._coordsList;return r?p(e,n=r.coordinateSystem)<0&&(n=null):o&&a?n=this.getCartesian(o.componentIndex,a.componentIndex):o?i=this.getAxis("x",o.componentIndex):a?i=this.getAxis("y",a.componentIndex):s&&s.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:i}},Tm.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},Tm._initCartesian=function(o,t,e){function n(r){return function(t,e){var n,i;Rs(t,o)&&(i=t.get("position"),"x"===r?"top"!==i&&"bottom"!==i&&a[i="bottom"]&&(i="top"===i?"bottom":"top"):"left"!==i&&"right"!==i&&a[i="left"]&&(i="left"===i?"right":"left"),a[i]=!0,i="category"===(n=new Zx(r,Ua(t),[0,0],t.get("type"),i)).type,n.onBand=i&&t.get("boundaryGap"),n.inverse=t.get("inverse"),(t.axis=n).model=t,n.grid=this,n.index=e,this._axesList.push(n),s[r][e]=n,l[r]++)}}var a={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",n("x"),this),t.eachComponent("yAxis",n("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);P((this._axesMap=s).x,function(i,r){P(s.y,function(t,e){var n="x"+r+"y"+e,e=new js(n);e.grid=this,e.model=o,this._coordsMap[n]=e,this._coordsList.push(e),e.addAxis(i),e.addAxis(t)},this)},this)},Tm._updateScale=function(t,i){function r(e,n){P(e.mapDimension(n.dim,!0),function(t){n.scale.unionExtentFromData(e,Ma(e,t))})}P(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(t){var e,n;Gs(t)&&(n=(e=Ws(t))[0],e=e[1],Rs(n,i)&&Rs(e,i)&&(n=this.getCartesian(n.componentIndex,e.componentIndex),e=t.getData(),t=n.getAxis("x"),n=n.getAxis("y"),"list"===e.type&&(r(e,t),r(e,n))))},this)},Tm.getTooltipAxes=function(n){var i=[],r=[];return P(this.getCartesians(),function(t){var e=null!=n&&"auto"!==n?t.getAxis(n):t.getBaseAxis(),t=t.getOtherAxis(e);p(i,e)<0&&i.push(e),p(r,t)<0&&r.push(t)}),{baseAxes:i,otherAxes:r}};var Jx=["xAxis","yAxis"];Bs.create=function(i,r){var o=[];return i.eachComponent("grid",function(t,e){var n=new Bs(t,i,r);n.name="grid_"+e,n.resize(t,r,!0),t.coordinateSystem=n,o.push(n)}),i.eachSeries(function(t){var e,n,i;Gs(t)&&(e=(i=Ws(t))[0],n=i[1],i=e.getCoordSysModel().coordinateSystem,t.coordinateSystem=i.getCartesian(e.componentIndex,n.componentIndex))}),o},Bs.dimensions=Bs.prototype.dimensions=js.prototype.dimensions,Mr.register("cartesian2d",Bs);function $x(t,e){this.opt=e,this.axisModel=t,D(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new tm,(e=new tm({position:e.position.slice(),rotation:e.rotation})).updateTransform(),this._transform=e.transform,this._dumbGroup=e}var Qx=Math.PI;$x.prototype={constructor:$x,hasBuilder:function(t){return!!Kx[t]},add:function(t){Kx[t].call(this)},getGroup:function(){return this.group}};var Kx={axisLine:function(){var i,t,r,o,e,a,s,l=this.opt,n=this.axisModel;n.get("axisLine.show")&&(t=this.axisModel.axis.getExtent(),e=this._transform,i=[t[0],0],t=[t[1],0],e&&(K(i,i,e),K(t,t,e)),r=S({lineCap:"round"},n.getModel("axisLine.lineStyle").getLineStyle()),this.group.add(new fy(Qn({anid:"line",shape:{x1:i[0],y1:i[1],x2:t[0],y2:t[1]},style:r,strokeContainThreshold:l.strokeContainThreshold||5,silent:!0,z2:1}))),o=n.get("axisLine.symbol"),e=n.get("axisLine.symbolSize"),"number"==typeof(n=n.get("axisLine.symbolOffset")||0)&&(n=[n,n]),null!=o&&("string"==typeof o&&(o=[o,o]),a=(e="string"==typeof e||"number"==typeof e?[e,e]:e)[0],s=e[1],P([{rotate:l.rotation+Math.PI/2,offset:n[0],r:0},{rotate:l.rotation-Math.PI/2,offset:n[1],r:Math.sqrt((i[0]-t[0])*(i[0]-t[0])+(i[1]-t[1])*(i[1]-t[1]))}],function(t,e){var n;"none"!==o[e]&&null!=o[e]&&(n=Ja(o[e],-a/2,-s/2,a,s,r.stroke,!0),e=t.r+t.offset,e=[i[0]+e*Math.cos(l.rotation),i[1]-e*Math.sin(l.rotation)],n.attr({rotation:t.rotate,position:e,silent:!0}),this.group.add(n))},this)))},axisTickLabel:function(){var t,e,n,i,r,o,a,s=this.axisModel,l=this.opt,u=function(t,e,n){var i=e.axis;if(e.get("axisTick.show")&&!i.scale.isBlank()){for(var r=e.getModel("axisTick"),o=r.getModel("lineStyle"),a=r.get("length"),s=i.getTicksCoords(),l=[],u=[],c=t._transform,h=[],d=0;d<s.length;d++){var f=s[d].coord;l[0]=f,u[l[1]=0]=f,u[1]=n.tickDirection*a,c&&(K(l,l,c),K(u,u,c));f=new fy(Qn({anid:"tick_"+s[d].tickValue,shape:{x1:l[0],y1:l[1],x2:u[0],y2:u[1]},style:D(o.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),z2:2,silent:!0}));t.group.add(f),h.push(f)}return h}}(this,s,l);e=function(s,l,u){var c=l.axis;if(O(u.axisLabelShow,l.get("axisLabel.show"))&&!c.scale.isBlank()){var h=l.getModel("axisLabel"),d=h.get("margin"),t=c.getViewLabels(),e=(O(u.labelRotate,h.get("rotate"))||0)*Qx/180,f=t_(u.rotation,e,u.labelDirection),p=l.getCategories(!0),g=[],m=Zs(l),y=l.get("triggerEvent");return P(t,function(t,e){var n=t.tickValue,i=t.formattedLabel,r=t.rawLabel,o=h,a=(o=p&&p[n]&&p[n].textStyle?new Li(p[n].textStyle,h,l.ecModel):o).getTextColor()||l.get("axisLine.lineStyle.color"),t=[c.dataToCoord(n),u.labelOffset+u.labelDirection*d],t=new U0({anid:"label_"+n,position:t,rotation:f.rotation,silent:m,z2:10});gi(t.style,o,{text:i,textAlign:o.getShallow("align",!0)||f.textAlign,textVerticalAlign:o.getShallow("verticalAlign",!0)||o.getShallow("baseline",!0)||f.textVerticalAlign,textFill:"function"==typeof a?a("category"===c.type?r:"value"===c.type?n+"":n,e):a}),y&&(t.eventData=Us(l),t.eventData.targetType="axisLabel",t.eventData.value=r),s._dumbGroup.add(t),t.updateTransform(),g.push(t),s.group.add(t),t.decomposeTransform()}),g}}(this,t=s,l),n=u,i=t.get("axisLabel.showMinLabel"),r=t.get("axisLabel.showMaxLabel"),o=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],u=(n=n||[])[0],t=n[1],e=n[n.length-1],n=n[n.length-2],!1===i?(Vs(o),Vs(u)):Xs(o,a)&&(i?(Vs(a),Vs(t)):(Vs(o),Vs(u))),!1===r?(Vs(s),Vs(e)):Xs(l,s)&&(r?(Vs(l),Vs(n)):(Vs(s),Vs(e)))},axisName:function(){var t,e,n,i,r,o,a,s,l,u,c,h=this.opt,d=this.axisModel,f=O(h.axisName,d.get("name"));f&&(e=d.get("nameLocation"),n=h.nameDirection,i=d.getModel("nameTextStyle"),a=d.get("nameGap")||0,o=(r=this.axisModel.axis.getExtent())[0]>r[1]?-1:1,o=["start"===e?r[0]-o*a:"end"===e?r[1]+o*a:(r[0]+r[1])/2,qs(e)?h.labelOffset+n*a:0],null!=(a=d.get("nameRotate"))&&(a=a*Qx/180),qs(e)?t=t_(h.rotation,null!=a?a:h.rotation,n):(l=e,u=r,s=Wi((a||0)-(s=h).rotation),u=u[0]>u[1],u="start"===l&&!u||"start"!==l&&u,u=Gi(s-Qx/2)?(c=u?"bottom":"top","center"):Gi(s-1.5*Qx)?(c=u?"top":"bottom","center"):(c="middle",s<1.5*Qx&&Qx/2<s?u?"left":"right":u?"right":"left"),t={rotation:s,textAlign:u,textVerticalAlign:c},null!=(l=h.axisNameAvailableWidth)&&(l=Math.abs(l/Math.sin(t.rotation)),isFinite(l)||(l=null))),s=i.getFont(),c=(u=d.get("nameTruncate",!0)||{}).ellipsis,h=O(h.nameTruncateMaxWidth,u.maxWidth,l),l=null!=c&&null!=h?Zy(f,h,s,c,{minChar:2,placeholder:u.placeholder}):f,h=d.get("tooltip",!0),(u={componentType:c=d.mainType,name:f,$vars:["name"]})[c+"Index"]=d.componentIndex,gi((h=new U0({anid:"name",__fullText:f,__truncatedText:l,position:o,rotation:t.rotation,silent:Zs(d),z2:1,tooltip:h&&h.show?S({content:f,formatter:function(){return f},formatterParams:u},h):null})).style,i,{text:l,textFont:s,textFill:i.getTextColor()||d.get("axisLine.lineStyle.color"),textAlign:t.textAlign,textVerticalAlign:t.textVerticalAlign}),d.get("triggerEvent")&&(h.eventData=Us(d),h.eventData.targetType="axisName",h.eventData.name=f),this._dumbGroup.add(h),h.updateTransform(),this.group.add(h),h.decomposeTransform())}},t_=$x.innerTextLayout=function(t,e,n){var i,t=Wi(e-t),n=Gi(t)?(i=0<n?"top":"bottom","center"):Gi(t-Qx)?(i=0<n?"bottom":"top","center"):(i="middle",0<t&&t<Qx?0<n?"right":"left":0<n?"left":"right");return{rotation:t,textAlign:n,textVerticalAlign:i}},e_=P,n_=N,i_=ia({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,n,i){var r,o,a,s,l,u;this.axisPointerClass&&(u=Qs(r=t))&&(s=u.axisPointerModel,l=u.axis.scale,o=s.option,a=s.get("status"),null!=(r=s.get("value"))&&(r=l.parse(r)),s=Ks(s),null==a&&(o.status=s?"show":"hide"),(l=l.getExtent().slice())[0]>l[1]&&l.reverse(),(r=null==r||r>l[1]?l[1]:r)<l[0]&&(r=l[0]),o.value=r,s&&(o.status=u.axis.scale.isBlank()?"hide":"show")),i_.superApply(this,"render",arguments),el(this,t,0,n,0,!0)},updateAxisPointer:function(t,e,n,i,r){el(this,t,0,n,0,!1)},remove:function(t,e){var n=this._axisPointer;n&&n.remove(e),i_.superApply(this,"remove",arguments)},dispose:function(t,e){nl(this,e),i_.superApply(this,"dispose",arguments)}}),r_=[];i_.registerAxisPointerClass=function(t,e){r_[t]=e},i_.getAxisPointerClass=function(t){return t&&r_[t]};var o_=["axisLine","axisTickLabel","axisName"],a_=["splitArea","splitLine"],s_=i_.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,n,i){this.group.removeAll();var r,o,a=this._axisGroup;this._axisGroup=new tm,this.group.add(this._axisGroup),e.get("show")&&(o=il(r=e.getCoordSysModel(),e),o=new $x(e,o),P(o_,o.add,o),this._axisGroup.add(o.getGroup()),P(a_,function(t){e.get(t+".show")&&this["_"+t](e,r)},this),Ti(a,this._axisGroup,e),s_.superCall(this,"render",e,t,n,i))},remove:function(){this._splitAreaColors=null},_splitLine:function(t,e){var n=t.axis;if(!n.scale.isBlank())for(var i=t.getModel("splitLine"),t=i.getModel("lineStyle"),r=T(r=t.get("color"))?r:[r],o=e.coordinateSystem.getRect(),a=n.isHorizontal(),s=0,l=n.getTicksCoords({tickModel:i}),u=[],c=[],h=t.getLineStyle(),d=0;d<l.length;d++){var f=n.toGlobalCoord(l[d].coord);a?(u[0]=f,u[1]=o.y,c[0]=f,c[1]=o.y+o.height):(u[0]=o.x,u[1]=f,c[0]=o.x+o.width,c[1]=f);var p=s++%r.length,f=l[d].tickValue;this._axisGroup.add(new fy(Qn({anid:null!=f?"line_"+l[d].tickValue:null,shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:D({stroke:r[p]},h),silent:!0})))}},_splitArea:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var i=t.getModel("splitArea"),t=i.getModel("areaStyle"),r=t.get("color"),o=e.coordinateSystem.getRect(),a=n.getTicksCoords({tickModel:i,clamp:!0});if(a.length){var s=r.length,l=this._splitAreaColors,u=Y(),c=0;if(l)for(p=0;p<a.length;p++){var h=l.get(a[p].tickValue);if(null!=h){c=(h+(s-1)*p)%s;break}}for(var d=n.toGlobalCoord(a[0].coord),f=t.getAreaStyle(),r=T(r)?r:[r],p=1;p<a.length;p++){var g,m,y,v,x=n.toGlobalCoord(a[p].coord),d=n.isHorizontal()?(g=d,m=o.y,v=o.height,g+(y=x-g)):(g=o.x,m=d,y=o.width,m+(v=x-m)),x=a[p-1].tickValue;null!=x&&u.set(x,c),this._axisGroup.add(new dy({anid:null!=x?"area_"+x:null,shape:{x:g,y:m,width:y,height:v},style:D({fill:r[c]},f),silent:!0})),c=(c+1)%s}this._splitAreaColors=u}}}});s_.extend({type:"xAxis"}),s_.extend({type:"yAxis"}),ia({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new dy({shape:t.coordinateSystem.getRect(),style:D({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),Xo(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}),Ko(Ey("line","circle","line")),Qo(Hx("line")),qo(Pg.PROCESSOR.STATISTIC,{seriesType:"line",modifyOutputEnd:!0,reset:function(t,e,n){var i,r,o=t.getData(),a=t.get("sampling"),s=t.coordinateSystem;"cartesian2d"===s.type&&a&&(i=s.getBaseAxis(),s=s.getOtherAxis(i),i=(i=i.getExtent())[1]-i[0],1<(i=Math.round(o.count()/i))&&("string"==typeof a?r=Ux[a]:"function"==typeof a&&(r=a),r&&t.setData(o.downSample(o.mapDimension(s.dim),1/i,r,Wx))))}});_y=Hv.extend({type:"series.__base_bar__",getInitialData:function(t,e){return Aa(this.getSource(),this)},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(e.clampData(t)),i=this.getData(),t=i.getLayout("offset"),i=i.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=t+i/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});_y.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return t=t<e?e:t}});var l_=Hm([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),u_=["itemStyle","barBorderWidth"];S(Li.prototype,{getBarItemStyle:function(t){var e=l_(this,t);return!this.getBorderLineDash||(t=this.getBorderLineDash())&&(e.lineDash=t),e}}),oa({type:"bar",render:function(t,e,n){this._updateDrawMode(t);var i=t.get("coordinateSystem");return"cartesian2d"!==i&&"polar"!==i||(this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n)),this.group},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,i){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){t=t.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(r,t,e){var o,a=this.group,s=r.getData(),l=this._data,u=r.coordinateSystem,n=u.getBaseAxis();"cartesian2d"===u.type?o=n.isHorizontal():"polar"===u.type&&(o="angle"===n.dim);var c=r.isAnimationEnabled()?r:null;s.diff(l).add(function(t){var e,n,i;s.hasValue(t)&&(e=s.getItemModel(t),n=h_[u.type](s,t,e),i=c_[u.type](s,t,e,n,o,c),s.setItemGraphicEl(t,i),a.add(i),ll(i,s,t,e,n,r,o,"polar"===u.type))}).update(function(t,e){var n,i=l.getItemGraphicEl(e);s.hasValue(t)?(n=s.getItemModel(t),e=h_[u.type](s,t,n),i?Mi(i,{shape:e},c,t):i=c_[u.type](s,t,n,e,o,c,!0),s.setItemGraphicEl(t,i),a.add(i),ll(i,s,t,n,e,r,o,"polar"===u.type)):a.remove(i)}).remove(function(t){var e=l.getItemGraphicEl(t);"cartesian2d"===u.type?e&&al(t,c,e):e&&sl(t,c,e)}).execute(),this._data=s},_renderLarge:function(t,e,n){this._clear(),ul(t,this.group)},_incrementalRenderLarge:function(t,e){ul(e,this.group,!0)},dispose:A,remove:function(t){this._clear(t)},_clear:function(e){var t=this.group,n=this._data;e&&e.get("animation")&&n&&!this._isLargeDraw?n.eachItemGraphicEl(function(t){("sector"===t.type?sl:al)(t.dataIndex,e,t)}):t.removeAll(),this._data=null}});var c_={cartesian2d:function(t,e,n,i,r,o,a){var s,l=new dy({shape:S({},i)});return o&&(s={},l.shape[r=r?"height":"width"]=0,s[r]=i[r],Dy[a?"updateProps":"initProps"](l,{shape:s},o,e)),l},polar:function(t,e,n,i,r,o,a){var s,l=i.startAngle<i.endAngle,u=new ly({shape:D({clockwise:l},i)});return o&&(s={},u.shape[l=r?"r":"endAngle"]=r?0:i.startAngle,s[l]=i[l],Dy[a?"updateProps":"initProps"](u,{shape:s},o,e)),u}},h_={cartesian2d:function(t,e,n){var i=t.getItemLayout(e),n=(t=i,e=(e=n).get(u_)||0,Math.min(e,Math.abs(t.width),Math.abs(t.height))),e=0<i.width?1:-1,t=0<i.height?1:-1;return{x:i.x+e*n/2,y:i.y+t*n/2,width:i.width-e*n,height:i.height-t*n}},polar:function(t,e,n){e=t.getItemLayout(e);return{cx:e.cx,cy:e.cy,r0:e.r0,r:e.r,startAngle:e.startAngle,endAngle:e.endAngle}}},d_=Rn.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var n=e.points,i=this.__startPoint,r=this.__valueIdx,o=0;o<n.length;o+=2)i[this.__valueIdx]=n[o+r],t.moveTo(i[0],i[1]),t.lineTo(n[o],n[o+1])}});Qo(N(Ya,"bar")),Qo(i0),Ko({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}});function f_(t,e,n){e=T(e)?{coordDimensions:e}:S({},e);var i=t.getSource(),e=X1(i,e);return(t=new R1(e,t)).initData(i,n),t}var sy={updateSelectedMap:function(t){this._targetList=T(t)?t.slice():[],this._selectTargetMap=y(t||[],function(t,e){return t.set(e.name,e),t},Y())},select:function(t,e){t=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),t&&(t.selected=!0)},unSelect:function(t,e){t=null!=e?this._targetList[e]:this._selectTargetMap.get(t);t&&(t.selected=!1)},toggleSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=n)return this[n.selected?"unSelect":"select"](t,e),n.selected},isSelected:function(t,e){t=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return t&&t.selected}},p_=ra({type:"series.pie",init:function(t){p_.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){p_.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return f_(this,["value"])},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),n=[],i=0,r=t.count();i<r;i++)n.push({name:t.getName(i),value:t.get(e,i),selected:Wr(t,i,"selected")});return n},getDataParams:function(t){var e=this.getData(),n=p_.superCall(this,"getDataParams",t),i=[];return e.each(e.mapDimension("value"),function(t){i.push(t)}),n.percent=Hi(i,t,e.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(t){tn(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,label:{rotate:!1,show:!0,position:"outer"},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationEasing:"cubicOut"}});r(p_,sy);Wg=dl.prototype;Wg.updateData=function(t,e,n){function i(){o.stopAnimation(!0),o.animateTo({shape:{r:l.r+a.get("hoverOffset")}},300,"elasticOut")}function r(){o.stopAnimation(!0),o.animateTo({shape:{r:l.r}},300,"elasticOut")}var o=this.childAt(0),a=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),u=S({},l);u.label=null,n?(o.setShape(u),"scale"===a.getShallow("animationType")?(o.shape.r=l.r0,Ai(o,{shape:{r:l.r}},a,e)):(o.shape.endAngle=l.startAngle,Mi(o,{shape:{endAngle:l.endAngle}},a,e))):Mi(o,{shape:u},a,e);u=t.getItemVisual(e,"color");o.useStyle(D({lineJoin:"bevel",fill:u},s.getModel("itemStyle").getItemStyle())),o.hoverStyle=s.getModel("emphasis.itemStyle").getItemStyle();u=s.getShallow("cursor");u&&o.attr("cursor",u),hl(this,t.getItemLayout(e),a.isSelected(null,e),a.get("selectedOffset"),a.get("animation")),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),s.get("hoverAnimation")&&a.isAnimationEnabled()&&o.on("mouseover",i).on("mouseout",r).on("emphasis",i).on("normal",r),this._updateLabel(t,e),di(this)},Wg._updateLabel=function(t,e){var n=this.childAt(1),i=this.childAt(2),r=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e).label;t.getItemVisual(e,"color");Mi(n,{shape:{points:a.linePoints||[[a.x,a.y],[a.x,a.y],[a.x,a.y]]}},r,e),Mi(i,{style:{x:a.x,y:a.y}},r,e),i.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var s=o.getModel("label"),l=o.getModel("emphasis.label"),r=o.getModel("labelLine"),o=o.getModel("emphasis.labelLine"),u=t.getItemVisual(e,"color");pi(i.style,i.hoverStyle={},s,l,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:u,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),i.ignore=i.normalIgnore=!s.get("show"),i.hoverIgnore=!l.get("show"),n.ignore=n.normalIgnore=!r.get("show"),n.hoverIgnore=!o.get("show"),n.setStyle({stroke:u,opacity:t.getItemVisual(e,"opacity")}),n.setStyle(r.getModel("lineStyle").getLineStyle()),n.hoverStyle=o.getModel("lineStyle").getLineStyle();r=r.get("smooth");n.setShape({smooth:r=r&&!0===r?.4:r})},o(dl,tm),to.extend({type:"pie",init:function(){var t=new tm;this._sectorGroup=t},render:function(t,e,n,i){var r,o,a,s,l,u,c;i&&i.from===this.uid||(r=t.getData(),o=this._data,a=this.group,i=e.get("animation"),s=!o,l=t.get("animationType"),u=N(cl,this.uid,t,i,n),c=t.get("selectedMode"),r.diff(o).add(function(t){var e=new dl(r,t);s&&"scale"!==l&&e.eachChild(function(t){t.stopAnimation(!0)}),c&&e.on("click",u),r.setItemGraphicEl(t,e),a.add(e)}).update(function(t,e){e=o.getItemGraphicEl(e);e.updateData(r,t),e.off("click"),c&&e.on("click",u),a.add(e),r.setItemGraphicEl(t,e)}).remove(function(t){t=o.getItemGraphicEl(t);a.remove(t)}).execute(),i&&s&&0<r.count()&&"scale"!==l?(e=r.getItemLayout(0),i=Math.max(n.getWidth(),n.getHeight())/2,n=v(a.removeClipPath,a),a.setClipPath(this._createClipPath(e.cx,e.cy,i,e.startAngle,e.clockwise,n,t))):a.removeClipPath(),this._data=r)},dispose:function(){},_createClipPath:function(t,e,n,i,r,o,a){n=new ly({shape:{cx:t,cy:e,r0:0,r:n,startAngle:i,endAngle:i,clockwise:r}});return Ai(n,{shape:{endAngle:i+(r?1:-1)*Math.PI*2}},a,o),n},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){e=t[0]-n.cx,t=t[1]-n.cy,t=Math.sqrt(e*e+t*t);return t<=n.r&&t>=n.r0}}});function g_(y,v,t,e){var x,_,b=y.getData(),w=[],M=!1;b.each(function(t){var e=b.getItemLayout(t),n=b.getItemModel(t),i=n.getModel("label"),r=i.get("position")||n.get("emphasis.label.position"),o=n.getModel("labelLine"),a=o.get("length"),s=o.get("length2"),l=(e.startAngle+e.endAngle)/2,u=Math.cos(l),c=Math.sin(l);x=e.cx,_=e.cy;var h,d,f,p="inside"===r||"inner"===r,g="center"===r?(h=e.cx,d=e.cy,"center"):(h=(n=(p?(e.r+e.r0)/2*u:e.r*u)+x)+3*u,d=(o=(p?(e.r+e.r0)/2*c:e.r*c)+_)+3*c,p||(h=(g=(f=n+u*(a+v-e.r))+(u<0?-1:1)*s)+(u<0?-5:5),f=[[n,o],[f,d=m=o+c*(a+v-e.r)],[g,m]]),p?"center":0<u?"left":"right"),m=i.getFont(),l=i.get("rotate")?u<0?-l+Math.PI:-l:0,m=fe(y.getFormattedLabel(t,"normal")||b.getName(t),m,g,"top");M=!!l,e.label={x:h,y:d,position:r,height:m.height,len:a,len2:s,linePoints:f,textAlign:g,verticalAlign:"middle",rotation:l,inside:p},p||w.push(e.label)}),!M&&y.get("avoidLabelOverlap")&&function(t,e,n,i,r){for(var o=[],a=[],s=0;s<t.length;s++)(t[s].x<e?o:a).push(t[s]);for(fl(a,e,n,i,1,0,r),fl(o,e,n,i,-1,0,r),s=0;s<t.length;s++){var l,u=t[s].linePoints;u&&(l=u[1][0]-u[2][0],t[s].x<e?u[2][0]=t[s].x+3:u[2][0]=t[s].x-3,u[1][1]=u[2][1]=t[s].y,u[1][0]=u[2][0]+l)}}(w,x,_,v,e)}var Ly=function(n,t){P(t,function(r){r.update="updateView",Jo(r,function(t,e){var i={};return e.eachComponent({mainType:"series",subType:n,query:t},function(e){e[r.method]&&e[r.method](t.name,t.dataIndex);var n=e.getData();n.each(function(t){t=n.getName(t);i[t]=e.isSelected(t)||!1})}),{name:t.name,selected:i}})})},Tm=function(i){return{getTargetSeries:function(t){var e={},n=Y();return t.eachSeriesByType(i,function(t){t.__paletteScope=e,n.set(t.uid,t)}),n},reset:function(i,t){var r=i.getRawData(),o={},a=i.getData();a.each(function(t){var e=a.getRawIndex(t);o[e]=t}),r.each(function(t){var e=o[t],n=null!=e&&a.getItemVisual(e,"color",!0);n?r.setItemVisual(t,"color",n):(n=r.getItemModel(t).get("itemStyle.color")||i.getColorFromPalette(r.getName(t)||t+"",i.__paletteScope,r.count()),r.setItemVisual(t,"color",n),null!=e&&a.setItemVisual(e,"color",n))})}}},m_=2*Math.PI,y_=Math.PI/180,i0=function(t){return{seriesType:t,reset:function(t,e){var i,r=e.findComponents({mainType:"legend"});r&&r.length&&(i=t.getData()).filterSelf(function(t){for(var e=i.getName(t),n=0;n<r.length;n++)if(!r[n].isSelected(e))return!1;return!0})}}};Ly("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),Ko(Tm("pie")),Qo(N(function(t,e,C,n){e.eachSeriesByType(t,function(t){var r=t.getData(),e=r.mapDimension("value"),n=t.get("center"),i=t.get("radius");T(i)||(i=[0,i]),T(n)||(n=[n,n]);var o=C.getWidth(),a=C.getHeight(),s=Math.min(o,a),l=zi(n[0],o),u=zi(n[1],a),c=zi(i[0],s/2),h=zi(i[1],s/2),d=-t.get("startAngle")*y_,f=t.get("minAngle")*y_,p=0;r.each(e,function(t){isNaN(t)||p++});var g=r.getSum(e),m=Math.PI/(g||p)*2,y=t.get("clockwise"),v=t.get("roseType"),x=t.get("stillShowZeroSum"),_=r.getDataExtent(e);_[0]=0;var b,w=m_,M=0,A=d,I=y?1:-1;r.each(e,function(t,e){var n,i;isNaN(t)?r.setItemLayout(e,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:l,cy:u,r0:c,r:v?NaN:h}):((n="area"!==v?0===g&&x?m:t*m:m_/p)<f?w-=n=f:M+=t,i=A+I*n,r.setItemLayout(e,{angle:n,startAngle:A,endAngle:i,clockwise:y,cx:l,cy:u,r0:c,r:v?Pi(t,_,[c,h]):h}),A=i)}),w<m_&&p&&(w<=.001?(b=m_/p,r.each(e,function(t,e){isNaN(t)||((t=r.getItemLayout(e)).angle=b,t.startAngle=d+I*e*b,t.endAngle=d+I*(e+1)*b)})):(m=w/M,A=d,r.each(e,function(t,e){isNaN(t)||(t=(e=r.getItemLayout(e)).angle===f?f:t*m,e.startAngle=A,e.endAngle=A+I*t,A+=I*t)}))),g_(t,h,0,a)})},"pie")),qo(i0("pie")),Hv.extend({type:"series.scatter",dependencies:["grid","polar","geo","singleAxis","calendar"],getInitialData:function(t,e){return Aa(this.getSource(),this)},brushSelector:"point",getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?5e3:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?1e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8}}});var v_=Vn({shape:{points:null},symbolProxy:null,buildPath:function(t,e){var n=e.points,i=e.size,r=this.symbolProxy,o=r.shape;if(!((t.getContext?t.getContext():t)&&i[0]<4))for(var a=0;a<n.length;){var s=n[a++],l=n[a++];isNaN(s)||isNaN(l)||(o.x=s-i[0]/2,o.y=l-i[1]/2,o.width=i[0],o.height=i[1],r.buildPath(t,o,!0))}},afterBrush:function(t){var e=this.shape,n=e.points,i=e.size;if(i[0]<4){this.setTransform(t);for(var r=0;r<n.length;){var o=n[r++],a=n[r++];isNaN(o)||isNaN(a)||t.fillRect(o-i[0]/2,a-i[1]/2,i[0],i[1])}this.restoreTransform(t)}},findDataIndex:function(t,e){for(var n=this.shape,i=n.points,n=n.size,r=Math.max(n[0],4),o=Math.max(n[1],4),a=i.length/2-1;0<=a;a--){var s=2*a,l=i[s]-r/2,s=i[1+s]-o/2;if(l<=t&&s<=e&&t<=l+r&&e<=s+o)return a}return-1}}),Wg=pl.prototype;Wg.isPersistent=function(){return!this._incremental},Wg.updateData=function(t){this.group.removeAll();var e=new v_({rectHover:!0,cursor:"default"});e.setShape({points:t.getLayout("symbolPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},Wg.updateLayout=function(t){var i;this._incremental||(i=t.getLayout("symbolPoints"),this.group.eachChild(function(t){var e,n;null!=t.startIndex&&(e=2*(t.endIndex-t.startIndex),n=4*t.startIndex*2,i=new Float32Array(i.buffer,n,e)),t.setShape("points",i)}))},Wg.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),2e6<t.count()?(this._incremental||(this._incremental=new Zn({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Wg.incrementalUpdate=function(t,e){var n;this._incremental?(n=new v_,this._incremental.addDisplayable(n,!0)):((n=new v_({rectHover:!0,cursor:"default",startIndex:t.start,endIndex:t.end})).incremental=!0,this.group.add(n)),n.setShape({points:e.getLayout("symbolPoints")}),this._setCommon(n,e,!!this._incremental)},Wg._setCommon=function(e,t,n){var i=t.hostModel,r=t.getVisual("symbolSize");e.setShape("size",r instanceof Array?r:[r,r]),e.symbolProxy=Ja(t.getVisual("symbol"),0,0,0,0),e.setColor=e.symbolProxy.setColor;r=e.shape.size[0]<4;e.useStyle(i.getModel("itemStyle").getItemStyle(r?["color","shadowBlur","shadowColor"]:["color"]));t=t.getVisual("color");t&&e.setColor(t),n||(e.seriesIndex=i.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;t=e.findDataIndex(t.offsetX,t.offsetY);0<=t&&(e.dataIndex=t+(e.startIndex||0))}))},Wg.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Wg._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()},oa({type:"scatter",render:function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).updateData(i),this._finished=!0},incrementalPrepareRender:function(t,e,n){var i=t.getData();this._updateSymbolDraw(i,t).incrementalPrepareUpdate(i),this._finished=!1},incrementalRender:function(t,e,n){this._symbolDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var i=t.getData();if(this.group.dirty(),!this._finished||1e4<i.count()||!this._symbolDraw.isPersistent())return{update:!0};t=Hx().reset(t);t.progress&&t.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateSymbolDraw:function(t,e){var n=this._symbolDraw,e=e.pipelineContext.large;return n&&e===this._isLargeDraw||(n&&n.remove(),n=this._symbolDraw=new(e?pl:xs),this._isLargeDraw=e,this.group.removeAll()),this.group.add(n.group),n},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},dispose:function(){}}),Ko(Ey("scatter","circle")),Qo(Hx("scatter")),o(gl,Mx),ml.prototype.getIndicatorAxes=function(){return this._indicatorAxes},ml.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},ml.prototype.coordToPoint=function(t,e){e=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(e),this.cy-t*Math.sin(e)]},ml.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,t=Math.sqrt(e*e+n*n);e/=t,n/=t;for(var i,r=Math.atan2(-n,e),o=1/0,a=-1,s=0;s<this._indicatorAxes.length;s++){var l=this._indicatorAxes[s],u=Math.abs(r-l.angle);u<o&&(i=l,a=s,o=u)}return[a,+(i&&i.coodToData(t))]},ml.prototype.resize=function(t,e){var n=t.get("center"),i=e.getWidth(),r=e.getHeight(),e=Math.min(i,r)/2;this.cx=zi(n[0],i),this.cy=zi(n[1],r),this.startAngle=t.get("startAngle")*Math.PI/180;t=t.get("radius");this.r0=zi((t="string"==typeof t||"number"==typeof t?[0,t]:t)[0],e),this.r=zi(t[1],e),P(this._indicatorAxes,function(t,e){t.setExtent(this.r0,this.r);e=this.startAngle+e*Math.PI*2/this._indicatorAxes.length,e=Math.atan2(Math.sin(e),Math.cos(e));t.angle=e},this)},ml.prototype.update=function(i,t){function c(t){var e=Math.pow(10,Math.floor(Math.log(t)/Math.LN10)),t=t/e;return 2===t?t=5:t*=2,t*e}var r=this._indicatorAxes,o=this._model;P(r,function(t){t.scale.setExtent(1/0,-1/0)}),i.eachSeriesByType("radar",function(t,e){var n;"radar"===t.get("coordinateSystem")&&i.getComponent("radar",t.get("radarIndex"))===o&&(n=t.getData(),P(r,function(t){t.scale.unionExtentFromData(n,n.mapDimension(t.dim))}))},this);var h=o.get("splitNumber");P(r,function(t,e){var n=Wa(t.scale,t.model);Ga(t.scale,t.model);var i,r,o=t.model,a=t.scale,s=o.getMin(),l=o.getMax(),u=a.getInterval();if(null!=s&&null!=l)a.setExtent(+s,+l),a.setInterval((l-s)/h);else if(null!=s)for(;a.setExtent(+s,i=s+u*h),a.setInterval(u),u=c(u),i<n[1]&&isFinite(i)&&isFinite(n[1]););else if(null!=l)for(;a.setExtent(r=l-u*h,+l),a.setInterval(u),u=c(u),r>n[0]&&isFinite(r)&&isFinite(n[0]););else{a.getTicks().length-1>h&&(u=c(u));t=Math.round((n[0]+n[1])/2/u)*u,o=Math.round(h/2);a.setExtent(ji(t-o*u),ji(t+(h-o)*u)),a.setInterval(u)}})},ml.dimensions=[],ml.create=function(t,n){var i=[];return t.eachComponent("radar",function(t){var e=new ml(t,0,n);i.push(e),t.coordinateSystem=e}),t.eachSeriesByType("radar",function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])}),i},Mr.register("radar",ml);var Wg=Vx.valueAxis,x_=(na({type:"radar",optionUpdated:function(){var n=this.get("boundaryGap"),i=this.get("splitNumber"),r=this.get("scale"),o=this.get("axisLine"),a=this.get("axisTick"),s=this.get("axisLabel"),l=this.get("name"),u=this.get("name.show"),c=this.get("name.formatter"),h=this.get("nameGap"),d=this.get("triggerEvent"),t=I(this.get("indicator")||[],function(t){null!=t.max&&0<t.max&&!t.min?t.min=0:null!=t.min&&t.min<0&&!t.max&&(t.max=0);var e=l;null!=t.color&&(e=D({color:t.color},l)),t=g(C(t),{boundaryGap:n,splitNumber:i,scale:r,axisLine:o,axisTick:a,axisLabel:s,name:t.text,nameLocation:"end",nameGap:h,nameTextStyle:e,triggerEvent:d},!1),u||(t.name=""),"string"==typeof c?(e=t.name,t.name=c.replace("{value}",null!=e?e:"")):"function"==typeof c&&(t.name=c(t.name,t));t=S(new Li(t,null,this.ecModel),mx);return t.mainType="radar",t.componentIndex=this.componentIndex,t},this);this.getIndicatorModels=function(){return t}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:g({lineStyle:{color:"#bbb"}},Wg.axisLine),axisLabel:yl(Wg.axisLabel,!1),axisTick:yl(Wg.axisTick,!1),splitLine:yl(Wg.splitLine,!0),splitArea:yl(Wg.splitArea,!0),indicator:[]}}),["axisLine","axisTickLabel","axisName"]);ia({type:"radar",render:function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},_buildAxes:function(t){var e=t.coordinateSystem;P(I(e.getIndicatorAxes(),function(t){return new $x(t.model,{position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(t){P(x_,t.add,t),this.group.add(t.getGroup())},this)},_buildSplitLineAndArea:function(t){function e(t,e,n){e=n%e.length;return t[e]=t[e]||[],e}var n=t.coordinateSystem,i=n.getIndicatorAxes();if(i.length){var r=t.get("shape"),o=t.getModel("splitLine"),a=t.getModel("splitArea"),s=o.getModel("lineStyle"),t=a.getModel("areaStyle"),l=o.get("show"),u=a.get("show"),c=s.get("color"),h=t.get("color"),c=T(c)?c:[c],h=T(h)?h:[h],d=[],f=[];if("circle"===r)for(var p=i[0].getTicksCoords(),g=n.cx,m=n.cy,y=0;y<p.length;y++)l&&d[e(d,c,y)].push(new oy({shape:{cx:g,cy:m,r:p[y].coord}})),u&&y<p.length-1&&f[e(f,h,y)].push(new uy({shape:{cx:g,cy:m,r0:p[y].coord,r:p[y+1].coord}}));else for(var v,x=I(i,function(t,e){t=t.getTicksCoords();return v=null==v?t.length-1:Math.min(t.length-1,v),I(t,function(t){return n.coordToPoint(t.coord,e)})}),_=[],y=0;y<=v;y++){for(var b=[],w=0;w<i.length;w++)b.push(x[w][y]);b[0]&&b.push(b[0].slice()),l&&d[e(d,c,y)].push(new hy({shape:{points:b}})),u&&_&&f[e(f,h,y-1)].push(new cy({shape:{points:b.concat(_)}})),_=b.slice().reverse()}var M=s.getLineStyle(),A=t.getAreaStyle();P(f,function(t,e){this.group.add(wy(t,{style:D({stroke:"none",fill:h[e%h.length]},A),silent:!0}))},this),P(d,function(t,e){this.group.add(wy(t,{style:D({fill:"none",stroke:c[e%c.length]},M),silent:!0}))},this)}}});var __=Hv.extend({type:"series.radar",dependencies:["radar"],init:function(t){__.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},getInitialData:function(t,e){return f_(this,{generateCoord:"indicator_",generateCoordCount:1/0})},formatTooltip:function(i){var r=this.getData(),t=this.coordinateSystem.getIndicatorAxes(),e=this.getData().getName(i);return Ki(""===e?this.name:e)+"<br/>"+I(t,function(t,e){var n=r.get(r.mapDimension(t.dim),i);return Ki(t.name+" : "+n)}).join("<br />")},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid"},label:{position:"top"},symbol:"emptyCircle",symbolSize:4}});oa({type:"radar",render:function(l,t,e){function u(t,e){var n=t.getItemVisual(e,"symbol")||"circle",i=t.getItemVisual(e,"color");if("none"!==n){e=e=T(e=t.getItemVisual(e,"symbolSize"))?e:[+e,+e],i=Ja(n,-1,-1,2,2,i);return i.attr({style:{strokeNoScale:!0},z2:100,scale:[e[0]/2,e[1]/2]}),i}}function a(t,e,n,i,r,o){n.removeAll();for(var a=0;a<e.length-1;a++){var s=u(i,r);s&&(t[s.__dimIdx=a]?(s.attr("position",t[a]),Dy[o?"initProps":"updateProps"](s,{position:e[a]},l,r)):s.attr("position",e[a]),n.add(s))}}function s(t){return I(t,function(t){return[n.cx,n.cy]})}var n=l.coordinateSystem,m=this.group,y=l.getData(),c=this._data;y.diff(c).add(function(t){var e,n,i,r,o=y.getItemLayout(t);o&&(e=new cy,n=new hy,r={shape:{points:o}},e.shape.points=s(o),n.shape.points=s(o),Ai(e,r,l,t),Ai(n,r,l,t),i=new tm,r=new tm,i.add(n),i.add(e),i.add(r),a(n.shape.points,o,r,y,t,!0),y.setItemGraphicEl(t,i))}).update(function(t,e){var n=c.getItemGraphicEl(e),i=n.childAt(0),r=n.childAt(1),o=n.childAt(2),e={shape:{points:y.getItemLayout(t)}};e.shape.points&&(a(i.shape.points,e.shape.points,o,y,t,!1),Mi(i,e,l),Mi(r,e,l),y.setItemGraphicEl(t,n))}).remove(function(t){m.remove(c.getItemGraphicEl(t))}).execute(),y.eachItemGraphicEl(function(t,e){function n(){a.attr("ignore",h)}function i(){a.attr("ignore",c)}var r=y.getItemModel(e),o=t.childAt(0),a=t.childAt(1),s=t.childAt(2),l=y.getItemVisual(e,"color");m.add(t),o.useStyle(D(r.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:l})),o.hoverStyle=r.getModel("emphasis.lineStyle").getLineStyle();var u=r.getModel("areaStyle"),o=r.getModel("emphasis.areaStyle"),c=u.isEmpty()&&u.parentModel.isEmpty(),h=(h=o.isEmpty()&&o.parentModel.isEmpty())&&c;a.ignore=c,a.useStyle(D(u.getAreaStyle(),{fill:l,opacity:.7})),a.hoverStyle=o.getAreaStyle();var d=r.getModel("itemStyle").getItemStyle(["color"]),f=r.getModel("emphasis.itemStyle").getItemStyle(),p=r.getModel("label"),g=r.getModel("emphasis.label");s.eachChild(function(t){t.setStyle(d),t.hoverStyle=C(f),pi(t.style,t.hoverStyle,p,g,{labelFetcher:y.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:y.get(y.dimensions[t.__dimIdx],e),autoColor:l,isRectText:!0})}),t.off("mouseover").off("mouseout").off("normal").off("emphasis"),t.on("emphasis",n).on("mouseover",n).on("normal",i).on("mouseout",i),di(t)}),this._data=y},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),Ko(Tm("radar")),Ko(Ey("radar","circle")),Qo(function(t){t.eachSeriesByType("radar",function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){for(var r=i.getIndicatorAxes(),o=0;o<r.length;o++)e.each(e.mapDimension(r[o].dim),function(t,e){n[e]=n[e]||[],n[e][o]=i.dataToPoint(t,o)});e.each(function(t){n[t][0]&&n[t].push(n[t][0].slice()),e.setItemLayout(t,n[t])})}})}),qo(i0("radar")),Xo(function(n){var i,t=n.polar;t&&(T(t)||(t=[t]),i=[],P(t,function(t,e){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),n.radar=n.radar||[],T(n.radar)||(n.radar=[n.radar]),n.radar.push(t)):i.push(t)}),n.polar=i),P(n.series,function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)})});var b_=K;r(vl,wg),xl.prototype={constructor:xl,type:"view",dimensions:["x","y"],setBoundingRect:function(t,e,n,i){return this._rect=new Kt(t,e,n,i),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(t,e,n,i){this.transformTo(t,e,n,i),this._viewRect=new Kt(t,e,n,i)},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),o=this._rawTransformable;o.transform=r.calculateTransform(new Kt(t,e,n,i)),o.decomposeTransform(),this._updateTransform()},setCenter:function(t){t&&(this._center=t,this._updateCenterAndZoom())},setZoom:function(t){t=t||1;var e=this.zoomLimit;e&&(null!=e.max&&(t=Math.min(e.max,t)),null!=e.min&&(t=Math.max(e.min,t))),this._zoom=t,this._updateCenterAndZoom()},getDefaultCenter:function(){var t=this.getBoundingRect();return[t.x+t.width/2,t.y+t.height/2]},getCenter:function(){return this._center||this.getDefaultCenter()},getZoom:function(){return this._zoom||1},getRoamTransform:function(){return this._roamTransformable.getLocalTransform()},_updateCenterAndZoom:function(){var t=this._rawTransformable.getLocalTransform(),e=this._roamTransformable,n=this.getDefaultCenter(),i=this.getCenter(),r=this.getZoom(),i=K([],i,t),n=K([],n,t);e.origin=i,e.position=[n[0]-i[0],n[1]-i[1]],e.scale=[r,r],this._updateTransform()},_updateTransform:function(){var t=this._roamTransformable,e=this._rawTransformable;(e.parent=t).updateTransform(),e.updateTransform(),pt(this.transform||(this.transform=[]),e.transform||dt()),this._rawTransform=e.getLocalTransform(),this.invTransform=this.invTransform||[],xt(this.invTransform,this.transform),this.decomposeTransform()},getViewRect:function(){return this._viewRect},getViewRectAfterRoam:function(){var t=this.getBoundingRect().clone();return t.applyTransform(this.transform),t},dataToPoint:function(t,e,n){e=e?this._rawTransform:this.transform;return n=n||[],e?b_(n,t,e):B(n,t)},pointToData:function(t){var e=this.invTransform;return e?b_([],t,e):[t[0],t[1]]},convertToPixel:N(_l,"dataToPoint"),convertFromPixel:N(_l,"pointToData"),containPoint:function(t){return this.getViewRectAfterRoam().contain(t[0],t[1])}},r(xl,wg);for(var w_=[126,25],M_=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],A_=0;A_<M_.length;A_++)for(var I_=0;I_<M_[A_].length;I_++)M_[A_][I_][0]/=10.5,M_[A_][I_][1]/=-14,M_[A_][I_][0]+=w_[0],M_[A_][I_][1]+=w_[1];var C_={"":[32,80],"":[0,-10],"":[10,5],"":[-10,10],"":[5,5]},S_={Russia:[100,60],"United States":[-99,38],"United States of America":[-99,38]},T_=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],D_=ln(),Wg={load:function(r,t){var e=D_(t).parsed;if(e)return e;var n,o=t.specialAreas||{},e=t.geoJSON;try{n=e?bx(e):[]}catch(r){throw new Error("Invalid geoJson format\n"+r.message)}return P(n,function(t){var e,n,i=t.name;n=t,"china"!==(e=r)||(e=C_[n.name])&&((n=n.center)[0]+=e[0]/10.5,n[1]+=-e[1]/14),n=t,"world"!==(e=r)||(e=S_[n.name])&&((n=n.center)[0]=e[0],n[1]=e[1]),e=t,"china"===r&&""===e.name&&e.geometries.push({type:"polygon",exterior:T_[0]});i=o[i];i&&t.transformTo(i.left,i.top,i.width,i.height)}),e=n,"china"===r&&e.push(new Ka("",I(M_,function(t){return{type:"polygon",exterior:t}}),w_)),D_(t).parsed={regions:n,boundingRect:function(t){for(var e,n=0;n<t.length;n++){var i=t[n].getBoundingRect();(e=e||i.clone()).union(i)}return e}(n)}}},N_=ln(),L_={geoJSON:Wg,svg:{load:function(t,e){var n=N_(e).originRoot;if(n)return{root:n,boundingRect:N_(e).boundingRect};n=bl(e);return N_(e).originRoot=n.root,N_(e).boundingRect=n.boundingRect,n},makeGraphic:function(t,e,n){var i=N_(e),r=i.rootMap||(i.rootMap=Y());if(s=r.get(n))return s;var o=i.originRoot,a=i.boundingRect,s=i.originRootHostKey?bl(e,a).root:(i.originRootHostKey=n,o);return r.set(n,s)},removeGraphic:function(t,e,n){var i=N_(e),e=i.rootMap;e&&e.removeKey(n),n===i.originRootHostKey&&(i.originRootHostKey=null)}}},k_={load:function(e,n){var i,r=[],o=Y(),a=Y();return P(Ml(e),function(t){t=L_[t.type].load(e,t);P(t.regions,function(t){var e=t.name;n&&n.hasOwnProperty(e)&&(t=t.cloneShallow(e=n[e])),r.push(t),o.set(e,t),a.set(e,t.center)});t=t.boundingRect;t&&(i?i.union(t):i=t.clone())}),{regions:r,regionsMap:o,nameCoordMap:a,boundingRect:i||new Kt(0,0,0,0)}},makeGraphic:wl("makeGraphic"),removeGraphic:wl("removeGraphic")};Al.prototype={constructor:Al,type:"geo",dimensions:["lng","lat"],containCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return!0;return!1},transformTo:function(t,e,n,i){var r=this.getBoundingRect(),o=this._invertLongitute,r=r.clone();o&&(r.y=-r.y-r.height);var a=this._rawTransformable;a.transform=r.calculateTransform(new Kt(t,e,n,i)),a.decomposeTransform(),o&&((o=a.scale)[1]=-o[1]),a.updateTransform(),this._updateTransform()},getRegion:function(t){return this._regionsMap.get(t)},getRegionByCoord:function(t){for(var e=this.regions,n=0;n<e.length;n++)if(e[n].contain(t))return e[n]},addGeoCoord:function(t,e){this._nameCoordMap.set(t,e)},getGeoCoord:function(t){return this._nameCoordMap.get(t)},getBoundingRect:function(){return this._rect},dataToPoint:function(t,e,n){if(t="string"==typeof t?this.getGeoCoord(t):t)return xl.prototype.dataToPoint.call(this,t,e,n)},convertToPixel:N(Il,"dataToPoint"),convertFromPixel:N(Il,"pointToData")},r(Al,xl);var E_={dimensions:Al.prototype.dimensions,create:function(t,a){var s=[];t.eachComponent("geo",function(t,e){var n=t.get("map"),i=t.get("aspectScale"),r=!0,o=p1(n);o&&o[0]&&"svg"===o[0].type?(null==i&&(i=1),r=!1):null==i&&(i=.75);r=new Al(n+e,n,t.get("nameMap"),r);r.aspectScale=i,r.zoomLimit=t.get("scaleLimit"),s.push(r),Sl(r,t),(t.coordinateSystem=r).model=t,r.resize=Cl,r.resize(t,a)}),t.eachSeries(function(t){var e;"geo"===t.get("coordinateSystem")&&(e=t.get("geoIndex")||0,t.coordinateSystem=s[e])});var n={};return t.eachSeriesByType("map",function(t){var e;t.getHostGeoModel()||(e=t.getMapType(),n[e]=n[e]||[],n[e].push(t))}),P(n,function(t,e){var n=new Al(e,e,l(I(t,function(t){return t.get("nameMap")})));n.zoomLimit=O.apply(null,I(t,function(t){return t.get("scaleLimit")})),s.push(n),n.resize=Cl,n.aspectScale=t[0].get("aspectScale"),n.resize(t[0],a),P(t,function(t){Sl(t.coordinateSystem=n,t)})}),s},getFilledRegions:function(t,e,n){for(var i=(t||[]).slice(),r=Y(),o=0;o<i.length;o++)r.set(i[o].name,i[o]);return P(k_.load(e,n).regions,function(t){t=t.name;r.get(t)||i.push({name:t})}),i}};$o("geo",E_);var O_=Hv.extend({type:"series.map",dependencies:["geo"],layoutMode:"box",needsDrawMap:!1,seriesGroup:[],init:function(t){O_.superApply(this,"init",arguments),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t){return f_(this,["value"])},mergeOption:function(t){O_.superApply(this,"mergeOption",arguments),this.updateSelectedMap(this._createSelectableList())},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),n=[],i=0,r=t.count();i<r;i++)n.push({name:t.getName(i),value:t.get(e,i),selected:Wr(t,i,"selected")});return E_.getFilledRegions(n,this.getMapType(),this.option.nameMap)},getHostGeoModel:function(){var t=this.option.geoIndex;return null!=t?this.dependentModels.geo[t]:null},getMapType:function(){return(this.getHostGeoModel()||this).option.map},_fillOption:function(t,e){},getRawValue:function(t){var e=this.getData();return e.get(e.mapDimension("value"),t)},getRegionModel:function(t){var e=this.getData();return e.getItemModel(e.indexOfName(t))},formatTooltip:function(t){for(var e=this.getData(),n=$i(this.getRawValue(t)),i=e.getName(t),r=this.seriesGroup,o=[],a=0;a<r.length;a++){var s=r[a].originalData.indexOfName(i),l=e.mapDimension("value");isNaN(r[a].originalData.get(l,s))||o.push(Ki(r[a].name))}return o.join(", ")+"<br />"+Ki(i+" : "+n)},getTooltipPosition:function(t){if(null!=t){var e=this.getData().getName(t),t=this.coordinateSystem,e=t.getRegion(e);return e&&t.dataToPoint(e.center)}},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:.75,showLegendSymbol:!0,dataRangeHoverLink:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}}}});r(O_,sy);var P_="\0_ec_interaction_mutex";Jo({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),r(Nl,gg);var z_={axisPointer:1,tooltip:1,brush:1};Gl.prototype={constructor:Gl,draw:function(f,t,e,n,i){var p="geo"===f.mainType,g=f.getData&&f.getData();p&&t.eachComponent({mainType:"series",subType:"map"},function(t){g||t.getHostGeoModel()!==f||(g=t.getData())});var r=f.coordinateSystem;this._updateBackground(r);var m=this._regionsGroup,o=this.group,y=r.scale,a={position:r.position,scale:y};!m.childAt(0)||i?o.attr(a):Mi(o,a,f),m.removeAll();var s,l,u,c,h,v=["itemStyle"],x=["emphasis","itemStyle"],_=["label"],b=["emphasis","label"],w=Y();P(r.regions,function(t){var e=w.get(t.name)||w.set(t.name,new tm),n=new yy({shape:{paths:[]}});e.add(n);var i,r=(h=f.getRegionModel(t.name)||f).getModel(v),o=h.getModel(x),a=Hl(r),s=Hl(o),l=h.getModel(_),u=h.getModel(b);g&&(i=g.indexOfName(t.name),(d=g.getItemVisual(i,"color",!0))&&(a.fill=d)),P(t.geometries,function(t){if("polygon"===t.type){n.shape.paths.push(new cy({shape:{points:t.exterior}}));for(var e=0;e<(t.interiors?t.interiors.length:0);e++)n.shape.paths.push(new cy({shape:{points:t.interiors[e]}}))}}),n.setStyle(a),n.style.strokeNoScale=!0,n.culling=!0;var c,h,r=l.get("show"),o=u.get("show"),d=g&&isNaN(g.get(g.mapDimension("value"),i)),a=g&&g.getItemLayout(i);(p||d&&(r||o)||a&&a.showLabel)&&(o=p?t.name:i,(!g||0<=i)&&(c=f),pi((a=new U0({position:t.center.slice(),scale:[1/y[0],1/y[1]],z2:10,silent:!0})).style,a.hoverStyle={},l,u,{labelFetcher:c,labelDataIndex:o,defaultText:t.name,useInsideStyle:!1},{textAlign:"center",textVerticalAlign:"middle"}),e.add(a)),g?g.setItemGraphicEl(i,e):(h=f.getRegionModel(t.name),n.eventData={componentType:"geo",componentIndex:f.componentIndex,geoIndex:f.componentIndex,name:t.name,region:h&&h.option||{}}),(e.__regions||(e.__regions=[])).push(t),di(e,s,{hoverSilentOnTouch:!!f.get("selectedMode")}),m.add(e)}),this._updateController(f,t,e),s=this,l=f,c=e,h=n,(u=m).off("click"),u.off("mousedown"),l.get("selectedMode")&&(u.on("mousedown",function(){s._mouseDownFlag=!0}),u.on("click",function(t){if(s._mouseDownFlag){s._mouseDownFlag=!1;for(var e=t.target;!e.__regions;)e=e.parent;e&&((t={type:("geo"===l.mainType?"geo":"map")+"ToggleSelect",batch:I(e.__regions,function(t){return{name:t.name,from:h.uid}})})[l.mainType+"Id"]=l.id,c.dispatchAction(t),Wl(l,u))}})),Wl(f,m)},remove:function(){this._regionsGroup.removeAll(),this._backgroundGroup.removeAll(),this._controller.dispose(),this._mapName&&k_.removeGraphic(this._mapName,this.uid),this._mapName=null,this._controllerHost={}},_updateBackground:function(t){t=t.map;this._mapName!==t&&P(k_.makeGraphic(t,this.uid),function(t){this._backgroundGroup.add(t)},this),this._mapName=t},_updateController:function(i,t,r){function n(){var t={type:"geoRoam",componentType:s};return t[s+"Id"]=i.id,t}var o=i.coordinateSystem,e=this._controller,a=this._controllerHost;a.zoomLimit=i.get("scaleLimit"),a.zoom=o.getZoom(),e.enable(i.get("roam")||!1);var s=i.mainType;e.off("pan").on("pan",function(t){this._mouseDownFlag=!1,Rl(a,t.dx,t.dy),r.dispatchAction(S(n(),{dx:t.dx,dy:t.dy}))},this),e.off("zoom").on("zoom",function(t){var e;this._mouseDownFlag=!1,Bl(a,t.scale,t.originX,t.originY),r.dispatchAction(S(n(),{zoom:t.scale,originX:t.originX,originY:t.originY})),this._updateGroup&&(e=this.group.scale,this._regionsGroup.traverse(function(t){"text"===t.type&&t.attr("scale",[1/e[0],1/e[1]])}))},this),e.setPointerChecker(function(t,e,n){return o.getViewRectAfterRoam().contain(e,n)&&!Fl(t,r,i)})}},oa({type:"map",render:function(t,e,n,i){var r,o;i&&"mapToggleSelect"===i.type&&i.from===this.uid||((r=this.group).removeAll(),t.getHostGeoModel()||(i&&"geoRoam"===i.type&&"series"===i.componentType&&i.seriesId===t.id?(o=this._mapDraw)&&r.add(o.group):t.needsDrawMap?(o=this._mapDraw||new Gl(n,!0),r.add(o.group),o.draw(t,e,n,this,i),this._mapDraw=o):(this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null),t.get("showLegendSymbol")&&e.getComponent("legend")&&this._renderSymbols(t,e,n)))},remove:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},dispose:function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},_renderSymbols:function(c,t,e){var h=c.originalData,d=this.group;h.each(h.mapDimension("value"),function(t,e){var n,i,r,o,a,s,l,u;isNaN(t)||(u=h.getItemLayout(e))&&u.point&&(a=u.point,i=u.offset,n=new oy({style:{fill:c.getData().getVisual("color")},shape:{cx:a[0]+9*i,cy:a[1],r:3},silent:!0,z2:i?8:10}),i||(t=c.mainSeries.getData(),u=h.getName(e),a=t.indexOfName(u),i=h.getItemModel(e),r=i.getModel("label"),o=i.getModel("emphasis.label"),a=t.getItemGraphicEl(a),s=z(c.getFormattedLabel(e,"normal"),u),l=z(c.getFormattedLabel(e,"emphasis"),s),u=function(){var t=gi({},o,{text:o.get("show")?l:null},{isRectText:!0,useInsideStyle:!1},!0);n.style.extendFrom(t),n.__mapOriginalZ2=n.z2,n.z2+=1},e=function(){gi(n.style,r,{text:r.get("show")?s:null,textPosition:r.getShallow("position")||"bottom"},{isRectText:!0,useInsideStyle:!1}),null!=n.__mapOriginalZ2&&(n.z2=n.__mapOriginalZ2,n.__mapOriginalZ2=null)},a.on("mouseover",u).on("mouseout",e).on("emphasis",u).on("normal",e),e()),d.add(n))})}}),Jo({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(i,t){var r=i.componentType||"series";t.eachComponent({mainType:r,query:i},function(t){var e,n=t.coordinateSystem;"geo"===n.type&&(e=Ul(n,i,t.get("scaleLimit")),t.setCenter&&t.setCenter(e.center),t.setZoom&&t.setZoom(e.zoom),"series"===r&&P(t.seriesGroup,function(t){t.setCenter(e.center),t.setZoom(e.zoom)}))})}),Qo(function(n){var r={};n.eachSeriesByType("map",function(t){var a,i,e=t.getMapType();t.getHostGeoModel()||r[e]||(a={},P(t.seriesGroup,function(t){var r=t.coordinateSystem,o=t.originalData;t.get("showLegendSymbol")&&n.getComponent("legend")&&o.each(o.mapDimension("value"),function(t,e){var n=o.getName(e),i=r.getRegion(n);i&&!isNaN(t)&&(t=a[n]||0,i=r.dataToPoint(i.center),a[n]=t+1,o.setItemLayout(e,{point:i,offset:t}))})}),(i=t.getData()).each(function(t){var e=i.getName(t),n=i.getItemLayout(t)||{};n.showLabel=!a[e],i.setItemLayout(t,n)}),r[e]=!0)})}),Ko(function(t){t.eachSeriesByType("map",function(t){var e=t.get("color"),n=t.getModel("itemStyle"),i=n.get("areaColor"),e=n.get("color")||e[t.seriesIndex%e.length];t.getData().setVisual({areaColor:i,color:e})})}),qo(Pg.PROCESSOR.STATISTIC,function(t){var n={};t.eachSeriesByType("map",function(t){var e=t.getHostGeoModel(),e=e?"o"+e.id:"i"+t.getMapType();(n[e]=n[e]||[]).push(t)}),P(n,function(t,e){for(var l,u,c,n=(l=I(t,function(t){return t.getData()}),u=t[0].get("mapValueCalculation"),c={},P(l,function(n){n.each(n.mapDimension("value"),function(t,e){e="ec-"+n.getName(e);c[e]=c[e]||[],isNaN(t)||c[e].push(t)})}),l[0].map(l[0].mapDimension("value"),function(t,e){for(var n="ec-"+l[0].getName(e),i=0,r=1/0,o=-1/0,a=c[n].length,s=0;s<a;s++)r=Math.min(r,c[n][s]),o=Math.max(o,c[n][s]),i+=c[n][s];return 0===a?NaN:"min"===u?r:"max"===u?o:"average"===u?i/a:i})),i=0;i<t.length;i++)t[i].originalData=t[i].getData();for(i=0;i<t.length;i++)(t[i].seriesGroup=t)[i].needsDrawMap=0===i&&!t[i].getHostGeoModel(),t[i].setData(n.cloneShallow()),t[i].mainSeries=t[0]})}),Xo(function(t){var e=[];P(t.series,function(t){t&&"map"===t.type&&(e.push(t),t.map=t.map||t.mapType,D(t,t.mapLocation))})}),Ly("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}]);function j_(t,e){this.name=t||"",this.depth=0,this.height=0,this.parentNode=null,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.hostTree=e}var Y_=P,R_="\0__link_datas",B_="\0__link_mainData";j_.prototype={constructor:j_,isRemoved:function(){return this.dataIndex<0},eachNode:function(t,e,n){"function"==typeof t&&(n=e,e=t,t=null);var i,r=(t=L(t=t||{})?{order:t}:t).order||"preorder",o=this[t.attr||"children"];"preorder"===r&&(i=e.call(n,this));for(var a=0;!i&&a<o.length;a++)o[a].eachNode(t,e,n);"postorder"===r&&e.call(n,this)},updateDepthAndHeight:function(t){var e=0;this.depth=t;for(var n=0;n<this.children.length;n++){var i=this.children[n];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},getNodeById:function(t){if(this.getId()===t)return this;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].getNodeById(t);if(r)return r}},contains:function(t){if(t===this)return!0;for(var e=0,n=this.children,i=n.length;e<i;e++){var r=n[e].contains(t);if(r)return r}},getAncestors:function(t){for(var e=[],n=t?this:this.parentNode;n;)e.push(n),n=n.parentNode;return e.reverse(),e},getValue:function(t){var e=this.hostTree.data;return e.get(e.getDimension(t||"value"),this.dataIndex)},setLayout:function(t,e){0<=this.dataIndex&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(t){if(!(this.dataIndex<0)){var e,n=this.hostTree,i=n.data.getItemModel(this.dataIndex),r=this.getLevelModel();return r||0!==this.children.length&&(0===this.children.length||!1!==this.isExpand)||(e=this.getLeavesModel()),i.getModel(t,(r||e||n.hostModel).getModel(t))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},getLeavesModel:function(){return this.hostTree.leavesModel},setVisual:function(t,e){0<=this.dataIndex&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this.hostTree.data.getItemVisual(this.dataIndex,t,e)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)},isAncestorOf:function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},isDescendantOf:function(t){return t!==this&&t.isAncestorOf(this)}},Kl.prototype={constructor:Kl,type:"tree",eachNode:function(t,e,n){this.root.eachNode(t,e,n)},getNodeByDataIndex:function(t){t=this.data.getRawIndex(t);return this._nodes[t]},getNodeByName:function(t){return this.root.getNodeByName(t)},update:function(){for(var t=this.data,e=this._nodes,n=0,i=e.length;n<i;n++)e[n].dataIndex=-1;for(n=0,i=t.count();n<i;n++)e[t.getRawIndex(n)].dataIndex=n},clearLayouts:function(){this.data.clearItemLayouts()}},Kl.createTree=function(t,e,n){var l=new Kl(e,n.levels,n.leaves),u=[],c=1;(function t(e,n){var i=e.value;c=Math.max(c,T(i)?i.length:1),u.push(e);var r,o=new j_(e.name,l);n?(r=o,n=(i=n).children,r.parentNode!==i&&(n.push(r),r.parentNode=i)):l.root=o,l._nodes.push(o);var a=e.children;if(a)for(var s=0;s<a.length;s++)t(a[s],o)})(t),l.root.updateDepthAndHeight(0);t=X1(u,{coordDimensions:["value"],dimensionsCount:c}),e=new R1(t,e);return e.initData(u),Zl({mainData:e,struct:l,structAttr:"tree"}),l.update(),l},Hv.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(t){var e={name:t.name,children:t.data},n=t.leaves||{},i={};i.leaves=n;var i=Kl.createTree(e,this,i),r=0;i.eachNode("preorder",function(t){t.depth>r&&(r=t.depth)});var o=t.expandAndCollapse&&0<=t.initialTreeDepth?t.initialTreeDepth:r;return i.root.eachNode("preorder",function(t){var e=t.hostTree.data.getRawDataItem(t.dataIndex);t.isExpand=e&&null!=e.collapsed?!e.collapsed:t.depth<=o}),i.data},getOrient:function(){var t=this.get("orient");return"horizontal"===t?t="LR":"vertical"===t&&(t="TB"),t},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},formatTooltip:function(t){for(var e=this.getData().tree,n=e.root.children[0],i=e.getNodeByDataIndex(t),t=i.getValue(),r=i.name;i&&i!==n;)r=i.parentNode.name+"."+r,i=i.parentNode;return Ki(r+(isNaN(t)||null==t?"":" : "+t))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}}),oa({type:"tree",init:function(t,e){this._oldTree,this._mainGroup=new tm,this._controller=new Nl(e.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(i,t,n,e){var r=i.getData(),o=i.layoutInfo,a=this._mainGroup,s=i.get("layout");"radial"===s?a.attr("position",[o.x+o.width/2,o.y+o.height/2]):a.attr("position",[o.x,o.y]),this._updateViewCoordSys(i),this._updateController(i,t,n);var l=this._data,u={expandAndCollapse:i.get("expandAndCollapse"),layout:s,orient:i.getOrient(),curvature:i.get("lineStyle.curveness"),symbolRotate:i.get("symbolRotate"),symbolOffset:i.get("symbolOffset"),hoverAnimation:i.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};r.diff(l).add(function(t){su(r,t)&&uu(r,t,null,a,i,u)}).update(function(t,e){var n=l.getItemGraphicEl(e);su(r,t)?uu(r,t,n,a,i,u):n&&cu(l,e,n,a,i,u)}).remove(function(t){var e=l.getItemGraphicEl(t);e&&cu(l,t,e,a,i,u)}).execute(),this._nodeScaleRatio=i.get("nodeScaleRatio"),this._updateNodeAndLinkScale(i),!0===u.expandAndCollapse&&r.eachItemGraphicEl(function(t,e){t.off("click").on("click",function(){n.dispatchAction({type:"treeExpandAndCollapse",seriesId:i.id,dataIndex:e})})}),this._data=r},_updateViewCoordSys:function(t){var e=t.getData(),n=[];e.each(function(t){t=e.getItemLayout(t);!t||isNaN(t.x)||isNaN(t.y)||n.push([+t.x,+t.y])});var i=[],r=[];Dn(n,i,r),r[0]-i[0]==0&&(r[0]+=1,--i[0]),r[1]-i[1]==0&&(r[1]+=1,--i[1]);var o=t.coordinateSystem=new xl;o.zoomLimit=t.get("scaleLimit"),o.setBoundingRect(i[0],i[1],r[0]-i[0],r[1]-i[1]),o.setCenter(t.get("center")),o.setZoom(t.get("zoom")),this.group.attr({position:o.position,scale:o.scale}),this._viewCoordSys=o},_updateController:function(r,t,o){var e=this._controller,n=this._controllerHost,a=this.group;e.setPointerChecker(function(t,e,n){var i=a.getBoundingRect();return i.applyTransform(a.transform),i.contain(e,n)&&!Fl(t,o,r)}),e.enable(r.get("roam")),n.zoomLimit=r.get("scaleLimit"),n.zoom=r.coordinateSystem.getZoom(),e.off("pan").off("zoom").on("pan",function(t){Rl(n,t.dx,t.dy),o.dispatchAction({seriesId:r.id,type:"treeRoam",dx:t.dx,dy:t.dy})},this).on("zoom",function(t){Bl(n,t.scale,t.originX,t.originY),o.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(r)},this)},_updateNodeAndLinkScale:function(t){var e=t.getData(),t=this._getNodeGlobalScale(t),n=[t,t];e.eachItemGraphicEl(function(t,e){t.attr("scale",n)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,t=e.scale,t=t&&t[0]||1;return((e.getZoom()-1)*n+1)/t},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}}),Jo({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,t){t.eachComponent({mainType:"series",subType:"tree",query:n},function(t){var e=n.dataIndex,e=t.getData().tree.getNodeByDataIndex(e);e.isExpand=!e.isExpand})}),Jo({type:"treeRoam",event:"treeRoam",update:"none"},function(n,t){t.eachComponent({mainType:"series",subType:"tree",query:n},function(t){var e=Ul(t.coordinateSystem,n);t.setCenter&&t.setCenter(e.center),t.setZoom&&t.setZoom(e.zoom)})}),Ko(Ey("tree","circle")),Qo(function(t,e){t.eachSeriesByType("tree",function(t){fu(t,e)})}),Hv.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{progressive:0,hoverLayerThreshold:1/0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(t,e){var n={name:t.name,children:t.data};!function e(t){var n=0;P(t.children,function(t){e(t),T(t=t.value)&&(t=t[0]),n+=t});var i=t.value;(i=null==(i=T(i)?i[0]:i)||isNaN(i)?n:i)<0&&(i=0),T(t.value)?t.value[0]=i:t.value=i}(n);var i=t.levels||[],i=t.levels=function(t,e){var n,e=e.get("color");if(e)return P(t=t||[],function(t){var e=new Li(t),t=e.get("color");(e.get("itemStyle.color")||t&&"none"!==t)&&(n=!0)}),n||((t[0]||(t[0]={})).color=e.slice()),t}(i,e),e={};return e.levels=i,Kl.createTree(n,this,e).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),n=$i(T(n)?n[0]:n);return Ki(e.getName(t)+": "+n)},getDataParams:function(t){var e=Hv.prototype.getDataParams.apply(this,arguments),t=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=yu(t,this),e},setLayoutInfo:function(t){this.layoutInfo=this.layoutInfo||{},S(this.layoutInfo,t)},mapIdToIndex:function(t){var e=this._idIndexMap;e||(e=this._idIndexMap=Y(),this._idIndexMapCount=0);var n=e.get(t);return null==n&&e.set(t,n=this._idIndexMapCount++),n},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});vu.prototype={constructor:vu,render:function(t,e,n,i){var r,o,a=t.getModel("breadcrumb"),s=this.group;s.removeAll(),a.get("show")&&n&&(o=(r=a.getModel("itemStyle")).getModel("textStyle"),a={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]},this._prepare(n,a,o),this._renderContent(t,a,r,o,i),lr(s,a.pos,a.box))},_prepare:function(t,e,n){for(var i=t;i;i=i.parentNode){var r=i.getModel().get("name"),o=n.getTextRect(r),o=Math.max(o.width+16,e.emptyItemWidth);e.totalWidth+=o+8,e.renderList.push({node:i,text:r,width:o})}},_renderContent:function(t,e,n,i,r){for(var o,a,s,l,u,c,h,d,f,p,g,m,y,v=0,x=e.emptyItemWidth,_=t.get("breadcrumb.height"),b=(c=e.pos,h=e.box,f=h.width,p=h.height,g=zi(c.x,f),m=zi(c.y,p),y=zi(c.x2,f),h=zi(c.y2,p),(isNaN(g)||isNaN(parseFloat(c.x)))&&(g=0),(isNaN(y)||isNaN(parseFloat(c.x2)))&&(y=f),(isNaN(m)||isNaN(parseFloat(c.y)))&&(m=0),(isNaN(h)||isNaN(parseFloat(c.y2)))&&(h=p),d=Hy(d||0),{width:Math.max(y-g-d[1]-d[3],0),height:Math.max(h-m-d[0]-d[2],0)}),w=e.totalWidth,M=e.renderList,A=M.length-1;0<=A;A--){var I=M[A],C=I.node,S=I.width,T=I.text;b.width<w&&(w-=S-x,S=x,T=null);I=new cy({shape:{points:(o=v,a=0,s=S,l=_,u=A===M.length-1,I=void 0,I=[[u?o:o-5,a],[o+s,a],[o+s,a+l],[u?o:o-5,a+l]],0===A||I.splice(2,0,[o+s+5,a+l/2]),u||I.push([o,a+l/2]),I)},style:D(n.getItemStyle(),{lineJoin:"bevel",text:T,textFill:i.getTextColor(),textFont:i.getFont()}),z:10,onclick:N(r,C)});this.group.add(I),T=t,C=C,I.eventData={componentType:"series",componentSubType:"treemap",componentIndex:T.componentIndex,seriesIndex:T.componentIndex,seriesName:T.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:C&&C.dataIndex,name:C&&C.name},treePathInfo:C&&yu(C,T)},v+=S+8}},remove:function(){this.group.removeAll()}};function F_(t){return(t=$_(t)).stroke=t.fill=t.lineWidth=null,t}var H_=v,W_=tm,G_=dy,U_=P,Z_=["label"],V_=["emphasis","label"],X_=["upperLabel"],q_=["emphasis","upperLabel"],J_=10,$_=Hm([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);oa({type:"treemap",init:function(t,e){this._containerGroup,this._storage={nodeGroup:[],background:[],content:[]},this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(t,e,n,i){var r,o,a,s;p(e.findComponents({mainType:"series",subType:"treemap",query:i}),t)<0||(this.seriesModel=t,this.api=n,this.ecModel=e,r=pu(i,["treemapZoomToNode","treemapRootToNode"],t),o=i&&i.type,s=t.layoutInfo,a=!this._oldTree,e=this._storage,e="treemapRootToNode"===o&&r&&e?{rootNodeGroup:e.nodeGroup[r.node.getRawIndex()],direction:i.direction}:null,i=this._giveContainerGroup(s),s=this._doRender(i,t,e),a||o&&"treemapZoomToNode"!==o&&"treemapRootToNode"!==o?s.renderFinally():this._doAnimation(i,s,t,e),this._resetController(n),this._renderBreadcrumb(t,n,r))},_giveContainerGroup:function(t){var e=this._containerGroup;return e||(e=this._containerGroup=new W_,this._initEvents(e),this.group.add(e)),e.attr("position",[t.x,t.y]),e},_doRender:function(t,e,n){var i=e.getData().tree,r=this._oldTree,o={nodeGroup:[],background:[],content:[]},a={nodeGroup:[],background:[],content:[]},s=this._storage,l=[],u=N(xu,e,a,s,n,o,l);!function i(r,o,a,s,l){function t(t){return t.getId()}function n(t,e){var n=null!=t?r[t]:null,t=null!=e?o[e]:null;(e=u(n,t,a,l))&&i(n&&n.viewChildren||[],t&&t.viewChildren||[],e,s,l+1)}s?U_(o=r,function(t,e){t.isRemoved()||n(e,e)}):new sa(o,r,t,t).add(n).update(n).remove(N(n,null)).execute()}(i.root?[i.root]:[],r&&r.root?[r.root]:[],t,i===r||!r,0);var c,h=(c={nodeGroup:[],background:[],content:[]},s&&U_(s,function(t,e){var n=c[e];U_(t,function(t){t&&(n.push(t),t.__tmWillDelete=1)})}),c);return this._oldTree=i,this._storage=a,{lastsForAnimation:o,willDeleteEls:h,renderFinally:function(){U_(h,function(t){U_(t,function(t){t.parent&&t.parent.remove(t)})}),U_(l,function(t){t.invisible=!0,t.dirty()})}}},_doAnimation:function(t,r,e,a){var s,l,u,o,c,h;e.get("animation")&&(s=e.get("animationDurationUpdate"),l=e.get("animationEasing"),c=[],h={},u={add:function(t,e,n,i,r){return L(i)&&(r=i,i=0),!h[t.id]&&(h[t.id]=1,c.push({el:t,target:e,time:n,delay:i,easing:r}),!0)},done:function(t){return o=t,this},start:function(){for(var t=c.length,e=0,n=c.length;e<n;e++){var i=c[e];i.el.animateTo(i.target,i.time,i.delay,i.easing,function(){--t||(c.length=0,h={},o&&o())})}return this}},U_(r.willDeleteEls,function(t,o){U_(t,function(t,e){var n,i,r;t.invisible||(n=t.parent,(r=a&&"drillDown"===a.direction?n===a.rootNodeGroup?{shape:{x:0,y:0,width:n.__tmNodeWidth,height:n.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}}:(r=i=0,n.__tmWillDelete||(i=n.__tmNodeWidth/2,r=n.__tmNodeHeight/2),"nodeGroup"===o?{position:[i,r],style:{opacity:0}}:{shape:{x:i,y:r,width:0,height:0},style:{opacity:0}}))&&u.add(t,r,s,l))})}),U_(this._storage,function(t,i){U_(t,function(t,e){var n=r.lastsForAnimation[i][e],e={};n&&("nodeGroup"===i?n.old&&(e.position=t.position.slice(),t.attr("position",n.old)):(n.old&&(e.shape=S({},t.shape),t.setShape(n.old)),n.fadein?(t.setStyle("opacity",0),e.style={opacity:1}):1!==t.style.opacity&&(e.style={opacity:1})),u.add(t,e,s,l))})},this),this._state="animating",u.done(H_(function(){this._state="ready",r.renderFinally()},this)).start())},_resetController:function(t){var e=this._controller;e||((e=this._controller=new Nl(t.getZr())).enable(this.seriesModel.get("roam")),e.on("pan",H_(this._onPan,this)),e.on("zoom",H_(this._onZoom,this)));var i=new Kt(0,0,t.getWidth(),t.getHeight());e.setPointerChecker(function(t,e,n){return i.contain(e,n)})},_clearController:function(){var t=this._controller;t&&t.dispose()},_onPan:function(t){var e;"animating"!==this._state&&(3<Math.abs(t.dx)||3<Math.abs(t.dy))&&(!(e=this.seriesModel.getData().tree.root)||(e=e.getLayout())&&this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x+t.dx,y:e.y+t.dy,width:e.width,height:e.height}}))},_onZoom:function(t){var e,n,i=t.originX,r=t.originY;"animating"!==this._state&&(!(e=this.seriesModel.getData().tree.root)||(n=e.getLayout())&&(e=new Kt(n.x,n.y,n.width,n.height),i-=(n=this.seriesModel.layoutInfo).x,r-=n.y,mt(n=dt(),n,[-i,-r]),vt(n,n,[t.scale,t.scale]),mt(n,n,[i,r]),e.applyTransform(n),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:e.x,y:e.y,width:e.width,height:e.height}})))},_initEvents:function(t){t.on("click",function(t){var e,n;"ready"===this._state&&(!(n=this.seriesModel.get("nodeClick",!0))||(e=this.findTarget(t.offsetX,t.offsetY))&&((t=e.node).getLayout().isLeafRoot?this._rootToNode(e):"zoomToNode"===n?this._zoomToNode(e):"link"===n&&(t=(n=t.hostTree.data.getItemModel(t.dataIndex)).get("link",!0),n=n.get("target",!0)||"blank",t&&window.open(t,n))))},this)},_renderBreadcrumb:function(e,t,n){(n=n||(null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2)))||(n={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new vu(this.group))).render(e,t,n.node,H_(function(t){"animating"!==this._state&&(mu(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))},this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(t){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},_rootToNode:function(t){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t.node})},findTarget:function(i,r){var o;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(t){var e=this._storage.background[t.getRawIndex()];if(e){var n=e.transformCoordToLocal(i,r),e=e.shape;if(!(e.x<=n[0]&&n[0]<=e.x+e.width&&e.y<=n[1]&&n[1]<=e.y+e.height))return!1;o={node:t,offsetX:n[0],offsetY:n[1]}}},this),o}});for(var Q_=["treemapZoomToNode","treemapRender","treemapMove"],K_=0;K_<Q_.length;K_++)Jo({type:Q_[K_],update:"updateView"},function(){});Jo({type:"treemapRootToNode",update:"updateView"},function(r,t){t.eachComponent({mainType:"series",subType:"treemap",query:r},function(t,e){var n,i=pu(r,["treemapZoomToNode","treemapRootToNode"],t);i&&((n=t.getViewRoot())&&(r.direction=mu(n,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node))})});var tb=P,eb=E,nb=-1,ib=function(t){var e=t.mappingMethod,n=t.type,t=this.option=C(t);this.type=n,this.mappingMethod=e,this._normalizeData=ob[e];var i,n=rb[n];this.applyVisual=n.applyVisual,this.getColorMapper=n.getColorMapper,this._doMap=n._doMap[e],"piecewise"===e?(_u(t),n=(i=t).pieceList,i.hasSpecialVisual=!1,P(n,function(t,e){t.originIndex=e,null!=t.visual&&(i.hasSpecialVisual=!0)})):"category"===e?t.categories?function(t){var n,e=t.categories,i=t.visual,r=t.categoryMap={};tb(e,function(t,e){r[t]=e}),T(i)||(n=[],E(i)?tb(i,function(t,e){e=r[e];n[null!=e?e:nb]=t}):n[nb]=i,i=Tu(t,n));for(var o=e.length-1;0<=o;o--)null==i[o]&&(delete r[e[o]],e.pop())}(t):_u(t,!0):(u("linear"!==e||t.dataExtent),_u(t))};ib.prototype={constructor:ib,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return v(this._normalizeData,this)}};var rb=ib.visualHandlers={color:{applyVisual:Mu("color"),getColorMapper:function(){var r=this.option;return v("category"===r.mappingMethod?function(t,e){return e||(t=this._normalizeData(t)),Au.call(this,t)}:function(t,e,n){var i=!!n;return n=zt(t=!e?this._normalizeData(t):t,r.parsedVisual,n),i?n:Bt(n,"rgba")},this)},_doMap:{linear:function(t){return Bt(zt(t,this.option.parsedVisual),"rgba")},category:Au,piecewise:function(t,e){e=Su.call(this,e);return e=null==e?Bt(zt(t,this.option.parsedVisual),"rgba"):e},fixed:Iu}},colorHue:bu(function(t,e){return Yt(t,e)}),colorSaturation:bu(function(t,e){return Yt(t,null,e)}),colorLightness:bu(function(t,e){return Yt(t,null,null,e)}),colorAlpha:bu(Rt),opacity:{applyVisual:Mu("opacity"),_doMap:Cu([0,1])},liftZ:{applyVisual:Mu("liftZ"),_doMap:{linear:Iu,category:Iu,piecewise:Iu,fixed:Iu}},symbol:{applyVisual:function(t,e,n){var i=this.mapValueToVisual(t);if(L(i))n("symbol",i);else if(eb(i))for(var r in i)i.hasOwnProperty(r)&&n(r,i[r])},_doMap:{linear:wu,category:Au,piecewise:function(t,e){e=Su.call(this,e);return e=null==e?wu.call(this,t):e},fixed:Iu}},symbolSize:{applyVisual:Mu("symbolSize"),_doMap:Cu([0,1])}},ob={linear:function(t){return Pi(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,t=ib.findPieceIndex(t,e,!0);if(null!=t)return Pi(t,[0,e.length-1],[0,1],!0)},category:function(t){t=this.option.categories?this.option.categoryMap[t]:t;return null==t?nb:t},fixed:A};ib.listVisualTypes=function(){var n=[];return P(rb,function(t,e){n.push(e)}),n},ib.addVisualHandler=function(t,e){rb[t]=e},ib.isValidType=function(t){return rb.hasOwnProperty(t)},ib.eachVisual=function(t,e,n){E(t)?P(t,e,n):e.call(n,t)},ib.mapVisual=function(t,n,i){var r,o=T(t)?[]:E(t)?{}:(r=!0,null);return ib.eachVisual(t,function(t,e){t=n.call(i,t,e);r?o=t:o[e]=t}),o},ib.retrieveVisuals=function(n){var i,r={};return n&&tb(rb,function(t,e){n.hasOwnProperty(e)&&(r[e]=n[e],i=!0)}),i?r:null},ib.prepareVisualTypes=function(t){if(eb(t)){var n=[];tb(t,function(t,e){n.push(e)}),t=n}else{if(!T(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},ib.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},ib.findPieceIndex=function(n,t,e){function i(t,e){t=Math.abs(t-n);t<o&&(o=t,r=e)}for(var r,o=1/0,a=0,s=t.length;a<s;a++){var l=t[a].value;if(null!=l){if(l===n||"string"==typeof l&&l===n+"")return a;e&&i(l,a)}}for(a=0,s=t.length;a<s;a++){var u=t[a],c=u.interval,u=u.close;if(c){if(c[0]===-1/0){if(Du(u[1],n,c[1]))return a}else if(c[1]===1/0){if(Du(u[0],c[0],n))return a}else if(Du(u[0],c[0],n)&&Du(u[1],n,c[1]))return a;e&&i(c[0],a),e&&i(c[1],a)}}if(e)return n===1/0?t.length-1:n===-1/0?0:r};var ab=T,sb="itemStyle",lb=Math.max,ub=Math.min,cb=O,hb=P,db=["itemStyle","borderWidth"],fb=["itemStyle","gapWidth"],pb=["upperLabel","show"],gb=["upperLabel","height"],Wg={seriesType:"treemap",reset:function(t,e,n,i){var r,o=n.getWidth(),a=n.getHeight(),s=t.option,l=sr(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()}),u=s.size||[],c=zi(cb(l.width,u[0]),o),h=zi(cb(l.height,u[1]),a),n=i&&i.type,u=pu(i,["treemapZoomToNode","treemapRootToNode"],t),i="treemapRender"===n||"treemapMove"===n?i.rootRect:null,d=t.getViewRoot(),f=gu(d);"treemapMove"!==n&&(h="treemapZoomToNode"===n?function(t,e,n,i,r){var o=(e||{}).node,a=[i,r];if(!o||o===n)return a;for(var s,l=(n=i*r)*t.option.zoomToNodeRatio;s=o.parentNode;){for(var u=0,c=s.children,h=0,d=c.length;h<d;h++)u+=c[h].getValue();var f=o.getValue();if(0===f)return a;l*=u/f;var p=s.getModel(),f=p.get(db);(l+=4*f*f+(3*f+Math.max(f,zu(p)))*Math.pow(l,.5))>By&&(l=By),o=s}return l<n&&(l=n),n=Math.pow(l/n,.5),[i*n,r*n]}(t,u,d,c,h):i?[i.width,i.height]:[c,h],p=s.sort,p={squareRatio:s.squareRatio,sort:p=p&&"asc"!==p&&"desc"!==p?"desc":p,leafDepth:s.leafDepth},d.hostTree.clearLayouts(),r={x:0,y:0,width:h[0],height:h[1],area:h[0]*h[1]},d.setLayout(r),Ou(d,p,!1,0),r=d.getLayout(),hb(f,function(t,e){e=(f[e+1]||d).getValue();t.setLayout(S({dataExtent:[e,e],borderWidth:0,upperHeight:0},r))}));var p=t.getData().tree.root;p.setLayout(function(t,e,n){if(e)return{x:e.x,y:e.y};var i={x:0,y:0};if(!n)return i;if(e=n.node,!(n=e.getLayout()))return i;for(var r=[n.width/2,n.height/2],o=e;o;){var a=o.getLayout();r[0]+=a.x,r[1]+=a.y,o=o.parentNode}return{x:t.width/2-r[0],y:t.height/2-r[1]}}(l,i,u),!0),t.setLayoutInfo(l),function e(t,n,i,r,o){var a,s=t.getLayout(),l=i[o],u=l&&l===t;l&&!u||o===i.length&&t!==r||(t.setLayout({isInView:!0,invisible:!u&&!n.intersect(s),isAboveViewRoot:u},!0),a=new Kt(n.x-s.x,n.y-s.y,n.width,n.height),hb(t.viewChildren||[],function(t){e(t,a,i,r,o+1)}))}(p,new Kt(-l.x,-l.y,o,a),f,d,0)}};Ko({seriesType:"treemap",reset:function(t,e,n,i){var r=t.getData().tree,o=r.root,a=t.getModel(sb);o.isRemoved()||Nu(o,{},I(r.levelModels,function(t){return t?t.get(sb):null}),a,t.getViewRoot().getAncestors(),t)}}),Qo(Wg);function mb(t){this._directed=t||!1,this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this.data,this.edgeData}Ly=mb.prototype;Ly.type="graph",Ly.isDirected=function(){return this._directed},Ly.addNode=function(t,e){var n=this._nodesMap;if(!n[ju(t=t||""+e)]){e=new Yu(t,e);return(e.hostGraph=this).nodes.push(e),n[ju(t)]=e}},Ly.getNodeByIndex=function(t){t=this.data.getRawIndex(t);return this.nodes[t]},Ly.getNodeById=function(t){return this._nodesMap[ju(t)]},Ly.addEdge=function(t,e,n){var i=this._nodesMap,r=this._edgesMap;if("number"==typeof t&&(t=this.nodes[t]),"number"==typeof e&&(e=this.nodes[e]),Yu.isInstance(t)||(t=i[ju(t)]),Yu.isInstance(e)||(e=i[ju(e)]),t&&e){i=t.id+"-"+e.id;if(!r[i]){n=new Ru(t,e,n);return(n.hostGraph=this)._directed&&(t.outEdges.push(n),e.inEdges.push(n)),t.edges.push(n),t!==e&&e.edges.push(n),this.edges.push(n),r[i]=n}}},Ly.getEdgeByIndex=function(t){t=this.edgeData.getRawIndex(t);return this.edges[t]},Ly.getEdge=function(t,e){Yu.isInstance(t)&&(t=t.id),Yu.isInstance(e)&&(e=e.id);var n=this._edgesMap;return this._directed?n[t+"-"+e]:n[t+"-"+e]||n[e+"-"+t]},Ly.eachNode=function(t,e){for(var n=this.nodes,i=n.length,r=0;r<i;r++)0<=n[r].dataIndex&&t.call(e,n[r],r)},Ly.eachEdge=function(t,e){for(var n=this.edges,i=n.length,r=0;r<i;r++)0<=n[r].dataIndex&&0<=n[r].node1.dataIndex&&0<=n[r].node2.dataIndex&&t.call(e,n[r],r)},Ly.breadthFirstTraverse=function(t,e,n,i){if(e=!Yu.isInstance(e)?this._nodesMap[ju(e)]:e){for(var r="out"===n?"outEdges":"in"===n?"inEdges":"edges",o=0;o<this.nodes.length;o++)this.nodes[o].__visited=!1;if(!t.call(i,e,null))for(var a=[e];a.length;)for(var s=a.shift(),l=s[r],o=0;o<l.length;o++){var u=l[o],u=u.node1===s?u.node2:u.node1;if(!u.__visited){if(t.call(i,u,s))return;a.push(u),u.__visited=!0}}}},Ly.update=function(){for(var t=this.data,e=this.edgeData,n=this.nodes,i=this.edges,r=0,o=n.length;r<o;r++)n[r].dataIndex=-1;for(r=0,o=t.count();r<o;r++)n[t.getRawIndex(r)].dataIndex=r;e.filterSelf(function(t){t=i[e.getRawIndex(t)];return 0<=t.node1.dataIndex&&0<=t.node2.dataIndex});for(r=0,o=i.length;r<o;r++)i[r].dataIndex=-1;for(r=0,o=e.count();r<o;r++)i[e.getRawIndex(r)].dataIndex=r},Ly.clone=function(){for(var t=new mb(this._directed),e=this.nodes,n=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(i=0;i<n.length;i++){var r=n[i];t.addEdge(r.node1.id,r.node2.id,r.dataIndex)}return t},Yu.prototype={constructor:Yu,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)}},Ru.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)};Wg=function(n,i){return{getValue:function(t){var e=this[n][i];return e.get(e.getDimension(t||"value"),this.dataIndex)},setVisual:function(t,e){0<=this.dataIndex&&this[n][i].setItemVisual(this.dataIndex,t,e)},getVisual:function(t,e){return this[n][i].getItemVisual(this.dataIndex,t,e)},setLayout:function(t,e){0<=this.dataIndex&&this[n][i].setItemLayout(this.dataIndex,t,e)},getLayout:function(){return this[n][i].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][i].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][i].getRawIndex(this.dataIndex)}}};r(Yu,Wg("hostGraph","data")),r(Ru,Wg("hostGraph","edgeData")),mb.Node=Yu,mb.Edge=Ru,gn(Yu),gn(Ru);function yb(t,e,n,i,r){for(var o=new mb(i),a=0;a<t.length;a++)o.addNode(O(t[a].id,t[a].name,a),a);for(var s,l=[],u=[],c=0,a=0;a<e.length;a++){var h=e[a],d=h.source,f=h.target;o.addEdge(d,f,c)&&(u.push(h),l.push(O(h.id,d+" > "+f)),c++)}return"cartesian2d"===(i=n.get("coordinateSystem"))||"polar"===i?s=Aa(t,n):(p(i=(i=Mr.get(i))&&"view"!==i.type&&i.dimensions||[],"value")<0&&i.concat(["value"]),i=X1(t,{coordDimensions:i}),(s=new R1(i,n)).initData(t)),(n=new R1(["value"],n)).initData(u,l),r&&r(s,n),Zl({mainData:s,struct:o,structAttr:"graph",datas:{node:s,edge:n},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var vb=ra({type:"series.graph",init:function(t){vb.superApply(this,"init",arguments),this.legendDataProvider=function(){return this._categoriesData},this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeOption:function(t){vb.superApply(this,"mergeOption",arguments),this.fillDataTextStyle(t.edges||t.links),this._updateCategoriesData()},mergeDefaultAndTheme:function(t){vb.superApply(this,"mergeDefaultAndTheme",arguments),tn(t,["edgeLabel"],["show"])},getInitialData:function(t,o){var e=t.edges||t.links||[],t=t.data||t.nodes||[],a=this;if(t&&e)return yb(t,e,this,!0,function(t,e){function n(t){return(t=this.parsePath(t))&&"label"===t[0]?i:t&&"emphasis"===t[0]&&"label"===t[1]?r:this.parentModel}t.wrapMethod("getItemModel",function(t){var e=a._categoriesModels[t.getShallow("category")];return e&&(e.parentModel=t.parentModel,t.parentModel=e),t});var t=a.getModel("edgeLabel"),i=new Li({label:t.option},t.parentModel,o),t=a.getModel("emphasis.edgeLabel"),r=new Li({emphasis:{label:t.option}},t.parentModel,o);e.wrapMethod("getItemModel",function(t){return t.customizeGetParent(n),t})}).data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},formatTooltip:function(t,e,n){if("edge"!==n)return vb.superApply(this,"formatTooltip",arguments);var i=this.getData(),r=this.getDataParams(t,n),n=i.graph.getEdgeByIndex(t),t=i.getName(n.node1.dataIndex),i=i.getName(n.node2.dataIndex),n=[];return null!=t&&n.push(t),null!=i&&n.push(i),n=Ki(n.join(" > ")),r.value&&(n+=" : "+Ki(r.value)),n},_updateCategoriesData:function(){var t=I(this.option.categories||[],function(t){return null!=t.value?t:S({value:0},t)}),e=new R1(["value"],this);e.initData(t),this._categoriesData=e,this._categoriesModels=e.mapArray(function(t){return e.getItemModel(t,!0)})},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t},isAnimationEnabled:function(){return vb.superCall(this,"isAnimationEnabled")&&!("force"===this.get("layout")&&this.get("force.layoutAnimation"))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,focusNodeAdjacency:!1,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle"},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{label:{show:!0}}}}),xb=fy.prototype,_b=gy.prototype,bb=Vn({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){(Bu(e)?xb:_b).buildPath(t,e)},pointAt:function(t){return(Bu(this.shape)?xb:_b).pointAt.call(this,t)},tangentAt:function(t){var e=this.shape,t=Bu(e)?[e.x2-e.x1,e.y2-e.y1]:_b.tangentAt.call(this,t);return q(t,t)}}),wb=["fromSymbol","toSymbol"],Ly=Gu.prototype;Ly.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),n=this.childOfName("label");if(t||e||!n.ignore){for(var i=1,r=this.parent;r;)r.scale&&(i/=r.scale[0]),r=r.parent;var o,a,s,l,u,c,h,d,f=this.childOfName("line");(this.__dirty||f.__dirty)&&(l=f.shape.percent,o=f.pointAt(0),q(s=U([],a=f.pointAt(l),o),s),t&&(t.attr("position",o),d=f.tangentAt(0),t.attr("rotation",Math.PI/2-Math.atan2(d[1],d[0])),t.attr("scale",[i*l,i*l])),e&&(e.attr("position",a),d=f.tangentAt(1),e.attr("rotation",-Math.PI/2-Math.atan2(d[1],d[0])),e.attr("scale",[i*l,i*l])),n.ignore||(n.attr("position",a),t=5*i,"end"===n.__position?(u=[s[0]*t+a[0],s[1]*t+a[1]],c=.8<s[0]?"left":s[0]<-.8?"right":"center",h=.8<s[1]?"top":s[1]<-.8?"bottom":"middle"):"middle"===n.__position?(l=[(d=f.tangentAt(e=l/2))[1],-d[0]],e=f.pointAt(e),0<l[1]&&(l[0]=-l[0],l[1]=-l[1]),u=[e[0]+l[0]*t,e[1]+l[1]*t],c="center",h="bottom",d=-Math.atan2(d[1],d[0]),a[0]<o[0]&&(d=Math.PI+d),n.attr("rotation",d)):(u=[-s[0]*t+o[0],-s[1]*t+o[1]],c=.8<s[0]?"right":s[0]<-.8?"left":"center",h=.8<s[1]?"bottom":s[1]<-.8?"top":"middle"),n.attr({style:{textVerticalAlign:n.__verticalAlign||h,textAlign:n.__textAlign||c},position:u,scale:[i,i]})))}},Ly._createLine=function(n,i,t){var e,r=n.hostModel,o=(e=n.getItemLayout(i),Wu((o=new bb({name:"line"})).shape,e),o);o.shape.percent=0,Ai(o,{shape:{percent:1}},r,i),this.add(o);var o=new U0({name:"label"});this.add(o),P(wb,function(t){var e=Hu(t,n,i);this.add(e),this[Fu(t)]=n.getItemVisual(i,t)},this),this._updateCommonStl(n,i,t)},Ly.updateData=function(i,r,t){var e=i.hostModel,n=this.childOfName("line"),o=i.getItemLayout(r),a={shape:{}};Wu(a.shape,o),Mi(n,a,e,r),P(wb,function(t){var e=i.getItemVisual(r,t),n=Fu(t);this[n]!==e&&(this.remove(this.childOfName(t)),t=Hu(t,i,r),this.add(t)),this[n]=e},this),this._updateCommonStl(i,r,t)},Ly._updateCommonStl=function(t,e,n){var i=t.hostModel,r=this.childOfName("line"),o=n&&n.lineStyle,a=n&&n.hoverLineStyle,s=n&&n.labelModel,l=n&&n.hoverLabelModel;n&&!t.hasItemOption||(o=(n=t.getItemModel(e)).getModel("lineStyle").getLineStyle(),a=n.getModel("emphasis.lineStyle").getLineStyle(),s=n.getModel("label"),l=n.getModel("emphasis.label"));var u=t.getItemVisual(e,"color"),c=j(t.getItemVisual(e,"opacity"),o.opacity,1);r.useStyle(D({strokeNoScale:!0,fill:"none",stroke:u,opacity:c},o)),r.hoverStyle=a,P(wb,function(t){t=this.childOfName(t);t&&(t.setColor(u),t.setStyle({opacity:c}))},this);var h,o=s.getShallow("show"),r=l.getShallow("show"),a=this.childOfName("label");(o||r)&&(h=u||"#000",null==(f=i.getFormattedLabel(e,"normal",t.dataType)))&&(f=null==(d=i.getRawValue(e))?t.getName(e):isFinite(d)?ji(d):d);var d=o?f:null,t=r?z(i.getFormattedLabel(e,"emphasis",t.dataType),f):null,f=a.style;null==d&&null==t||(gi(a.style,s,{text:d},{autoColor:h}),a.__textAlign=f.textAlign,a.__verticalAlign=f.textVerticalAlign,a.__position=s.get("position")||"middle"),a.hoverStyle=null!=t?{text:t,textFill:l.getTextColor(!0),fontStyle:l.getShallow("fontStyle"),fontWeight:l.getShallow("fontWeight"),fontSize:l.getShallow("fontSize"),fontFamily:l.getShallow("fontFamily")}:{text:null},a.ignore=!o&&!r,di(this)},Ly.highlight=function(){this.trigger("emphasis")},Ly.downplay=function(){this.trigger("normal")},Ly.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},Ly.setLinePoints=function(t){var e=this.childOfName("line");Wu(e.shape,t),e.dirty()},o(Gu,tm);Wg=Uu.prototype;Wg.isPersistent=function(){return!0},Wg.updateData=function(o){var a=this,e=a.group,s=a._lineData;a._lineData=o,s||e.removeAll();var l=Zu(o);o.diff(s).add(function(t){var e,n,i;e=a,n=t,i=l,Xu((t=o).getItemLayout(n))&&(i=new e._ctor(t,n,i),t.setItemGraphicEl(n,i),e.group.add(i))}).update(function(t,e){var n,i,r;n=a,i=o,r=e,e=t,t=l,r=s.getItemGraphicEl(r),Xu(i.getItemLayout(e))?(r?r.updateData(i,e,t):r=new n._ctor(i,e,t),i.setItemGraphicEl(e,r),n.group.add(r)):n.group.remove(r)}).remove(function(t){e.remove(s.getItemGraphicEl(t))}).execute()},Wg.updateLayout=function(){var n=this._lineData;n&&n.eachItemGraphicEl(function(t,e){t.updateLayout(n,e)},this)},Wg.incrementalPrepareUpdate=function(t){this._seriesScope=Zu(t),this._lineData=null,this.group.removeAll()},Wg.incrementalUpdate=function(t,e){for(var n,i=t.start;i<t.end;i++)Xu(e.getItemLayout(i))&&((n=new this._ctor(e,i,this._seriesScope)).traverse(function(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}),this.group.add(n),e.setItemGraphicEl(i,n))},Wg.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Wg._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};function Mb(t,l){function u(t){t=t.getVisual("symbolSize");return t=t instanceof Array?(t[0]+t[1])/2:t}var c=[],h=Tn,d=[[],[],[]],f=[[],[]],p=[];l/=2,t.eachEdge(function(t,e){var n=t.getLayout(),i=t.getVisual("fromSymbol"),r=t.getVisual("toSymbol");n.__original||(n.__original=[F(n[0]),F(n[1])],n[2]&&n.__original.push(F(n[2])));var o,a,s=n.__original;null!=n[2]?(B(d[0],s[0]),B(d[1],s[2]),B(d[2],s[1]),i&&"none"!==i&&(o=u(t.node1),a=qu(d,s[0],o*l),h(d[0][0],d[1][0],d[2][0],a,c),d[0][0]=c[3],d[1][0]=c[4],h(d[0][1],d[1][1],d[2][1],a,c),d[0][1]=c[3],d[1][1]=c[4]),r&&"none"!==r&&(o=u(t.node2),a=qu(d,s[1],o*l),h(d[0][0],d[1][0],d[2][0],a,c),d[1][0]=c[1],d[2][0]=c[2],h(d[0][1],d[1][1],d[2][1],a,c),d[1][1]=c[1],d[2][1]=c[2]),B(n[0],d[0]),B(n[1],d[2]),B(n[2],d[1])):(B(f[0],s[0]),B(f[1],s[1]),U(p,f[1],f[0]),q(p,p),i&&"none"!==i&&(o=u(t.node1),G(f[0],f[0],p,o*l)),r&&"none"!==r&&(o=u(t.node2),G(f[1],f[1],p,-o*l)),B(n[0],f[0]),B(n[1],f[1]))})}var Ab=[],Ib=[],Cb=[],Sb=In,Tb=fg,Db=Math.abs,Nb=["itemStyle","opacity"],Lb=["lineStyle","opacity"];oa({type:"graph",init:function(t,e){var n=new xs,i=new Uu,r=this.group;this._controller=new Nl(e.getZr()),this._controllerHost={target:r},r.add(n.group),r.add(i.group),this._symbolDraw=n,this._lineDraw=i,this._firstRender=!0},render:function(r,t,o){var e=r.coordinateSystem;this._model=r,this._nodeScaleRatio=r.get("nodeScaleRatio");var n=this._symbolDraw,i=this._lineDraw,a=this.group;"view"===e.type&&(e={position:e.position,scale:e.scale},this._firstRender?a.attr(e):Mi(a,e,r)),Mb(r.getGraph(),this._getNodeGlobalScale(r));var s=r.getData();n.updateData(s);n=r.getEdgeData();i.updateData(n),this._updateNodeAndLinkScale(),this._updateController(r,t,o),clearTimeout(this._layoutTimeout);var l=r.forceLayout,u=r.get("force.layoutAnimation");l&&this._startForceLayoutIteration(l,u),s.eachItemGraphicEl(function(t,e){var n=s.getItemModel(e);t.off("drag").off("dragend");var i=n.get("draggable");i&&t.on("drag",function(){l&&(l.warmUp(),this._layouting||this._startForceLayoutIteration(l,u),l.setFixed(e),s.setItemLayout(e,t.position))},this).on("dragend",function(){l&&l.setUnfixed(e)},this),t.setDraggable(i&&l),t.off("mouseover",t.__focusNodeAdjacency),t.off("mouseout",t.__unfocusNodeAdjacency),n.get("focusNodeAdjacency")&&(t.on("mouseover",t.__focusNodeAdjacency=function(){o.dispatchAction({type:"focusNodeAdjacency",seriesId:r.id,dataIndex:t.dataIndex})}),t.on("mouseout",t.__unfocusNodeAdjacency=function(){o.dispatchAction({type:"unfocusNodeAdjacency",seriesId:r.id})}))},this),s.graph.eachEdge(function(t){var e=t.getGraphicEl();e.off("mouseover",e.__focusNodeAdjacency),e.off("mouseout",e.__unfocusNodeAdjacency),t.getModel().get("focusNodeAdjacency")&&(e.on("mouseover",e.__focusNodeAdjacency=function(){o.dispatchAction({type:"focusNodeAdjacency",seriesId:r.id,edgeDataIndex:t.dataIndex})}),e.on("mouseout",e.__unfocusNodeAdjacency=function(){o.dispatchAction({type:"unfocusNodeAdjacency",seriesId:r.id})}))});var c="circular"===r.get("layout")&&r.get("circular.rotateLabel"),h=s.getLayout("cx"),d=s.getLayout("cy");s.eachItemGraphicEl(function(t,e){var n=t.getSymbolPath();c?(t=s.getItemLayout(e),(e=Math.atan2(t[1]-d,t[0]-h))<0&&(e=2*Math.PI+e),(t=t[0]<h)&&(e-=Math.PI),n.setStyle({textRotation:-e,textPosition:t=t?"left":"right",textOrigin:"center"}),n.hoverStyle&&(n.hoverStyle.textPosition=t)):n.setStyle({textRotation:0})}),this._firstRender=!1},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},focusNodeAdjacency:function(t,e,n,i){var r=this._model.getData().graph,o=i.dataIndex,i=i.edgeDataIndex,o=r.getNodeByIndex(o),i=r.getEdgeByIndex(i);(o||i)&&(r.eachNode(function(t){$u(t,Nb,.1)}),r.eachEdge(function(t){$u(t,Lb,.1)}),o&&(Qu(o,Nb),P(o.edges,function(t){t.dataIndex<0||(Qu(t,Lb),Qu(t.node1,Nb),Qu(t.node2,Nb))})),i&&(Qu(i,Lb),Qu(i.node1,Nb),Qu(i.node2,Nb)))},unfocusNodeAdjacency:function(t,e,n,i){var r=this._model.getData().graph;r.eachNode(function(t){$u(t,Nb)}),r.eachEdge(function(t){$u(t,Lb)})},_startForceLayoutIteration:function(t,n){var i=this;!function e(){t.step(function(t){i.updateLayout(i._model),(i._layouting=!t)&&(n?i._layoutTimeout=setTimeout(e,16):e())})}()},_updateController:function(r,t,o){var e=this._controller,n=this._controllerHost,a=this.group;e.setPointerChecker(function(t,e,n){var i=a.getBoundingRect();return i.applyTransform(a.transform),i.contain(e,n)&&!Fl(t,o,r)}),"view"===r.coordinateSystem.type?(e.enable(r.get("roam")),n.zoomLimit=r.get("scaleLimit"),n.zoom=r.coordinateSystem.getZoom(),e.off("pan").off("zoom").on("pan",function(t){Rl(n,t.dx,t.dy),o.dispatchAction({seriesId:r.id,type:"graphRoam",dx:t.dx,dy:t.dy})}).on("zoom",function(t){Bl(n,t.scale,t.originX,t.originY),o.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(),Mb(r.getGraph(),this._getNodeGlobalScale(r)),this._lineDraw.updateLayout()},this)):e.disable()},_updateNodeAndLinkScale:function(){var t=this._model,e=t.getData(),t=this._getNodeGlobalScale(t),n=[t,t];e.eachItemGraphicEl(function(t,e){t.attr("scale",n)})},_getNodeGlobalScale:function(t){var e=t.coordinateSystem;if("view"!==e.type)return 1;var n=this._nodeScaleRatio,t=e.scale,t=t&&t[0]||1;return((e.getZoom()-1)*n+1)/t},updateLayout:function(t){Mb(t.getGraph(),this._getNodeGlobalScale(t)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()}}),Jo({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},function(){}),Jo({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},function(){}),Jo({type:"graphRoam",event:"graphRoam",update:"none"},function(n,t){t.eachComponent({mainType:"series",query:n},function(t){var e=Ul(t.coordinateSystem,n);t.setCenter&&t.setCenter(e.center),t.setZoom&&t.setZoom(e.zoom)})});var kb=G;qo(function(t){var o=t.findComponents({mainType:"legend"});o&&o.length&&t.eachSeriesByType("graph",function(t){var e=t.getCategoriesData(),i=t.getGraph().data,r=e.mapArray(e.getName);i.filterSelf(function(t){var e=i.getItemModel(t).getShallow("category");if(null!=e){"number"==typeof e&&(e=r[e]);for(var n=0;n<o.length;n++)if(!o[n].isSelected(e))return!1}return!0})},this)}),Ko(Ey("graph","circle",null)),Ko(function(t){var a={};t.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),r=n.getData(),o={};i.each(function(t){var e=i.getName(t);o["ec-"+e]=t;e=i.getItemModel(t).get("itemStyle.color")||n.getColorFromPalette(e,a);i.setItemVisual(t,"color",e)}),i.count()&&r.each(function(t){var e=r.getItemModel(t).getShallow("category");null!=e&&("string"==typeof e&&(e=o["ec-"+e]),r.getItemVisual(t,"color",!0)||r.setItemVisual(t,"color",i.getItemVisual(e,"color")))})})}),Ko(function(t){t.eachSeriesByType("graph",function(t){var o=t.getGraph(),a=t.getEdgeData(),e=Ku(t.get("edgeSymbol")),n=Ku(t.get("edgeSymbolSize")),s="lineStyle.color".split("."),l="lineStyle.opacity".split(".");a.setVisual("fromSymbol",e&&e[0]),a.setVisual("toSymbol",e&&e[1]),a.setVisual("fromSymbolSize",n&&n[0]),a.setVisual("toSymbolSize",n&&n[1]),a.setVisual("color",t.get(s)),a.setVisual("opacity",t.get(l)),a.each(function(t){var e=a.getItemModel(t),n=o.getEdgeByIndex(t),i=Ku(e.getShallow("symbol",!0)),t=Ku(e.getShallow("symbolSize",!0)),r=e.get(s),e=e.get(l);switch(r){case"source":r=n.node1.getVisual("color");break;case"target":r=n.node2.getVisual("color")}i[0]&&n.setVisual("fromSymbol",i[0]),i[1]&&n.setVisual("toSymbol",i[1]),t[0]&&n.setVisual("fromSymbolSize",t[0]),t[1]&&n.setVisual("toSymbolSize",t[1]),n.setVisual("color",r),n.setVisual("opacity",e)})})}),Qo(function(t,e){t.eachSeriesByType("graph",function(t){var e=t.get("layout"),n=t.coordinateSystem;if(n&&"view"!==n.type){var i=t.getData(),r=[];P(n.dimensions,function(t){r=r.concat(i.mapDimension(t,!0))});for(var o=0;o<i.count();o++){for(var a=[],s=!1,l=0;l<r.length;l++){var u=i.get(r[l],o);isNaN(u)||(s=!0),a.push(u)}s?i.setItemLayout(o,n.dataToPoint(a)):i.setItemLayout(o,[NaN,NaN])}ec(i.graph)}else e&&"none"!==e||tc(t)})}),Qo(function(t){t.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&nc(t)})}),Qo(function(t){t.eachSeriesByType("graph",function(t){var h,d,f,e,i,n,r,o,a,s,l,u,c=t.coordinateSystem;c&&"view"!==c.type||("force"===t.get("layout")?(h=t.preservedPoints||{},d=t.getGraph(),f=d.data,s=d.edgeData,e=(l=t.getModel("force")).get("initLayout"),t.preservedPoints?f.each(function(t){var e=f.getId(t);f.setItemLayout(t,h[e]||[NaN,NaN])}):e&&"none"!==e?"circular"===e&&nc(t):tc(t),i=f.getDataExtent("value"),n=s.getDataExtent("value"),r=l.get("repulsion"),o=l.get("edgeLength"),T(r)||(r=[r,r]),o=[(o=!T(o)?[o,o]:o)[1],o[0]],a=f.mapArray("value",function(t,e){var n=f.getItemLayout(e),t=Pi(t,i,r);return{w:t=isNaN(t)?(r[0]+r[1])/2:t,rep:t,fixed:f.getItemModel(e).get("fixed"),p:!n||isNaN(n[0])||isNaN(n[1])?null:n}}),s=s.mapArray("value",function(t,e){e=d.getEdgeByIndex(e),t=Pi(t,n,o);return isNaN(t)&&(t=(o[0]+o[1])/2),{n1:a[e.node1.dataIndex],n2:a[e.node2.dataIndex],d:t,curveness:e.getModel().get("lineStyle.curveness")||0}}),c=(c=t.coordinateSystem).getBoundingRect(),l=function(d,f,t){for(var e=t.rect,n=e.width,i=e.height,p=[e.x+n/2,e.y+i/2],g=null==t.gravity?.1:t.gravity,r=0;r<d.length;r++){var o=d[r];o.p||(o.p=R(n*(Math.random()-.5)+p[0],i*(Math.random()-.5)+p[1])),o.pp=F(o.p),o.edges=null}var m=.6;return{warmUp:function(){m=.5},setFixed:function(t){d[t].fixed=!0},setUnfixed:function(t){d[t].fixed=!1},step:function(t){for(var e=[],n=d.length,i=0;i<f.length;i++){var r=f[i],o=r.n1;U(e,(l=r.n2).p,o.p);var a=Z(e)-r.d,r=l.w/(o.w+l.w);isNaN(r)&&(r=0),q(e,e),o.fixed||kb(o.p,o.p,e,r*a*m),l.fixed||kb(l.p,l.p,e,-(1-r)*a*m)}for(i=0;i<n;i++)(h=d[i]).fixed||(U(e,p,h.p),kb(h.p,h.p,e,g*m));for(i=0;i<n;i++)for(var o=d[i],s=i+1;s<n;s++){var l=d[s];U(e,l.p,o.p),0===(a=Z(e))&&(H(e,Math.random()-.5,Math.random()-.5),a=1);var u=(o.rep+l.rep)/a/a;o.fixed||kb(o.pp,o.pp,e,u),l.fixed||kb(l.pp,l.pp,e,-u)}for(var c=[],i=0;i<n;i++){var h=d[i];h.fixed||(U(c,h.p,h.pp),kb(h.p,h.p,c,m),B(h.pp,h.p))}m*=.992,t&&t(d,f,m<.01)}}}(a,s,{rect:c,gravity:l.get("gravity")}),u=l.step,l.step=function(c){for(var t=0,e=a.length;t<e;t++)a[t].fixed&&B(a[t].p,d.getNodeByIndex(t).getLayout());u(function(t,e,n){for(var i=0,r=t.length;i<r;i++)t[i].fixed||d.getNodeByIndex(i).setLayout(t[i].p),h[f.getId(i)]=t[i].p;for(i=0,r=e.length;i<r;i++){var o=e[i],a=d.getEdgeByIndex(i),s=o.n1.p,l=o.n2.p,u=a.getLayout();(u=u?u.slice():[])[0]=u[0]||[],u[1]=u[1]||[],B(u[0],s),B(u[1],l),+o.curveness&&(u[2]=[(s[0]+l[0])/2-(s[1]-l[1])*o.curveness,(s[1]+l[1])/2-(l[0]-s[0])*o.curveness]),a.setLayout(u)}c&&c(n)})},t.forceLayout=l,t.preservedPoints=h,l.step()):t.forceLayout=null)})}),$o("graphView",{create:function(t,u){var c=[];return t.eachSeriesByType("graph",function(t){var e,n,i,r,o,a,s,l=t.get("coordinateSystem");l&&"view"!==l||(n=[],r=[],Dn((e=t.getData()).mapArray(function(t){t=e.getItemModel(t);return[+t.get("x"),+t.get("y")]}),n,r),r[0]-n[0]==0&&(r[0]+=1,--n[0]),r[1]-n[1]==0&&(r[1]+=1,--n[1]),i=(r[0]-n[0])/(r[1]-n[1]),a=u,s=i,(o=(o=t).getBoxLayoutParams()).aspect=s,l=sr(o,{width:a.getWidth(),height:a.getHeight()}),isNaN(i)&&(n=[l.x,l.y],r=[l.x+l.width,l.y+l.height]),s=r[0]-n[0],o=r[1]-n[1],a=l.width,i=l.height,(r=t.coordinateSystem=new xl).zoomLimit=t.get("scaleLimit"),r.setBoundingRect(n[0],n[1],s,o),r.setViewRect(l.x,l.y,a,i),r.setCenter(t.get("center")),r.setZoom(t.get("zoom")),c.push(r))}),c}}),Hv.extend({type:"series.gauge",getInitialData:function(t,e){var n=t.data||[];return T(n)||(n=[n]),t.data=n,f_(this,["value"])},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,distance:5,color:"auto"},pointer:{show:!0,length:"80%",width:8},itemStyle:{color:"auto"},title:{show:!0,offsetCenter:[0,"-40%"],color:"#333",fontSize:15},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"auto",fontSize:30}}});var Eb=Rn.extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(t,e){var n=Math.cos,i=Math.sin,r=e.r,o=e.width,a=e.angle,s=e.x-n(a)*o*(r/3<=o?1:2),l=e.y-i(a)*o*(r/3<=o?1:2),a=e.angle-Math.PI/2;t.moveTo(s,l),t.lineTo(e.x+n(a)*o,e.y+i(a)*o),t.lineTo(e.x+n(e.angle)*r,e.y+i(e.angle)*r),t.lineTo(e.x-n(a)*o,e.y-i(a)*o),t.lineTo(s,l)}}),Ob=2*Math.PI,Pb=(to.extend({type:"gauge",render:function(t,e,n){this.group.removeAll();var i,r,o,a,s,l=t.get("axisLine.lineStyle.color"),s=(r=n,o=(i=t).get("center"),a=r.getWidth(),s=r.getHeight(),s=Math.min(a,s),{cx:zi(o[0],r.getWidth()),cy:zi(o[1],r.getHeight()),r:zi(i.get("radius"),s/2)});this._renderMain(t,e,n,l,s)},dispose:function(){},_renderMain:function(t,e,n,i,r){for(var o=this.group,a=t.getModel("axisLine").getModel("lineStyle"),s=t.get("clockwise"),l=-t.get("startAngle")/180*Math.PI,u=-t.get("endAngle")/180*Math.PI,c=(u-l)%Ob,h=l,d=a.get("width"),f=0;f<i.length;f++){var p=Math.min(Math.max(i[f][0],0),1),p=new ly({shape:{startAngle:h,endAngle:u=l+c*p,cx:r.cx,cy:r.cy,clockwise:s,r0:r.r-d,r:r.r},silent:!0});p.setStyle({fill:i[f][1]}),p.setStyle(a.getLineStyle(["color","borderWidth","borderColor"])),o.add(p),h=u}function g(t){if(t<=0)return i[0][1];for(var e=0;e<i.length;e++)if(i[e][0]>=t&&(0===e?0:i[e-1][0])<t)return i[e][1];return i[e-1][1]}var m;s||(m=l,l=u,u=m),this._renderTicks(t,e,n,g,r,l,u,s),this._renderPointer(t,e,n,g,r,l,u,s),this._renderTitle(t,e,n,g,r),this._renderDetail(t,e,n,g,r)},_renderTicks:function(t,e,n,i,r,o,a,s){for(var l=this.group,u=r.cx,c=r.cy,h=r.r,d=+t.get("min"),f=+t.get("max"),p=t.getModel("splitLine"),g=t.getModel("axisTick"),m=t.getModel("axisLabel"),y=t.get("splitNumber"),v=g.get("splitNumber"),x=zi(p.get("length"),h),_=zi(g.get("length"),h),b=o,w=(a-o)/y,M=w/v,A=p.getModel("lineStyle").getLineStyle(),I=g.getModel("lineStyle").getLineStyle(),C=0;C<=y;C++){var S,T,D,N=Math.cos(b),L=Math.sin(b);if(p.get("show")&&(D=new fy({shape:{x1:N*h+u,y1:L*h+c,x2:N*(h-x)+u,y2:L*(h-x)+c},style:A,silent:!0}),"auto"===A.stroke&&D.setStyle({stroke:i(C/y)}),l.add(D)),m.get("show")&&(S=ic(ji(C/y*(f-d)+d),m.get("formatter")),T=m.get("distance"),D=i(C/y),l.add(new U0({style:gi({},m,{text:S,x:N*(h-x-T)+u,y:L*(h-x-T)+c,textVerticalAlign:L<-.4?"top":.4<L?"bottom":"middle",textAlign:N<-.4?"left":.4<N?"right":"center"},{autoColor:D}),silent:!0}))),g.get("show")&&C!==y){for(var k=0;k<=v;k++){var N=Math.cos(b),L=Math.sin(b),E=new fy({shape:{x1:N*h+u,y1:L*h+c,x2:N*(h-_)+u,y2:L*(h-_)+c},silent:!0,style:I});"auto"===I.stroke&&E.setStyle({stroke:i((C+k/v)/y)}),l.add(E),b+=M}b-=M}else b+=w}},_renderPointer:function(n,t,e,r,o,i,a,s){var l,u,c,h,d=this.group,f=this._data;n.get("pointer.show")?(l=[+n.get("min"),+n.get("max")],u=[i,a],c=n.getData(),h=c.mapDimension("value"),c.diff(f).add(function(t){var e=new Eb({shape:{angle:i}});Ai(e,{shape:{angle:Pi(c.get(h,t),l,u,!0)}},n),d.add(e),c.setItemGraphicEl(t,e)}).update(function(t,e){e=f.getItemGraphicEl(e);Mi(e,{shape:{angle:Pi(c.get(h,t),l,u,!0)}},n),d.add(e),c.setItemGraphicEl(t,e)}).remove(function(t){t=f.getItemGraphicEl(t);d.remove(t)}).execute(),c.eachItemGraphicEl(function(t,e){var n=c.getItemModel(e),i=n.getModel("pointer");t.setShape({x:o.cx,y:o.cy,width:zi(i.get("width"),o.r),r:zi(i.get("length"),o.r)}),t.useStyle(n.getModel("itemStyle").getItemStyle()),"auto"===t.style.fill&&t.setStyle("fill",r(Pi(c.get(h,e),l,[0,1],!0))),di(t,n.getModel("emphasis.itemStyle").getItemStyle())}),this._data=c):f&&f.eachItemGraphicEl(function(t){d.remove(t)})},_renderTitle:function(t,e,n,i,r){var o,a,s,l=t.getData(),u=l.mapDimension("value"),c=t.getModel("title");c.get("show")&&(s=c.get("offsetCenter"),o=r.cx+zi(s[0],r.r),a=r.cy+zi(s[1],r.r),s=+t.get("min"),r=+t.get("max"),r=i(Pi(t.getData().get(u,0),[s,r],[0,1],!0)),this.group.add(new U0({silent:!0,style:gi({},c,{x:o,y:a,text:l.getName(0),textAlign:"center",textVerticalAlign:"middle"},{autoColor:r,forceRich:!0})})))},_renderDetail:function(t,e,n,i,r){var o,a,s,l=t.getModel("detail"),u=+t.get("min"),c=+t.get("max");l.get("show")&&(s=l.get("offsetCenter"),o=r.cx+zi(s[0],r.r),a=r.cy+zi(s[1],r.r),s=zi(l.get("width"),r.r),r=zi(l.get("height"),r.r),c=i(Pi(t=(t=t.getData()).get(t.mapDimension("value"),0),[u,c],[0,1],!0)),this.group.add(new U0({silent:!0,style:gi({},l,{x:o,y:a,text:ic(t,l.get("formatter")),textWidth:isNaN(s)?null:s,textHeight:isNaN(r)?null:r,textAlign:"center",textVerticalAlign:"middle"},{autoColor:c,forceRich:!0})})))}}),ra({type:"series.funnel",init:function(t){Pb.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()},this._defaultLabelLine(t)},getInitialData:function(t,e){return f_(this,["value"])},_defaultLabelLine:function(t){tn(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},getDataParams:function(t){var e=this.getData(),n=Pb.superCall(this,"getDataParams",t),i=e.mapDimension("value"),r=e.getSum(i);return n.percent=r?+(e.get(i,t)/r*100).toFixed(2):0,n.$vars.push("percent"),n},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}})),Ly=rc.prototype,zb=["itemStyle","opacity"];Ly.updateData=function(t,e,n){var i=this.childAt(0),r=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e),s=null==(s=t.getItemModel(e).get(zb))?1:s;i.useStyle({}),n?(i.setShape({points:a.points}),i.setStyle({opacity:0}),Ai(i,{style:{opacity:s}},r,e)):Mi(i,{style:{opacity:s},shape:{points:a.points}},r,e);r=o.getModel("itemStyle"),o=t.getItemVisual(e,"color");i.setStyle(D({lineJoin:"round",fill:o},r.getItemStyle(["opacity"]))),i.hoverStyle=r.getModel("emphasis").getItemStyle(),this._updateLabel(t,e),di(this)},Ly._updateLabel=function(t,e){var n=this.childAt(1),i=this.childAt(2),r=t.hostModel,o=t.getItemModel(e),a=t.getItemLayout(e).label;t.getItemVisual(e,"color");Mi(n,{shape:{points:a.linePoints||a.linePoints}},r,e),Mi(i,{style:{x:a.x,y:a.y}},r,e),i.attr({rotation:a.rotation,origin:[a.x,a.y],z2:10});var s=o.getModel("label"),l=o.getModel("emphasis.label"),r=o.getModel("labelLine"),o=o.getModel("emphasis.labelLine"),u=t.getItemVisual(e,"color");pi(i.style,i.hoverStyle={},s,l,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:t.getName(e),autoColor:u,useInsideStyle:!!a.inside},{textAlign:a.textAlign,textVerticalAlign:a.verticalAlign}),i.ignore=i.normalIgnore=!s.get("show"),i.hoverIgnore=!l.get("show"),n.ignore=n.normalIgnore=!r.get("show"),n.hoverIgnore=!o.get("show"),n.setStyle({stroke:u}),n.setStyle(r.getModel("lineStyle").getLineStyle()),n.hoverStyle=o.getModel("lineStyle").getLineStyle()},o(rc,tm),to.extend({type:"funnel",render:function(t,e,n){var i=t.getData(),r=this._data,o=this.group;i.diff(r).add(function(t){var e=new rc(i,t);i.setItemGraphicEl(t,e),o.add(e)}).update(function(t,e){e=r.getItemGraphicEl(e);e.updateData(i,t),o.add(e),i.setItemGraphicEl(t,e)}).remove(function(t){t=r.getItemGraphicEl(t);o.remove(t)}).execute(),this._data=i},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),Ko(Tm("funnel")),Qo(function(t,b,e){t.eachSeriesByType("funnel",function(t){var e,r=t.getData(),o=r.mapDimension("value"),n=t.get("sort"),a=(e=b,sr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})),i=function(t,e){for(var n=t.mapDimension("value"),i=t.mapArray(n,function(t){return t}),r=[],o="ascending"===e,a=0,s=t.count();a<s;a++)r[a]=a;return"function"==typeof e?r.sort(e):"none"!==e&&r.sort(function(t,e){return o?i[t]-i[e]:i[e]-i[t]}),r}(r,n),s=[zi(t.get("minSize"),a.width),zi(t.get("maxSize"),a.width)],e=r.getDataExtent(o),l=t.get("min"),u=t.get("max");null==l&&(l=Math.min(e[0],0)),null==u&&(u=e[1]);function c(t,e){var n,i=Pi(r.get(o,t)||0,[l,u],s,!0);switch(h){case"left":n=a.x;break;case"center":n=a.x+(a.width-i)/2;break;case"right":n=a.x+a.width-i}return[[n,e],[n+i,e]]}var h=t.get("funnelAlign"),d=t.get("gap"),f=(a.height-d*(r.count()-1))/r.count(),p=a.y;"ascending"===n&&(f=-f,d=-d,p+=a.height,i=i.reverse());for(var g,m=0;m<i.length;m++){var y=i[m],v=i[m+1],x=r.getItemModel(y).get("itemStyle.height");null==x?x=f:(x=zi(x,a.height),"ascending"===n&&(x=-x));var _=c(y,p),v=c(v,p+x);p+=x+d,r.setItemLayout(y,{points:_.concat(v.slice().reverse())})}(g=r).each(function(t){var e,n,i,r,o,a,s,l=g.getItemModel(t),u=l.getModel("label").get("position"),c=l.getModel("labelLine"),h=g.getItemLayout(t),l=h.points,t="inner"===u||"inside"===u||"center"===u;t?(o="center",a=[[e=(l[0][0]+l[1][0]+l[2][0]+l[3][0])/4,s=(l[0][1]+l[1][1]+l[2][1]+l[3][1])/4],[e,s]]):(c=c.get("length"),o="left"===u?(n=(l[3][0]+l[0][0])/2,i=(l[3][1]+l[0][1])/2,e=(r=n-c)-5,"right"):(n=(l[1][0]+l[2][0])/2,i=(l[1][1]+l[2][1])/2,e=(r=n+c)+5,"left"),a=[[n,i],[r,i]],s=i),h.label={linePoints:a,x:e,y:s,verticalAlign:"middle",textAlign:o,inside:t}})})}),qo(i0("funnel"));function jb(t,e,n,i,r){Mx.call(this,t,e,n),this.type=i||"value",this.axisIndex=r}jb.prototype={constructor:jb,model:null,isHorizontal:function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")}},o(jb,Mx);function Yb(t,e,n,i,r,o){e[0]=ac(e[0],n),e[1]=ac(e[1],n),t=t||0;var a=n[1]-n[0];return null!=r&&(r=ac(r,[0,a])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===i&&(r=o=Math.abs(e[1]-e[0]),i=0),a=oc(e,i),e[i]+=t,t=r||0,n=n.slice(),a.sign<0?n[0]+=t:n[1]-=t,e[i]=ac(e[i],n),n=oc(e,i),null!=r&&(n.sign!==a.sign||n.span<r)&&(e[1-i]=e[i]+a.sign*r),n=oc(e,i),null!=o&&n.span>o&&(e[1-i]=e[i]+n.sign*o),e}var Rb=P,Bb=Math.min,Fb=Math.max,Hb=Math.floor,Wb=Math.ceil,Gb=ji,Ub=Math.PI;sc.prototype={type:"parallel",constructor:sc,_init:function(t,i,e){var n=t.dimensions,r=t.parallelAxisIndex;Rb(n,function(t,e){var n=r[e],e=i.getComponent("parallelAxis",n),t=this._axesMap.set(t,new jb(t,Ua(e),[0,0],e.get("type"),n)),n="category"===t.type;t.onBand=n&&e.get("boundaryGap"),t.inverse=e.get("inverse"),(e.axis=t).model=e,t.coordinateSystem=e.coordinateSystem=this},this)},update:function(t,e){this._updateAxesFromSeries(this._model,t)},containPoint:function(t){var e=this._makeLayoutInfo(),n=e.axisBase,i=e.layoutBase,r=e.pixelDimIndex,o=t[1-r],r=t[r];return n<=o&&o<=n+e.axisLength&&i<=r&&r<=i+e.layoutLength},getModel:function(){return this._model},_updateAxesFromSeries:function(e,i){i.eachSeries(function(t){var n;e.contains(t,i)&&(n=t.getData(),Rb(this.dimensions,function(t){var e=this._axesMap.get(t);e.scale.unionExtentFromData(n,n.mapDimension(t)),Ga(e.scale,e.model)},this))},this)},resize:function(t,e){this._rect=sr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},getRect:function(){return this._rect},_makeLayoutInfo:function(){var t=this._model,e=this._rect,n=["x","y"],i=["width","height"],r=t.get("layout"),o="horizontal"===r?0:1,a=e[i[o]],s=[0,a],l=this.dimensions.length,u=lc(t.get("axisExpandWidth"),s),c=lc(t.get("axisExpandCount")||0,[0,l]),h=t.get("axisExpandable")&&3<l&&c<l&&1<c&&0<u&&0<a,d=t.get("axisExpandWindow");d?(f=lc(d[1]-d[0],s),d[1]=d[0]+f):(f=lc(u*(c-1),s),(d=[u*(t.get("axisExpandCenter")||Hb(l/2))-f/2])[1]=d[0]+f);t=(a-f)/(l-c);t<3&&(t=0);var f=[Hb(Gb(d[0]/u,1))+1,Wb(Gb(d[1]/u,1))-1],c=t/u*d[0];return{layout:r,pixelDimIndex:o,layoutBase:e[n[o]],layoutLength:a,axisBase:e[n[1-o]],axisLength:e[i[1-o]],axisExpandable:h,axisExpandWidth:u,axisCollapseWidth:t,axisExpandWindow:d,axisCount:l,winInnerIndices:f,axisExpandWindow0Pos:c}},_layoutAxes:function(){var o=this._rect,t=this._axesMap,e=this.dimensions,a=this._makeLayoutInfo(),s=a.layout;t.each(function(t){var e=[0,a.axisLength],n=t.inverse?1:0;t.setExtent(e[n],e[1-n])}),Rb(e,function(t,e){var n=(a.axisExpandable?function(t,e){var n,i,r=e.layoutLength,o=e.axisExpandWidth,a=e.axisCount,s=e.axisCollapseWidth,l=e.winInnerIndices,u=s,c=!1;return t<l[0]?(n=t*s,i=s):t<=l[1]?(n=e.axisExpandWindow0Pos+t*o-e.axisExpandWindow[0],u=o,c=!0):(n=r-(a-1-t)*s,i=s),{position:n,axisNameAvailableWidth:u,axisLabelShow:c,nameTruncateMaxWidth:i}}:function(t,e){return{position:(e=e.layoutLength/(e.axisCount-1))*t,axisNameAvailableWidth:e,axisLabelShow:!0}})(e,a),i={horizontal:{x:n.position,y:a.axisLength},vertical:{x:0,y:n.position}},r=[i[s].x+o.x,i[s].y+o.y],e={horizontal:Ub/2,vertical:0}[s],i=dt();yt(i,i,e),mt(i,i,r),this._axesLayout[t]={position:r,rotation:e,transform:i,axisNameAvailableWidth:n.axisNameAvailableWidth,axisLabelShow:n.axisLabelShow,nameTruncateMaxWidth:n.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},getAxis:function(t){return this._axesMap.get(t)},dataToPoint:function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},eachActiveState:function(e,t,n,i){null==n&&(n=0),null==i&&(i=e.count());var r=this._axesMap,o=this.dimensions,a=[],s=[];P(o,function(t){a.push(e.mapDimension(t)),s.push(r.get(t).model)});for(var l=this.hasAxisBrushed(),u=n;u<i;u++){if(l){for(var c="active",h=e.getValues(a,u),d=0,f=o.length;d<f;d++)if("inactive"===s[d].getActiveState(h[d])){c="inactive";break}}else c="normal";t(c,u)}},hasAxisBrushed:function(){for(var t=this.dimensions,e=this._axesMap,n=!1,i=0,r=t.length;i<r;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(n=!0);return n},axisCoordToPoint:function(t,e){return Ci([t,0],this._axesLayout[e].transform)},getAxisLayout:function(t){return C(this._axesLayout[t])},getSlidedAxisExpandWindow:function(t){var e=this._makeLayoutInfo(),n=e.pixelDimIndex,i=e.axisExpandWindow.slice(),r=i[1]-i[0],o=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var a,s=t[n]-e.layoutBase-e.axisExpandWindow0Pos,l="slide",u=e.axisCollapseWidth,t=this._model.get("axisExpandSlideTriggerArea"),n=null!=t[0];return u?(n&&u&&s<r*t[0]?(l="jump",a=s-r*t[2]):n&&u&&s>r*(1-t[0])?(l="jump",a=s-r*(1-t[2])):0<=(a=s-r*t[1])&&(a=s-r*(1-t[1]))<=0&&(a=0),(a*=e.axisExpandWidth/u)?Yb(a,i,o,"all"):l="none"):(r=i[1]-i[0],(i=[Fb(0,o[1]*s/r-r/2)])[1]=Bb(o[1],i[0]+r),i[0]=i[1]-r),{axisExpandWindow:i,behavior:l}}},Mr.register("parallel",{create:function(i,r){var o=[];return i.eachComponent("parallel",function(t,e){var n=new sc(t,i,r);n.name="parallel_"+e,n.resize(t,r),(t.coordinateSystem=n).model=t,o.push(n)}),i.eachSeries(function(t){var e;"parallel"===t.get("coordinateSystem")&&(e=i.queryComponents({mainType:"parallel",index:t.get("parallelIndex"),id:t.get("parallelId")})[0],t.coordinateSystem=e.coordinateSystem)}),o}});Wg=Qy.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return Hm([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},setActiveIntervals:function(t){var e=this.activeIntervals=C(t);if(e)for(var n=e.length-1;0<=n;n--)Yi(e[n])},getActiveState:function(t){var e=this.activeIntervals;if(!e.length)return"normal";if(null==t||isNaN(t))return"inactive";if(1===e.length){var n=e[0];if(n[0]<=t&&t<=n[1])return"active"}else for(var i=0,r=e.length;i<r;i++)if(e[i][0]<=t&&t<=e[i][1])return"active";return"inactive"}});g(Wg.prototype,mx),e0("parallel",Wg,function(t,e){return e.type||(e.data?"category":"value")},{type:"value",dim:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10}),Qy.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,layoutMode:"box",defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},init:function(){Qy.prototype.init.apply(this,arguments),this.mergeOption({})},mergeOption:function(t){var e=this.option;t&&g(e,t,!0),this._initDimensions()},contains:function(t,e){t=t.get("parallelIndex");return null!=t&&e.getComponent("parallel",t)===this},setAxisExpand:function(e){P(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(t){e.hasOwnProperty(t)&&(this.option[t]=e[t])},this)},_initDimensions:function(){var e=this.dimensions=[],n=this.parallelAxisIndex=[];P(b(this.dependentModels.parallelAxis,function(t){return(t.get("parallelIndex")||0)===this.componentIndex},this),function(t){e.push("dim"+t.get("dim")),n.push(t.componentIndex)})}}),Jo({type:"axisAreaSelect",event:"axisAreaSelected"},function(e,t){t.eachComponent({mainType:"parallelAxis",query:e},function(t){t.axis.model.setActiveIntervals(e.intervals)})}),Jo("parallelAxisExpand",function(e,t){t.eachComponent({mainType:"parallel",query:e},function(t){t.setAxisExpand(e)})});var Zb=N,Vb=P,Xb=I,qb=Math.min,Jb=Math.max,$b=Math.pow,Qb=1e4,Kb=6,tw=6,ew={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},nw={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},iw={brushStyle:{lineWidth:2,stroke:"rgba(0,0,0,0.3)",fill:"rgba(0,0,0,0.1)"},transformable:!0,brushMode:"single",removeOnClick:!1},rw=0;uc.prototype={constructor:uc,enableBrush:function(t){return this._brushType&&hc(this),t.brushType&&cc(this,t),this},setPanels:function(t){var e;return t&&t.length?(e=this._panels={},P(t,function(t){e[t.panelId]=C(t)})):this._panels=null,this},mount:function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var e=this.group;return this._zr.add(e),e.attr({position:t.position||[0,0],rotation:t.rotation||0,scale:t.scale||[1,1]}),this._transform=e.getLocalTransform(),this},eachCover:function(t,e){Vb(this._covers,t,e)},updateCovers:function(i){function n(t,e){return(null!=t.id?t.id:"\0-brush-index-"+e)+"-"+t.brushType}function t(t,e){var n=i[t];null!=e&&r[e]===s?o[t]=r[e]:(n=o[t]=null!=e?(r[e].__brushOption=n,r[e]):fc(a,dc(a,n)),mc(a,n))}i=I(i,function(t){return g(C(iw),t,!0)});var r=this._covers,o=this._covers=[],a=this,s=this._creatingCover;return new sa(r,i,function(t,e){return n(t.__brushOption,e)},n).add(t).update(t).remove(function(t){r[t]!==s&&a.group.remove(r[t])}).execute(),this},unmount:function(){return this.enableBrush(!1),_c(this),this._zr.remove(this.group),this},dispose:function(){this.unmount(),this.off()}},r(uc,gg);var ow={mousedown:function(t){var e;this._dragging?Yc.call(this,t):t.target&&t.target.draggable||(Oc(t),e=this.group.transformCoordToLocal(t.offsetX,t.offsetY),this._creatingCover=null,(this._creatingPanel=vc(this,t,e))&&(this._dragging=!0,this._track=[e.slice()]))},mousemove:function(t){var e=this.group.transformCoordToLocal(t.offsetX,t.offsetY);(function(t,e,n){if(t._brushType){var i=t._zr,r=t._covers,o=vc(t,e,n);if(!t._dragging)for(var a=0;a<r.length;a++){var s=r[a].__brushOption;if(o&&(!0===o||s.panelId===o.panelId)&&aw[s.brushType].contain(r[a],n[0],n[1]))return}o&&i.setCursorStyle("crosshair")}})(this,t,e),this._dragging&&(Oc(t),(e=zc(this,t,e,!1))&&bc(this,e))},mouseup:Yc},aw={lineX:Rc(0),lineY:Rc(1),rect:{createCover:function(t,e){return Mc(Zb(Nc,function(t){return t},function(t){return t}),t,e,["w","e","n","s","se","sw","ne","nw"])},getCreatingRange:function(t){t=wc(t);return Tc(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(t,e,n,i){Ac(t,e,n,i)},updateCommon:Ic,contain:Pc},polygon:{createCover:function(t,e){var n=new tm;return n.add(new hy({name:"main",style:Sc(e),silent:!0})),n},getCreatingRange:function(t){return t},endCreating:function(t,e){e.remove(e.childAt(0)),e.add(new cy({name:"main",draggable:!0,drift:Zb(Lc,t,e),ondragend:Zb(bc,t,{isEnd:!0})}))},updateCoverShape:function(t,e,n,i){e.childAt(0).setShape({points:Ec(t,e,n)})},updateCommon:Ic,contain:Pc}},sw=["axisLine","axisTickLabel","axisName"],lw=ia({type:"parallelAxis",init:function(t,e){lw.superApply(this,"init",arguments),(this._brushController=new uc(e.getZr())).on("brush",v(this._onBrush,this))},render:function(t,e,n,i){var r,o,a,s,l;a=t,s=e,(l=i)&&"axisAreaSelect"===l.type&&s.findComponents({mainType:"parallelAxis",query:l})[0]===a||(this.axisModel=t,this.api=n,this.group.removeAll(),r=this._axisGroup,this._axisGroup=new tm,this.group.add(this._axisGroup),t.get("show")&&(s=(o=e.getComponent("parallel",t.get("parallelIndex"))).coordinateSystem,a=(l=t.getAreaSelectStyle()).width,e=t.axis.dim,s=S({strokeContainThreshold:a},s.getAxisLayout(e)),e=new $x(t,s),P(sw,e.add,e),this._axisGroup.add(e.getGroup()),this._refreshBrushController(s,l,t,o,a,n),t=i&&!1===i.animation?null:t,Ti(r,this._axisGroup,t)))},_refreshBrushController:function(t,e,n,i,r,o){var a,s=n.axis.getExtent(),l=s[1]-s[0],u=Math.min(30,.1*Math.abs(l)),r=Kt.create({x:s[0],y:-r/2,width:l,height:r});r.x-=u,r.width+=2*u,this._brushController.mount({enableGlobalPan:!0,rotation:t.rotation,position:t.position}).setPanels([{panelId:"pl",clipPath:Bc(r),isTargetByCursor:Hc(r,o,i),getLinearBrushOtherExtent:Fc(r,0)}]).enableBrush({brushType:"lineX",brushStyle:e,removeOnClick:!0}).updateCovers((a=n.axis,I(n.activeIntervals,function(t){return{brushType:"lineX",panelId:"pl",range:[a.dataToCoord(t[0],!0),a.dataToCoord(t[1],!0)]}})))},_onBrush:function(t,e){var n=this.axisModel,i=n.axis,t=I(t,function(t){return[i.coordToData(t.range[0],!0),i.coordToData(t.range[1],!0)]});!n.option.realtime!==e.isEnd&&!e.removeOnClick||this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:n.id,intervals:t})},dispose:function(){this._brushController.dispose()}});ia({type:"parallel",render:function(t,e,n){this._model=t,this._api=n,this._handlers||(this._handlers={},P(uw,function(t,e){n.getZr().on(e,this._handlers[e]=v(t,this))},this)),ao(this,"_throttledDispatchExpand",t.get("axisExpandRate"),"fixRate")},dispose:function(t,n){P(this._handlers,function(t,e){n.getZr().off(e,t)}),this._handlers=null},_throttledDispatchExpand:function(t){this._dispatchExpand(t)},_dispatchExpand:function(t){t&&this._api.dispatchAction(S({type:"parallelAxisExpand"},t))}});var uw={mousedown:function(t){Gc(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var e=this._mouseDownPoint;if(Gc(this,"click")&&e){var n=[t.offsetX,t.offsetY];if(5<Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))return;t=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);"none"!==t.behavior&&this._dispatchExpand({axisExpandWindow:t.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){var e,n;!this._mouseDownPoint&&Gc(this,"mousemove")&&("jump"===(t=(n=(e=this._model).coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY])).behavior)&&this._throttledDispatchExpand.debounceNextCall(e.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===t?null:{axisExpandWindow:n.axisExpandWindow,animation:"jump"===t&&null}))}};Xo(function(t){var n,e,i;(e=t).parallel||(i=!1,P(e.series,function(t){t&&"parallel"===t.type&&(i=!0)}),i&&(e.parallel=[{}])),P(Ke((n=t).parallelAxis),function(t){var e;E(t)&&(e=t.parallelIndex||0,(e=Ke(n.parallel)[e])&&e.parallelAxisDefault&&g(t,e.parallelAxisDefault,!1))})}),Hv.extend({type:"series.parallel",dependencies:["parallel"],visualColorAccessPath:"lineStyle.color",getInitialData:function(t,e){var n,i,r,o=this.getSource();return i=this,(n=o).encodeDefine||(i=i.ecModel.getComponent("parallel",i.get("parallelIndex")))&&(r=n.encodeDefine=Y(),P(i.dimensions,function(t){var e=+t.replace("dim","");r.set(t,e)})),Aa(o,this)},getRawIndicesByActiveState:function(n){var t=this.coordinateSystem,i=this.getData(),r=[];return t.eachActiveState(i,function(t,e){n===t&&r.push(i.getRawIndex(e))}),r},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"}});var cw=(to.extend({type:"parallel",init:function(){this._dataGroup=new tm,this.group.add(this._dataGroup),this._data,this._initialized},render:function(i,t,e,r){var n,o,a,s,l,u=this._dataGroup,c=i.getData(),h=this._data,d=i.coordinateSystem,f=d.dimensions,p=Vc(i);c.diff(h).add(function(t){Xc(Zc(c,u,t,f,d),c,t,p)}).update(function(t,e){var n=h.getItemGraphicEl(e),e=Uc(c,t,f,d);c.setItemGraphicEl(t,n),Mi(n,{shape:{points:e}},r&&!1===r.animation?null:i,t),Xc(n,c,t,p)}).remove(function(t){t=h.getItemGraphicEl(t);u.remove(t)}).execute(),this._initialized||(this._initialized=!0,o=i,a=function(){setTimeout(function(){u.removeClipPath()})},s=(n=d).model,l=n.getRect(),n=new dy({shape:{x:l.x,y:l.y,width:l.width,height:l.height}}),s="horizontal"===s.get("layout")?"width":"height",n.setShape(s,0),Ai(n,{shape:{width:l.width,height:l.height}},o,a),u.setClipPath(n)),this._data=c},incrementalPrepareRender:function(t,e,n){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},incrementalRender:function(t,e,n){for(var i=e.getData(),r=e.coordinateSystem,o=r.dimensions,a=Vc(e),s=t.start;s<t.end;s++){var l=Zc(i,this._dataGroup,s,o,r);l.incremental=!0,Xc(l,i,s,a)}},dispose:function(){},remove:function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null}}),["lineStyle","normal","opacity"]);Ko({seriesType:"parallel",reset:function(t,e,n){var i=t.getModel("itemStyle"),r=t.getModel("lineStyle"),o=e.get("color"),e=r.get("color")||i.get("color")||o[t.seriesIndex%o.length],r=t.get("inactiveOpacity"),i=t.get("activeOpacity"),o=t.getModel("lineStyle").getLineStyle(),a=t.coordinateSystem,t=t.getData(),s={normal:o.opacity,active:i,inactive:r};return t.setVisual("color",e),{progress:function(t,i){a.eachActiveState(i,function(t,e){var n=s[t];"normal"!==t||!i.hasItemOption||null!=(t=i.getItemModel(e).get(cw,!0))&&(n=t),i.setItemVisual(e,"opacity",n)},t.start,t.end)}}}});var hw=Hv.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(t){var e=t.edges||t.links,t=t.data||t.nodes;if(t&&e)return yb(t,e,this,!0).data},setNodePosition:function(t,e){t=this.option.data[t];t.localX=e[0],t.localY=e[1]},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},formatTooltip:function(t,e,n){if("edge"!==n)return hw.superCall(this,"formatTooltip",t,e);t=this.getDataParams(t,n),n=t.data,n=n.source+" -- "+n.target;return t.value&&(n+=" : "+t.value),Ki(n)},optionUpdated:function(){var t=this.option;!0===t.focusNodeAdjacency&&(t.focusNodeAdjacency="allEdges")},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,focusNodeAdjacency:!1,layoutIterations:32,label:{show:!0,position:"right",color:"#000",fontSize:12},itemStyle:{borderWidth:1,borderColor:"#333"},lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.6}},animationEasing:"linear",animationDuration:1e3}}),dw=["itemStyle","opacity"],fw=["lineStyle","opacity"],pw=Vn({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0,orient:""},buildPath:function(t,e){var n=e.extent;"vertical"===e.orient?(t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),t.lineTo(e.x2+n,e.y2),t.bezierCurveTo(e.cpx2+n,e.cpy2,e.cpx1+n,e.cpy1,e.x1+n,e.y1)):(t.moveTo(e.x1,e.y1),t.bezierCurveTo(e.cpx1,e.cpy1,e.cpx2,e.cpy2,e.x2,e.y2),t.lineTo(e.x2,e.y2+n),t.bezierCurveTo(e.cpx2,e.cpy2+n,e.cpx1,e.cpy1+n,e.x1,e.y1+n)),t.closePath()}});oa({type:"sankey",_model:null,_focusAdjacencyDisabled:!1,render:function(v,t,i){var e,n,r=this,o=v.getGraph(),x=this.group,a=v.layoutInfo,_=a.width,b=a.height,s=v.getData(),w=v.getData("edge"),M=v.get("orient");this._model=v,x.removeAll(),x.attr("position",[a.x,a.y]),o.eachEdge(function(t){var e=new pw;e.dataIndex=t.dataIndex,e.seriesIndex=v.seriesIndex,e.dataType="edge";var n,i,r,o,a,s,l,u=t.getModel("lineStyle"),c=u.get("curveness"),h=t.node1.getLayout(),d=t.node1.getModel(),f=d.get("localX"),p=d.get("localY"),g=t.node2.getLayout(),m=t.node2.getModel(),y=m.get("localX"),d=m.get("localY"),m=t.getLayout();switch(e.shape.extent=Math.max(1,m.dy),m="vertical"===(e.shape.orient=M)?(n=(null!=f?f*_:h.x)+m.sy,i=(null!=p?p*b:h.y)+h.dy,r=(null!=y?y*_:g.x)+m.ty,a=n,s=i*(1-c)+(o=null!=d?d*b:g.y)*c,l=r,i*c+o*(1-c)):(n=(null!=f?f*_:h.x)+h.dx,i=(null!=p?p*b:h.y)+m.sy,a=n*(1-c)+(r=null!=y?y*_:g.x)*c,s=i,l=n*c+r*(1-c),o=(null!=d?d*b:g.y)+m.ty),e.setShape({x1:n,y1:i,x2:r,y2:o,cpx1:a,cpy1:s,cpx2:l,cpy2:m}),e.setStyle(u.getItemStyle()),e.style.fill){case"source":e.style.fill=t.node1.getVisual("color");break;case"target":e.style.fill=t.node2.getVisual("color")}di(e,t.getModel("emphasis.lineStyle").getItemStyle()),x.add(e),w.setItemGraphicEl(t.dataIndex,e)}),o.eachNode(function(t){var e=t.getLayout(),n=t.getModel(),i=n.get("localX"),r=n.get("localY"),o=n.getModel("label"),a=n.getModel("emphasis.label"),e=new dy({shape:{x:null!=i?i*_:e.x,y:null!=r?r*b:e.y,width:e.dx,height:e.dy},style:n.getModel("itemStyle").getItemStyle()}),n=t.getModel("emphasis.itemStyle").getItemStyle();pi(e.style,n,o,a,{labelFetcher:v,labelDataIndex:t.dataIndex,defaultText:t.id,isRectText:!0}),e.setStyle("fill",t.getVisual("color")),di(e,n),x.add(e),s.setItemGraphicEl(t.dataIndex,e),e.dataType="node"}),s.eachItemGraphicEl(function(t,n){var e=s.getItemModel(n);e.get("draggable")&&(t.drift=function(t,e){r._focusAdjacencyDisabled=!0,this.shape.x+=t,this.shape.y+=e,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:v.id,dataIndex:s.getRawIndex(n),localX:this.shape.x/_,localY:this.shape.y/b})},t.ondragend=function(){r._focusAdjacencyDisabled=!1},t.draggable=!0,t.cursor="move"),e.get("focusNodeAdjacency")&&(t.off("mouseover").on("mouseover",function(){r._focusAdjacencyDisabled||i.dispatchAction({type:"focusNodeAdjacency",seriesId:v.id,dataIndex:t.dataIndex})}),t.off("mouseout").on("mouseout",function(){r._focusAdjacencyDisabled||i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:v.id})}))}),w.eachItemGraphicEl(function(t,e){w.getItemModel(e).get("focusNodeAdjacency")&&(t.off("mouseover").on("mouseover",function(){r._focusAdjacencyDisabled||i.dispatchAction({type:"focusNodeAdjacency",seriesId:v.id,edgeDataIndex:t.dataIndex})}),t.off("mouseout").on("mouseout",function(){r._focusAdjacencyDisabled||i.dispatchAction({type:"unfocusNodeAdjacency",seriesId:v.id})}))}),!this._data&&v.get("animation")&&x.setClipPath((e=x.getBoundingRect(),n=v,a=function(){x.removeClipPath()},Ai(o=new dy({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}}),{shape:{width:e.width+20,height:e.height+20}},n,a),o)),this._data=v.getData()},dispose:function(){},focusNodeAdjacency:function(t,e,n,i){var r=this._model.getData(),o=r.graph,a=i.dataIndex,r=r.getItemModel(a),i=i.edgeDataIndex;null==a&&null==i||(a=o.getNodeByIndex(a),i=o.getEdgeByIndex(i),o.eachNode(function(t){Jc(t,dw,.1)}),o.eachEdge(function(t){Jc(t,fw,.1)}),a&&($c(a,dw),"outEdges"===(r=r.get("focusNodeAdjacency"))?P(a.outEdges,function(t){t.dataIndex<0||($c(t,fw),$c(t.node2,dw))}):"inEdges"===r?P(a.inEdges,function(t){t.dataIndex<0||($c(t,fw),$c(t.node1,dw))}):"allEdges"===r&&P(a.edges,function(t){t.dataIndex<0||($c(t,fw),$c(t.node1,dw),$c(t.node2,dw))})),i&&($c(i,fw),$c(i.node1,dw),$c(i.node2,dw)))},unfocusNodeAdjacency:function(t,e,n,i){var r=this._model.getGraph();r.eachNode(function(t){Jc(t,dw)}),r.eachEdge(function(t){Jc(t,fw)})}}),Jo({type:"dragNode",event:"dragNode",update:"update"},function(e,t){t.eachComponent({mainType:"series",subType:"sankey",query:e},function(t){t.setNodePosition(e.dataIndex,[e.localX,e.localY])})}),Qo(function(t,s,e){t.eachSeriesByType("sankey",function(t){var e=t.get("nodeWidth"),n=t.get("nodeGap"),i=(a=s,sr(t.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})),r=(t.layoutInfo=i).width,o=i.height,a=t.getGraph(),i=a.nodes,a=a.edges;P(i,function(t){var e=oh(t.outEdges,rh),n=oh(t.inEdges,rh),n=Math.max(e,n);t.setLayout({value:n},!0)}),Kc(i,a,e,n,r,o,0!==b(i,function(t){return 0===t.getLayout().value}).length?0:t.get("layoutIterations"),t.get("orient"))})}),Ko(function(t,e){t.eachSeriesByType("sankey",function(n){var i,r,t=n.getGraph().nodes;t.length&&(i=1/0,r=-1/0,P(t,function(t){t=t.getLayout().value;t<i&&(i=t),r<t&&(r=t)}),P(t,function(t){var e=new ib({type:"color",mappingMethod:"linear",dataExtent:[i,r],visual:n.get("color")}).mapValueToVisual(t.getLayout().value);t.setVisual("color",e);e=t.getModel().get("itemStyle.color");null!=e&&t.setVisual("color",e)}))})});Ly={_baseAxisDim:null,getInitialData:function(t,e){var n,i,r=e.getComponent("xAxis",this.get("xAxisIndex")),o=e.getComponent("yAxis",this.get("yAxisIndex")),a=r.get("type"),s=o.get("type");"category"===a?(t.layout="horizontal",n=r.getOrdinalMeta(),i=!0):"category"===s?(t.layout="vertical",n=o.getOrdinalMeta(),i=!0):t.layout=t.layout||"horizontal";var l,e=["x","y"],a="horizontal"===t.layout?0:1,s=this._baseAxisDim=e[a],e=e[1-a],r=[r,o],o=r[a].get("type"),r=r[1-a].get("type"),a=t.data;a&&i&&(l=[],P(a,function(t,e){var n;t.value&&T(t.value)?(n=t.value.slice(),t.value.unshift(e)):T(t)?(n=t.slice(),t.unshift(e)):n=t,l.push(n)}),t.data=l);t=this.defaultValueDimensions;return f_(this,{coordDimensions:[{name:s,type:ca(o),ordinalMeta:n,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:e,type:ca(r),dimsDef:t.slice()}],dimensionsCount:t.length+1})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}};r(Hv.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}}),Ly,!0);var gw=["itemStyle"],mw=["emphasis","itemStyle"],yw=(to.extend({type:"boxplot",render:function(t,e,n){var i=t.getData(),r=this.group,o=this._data;this._data||r.removeAll();var a="horizontal"===t.get("layout")?1:0;i.diff(o).add(function(t){var e;i.hasValue(t)&&(e=ah(i.getItemLayout(t),i,t,a,!0),i.setItemGraphicEl(t,e),r.add(e))}).update(function(t,e){var n=o.getItemGraphicEl(e);i.hasValue(t)?(e=i.getItemLayout(t),n?sh(e,n,i,t):n=ah(e,i,t,a),r.add(n),i.setItemGraphicEl(t,n)):r.remove(n)}).remove(function(t){t=o.getItemGraphicEl(t);t&&r.remove(t)}).execute(),this._data=i},remove:function(t){var e=this.group,n=this._data;this._data=null,n&&n.eachItemGraphicEl(function(t){t&&e.remove(t)})},dispose:A}),Rn.extend({type:"boxplotBoxPath",shape:{},buildPath:function(t,e){var n=e.points,i=0;for(t.moveTo(n[i][0],n[i][1]),i++;i<4;i++)t.lineTo(n[i][0],n[i][1]);for(t.closePath();i<n.length;i++)t.moveTo(n[i][0],n[i][1]),t.lineTo(n[++i][0],n[i][1])}})),vw=["itemStyle","borderColor"],xw=P;Ko(function(i,t){var r=i.get("color");i.eachRawSeriesByType("boxplot",function(t){var e=r[t.seriesIndex%r.length],n=t.getData();n.setVisual({legendSymbol:"roundRect",color:t.get(vw)||e}),i.isSeriesFiltered(t)||n.each(function(t){var e=n.getItemModel(t);n.setItemVisual(t,{color:e.get(vw,!0)})})})}),Qo(function(t){var i,r,t=(i=[],r=[],t.eachSeriesByType("boxplot",function(t){var e=t.getBaseAxis(),n=p(r,e);n<0&&(n=r.length,r[n]=e,i[n]={axis:e,seriesModels:[]}),i[n].seriesModels.push(t)}),i);xw(t,function(n){var t=n.seriesModels;t.length&&(function(t){var e,n,i=t.axis,r=t.seriesModels,o=r.length,a=t.boxWidthList=[],s=t.boxOffsetList=[],l=[];"category"===i.type?e=i.getBandWidth():(n=0,xw(r,function(t){n=Math.max(n,t.getData().count())}),u=i.getExtent(),Math.abs(u[1]-u[0])),xw(r,function(t){t=t.get("boxWidth");T(t)||(t=[t,t]),l.push([zi(t[0],e)||0,zi(t[1],e)||0])});var u=.8*e-2,c=u/o*.3,h=(u-c*(o-1))/o,d=h/2-u/2;xw(r,function(t,e){s.push(d),d+=c+h,a.push(Math.min(Math.max(h,l[e][0]),l[e][1]))})}(n),xw(t,function(t,e){!function(t,r,e){function n(t,e,n){var i,e=s.get(e,n),n=[];return n[u]=t,n[c]=e,isNaN(t)||isNaN(e)?i=[NaN,NaN]:(i=a.dataToPoint(n))[u]+=r,i}function i(t,e,n){var i=e.slice(),e=e.slice();i[u]+=l,e[u]-=l,n?t.push(i,e):t.push(e,i)}function o(t,e){var n=e.slice(),e=e.slice();n[u]-=l,e[u]+=l,t.push(n,e)}var a=t.coordinateSystem,s=t.getData(),l=e/2,u="horizontal"===t.get("layout")?0:1,c=1-u,t=["x","y"],h=s.mapDimension(t[u]),d=s.mapDimension(t[c],!0);if(!(null==h||d.length<5))for(var f=0;f<s.count();f++){var p=s.get(h,f),g=n(p,d[2],f),m=n(p,d[0],f),y=n(p,d[1],f),v=n(p,d[3],f),x=n(p,d[4],f),p=[];i(p,y,0),i(p,v,1),p.push(m,y,x,v),o(p,m),o(p,x),o(p,g),s.setItemLayout(f,{initBaseline:g[c],ends:p})}}(t,n.boxOffsetList[e],n.boxWidthList[e])}))})}),r(Hv.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(t,e,n){t=e.getItemLayout(t);return t&&n.rect(t.brushRect)}}),Ly,!0);var _w=["itemStyle"],bw=["emphasis","itemStyle"],ww=["color","color0","borderColor","borderColor0"],Mw=(to.extend({type:"candlestick",render:function(t,e,n){this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},incrementalPrepareRender:function(t,e,n){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,n,i){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},_updateDrawMode:function(t){t=t.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(i){var r=i.getData(),o=this._data,a=this.group,s=r.getLayout("isSimpleBox");this._data||a.removeAll(),r.diff(o).add(function(t){var e,n;r.hasValue(t)&&(Ai(e=lh(n=r.getItemLayout(t),0,!0),{shape:{points:n.ends}},i,t),uh(e,r,t,s),a.add(e),r.setItemGraphicEl(t,e))}).update(function(t,e){var n=o.getItemGraphicEl(e);r.hasValue(t)?(e=r.getItemLayout(t),n?Mi(n,{shape:{points:e.ends}},i,t):n=lh(e),uh(n,r,t,s),a.add(n),r.setItemGraphicEl(t,n)):a.remove(n)}).remove(function(t){t=o.getItemGraphicEl(t);t&&a.remove(t)}).execute(),this._data=r},_renderLarge:function(t){this._clear(),ch(t,this.group)},_incrementalRenderNormal:function(t,e){for(var n,i,r=e.getData(),o=r.getLayout("isSimpleBox");null!=(n=t.next());)uh(i=lh(r.getItemLayout(n)),r,n,o),i.incremental=!0,this.group.add(i)},_incrementalRenderLarge:function(t,e){ch(e,this.group,!0)},remove:function(t){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:A}),Rn.extend({type:"normalCandlestickBox",shape:{},buildPath:function(t,e){e=e.points;this.__simpleBox?(t.moveTo(e[4][0],e[4][1]),t.lineTo(e[6][0],e[6][1])):(t.moveTo(e[0][0],e[0][1]),t.lineTo(e[1][0],e[1][1]),t.lineTo(e[2][0],e[2][1]),t.lineTo(e[3][0],e[3][1]),t.closePath(),t.moveTo(e[4][0],e[4][1]),t.lineTo(e[5][0],e[5][1]),t.moveTo(e[6][0],e[6][1]),t.lineTo(e[7][0],e[7][1]))}})),Aw=Rn.extend({type:"largeCandlestickBox",shape:{},buildPath:function(t,e){for(var n,i=e.points,r=0;r<i.length;)this.__sign===i[r++]?(n=i[r++],t.moveTo(n,i[r++]),t.lineTo(n,i[r++])):r+=3}}),Iw=["itemStyle","borderColor"],Cw=["itemStyle","borderColor0"],Sw=["itemStyle","color"],Tw=["itemStyle","color0"],Wg={seriesType:"candlestick",plan:Gv(),performRawSeries:!0,reset:function(t,e){function o(t,e){return e.get(0<t?Sw:Tw)}function a(t,e){return e.get(0<t?Iw:Cw)}var n=t.getData(),i=t.pipelineContext.large;if(n.setVisual({legendSymbol:"roundRect",colorP:o(1,t),colorN:o(-1,t),borderColorP:a(1,t),borderColorN:a(-1,t)}),!e.isSeriesFiltered(t))return!i&&{progress:function(t,e){for(var n;null!=(n=t.next());){var i=e.getItemModel(n),r=e.getItemLayout(n).sign;e.setItemVisual(n,{color:o(r,i),borderColor:a(r,i)})}}}}},Dw="undefined"!=typeof Float32Array?Float32Array:Array,Ly={seriesType:"candlestick",plan:Gv(),reset:function(t){var e,n,i,r,m=t.coordinateSystem,o=t.getData(),y=(n=o,i="category"===(i=(e=t).getBaseAxis()).type?i.getBandWidth():(r=i.getExtent(),Math.abs(r[1]-r[0])/n.count()),r=zi(z(e.get("barMaxWidth"),i),i),n=zi(z(e.get("barMinWidth"),1),i),null!=(e=e.get("barWidth"))?zi(e,i):Math.max(Math.min(i/2,r),n)),n=["x","y"],v=o.mapDimension(n[0]),n=o.mapDimension(n[1],!0),x=n[0],_=n[1],b=n[2],w=n[3];if(o.setLayout({candleWidth:y,isSimpleBox:y<=1.3}),!(null==v||n.length<4))return{progress:t.pipelineContext.large?function(t,e){for(var n,i=new Dw(5*t.count),r=0,o=[],a=[];null!=(n=t.next());){var s=e.get(v,n),l=e.get(x,n),u=e.get(_,n),c=e.get(b,n),h=e.get(w,n);isNaN(s)||isNaN(c)||isNaN(h)?(i[r++]=NaN,r+=4):(i[r++]=dh(e,n,l,u,_),o[0]=s,o[1]=c,c=m.dataToPoint(o,null,a),i[r++]=c?c[0]:NaN,i[r++]=c?c[1]:NaN,o[1]=h,c=m.dataToPoint(o,null,a),i[r++]=c?c[1]:NaN)}e.setLayout("largePoints",i)}:function(t,e){function n(t,e){var n=[];return n[0]=e,n[1]=t,isNaN(e)||isNaN(t)?[NaN,NaN]:m.dataToPoint(n)}function i(t,e,n){var i=e.slice(),e=e.slice();i[0]=ti(i[0]+y/2,1,!1),e[0]=ti(e[0]-y/2,1,!0),n?t.push(i,e):t.push(e,i)}function r(t){return t[0]=ti(t[0],1),t}for(var o;null!=(o=t.next());){var a=e.get(v,o),s=e.get(x,o),l=e.get(_,o),u=e.get(b,o),c=e.get(w,o),h=Math.min(s,l),d=Math.max(s,l),f=n(h,a),p=n(d,a),g=n(u,a),h=n(c,a),d=[];i(d,p,0),i(d,f,1),d.push(r(h),r(p),r(g),r(f)),e.setItemLayout(o,{sign:dh(e,o,s,l,_),initBaseline:(l<s?p:f)[1],ends:d,brushRect:(d=c,c=void 0,c=n(u,a=a),a=n(d,a),c[0]-=y/2,a[0]-=y/2,{x:c[0],y:c[1],width:y,height:a[1]-c[1]})})}}}}};Xo(function(t){t&&T(t.series)&&P(t.series,function(t){E(t)&&"k"===t.type&&(t.type="candlestick")})}),Ko(Wg),Qo(Ly),Hv.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(t,e){return Aa(this.getSource(),this)},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});Ly=ph.prototype;Ly.stopEffectAnimation=function(){this.childAt(1).removeAll()},Ly.startEffectAnimation=function(t){for(var e=t.symbolType,n=t.color,i=this.childAt(1),r=0;r<3;r++){var o=Ja(e,-1,-1,2,2,n);o.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scale:[.5,.5]});var a=-r/3*t.period+t.effectOffset;o.animate("",!0).when(t.period,{scale:[t.rippleScale/2,t.rippleScale/2]}).delay(a).start(),o.animateStyle(!0).when(t.period,{opacity:0}).delay(a).start(),i.add(o)}fh(i,t)},Ly.updateEffectAnimation=function(t){for(var e=this._effectCfg,n=this.childAt(1),i=["symbolType","period","rippleScale"],r=0;r<i.length;r++){var o=i[r];if(e[o]!==t[o])return this.stopEffectAnimation(),void this.startEffectAnimation(t)}fh(n,t)},Ly.highlight=function(){this.trigger("emphasis")},Ly.downplay=function(){this.trigger("normal")},Ly.updateData=function(t,e){var n=t.hostModel;this.childAt(0).updateData(t,e);var i=this.childAt(1),r=t.getItemModel(e),o=t.getItemVisual(e,"symbol"),a=l=T(l=t.getItemVisual(e,"symbolSize"))?l:[+l,+l],s=t.getItemVisual(e,"color");i.attr("scale",a),i.traverse(function(t){t.attr({fill:s})});var l,u=r.getShallow("symbolOffset");u&&((l=i.position)[0]=zi(u[0],a[0]),l[1]=zi(u[1],a[1])),i.rotation=(r.getShallow("symbolRotate")||0)*Math.PI/180||0;var c,h={};h.showEffectOn=n.get("showEffectOn"),h.rippleScale=r.get("rippleEffect.scale"),h.brushType=r.get("rippleEffect.brushType"),h.period=1e3*r.get("rippleEffect.period"),h.effectOffset=e/t.count(),h.z=r.getShallow("z")||0,h.zlevel=r.getShallow("zlevel")||0,h.symbolType=o,h.color=s,this.off("mouseover").off("mouseout").off("emphasis").off("normal"),"render"===h.showEffectOn?(this._effectCfg?this.updateEffectAnimation(h):this.startEffectAnimation(h),this._effectCfg=h):(this._effectCfg=null,this.stopEffectAnimation(),c=this.childAt(0),r=function(){c.highlight(),"render"!==h.showEffectOn&&this.startEffectAnimation(h)},o=function(){c.downplay(),"render"!==h.showEffectOn&&this.stopEffectAnimation()},this.on("mouseover",r,this).on("mouseout",o,this).on("emphasis",r,this).on("normal",o,this)),this._effectCfg=h},Ly.fadeOut=function(t){this.off("mouseover").off("mouseout").off("emphasis").off("normal"),t&&t()},o(ph,tm),oa({type:"effectScatter",init:function(){this._symbolDraw=new xs(ph)},render:function(t,e,n){var i=t.getData(),t=this._symbolDraw;t.updateData(i),this.group.add(t.group)},updateTransform:function(t,e,n){var i=t.getData();this.group.dirty();t=Hx().reset(t);t.progress&&t.progress({start:0,end:i.count()},i),this._symbolDraw.updateLayout(i)},_updateGroupTransform:function(t){t=t.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=_t(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(t,e){this._symbolDraw&&this._symbolDraw.remove(e)},dispose:function(){}}),Ko(Ey("effectScatter","circle")),Qo(Hx("effectScatter"));var Nw="undefined"==typeof Uint32Array?Array:Uint32Array,Lw="undefined"==typeof Float64Array?Array:Float64Array,kw=Hv.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],gh(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),kw.superApply(this,"init",arguments)},mergeOption:function(t){var e;t.data=t.data||[],gh(t),t.data&&(e=this._processFlatCoordsArray(t.data),this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))),kw.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=M(this._flatCoords,e.flatCoords),this._flatCoordsOffset=M(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){t=this.getData().getItemModel(t);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var n=this._flatCoordsOffset[2*t],i=this._flatCoordsOffset[2*t+1],r=0;r<i;r++)e[r]=e[r]||[],e[r][0]=this._flatCoords[n+2*r],e[r][1]=this._flatCoords[n+2*r+1];return i}for(var o=this._getCoordsFromItemModel(t),r=0;r<o.length;r++)e[r]=e[r]||[],e[r][0]=o[r][0],e[r][1]=o[r][1];return o.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"!=typeof t[0])return{flatCoordsOffset:null,flatCoords:null,count:t.length};for(var n=t.length,i=new Nw(n),r=new Lw(n),o=0,a=0,s=0,l=0;l<n;){s++;var u=t[l++];i[a++]=o+e,i[a++]=u;for(var c=0;c<u;c++){var h=t[l++],d=t[l++];r[o++]=h,r[o++]=d}}return{flatCoordsOffset:new Uint32Array(i.buffer,0,a),flatCoords:r,count:s}},getInitialData:function(t,e){var r=new R1(["value"],this);return r.hasItemOption=!1,r.initData(t.data,[],function(t,e,n,i){if(t instanceof Array)return NaN;r.hasItemOption=!0;t=t.value;return null!=t?t instanceof Array?t[i]:t:void 0}),r},formatTooltip:function(t){var e=this.getData().getItemModel(t),n=e.get("name");if(n)return n;t=e.get("fromName"),n=e.get("toName"),e=[];return null!=t&&e.push(t),null!=n&&e.push(n),Ki(e.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),Ly=mh.prototype;Ly.createLine=function(t,e,n){return new Gu(t,e,n)},Ly._updateEffectSymbol=function(t,e){var n=t.getItemModel(e).getModel("effect"),i=n.get("symbolSize"),r=n.get("symbol");T(i)||(i=[i,i]);var o=n.get("color")||t.getItemVisual(e,"color"),a=this.childAt(1);this._symbolType!==r&&(this.remove(a),(a=Ja(r,-.5,-.5,1,1,o)).z2=100,a.culling=!0,this.add(a)),a&&(a.setStyle("shadowColor",o),a.setStyle(n.getItemStyle(["color"])),a.attr("scale",i),a.setColor(o),a.attr("scale",i),this._symbolType=r,this._updateEffectAnimation(t,n,e))},Ly._updateEffectAnimation=function(e,t,n){var i,r,o,a,s,l,u=this.childAt(1);u&&(i=this,r=e.getItemLayout(n),o=1e3*t.get("period"),a=t.get("loop"),l=t.get("constantSpeed"),t="function"==typeof(s=O(t.get("delay"),function(t){return t/e.count()*o/3})),u.ignore=!0,this.updateAnimationPoints(u,r),(o=0<l?this.getLineLength(u)/l*1e3:o)===this._period&&a===this._loop||(u.stopAnimation(),l=s,t&&(l=s(n)),0<u.__t&&(l=-o*u.__t),u.__t=0,l=u.animate("",a).when(o,{__t:1}).delay(l).during(function(){i.updateSymbolPosition(u)}),a||l.done(function(){i.remove(u)}),l.start()),this._period=o,this._loop=a)},Ly.getLineLength=function(t){return dg(t.__p1,t.__cp1)+dg(t.__cp1,t.__p2)},Ly.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},Ly.updateData=function(t,e,n){this.childAt(0).updateData(t,e,n),this._updateEffectSymbol(t,e)},Ly.updateSymbolPosition=function(t){var e=t.__p1,n=t.__p2,i=t.__cp1,r=t.__t,o=t.position,a=In,s=Cn;o[0]=a(e[0],i[0],n[0],r),o[1]=a(e[1],i[1],n[1],r);a=s(e[0],i[0],n[0],r),r=s(e[1],i[1],n[1],r);t.rotation=-Math.atan2(r,a)-Math.PI/2,t.ignore=!1},Ly.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var n=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,n,e)},o(mh,tm);Ly=yh.prototype;Ly._createPolyline=function(t,e,n){var i=t.getItemLayout(e),i=new hy({shape:{points:i}});this.add(i),this._updateCommonStl(t,e,n)},Ly.updateData=function(t,e,n){var i=t.hostModel;Mi(this.childAt(0),{shape:{points:t.getItemLayout(e)}},i,e),this._updateCommonStl(t,e,n)},Ly._updateCommonStl=function(t,e,n){var i=this.childAt(0),r=t.getItemModel(e),o=t.getItemVisual(e,"color"),a=n&&n.lineStyle,e=n&&n.hoverLineStyle;n&&!t.hasItemOption||(a=r.getModel("lineStyle").getLineStyle(),e=r.getModel("emphasis.lineStyle").getLineStyle()),i.useStyle(D({strokeNoScale:!0,fill:"none",stroke:o},a)),i.hoverStyle=e,di(this)},Ly.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},o(yh,tm);Ly=vh.prototype;Ly.createLine=function(t,e,n){return new yh(t,e,n)},Ly.updateAnimationPoints=function(t,e){this._points=e;for(var n=[0],i=0,r=1;r<e.length;r++){var o=e[r-1],a=e[r];i+=dg(o,a),n.push(i)}if(0!==i){for(r=0;r<n.length;r++)n[r]/=i;this._offsets=n,this._length=i}},Ly.getLineLength=function(t){return this._length},Ly.updateSymbolPosition=function(t){var e=t.__t,n=this._points,i=this._offsets,r=n.length;if(i){var o=this._lastFrame;if(e<this._lastFramePercent){for(a=Math.min(o+1,r-1);0<=a&&!(i[a]<=e);a--);a=Math.min(a,r-2)}else{for(var a=o;a<r&&!(i[a]>e);a++);a=Math.min(a-1,r-2)}Q(t.position,n[a],n[a+1],(e-i[a])/(i[a+1]-i[a]));o=n[a+1][0]-n[a][0],n=n[a+1][1]-n[a][1];t.rotation=-Math.atan2(n,o)-Math.PI/2,this._lastFrame=a,this._lastFramePercent=e,t.ignore=!1}},o(vh,mh);var Ew=Vn({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var n=e.segs,i=e.curveness;if(e.polyline)for(a=0;a<n.length;){var r=n[a++];if(0<r){t.moveTo(n[a++],n[a++]);for(var o=1;o<r;o++)t.lineTo(n[a++],n[a++])}}else for(var a=0;a<n.length;){var s=n[a++],l=n[a++],u=n[a++],c=n[a++];t.moveTo(s,l),0<i?t.quadraticCurveTo((s+u)/2-(l-c)*i,(l+c)/2-(u-s)*i,u,c):t.lineTo(u,c)}},findDataIndex:function(t,e){var n=this.shape,i=n.segs,r=n.curveness;if(n.polyline)for(var o=0,a=0;a<i.length;){var s=i[a++];if(0<s)for(var l=i[a++],u=i[a++],c=1;c<s;c++)if(Ln(l,u,h=i[a++],d=i[a++]))return o;o++}else for(o=0,a=0;a<i.length;){var l=i[a++],u=i[a++],h=i[a++],d=i[a++];if(0<r){if(En(l,u,(l+h)/2-(u-d)*r,(u+d)/2-(h-l)*r,h,d))return o}else if(Ln(l,u,h,d))return o;o++}return-1}}),Ly=xh.prototype;Ly.isPersistent=function(){return!this._incremental},Ly.updateData=function(t){this.group.removeAll();var e=new Ew({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},Ly.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),5e5<t.count()?(this._incremental||(this._incremental=new Zn({silent:!0})),this.group.add(this._incremental)):this._incremental=null},Ly.incrementalUpdate=function(t,e){var n=new Ew;n.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(n,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(n,!0):(n.rectHover=!0,n.cursor="default",n.__startIndex=t.start,this.group.add(n))},Ly.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},Ly._setCommon=function(e,t,n){var i=t.hostModel;e.setShape({polyline:i.get("polyline"),curveness:i.get("lineStyle.curveness")}),e.useStyle(i.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;t=t.getVisual("color");t&&e.setStyle("stroke",t),e.setStyle("fill"),n||(e.seriesIndex=i.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;t=e.findDataIndex(t.offsetX,t.offsetY);0<t&&(e.dataIndex=t+e.__startIndex)}))},Ly._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var Ow={seriesType:"lines",plan:Gv(),reset:function(p){var g=p.coordinateSystem,m=p.get("polyline"),y=p.pipelineContext.large;return{progress:function(t,e){var n=[];if(y){var i,r=t.end-t.start;if(m){for(var o=0,a=t.start;a<t.end;a++)o+=p.getLineCoordsCount(a);i=new Float32Array(r+2*o)}else i=new Float32Array(4*r);for(var s=0,l=[],a=t.start;a<t.end;a++){h=p.getLineCoords(a,n),m&&(i[s++]=h);for(var u=0;u<h;u++)l=g.dataToPoint(n[u],!1,l),i[s++]=l[0],i[s++]=l[1]}e.setLayout("linesPoints",i)}else for(a=t.start;a<t.end;a++){var c=e.getItemModel(a),h=p.getLineCoords(a,n),d=[];if(m)for(var f=0;f<h;f++)d.push(g.dataToPoint(n[f]));else{d[0]=g.dataToPoint(n[0]),d[1]=g.dataToPoint(n[1]);c=c.get("lineStyle.curveness");+c&&(d[2]=[(d[0][0]+d[1][0])/2-(d[0][1]-d[1][1])*c,(d[0][1]+d[1][1])/2-(d[1][0]-d[0][0])*c])}e.setItemLayout(a,d)}}}}};oa({type:"lines",init:function(){},render:function(t,e,n){var i=t.getData(),r=this._updateLineDraw(i,t),o=t.get("zlevel"),a=t.get("effect.trailLength"),s=n.getZr(),n="svg"===s.painter.getType();n||s.painter.getLayer(o).clear(!0),null==this._lastZlevel||n||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&a&&(n||s.configLayer(o,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(a/10+.9,1),0)})),r.updateData(i),this._lastZlevel=o,this._finished=!0},incrementalPrepareRender:function(t,e,n){var i=t.getData();this._updateLineDraw(i,t).incrementalPrepareUpdate(i),this._clearLayer(n),this._finished=!1},incrementalRender:function(t,e,n){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,n){var i=t.getData(),r=t.pipelineContext;if(!this._finished||r.large||r.progressiveRender)return{update:!0};t=Ow.reset(t);t.progress&&t.progress({start:0,end:i.count()},i),this._lineDraw.updateLayout(),this._clearLayer(n)},_updateLineDraw:function(t,e){var n=this._lineDraw,i=this._showEffect(e),r=!!e.get("polyline"),e=e.pipelineContext.large;return n&&i===this._hasEffet&&r===this._isPolyline&&e===this._isLargeDraw||(n&&n.remove(),n=this._lineDraw=e?new xh:new Uu(r?i?vh:yh:i?mh:Gu),this._hasEffet=i,this._isPolyline=r,this._isLargeDraw=e,this.group.removeAll()),this.group.add(n.group),n},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){t=t.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});var Pw="lineStyle.opacity".split("."),Ly={seriesType:"lines",reset:function(t,e,n){var i=_h(t.get("symbol")),r=_h(t.get("symbolSize")),o=t.getData();return o.setVisual("fromSymbol",i&&i[0]),o.setVisual("toSymbol",i&&i[1]),o.setVisual("fromSymbolSize",r&&r[0]),o.setVisual("toSymbolSize",r&&r[1]),o.setVisual("opacity",t.get(Pw)),{dataEach:o.hasItemOption?function(t,e){var n=t.getItemModel(e),i=_h(n.getShallow("symbol",!0)),r=_h(n.getShallow("symbolSize",!0)),n=n.get(Pw);i[0]&&t.setItemVisual(e,"fromSymbol",i[0]),i[1]&&t.setItemVisual(e,"toSymbol",i[1]),r[0]&&t.setItemVisual(e,"fromSymbolSize",r[0]),r[1]&&t.setItemVisual(e,"toSymbolSize",r[1]),t.setItemVisual(e,"opacity",n)}:null}}};Qo(Ow),Ko(Ly),Hv.extend({type:"series.heatmap",getInitialData:function(t,e){return Aa(this.getSource(),this,{generateCoord:"value"})},preventIncremental:function(){var t=Mr.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}}),bh.prototype={update:function(t,e,n,i,r,o){var a=this._getBrush(),s=this._getGradient(t,r,"inRange"),l=this._getGradient(t,r,"outOfRange"),u=this.pointSize+this.blurSize,r=this.canvas,c=r.getContext("2d"),h=t.length;r.width=e,r.height=n;for(var d=0;d<h;++d){var f=t[d],p=f[0],g=f[1],m=i(f[2]);c.globalAlpha=m,c.drawImage(a,p-u,g-u)}if(!r.width||!r.height)return r;for(var n=c.getImageData(0,0,r.width,r.height),y=n.data,v=0,x=y.length,_=this.minOpacity,b=this.maxOpacity-_;v<x;){var w,m=y[v+3]/256,M=4*Math.floor(255*m);0<m?(w=o(m)?s:l,0<m&&(m=m*b+_),y[v++]=w[M],y[v++]=w[1+M],y[v++]=w[2+M],y[v++]=w[3+M]*m*256):v+=4}return c.putImageData(n,0,0),r},_getBrush:function(){var t=this._brushCanvas||(this._brushCanvas=sg()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},_getGradient:function(t,e,n){for(var i=this._gradientPixels,r=i[n]||(i[n]=new Uint8ClampedArray(1024)),o=[0,0,0,0],a=0,s=0;s<256;s++)e[n](s/255,!0,o),r[a++]=o[0],r[a++]=o[1],r[a++]=o[2],r[a++]=o[3];return r}},oa({type:"heatmap",render:function(n,t,e){var i;t.eachComponent("visualMap",function(e){e.eachTargetSeries(function(t){t===n&&(i=e)})}),this.group.removeAll(),this._incrementalDisplayable=null;var r=n.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(n,e,0,n.getData().count()):"lng"===(t=(t=r).dimensions)[0]&&"lat"===t[1]&&this._renderOnGeo(r,n,i,e)},incrementalPrepareRender:function(t,e,n){this.group.removeAll()},incrementalRender:function(t,e,n,i){e.coordinateSystem&&this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0)},_renderOnCartesianAndCalendar:function(t,e,n,i,r){var o,a,s,l,u=t.coordinateSystem;"cartesian2d"===u.type&&(o=u.getAxis("x"),a=u.getAxis("y"),s=o.getBandWidth(),l=a.getBandWidth());for(var c=this.group,h=t.getData(),d=t.getModel("itemStyle").getItemStyle(["color"]),f=t.getModel("emphasis.itemStyle").getItemStyle(),p=t.getModel("label"),g=t.getModel("emphasis.label"),m=u.type,y="cartesian2d"===m?[h.mapDimension("x"),h.mapDimension("y"),h.mapDimension("value")]:[h.mapDimension("time"),h.mapDimension("value")],v=n;v<i;v++){if("cartesian2d"===m){if(isNaN(h.get(y[2],v)))continue;var x=u.dataToPoint([h.get(y[0],v),h.get(y[1],v)]),_=new dy({shape:{x:x[0]-s/2,y:x[1]-l/2,width:s,height:l},style:{fill:h.getItemVisual(v,"color"),opacity:h.getItemVisual(v,"opacity")}})}else{if(isNaN(h.get(y[1],v)))continue;_=new dy({z2:1,shape:u.dataToRect([h.get(y[0],v)]).contentShape,style:{fill:h.getItemVisual(v,"color"),opacity:h.getItemVisual(v,"opacity")}})}var b=h.getItemModel(v);h.hasItemOption&&(d=b.getModel("itemStyle").getItemStyle(["color"]),f=b.getModel("emphasis.itemStyle").getItemStyle(),p=b.getModel("label"),g=b.getModel("emphasis.label"));x=t.getRawValue(v),b="-";pi(d,f,p,g,{labelFetcher:t,labelDataIndex:v,defaultText:b=x&&null!=x[2]?x[2]:b,isRectText:!0}),_.setStyle(d),di(_,h.hasItemOption?f:S({},f)),(_.incremental=r)&&(_.useHoverLayer=!0),c.add(_),h.setItemGraphicEl(v,_)}},_renderOnGeo:function(i,t,e,n){var r=e.targetVisuals.inRange,o=e.targetVisuals.outOfRange,a=t.getData(),s=this._hmLayer||this._hmLayer||new bh;s.blurSize=t.get("blurSize"),s.pointSize=t.get("pointSize"),s.minOpacity=t.get("minOpacity"),s.maxOpacity=t.get("maxOpacity");var l=i.getViewRect().clone(),u=i.getRoamTransform();l.applyTransform(u);var c,h,d,f,p,g,m,y=Math.max(l.x,0),v=Math.max(l.y,0),t=Math.min(l.width+l.x,n.getWidth()),u=Math.min(l.height+l.y,n.getHeight()),l=t-y,n=u-v,t=[a.mapDimension("lng"),a.mapDimension("lat"),a.mapDimension("value")],u=a.mapArray(t,function(t,e,n){e=i.dataToPoint([t,e]);return e[0]-=y,e[1]-=v,e.push(n),e}),a=e.getExtent(),e="visualMap.continuous"===e.type?(m=e.option.range,t=a[1]-a[0],m=[(m[0]-a[0])/t,(m[1]-a[0])/t],function(t){return t>=m[0]&&t<=m[1]}):(c=a,h=e.getPieceList(),d=e.option.selected,f=c[1]-c[0],p=(h=I(h,function(t){return{interval:[(t.interval[0]-c[0])/f,(t.interval[1]-c[0])/f]}})).length,g=0,function(t){for(e=g;e<p;e++)if((n=h[e].interval)[0]<=t&&t<=n[1]){g=e;break}if(e===p)for(var e=g-1;0<=e;e--){var n=h[e].interval;if(n[0]<=t&&t<=n[1]){g=e;break}}return 0<=e&&e<p&&d[e]});s.update(u,l,n,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:o.color.getColorMapper()},e);s=new He({style:{width:l,height:n,x:y,y:v,image:s.canvas},silent:!0});this.group.add(s)},dispose:function(){}});var zw=_y.extend({type:"series.pictorialBar",dependencies:["grid"],defaultOption:{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,hoverAnimation:!1},getInitialData:function(t){return t.stack=null,zw.superApply(this,"getInitialData",arguments)}}),jw=["itemStyle","borderWidth"],Yw=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],Rw=new oy;oa({type:"pictorialBar",render:function(t,e,n){var l=this.group,u=t.getData(),c=this._data,i=t.coordinateSystem,r=!!i.getBaseAxis().isHorizontal(),o=i.grid.getRect(),h={ecSize:{width:n.getWidth(),height:n.getHeight()},seriesModel:t,coordSys:i,coordSysExtent:[[o.x,o.x+o.width],[o.y,o.y+o.height]],isHorizontal:r,valueDim:Yw[+r],categoryDim:Yw[1-r]};return u.diff(c).add(function(t){var e,n;u.hasValue(t)&&(n=Dh(u,t),e=wh(u,t,n,h),n=Eh(u,h,e),u.setItemGraphicEl(t,n),l.add(n),Yh(n,h,e))}).update(function(t,e){var n,i,r,o,a,s=c.getItemGraphicEl(e);u.hasValue(t)?(o=Dh(u,t),n=wh(u,t,o,h),a=Ph(u,n),s&&a!==s.__pictorialShapeStr&&(l.remove(s),u.setItemGraphicEl(t,null),s=null),s?(i=s,r=h,o=(e=n).animationModel,a=e.dataIndex,Mi(i.__pictorialBundle,{position:e.bundlePosition.slice()},o,a),e.symbolRepeat?Ih(i,r,e,!0):Ch(i,0,e,!0),Sh(i,e,!0),Th(i,r,e,!0)):s=Eh(u,h,n,!0),u.setItemGraphicEl(t,s),s.__pictorialSymbolMeta=n,l.add(s),Yh(s,h,n)):l.remove(s)}).remove(function(t){var e=c.getItemGraphicEl(t);e&&Oh(c,t,e.__pictorialSymbolMeta.animationModel,e)}).execute(),this._data=u,this.group},dispose:A,remove:function(e,t){var n=this.group,i=this._data;e.get("animation")?i&&i.eachItemGraphicEl(function(t){Oh(i,t.dataIndex,e,t)}):n.removeAll()}}),Qo(N(Ya,"pictorialBar")),Ko(Ey("pictorialBar","roundRect"));function Bw(t,e,n,i,r){Mx.call(this,t,e,n),this.type=i||"value",this.position=r||"bottom",this.orient=null}Bw.prototype={constructor:Bw,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},pointToData:function(t,e){return this.coordinateSystem.pointToData(t,e)[0]},toGlobalCoord:null,toLocalCoord:null},o(Bw,Mx),Mr.register("single",{create:function(i,r){var o=[];return i.eachComponent("singleAxis",function(t,e){var n=new Bh(t,i,r);n.name="single_"+e,n.resize(t,r),t.coordinateSystem=n,o.push(n)}),i.eachSeries(function(t){var e;"singleAxis"===t.get("coordinateSystem")&&(e=i.queryComponents({mainType:"singleAxis",index:t.get("singleAxisIndex"),id:t.get("singleAxisId")})[0],t.coordinateSystem=e&&e.coordinateSystem)}),o},dimensions:(Bh.prototype={type:"singleAxis",axisPointerEnabled:!0,constructor:Bh,_init:function(t,e,n){var i=this.dimension,r=new Bw(i,Ua(t),[0,0],t.get("type"),t.get("position")),i="category"===r.type;r.onBand=i&&t.get("boundaryGap"),r.inverse=t.get("inverse"),r.orient=t.get("orient"),(t.axis=r).model=t,(r.coordinateSystem=this)._axis=r},update:function(t,e){t.eachSeries(function(t){var e;t.coordinateSystem===this&&(P((e=t.getData()).mapDimension(this.dimension,!0),function(t){this._axis.scale.unionExtentFromData(e,t)},this),Ga(this._axis.scale,this._axis.model))},this)},resize:function(t,e){this._rect=sr({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},getRect:function(){return this._rect},_adjustAxis:function(){var t=this._rect,e=this._axis,n=e.isHorizontal(),i=n?[0,t.width]:[0,t.height],r=e.reverse?1:0;e.setExtent(i[r],i[1-r]),this._updateAxisTransform(e,n?t.x:t.y)},_updateAxisTransform:function(t,e){var n=t.getExtent(),i=n[0]+n[1],n=t.isHorizontal();t.toGlobalCoord=n?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord=n?function(t){return t-e}:function(t){return i-t+e}},getAxis:function(){return this._axis},getBaseAxis:function(){return this._axis},getAxes:function(){return[this._axis]},getTooltipAxes:function(){return{baseAxes:[this.getAxis()]}},containPoint:function(t){var e=this.getRect(),n=this.getAxis();return"horizontal"===n.orient?n.contain(n.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:n.contain(n.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},pointToData:function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},dataToPoint:function(t){var e=this.getAxis(),n=this.getRect(),i=[],r="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[r]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-r]=0==r?n.y+n.height/2:n.x+n.width/2,i}}).dimensions});var Fw=["axisLine","axisTickLabel","axisName"],Hw=i_.extend({type:"singleAxis",axisPointerClass:"SingleAxisPointer",render:function(t,e,n,i){var r=this.group;r.removeAll();var o=Fh(t),o=new $x(t,o);P(Fw,o.add,o),r.add(o.getGroup()),t.get("splitLine.show")&&this._splitLine(t),Hw.superCall(this,"render",t,e,n,i)},_splitLine:function(t){var e=t.axis;if(!e.scale.isBlank()){for(var n=t.getModel("splitLine"),i=n.getModel("lineStyle"),r=i.get("width"),o=(o=i.get("color"))instanceof Array?o:[o],a=t.coordinateSystem.getRect(),s=e.isHorizontal(),l=[],u=0,c=e.getTicksCoords({tickModel:n}),h=[],d=[],f=0;f<c.length;++f){var p=e.toGlobalCoord(c[f].coord);s?(h[0]=p,h[1]=a.y,d[0]=p,d[1]=a.y+a.height):(h[0]=a.x,h[1]=p,d[0]=a.x+a.width,d[1]=p);p=u++%o.length;l[p]=l[p]||[],l[p].push(new fy(Qn({shape:{x1:h[0],y1:h[1],x2:d[0],y2:d[1]},style:{lineWidth:r},silent:!0})))}for(f=0;f<l.length;++f)this.group.add(wy(l[f],{style:{stroke:o[f%o.length],lineDash:i.getLineDash(r),lineWidth:r},silent:!0}))}}}),Ey=Qy.extend({type:"singleAxis",layoutMode:"box",axis:null,coordinateSystem:null,getCoordSysModel:function(){return this}});g(Ey.prototype,mx),e0("single",Ey,function(t,e){return e.type||(e.data?"category":"value")},{left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:2,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:2}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}});function Ww(t,e){var n,i=[],r=t.seriesIndex;if(null==r||!(n=e.getSeriesByIndex(r)))return{point:[]};var o=n.getData();return null==(e=sn(o,t))||e<0||T(e)?{point:[]}:(r=o.getItemGraphicEl(e),t=n.coordinateSystem,n.getTooltipPosition?i=n.getTooltipPosition(e)||[]:t&&t.dataToPoint?i=t.dataToPoint(o.getValues(I(t.dimensions,function(t){return o.mapDimension(t)}),e,!0))||[]:r&&((e=r.getBoundingRect().clone()).applyTransform(r.transform),i=[e.x+e.width/2,e.y+e.height/2]),{point:i,el:r})}var Gw=P,Uw=N,Zw=ln(),Vw=(na({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),ln()),Xw=P,qw=ia({type:"axisPointer",render:function(t,e,n){var e=e.getComponent("tooltip"),i=t.get("triggerOn")||e&&e.get("triggerOn")||"mousemove|click";Vh("axisPointer",n,function(t,e,n){"none"!==i&&("leave"===t||0<=i.indexOf(t))&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){Jh(e.getZr(),"axisPointer"),qw.superApply(this._model,"remove",arguments)},dispose:function(t,e){Jh("axisPointer",e),qw.superApply(this._model,"dispose",arguments)}}),Jw=ln(),$w=C,Qw=v;pn(($h.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,n,i){var r=e.get("value"),o=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==r||this._lastStatus!==o){this._lastValue=r,this._lastStatus=o;var a=this._group,i=this._handle;if(!o||"hide"===o)return a&&a.hide(),void(i&&i.hide());a&&a.show(),i&&i.show();o={};this.makeElOption(o,r,t,e,n);i=o.graphicKey;i!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=i;i=this._moveAnimation=this.determineAnimation(t,e);a?(i=N(Qh,e,i),this.updatePointerEl(a,o,i,e),this.updateLabelEl(a,o,i,e)):(a=this._group=new tm,this.createPointerEl(a,o,t,e),this.createLabelEl(a,o,t,e),n.getZr().add(a)),ed(a,e,!0),this._renderHandle(r)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var n=e.get("animation"),i=t.axis,r="category"===i.type,e=e.get("snap");if(!e&&!r)return!1;if("auto"!==n&&null!=n)return!0===n;n=this.animationThreshold;if(r&&i.getBandWidth()>n)return!0;if(e){t=Qs(t).seriesDataCount,i=i.getExtent();return Math.abs(i[0]-i[1])/t>n}return!1},makeElOption:function(t,e,n,i,r){},createPointerEl:function(t,e,n,i){var r=e.pointer;r&&(e=Jw(t).pointerEl=new Dy[r.type]($w(e.pointer)),t.add(e))},createLabelEl:function(t,e,n,i){e.label&&(e=Jw(t).labelEl=new dy($w(e.label)),t.add(e),Kh(e,i))},updatePointerEl:function(t,e,n){t=Jw(t).pointerEl;t&&(t.setStyle(e.pointer.style),n(t,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,n,i){t=Jw(t).labelEl;t&&(t.setStyle(e.label.style),n(t,{shape:e.label.shape,position:e.label.position}),Kh(t,i))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,o=n.getModel("handle"),a=n.get("status");if(!o.get("show")||!a||"hide"===a)return r&&i.remove(r),void(this._handle=null);this._handle||(e=!0,r=this._handle=Ni(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){xg(t.event)},onmousedown:Qw(this._onHandleDragMove,this,0,0),drift:Qw(this._onHandleDragMove,this),ondragend:Qw(this._onHandleDragEnd,this)}),i.add(r)),ed(r,n,!1);r.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));n=o.get("size");T(n)||(n=[n,n]),r.attr("scale",[n[0]/2,n[1]/2]),ao(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){Qh(this._axisPointerModel,!e&&this._moveAnimation,this._handle,td(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var n=this._handle;n&&(this._dragging=!0,e=this.updateHandleTransform(td(n),[t,e],this._axisModel,this._axisPointerModel),this._payloadInfo=e,n.stopAnimation(),n.attr(td(e)),Jw(n).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){var t,e;this._handle&&(t=this._payloadInfo,e=this._axisModel,this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]}))},_onHandleDragEnd:function(t){var e;this._dragging=!1,this._handle&&(e=this._axisPointerModel.get("value"),this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,t=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),t&&e.remove(t),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}}).constructor=$h);var Ey=$h.extend({makeElOption:function(t,e,n,i,r){var o,a=n.axis,s=a.grid,l=i.get("type"),u=cd(s,a).getOtherAxis(a).getGlobalExtent(),c=a.toGlobalCoord(a.dataToCoord(e,!0));l&&"none"!==l&&(o=nd(i),(u=Kw[l](a,c,u,o)).style=o,t.graphicKey=u.type,t.pointer=u),ad(e,t,il(s.model,n),n,i,r)},getHandleTransform:function(t,e,n){var i=il(e.axis.grid.model,e,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:od(e.axis,t,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,i){var r=n.axis,o=r.grid,a=r.getGlobalExtent(!0),n=cd(o,r).getOtherAxis(r).getGlobalExtent(),o="x"===r.dim?0:1,r=t.position;r[o]+=e[o],r[o]=Math.min(a[1],r[o]),r[o]=Math.max(a[0],r[o]);n=(n[1]+n[0])/2,n=[n,n];n[o]=r[o];return{position:r,rotation:t.rotation,cursorPoint:n,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][o]}}}),Kw={line:function(t,e,n,i){t=sd([e,n[0]],[e,n[1]],hd(t));return Qn({shape:t,style:i}),{type:"Line",shape:t}},shadow:function(t,e,n,i){var r=Math.max(1,t.getBandWidth()),o=n[1]-n[0];return{type:"Rect",shape:ld([e-r/2,n[0]],[r,o],hd(t))}}};i_.registerAxisPointerClass("CartesianAxisPointer",Ey),Xo(function(t){var e;t&&(t.axisPointer&&0!==t.axisPointer.length||(t.axisPointer={}),(e=t.axisPointer.link)&&!T(e)&&(t.axisPointer.link=[e]))}),qo(Pg.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=Js(t,e)}),Jo({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(t,e,n){var i,r,o=t.currTrigger,a=[t.x,t.y],s=t,l=t.dispatchAction||v(n.dispatchAction,n),u=e.getComponent("axisPointer").coordSysAxesInfo;if(u){Zh(a)&&(a=Ww({seriesIndex:s.seriesIndex,dataIndex:s.dataIndex},e).point);var c=Zh(a),h=s.axesInfo,d=u.axesInfo,f="leave"===o||Zh(a),p={},g={},e={list:[],map:{}},m={showPointer:Uw(Wh,g),showTooltip:Uw(Gh,e)};Gw(u.coordSysMap,function(t,e){var r=c||t.containPoint(a);Gw(u.coordSysAxesInfo[e],function(t,e){var n=t.axis,i=function(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(h,t);f||!r||h&&!i||null!=(i=null==(i=i&&i.value)&&!c?n.pointToData(a):i)&&Hh(t,i,m,!1,p)})});var y={};return Gw(d,function(n,t){var i=n.linkGroup;i&&!g[t]&&Gw(i.axesInfo,function(t,e){e=g[e];t!==n&&e&&(e=e.value,i.mapper&&(e=n.axis.scale.parse(i.mapper(e,Uh(t),Uh(n)))),y[n.key]=e)})}),Gw(y,function(t,e){Hh(d[e],t,m,!0,p)}),i=g,s=d,r=p.axesInfo=[],Gw(s,function(t,e){var n=t.axisPointerModel.option,e=i[e];e?(t.useHandle||(n.status="show"),n.value=e.value,n.seriesDataIndices=(e.payloadBatch||[]).slice()):t.useHandle||(n.status="hide"),"show"===n.status&&r.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:n.value})}),o=e,s=t,e=l,!Zh(t=a)&&o.list.length?(l=((o.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{},e({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:s.tooltipOption,position:s.position,dataIndexInside:l.dataIndexInside,dataIndex:l.dataIndex,seriesIndex:l.seriesIndex,dataByCoordSys:o.list})):e({type:"hideTip"}),function(t,e){var n=e.getZr(),i=Zw(n).axisPointerLastHighlights||{},r=Zw(n).axisPointerLastHighlights={};Gw(t,function(t,e){t=t.axisPointerModel.option;"show"===t.status&&Gw(t.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;r[e]=t})});var o=[],a=[];P(i,function(t,e){r[e]||a.push(t)}),P(r,function(t,e){i[e]||o.push(t)}),a.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,batch:a}),o.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,batch:o})}(d,n),p}});var tM=["x","y"],eM=["width","height"],Ey=$h.extend({makeElOption:function(t,e,n,i,r){var o=n.axis,a=o.coordinateSystem,s=fd(a,1-dd(o)),l=a.dataToPoint(e)[0],u=i.get("type");u&&"none"!==u&&(a=nd(i),(s=nM[u](o,l,s,a)).style=a,t.graphicKey=s.type,t.pointer=s),ad(e,t,Fh(n),n,i,r)},getHandleTransform:function(t,e,n){var i=Fh(e,{labelInside:!1});return i.labelMargin=n.get("handle.margin"),{position:od(e.axis,t,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n,i){var r=n.axis,o=r.coordinateSystem,a=dd(r),n=fd(o,a),r=t.position;r[a]+=e[a],r[a]=Math.min(n[1],r[a]),r[a]=Math.max(n[0],r[a]);o=fd(o,1-a),o=(o[1]+o[0])/2,o=[o,o];return o[a]=r[a],{position:r,rotation:t.rotation,cursorPoint:o,tooltipOption:{verticalAlign:"middle"}}}}),nM={line:function(t,e,n,i){t=sd([e,n[0]],[e,n[1]],dd(t));return Qn({shape:t,style:i}),{type:"Line",shape:t}},shadow:function(t,e,n,i){var r=t.getBandWidth(),o=n[1]-n[0];return{type:"Rect",shape:ld([e-r/2,n[0]],[r,o],dd(t))}}};i_.registerAxisPointerClass("SingleAxisPointer",Ey),ia({type:"single"});var iM=Hv.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(t){iM.superApply(this,"init",arguments),this.legendDataProvider=function(){return this.getRawData()}},fixData:function(t){for(var e=t.length,n=I(Qc().key(function(t){return t[2]}).entries(t),function(t){return{name:t.key,dataList:t.values}}),i=n.length,r=-1,o=-1,a=0;a<i;++a){var s=n[a].dataList.length;r<s&&(r=s,o=a)}for(var l=0;l<i;++l)if(l!==o)for(var u=n[l].name,c=0;c<r;++c){for(var h=n[o].dataList[c][0],d=n[l].dataList.length,f=-1,p=0;p<d;++p)if(n[l].dataList[p][0]===h){f=p;break}-1===f&&(t[e]=[],t[e][0]=h,t[e][1]=0,t[e][2]=u,e++)}return t},getInitialData:function(t,e){for(var e=e.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0].get("type"),t=b(t.data,function(t){return void 0!==t[2]}),n=this.fixData(t||[]),i=[],r=this.nameMap=Y(),o=0,a=0;a<n.length;++a)i.push(n[a][2]),r.get(n[a][2])||(r.set(n[a][2],o),o++);e=X1(n,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:ca(e)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),e=new R1(e,this);return e.initData(n),e},getLayerSeries:function(){for(var n=this.getData(),t=n.count(),e=[],i=0;i<t;++i)e[i]=i;for(var r=I(Qc().key(function(t){return n.get("name",t)}).entries(e),function(t){return{name:t.key,indices:t.values}}),o=n.mapDimension("single"),a=0;a<r.length;++a)r[a].indices.sort(function(t,e){return n.get(o,t)-n.get(o,e)});return r},getAxisTooltipData:function(t,e,n){T(t)||(t=t?[t]:[]);for(var i,r=this.getData(),o=this.getLayerSeries(),a=[],s=o.length,l=0;l<s;++l){for(var u=Number.MAX_VALUE,c=-1,h=o[l].indices.length,d=0;d<h;++d){var f=r.get(t[0],o[l].indices[d]),p=Math.abs(f-e);p<=u&&(i=f,u=p,c=o[l].indices[d])}a.push(c)}return{dataIndices:a,nestestValue:i}},formatTooltip:function(t){var e=this.getData(),n=e.getName(t),t=e.get(e.mapDimension("value"),t);return Ki(n+" : "+(t=isNaN(t)||null==t?"-":t))},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}});oa({type:"themeRiver",init:function(){this._layers=[]},render:function(w,t,e){function n(t){return t.name}function i(t,e,n){var i,r,o,a=this._layers;if("remove"!==t){for(var s,l=[],u=[],c=I[e].indices,h=0;h<c.length;h++){var d=M.getItemLayout(c[h]),f=d.x,p=d.y0,d=d.y;l.push([f,p]),u.push([f,p+d]),s=M.getItemVisual(c[h],"color")}var g,m,y,v=M.getItemLayout(c[0]),x=M.getItemModel(c[h-1]),_=x.getModel("label"),b=_.get("margin");"add"===t?(g=C[e]=new tm,m=new Fx({shape:{points:l,stackedOnPoints:u,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),y=new U0({style:{x:v.x-b,y:v.y0+v.y/2}}),g.add(m),g.add(y),A.add(g),m.setClipPath((i=m.getBoundingRect(),r=w,o=function(){m.removeClipPath()},Ai(t=new dy({shape:{x:i.x-10,y:i.y-10,width:0,height:i.height+20}}),{shape:{width:i.width+20,height:i.height+20}},r,o),t))):(g=a[n],m=g.childAt(0),y=g.childAt(1),A.add(g),C[e]=g,Mi(m,{shape:{points:l,stackedOnPoints:u}},w),Mi(y,{style:{x:v.x-b,y:v.y0+v.y/2}},w));v=x.getModel("emphasis.itemStyle"),x=x.getModel("itemStyle");gi(y.style,_,{text:_.get("show")?w.getFormattedLabel(c[h-1],"normal")||M.getName(c[h-1]):null,textVerticalAlign:"middle"}),m.setStyle(S({fill:s},x.getItemStyle(["color"]))),di(m,v.getItemStyle())}else A.remove(a[e])}var M=w.getData(),A=this.group,I=w.getLayerSeries(),r=M.getLayout("layoutInfo"),o=r.rect,r=r.boundaryGap;A.attr("position",[0,o.y+r[0]]);var C={};new sa(this._layersSeries||[],I,n,n).add(v(i,this,"add")).update(v(i,this,"update")).remove(v(i,this,"remove")).execute(),this._layersSeries=I,this._layers=C},dispose:function(){}}),Qo(function(t,e){t.eachSeriesByType("themeRiver",function(t){var e=t.getData(),n=t.coordinateSystem,i={},r=n.getRect();i.rect=r;var o=t.get("boundaryGap"),n=n.getAxis();i.boundaryGap=o,"horizontal"===n.orient?(o[0]=zi(o[0],r.height),o[1]=zi(o[1],r.height),pd(e,t,r.height-o[0]-o[1])):(o[0]=zi(o[0],r.width),o[1]=zi(o[1],r.width),pd(e,t,r.width-o[0]-o[1])),e.setLayout("layoutInfo",i)})}),Ko(function(t){t.eachSeriesByType("themeRiver",function(n){var i=n.getData(),r=n.getRawData(),o=n.get("color"),a=Y();i.each(function(t){a.set(i.getRawIndex(t),t)}),r.each(function(t){var e=r.getName(t),e=o[(n.nameMap.get(e)-1)%o.length];r.setItemVisual(t,"color",e);t=a.get(t);null!=t&&i.setItemVisual(t,"color",e)})})}),qo(i0("themeRiver")),Hv.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(t,e){var n={name:t.name,children:t.data};!function e(t){var n=0;P(t.children,function(t){e(t),T(t=t.value)&&(t=t[0]),n+=t});var i=t.value;(i=null==(i=T(i)?i[0]:i)||isNaN(i)?n:i)<0&&(i=0),T(t.value)?t.value[0]=i:t.value=i}(n);var i=t.levels||[],t={};return t.levels=i,Kl.createTree(n,this,t).data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(t){var e=Hv.prototype.getDataParams.apply(this,arguments),t=this.getData().tree.getNodeByDataIndex(t);return e.treePathInfo=yu(t,this),e},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0,emphasis:{}},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1,emphasis:{},highlight:{opacity:1},downplay:{opacity:.9}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(t){t?this._viewRoot=t:t=this._viewRoot;var e=this.getRawData().tree.root;t&&(t===e||e.contains(t))||(this._viewRoot=e)}});var rM="none",oM="ancestor",aM="self",Ey=gd.prototype;Ey.updateData=function(t,e,n,i,r){(this.node=e).piece=this,i=i||this._seriesModel,r=r||this._ecModel;var o=this.childAt(0);o.dataIndex=e.dataIndex;var a=e.getModel(),s=e.getLayout();s||console.log(e.getLayout());var l=S({},s);l.label=null;var u=md(e,0,r),c=a.getModel("itemStyle").getItemStyle(),c=D({lineJoin:"bevel",fill:(c="normal"===n?c:g(a.getModel(n+".itemStyle").getItemStyle(),c)).fill||u},c);t?(o.setShape(l),o.shape.r=s.r0,Mi(o,{shape:{r:s.r}},i,e.dataIndex),o.useStyle(c)):"object"==typeof c.fill&&c.fill.type||"object"==typeof o.style.fill&&o.style.fill.type?(Mi(o,{shape:l},i),o.useStyle(c)):Mi(o,{shape:l,style:c},i),this._updateLabel(i,u,n);a=a.getShallow("cursor");a&&o.attr("cursor",a),t&&(t=i.getShallow("highlightPolicy"),this._initEvents(o,e,i,t)),this._seriesModel=i||this._seriesModel,this._ecModel=r||this._ecModel},Ey.onEmphasis=function(r){var o=this;this.node.hostTree.root.eachNode(function(t){var e,n,i;t.piece&&(o.node===t?t.piece.updateData(!1,t,"emphasis"):(e=t,n=o.node,(i=r)!==rM&&(i===aM?e===n:i===oM?e===n||e.isAncestorOf(n):e===n||e.isDescendantOf(n))?t.piece.childAt(0).trigger("highlight"):r!==rM&&t.piece.childAt(0).trigger("downplay")))})},Ey.onNormal=function(){this.node.hostTree.root.eachNode(function(t){t.piece&&t.piece.updateData(!1,t,"normal")})},Ey.onHighlight=function(){this.updateData(!1,this.node,"highlight")},Ey.onDownplay=function(){this.updateData(!1,this.node,"downplay")},Ey._updateLabel=function(t,e,n){function i(t){var e=a.get(t);return null==e?o.get(t):e}var r=this.node.getModel(),o=r.getModel("label"),a="normal"===n||"emphasis"===n?o:r.getModel(n+".label"),s=r.getModel("emphasis.label"),l=O(t.getFormattedLabel(this.node.dataIndex,"normal",null,null,"label"),this.node.name);!1===i("show")&&(l="");var u=this.node.getLayout(),c=(c=null==(c=a.get("minAngle"))?o.get("minAngle"):c)/180*Math.PI,h=u.endAngle-u.startAngle;null!=c&&Math.abs(h)<c&&(l="");n=this.childAt(1);pi(n.style,n.hoverStyle||{},o,s,{defaultText:a.getShallow("show")?l:null,autoColor:e,useInsideStyle:!0});var d,r=(u.startAngle+u.endAngle)/2,t=Math.cos(r),h=Math.sin(r),c=i("position"),s=i("distance")||0,e=i("align");"outside"===c?(d=u.r+s,e=r>Math.PI/2?"right":"left"):e&&"center"!==e?"left"===e?(d=u.r0+s,r>Math.PI/2&&(e="right")):"right"===e&&(d=u.r-s,r>Math.PI/2&&(e="left")):(d=(u.r+u.r0)/2,e="center"),n.attr("style",{text:l,textAlign:e,textVerticalAlign:i("verticalAlign")||"middle",opacity:i("opacity")});t=d*t+u.cx,u=d*h+u.cy;n.attr("position",[t,u]);t=i("rotate"),u=0;"radial"===t?(u=-r)<-Math.PI/2&&(u+=Math.PI):"tangential"===t?(u=Math.PI/2-r)>Math.PI/2?u-=Math.PI:u<-Math.PI/2&&(u+=Math.PI):"number"==typeof t&&(u=t*Math.PI/180),n.attr("rotation",u)},Ey._initEvents=function(t,e,n,i){t.off("mouseover").off("mouseout").off("emphasis").off("normal");function r(){a.onEmphasis(i)}function o(){a.onNormal()}var a=this;n.isAnimationEnabled()&&t.on("mouseover",r).on("mouseout",o).on("emphasis",r).on("normal",o).on("downplay",function(){a.onDownplay()}).on("highlight",function(){a.onHighlight()})},o(gd,tm),to.extend({type:"sunburst",init:function(){},render:function(i,r,t,e){function n(t,e){var n;(t=!c&&t&&!t.getValue()?null:t)!==s&&e!==s&&(e&&e.piece?t?(e.piece.updateData(!1,t,"normal",i,r),a.setItemGraphicEl(t.dataIndex,e.piece)):(n=e)&&n.piece&&(u.remove(n.piece),n.piece=null):t&&(n=new gd(t,i,r),u.add(n),a.setItemGraphicEl(t.dataIndex,n)))}var o=this;this.seriesModel=i,this.api=t,this.ecModel=r;var a=i.getData(),s=a.tree.root,l=i.getViewRoot(),u=this.group,c=i.get("renderLabelForZeroData"),h=[];l.eachNode(function(t){h.push(t)});var d,f,p,t=this._oldChildren||[];function g(t){return t.getId()}function m(t,e){n(null==t?null:f[t],null==e?null:p[e])}p=t,0===(f=h).length&&0===p.length||new sa(p,f,g,g).add(m).update(m).remove(N(m,null)).execute(),t=s,0<(d=l).depth?(o.virtualPiece?o.virtualPiece.updateData(!1,t,"normal",i,r):(o.virtualPiece=new gd(t,i,r),u.add(o.virtualPiece)),d.piece._onclickEvent&&d.piece.off("click",d.piece._onclickEvent),d.piece._onclickEvent=t=function(t){o._rootToNode(d.parentNode)},o.virtualPiece.on("click",t)):o.virtualPiece&&(u.remove(o.virtualPiece),o.virtualPiece=null),e&&e.highlight&&e.highlight.piece?(t=i.getShallow("highlightPolicy"),e.highlight.piece.onEmphasis(t)):e&&e.unhighlight&&((e=!(e=this.virtualPiece)&&s.children.length?s.children[0].piece:e)&&e.onNormal()),this._initEvents(),this._oldChildren=h},dispose:function(){},_initEvents:function(){function t(n){var i=!1;r.seriesModel.getViewRoot().eachNode(function(t){var e;!i&&t.piece&&t.piece.childAt(0)===n.target&&("rootToNode"===(e=t.getModel().get("nodeClick"))?r._rootToNode(t):"link"!==e||(t=(e=t.getModel()).get("link"))&&(e=e.get("target",!0)||"_blank",window.open(t,e)),i=!0)})}var r=this;this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",t),this.group._onclickEvent=t},_rootToNode:function(t){t!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:"sunburstRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:t})},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){e=t[0]-n.cx,t=t[1]-n.cy,t=Math.sqrt(e*e+t*t);return t<=n.r&&t>=n.r0}}});var sM="sunburstRootToNode";Jo({type:sM,update:"updateView"},function(r,t){t.eachComponent({mainType:"series",subType:"sunburst",query:r},function(t,e){var n,i=pu(r,[sM],t);i&&((n=t.getViewRoot())&&(r.direction=mu(n,i.node)?"rollUp":"drillDown"),t.resetViewRoot(i.node))})});var lM="sunburstHighlight";Jo({type:lM,update:"updateView"},function(n,t){t.eachComponent({mainType:"series",subType:"sunburst",query:n},function(t,e){t=pu(n,[lM],t);t&&(n.highlight=t.node)})}),Jo({type:"sunburstUnhighlight",update:"updateView"},function(n,t){t.eachComponent({mainType:"series",subType:"sunburst",query:n},function(t,e){n.unhighlight=!0})});var uM=Math.PI/180;Ko(N(Tm,"sunburst")),Qo(N(function(t,e,a,n){e.eachSeriesByType(t,function(t){var e=t.get("center"),n=t.get("radius");T(n)||(n=[0,n]),T(e)||(e=[e,e]);var i=a.getWidth(),r=a.getHeight(),l=Math.min(i,r),u=zi(e[0],i),c=zi(e[1],r),h=zi(n[0],l/2),i=zi(n[1],l/2),e=-t.get("startAngle")*uM,d=t.get("minAngle")*uM,f=t.getData().tree.root,r=t.getViewRoot(),p=r.depth,n=t.get("sort");null!=n&&yd(r,n);var o=0;P(r.children,function(t){isNaN(t.getValue())||o++});function g(t,e){if(t){var n,i,r,o,a,s=e;return t!==f&&(r=t.getValue(),s=e+w*(n=(n=0===m&&b?y:r*y)<d?d:n),o=t.depth-p-(v?-1:1),i=h+x*o,r=h+x*(1+o),null!=(o=t.getModel()).get("r0")&&(i=zi(o.get("r0"),l/2)),null!=o.get("r")&&(r=zi(o.get("r"),l/2)),t.setLayout({angle:n,startAngle:e,endAngle:s,clockwise:_,cx:u,cy:c,r0:i,r:r})),t.children&&t.children.length&&(a=0,P(t.children,function(t){a+=g(t,e+a)})),s-e}}var m=r.getValue(),y=Math.PI/(m||o)*2,v=0<r.depth,n=r.height-(v?-1:1),x=(i-h)/(n||1),_=t.get("clockwise"),b=t.get("stillShowZeroSum"),w=_?1:-1;v&&(t=2*Math.PI,f.setLayout({angle:t,startAngle:e,endAngle:e+t,clockwise:_,cx:u,cy:c,r0:h,r:h+x})),g(r,e)})},"sunburst")),qo(N(i0,"sunburst"));var cM=["itemStyle"],hM=["emphasis","itemStyle"],dM=["label"],fM=["emphasis","label"],pM="e\0\0",gM={cartesian2d:function(e){var t=e.grid.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:v(vd,e)}}},geo:function(e){var t=e.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:e.getZoom()},api:{coord:function(t){return e.dataToPoint(t)},size:v(xd,e)}}},singleAxis:function(e){var t=e.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(t){return e.dataToPoint(t)},size:v(_d,e)}}},polar:function(i){var r=i.getRadiusAxis(),o=i.getAngleAxis(),t=r.getExtent();return t[0]>t[1]&&t.reverse(),{coordSys:{type:"polar",cx:i.cx,cy:i.cy,r:t[1],r0:t[0]},api:{coord:v(function(t){var e=r.dataToRadius(t[0]),n=o.dataToAngle(t[1]),t=i.coordToPoint([e,n]);return t.push(e,n*Math.PI/180),t}),size:v(bd,i)}}},calendar:function(n){var t=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(t,e){return n.dataToPoint(t,e)}}}}};Hv.extend({type:"series.custom",dependencies:["grid","polar","geo","singleAxis","calendar"],defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,useTransform:!0},getInitialData:function(t,e){return Aa(this.getSource(),this)},getDataParams:function(t,e,n){var i=Hv.prototype.getDataParams.apply(this,arguments);return n&&(i.info=n.info),i}}),to.extend({type:"custom",_data:null,render:function(n,t,e,i){var r=this._data,o=n.getData(),a=this.group,s=Md(n,o,t,e);o.diff(r).add(function(t){Ad(null,t,s(t,i),n,a,o)}).update(function(t,e){Ad(r.getItemGraphicEl(e),t,s(t,i),n,a,o)}).remove(function(t){t=r.getItemGraphicEl(t);t&&a.remove(t)}).execute(),this._data=o},incrementalPrepareRender:function(t,e,n){this.group.removeAll(),this._data=null},incrementalRender:function(t,e,n,i,r){for(var o=e.getData(),a=Md(e,o,n,i),s=t.start;s<t.end;s++)Ad(null,s,a(s,r),e,this.group,o).traverse(function(t){t.isGroup||(t.incremental=!0,t.useHoverLayer=!0)})},dispose:A,filterForExposedEvent:function(t,e,n,i){var r=e.element;if(null==r||n.name===r)return!0;for(;(n=n.parent)&&n!==this.group;)if(n.name===r)return!0;return!1}}),Xo(function(t){var e=t.graphic;T(e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])});var mM=na({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(t){var e=this.option.elements;this.option.elements=null,mM.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(t,e){var n=this.option,t=(e?n:t).elements,l=n.elements=e?[]:n.elements,n=[];this._flatten(t,n);n=nn(l,n);rn(n);var u=this._elOptionsToUpdate=[];P(n,function(t,e){var n,i,r,o,a,s=t.option;s&&(u.push(s),o=s,a=(r=t).exist,o.id=r.keyInfo.id,!o.type&&a&&(o.type=a.type),null==o.parentId&&((r=o.parentOption)?o.parentId=r.id:a&&(o.parentId=a.parentId)),o.parentOption=null,n=l,i=e,r=S({},t=s),a=n[i],"merge"===(o=t.$action||"merge")?a?(g(a,r,!0),ur(a,r,{ignoreSize:!0}),hr(t,a)):n[i]=r:"replace"===o?n[i]=r:"remove"===o&&a&&(n[i]=null),e=l[e],s=s,e&&(e.hv=s.hv=[Ed(s,["left","right"]),Ed(s,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=s.width=0),null==e.height&&(e.height=s.height=0))))},this);for(var i=l.length-1;0<=i;i--)null==l[i]?l.splice(i,1):delete l[i].$action},_flatten:function(t,n,i){P(t,function(t){var e;t&&(i&&(t.parentOption=i),n.push(t),e=t.children,"group"===t.type&&e&&this._flatten(e,n,t),delete t.children)},this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});ia({type:"graphic",init:function(t,e){this._elMap=Y(),this._lastGraphicModel},render:function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},_updateElements:function(s){var l,u,t=s.useElOptionsToUpdate();t&&(l=this._elMap,u=this.group,P(t,function(t){var e=t.$action,n=t.id,i=l.get(n),r=t.parentId,o=null!=r?l.get(r):u,r=t.style;"text"===t.type&&r&&(t.hv&&t.hv[1]&&(r.textVerticalAlign=r.textBaseline=null),!r.hasOwnProperty("textFill")&&r.fill&&(r.textFill=r.fill),!r.hasOwnProperty("textStroke")&&r.stroke&&(r.textStroke=r.stroke));var a,r=(a=S({},a=t),P(["id","parentId","$action","hv","bounding"].concat(Xy),function(t){delete a[t]}),a);e&&"merge"!==e?"replace"===e?(kd(i,l),Ld(n,o,r,l)):"remove"===e&&kd(i,l):i?i.attr(r):Ld(n,o,r,l);r=l.get(n);r&&(r.__ecGraphicWidth=t.width,r.__ecGraphicHeight=t.height,n=s,r=(t=r).eventData,(r=!(t.silent||t.ignore||r)?t.eventData={componentType:"graphic",componentIndex:n.componentIndex,name:t.name}:r)&&(r.info=t.info))}))},_relocate:function(t,e){for(var n=t.option.elements,i=this.group,r=this._elMap,o=n.length-1;0<=o;o--){var a=n[o],s=r.get(a.id);s&&lr(s,a,(s=s.parent)===i?{width:e.getWidth(),height:e.getHeight()}:{width:s.__ecGraphicWidth||0,height:s.__ecGraphicHeight||0},null,{hv:a.hv,boundingMode:a.bounding})}},_clear:function(){var e=this._elMap;e.each(function(t){kd(t,e)}),this._elMap=Y()},dispose:function(){this._clear()}});var yM=na({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{}},mergeOption:function(t){yM.superCall(this,"mergeOption",t)},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}e||this.select(t[0].get("name"))}},_updateData:function(i){var r=[],o=[];i.eachRawSeries(function(t){var e,n=t.name;o.push(n),t.legendDataProvider?(n=(n=t.legendDataProvider()).mapArray(n.getName),i.isSeriesFiltered(t)||(o=o.concat(n)),n.length?r=r.concat(n):e=!0):e=!0,e&&on(t)&&r.push(t.name)}),this._availableNames=o;var t=I(this.get("data")||r,function(t){return new Li(t="string"==typeof t||"number"==typeof t?{name:t}:t,this,this.ecModel)},this);this._data=t},getData:function(){return this._data},select:function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&P(this._data,function(t){e[t.get("name")]=!1}),e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&0<=p(this._availableNames,t)},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",textStyle:{color:"#333"},selectedMode:!0,tooltip:{show:!1}}});Jo("legendToggleSelect","legendselectchanged",N(Od,"toggleSelected")),Jo("legendSelect","legendselected",N(Od,"select")),Jo("legendUnSelect","legendunselected",N(Od,"unSelect"));var vM=N,xM=P,_M=tm,Tm=ia({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new _M),this._backgroundEl},getContentGroup:function(){return this._contentGroup},render:function(t,e,n){var i,r,o;this.resetInner(),t.get("show",!0)&&((i=t.get("align"))&&"auto"!==i||(i="right"===t.get("left")&&"vertical"===t.get("orient")?"right":"left"),this.renderInner(i,t,e,n),n=sr(r=t.getBoxLayoutParams(),o={width:n.getWidth(),height:n.getHeight()},e=t.get("padding")),e=sr(D({width:(n=this.layoutInner(t,i,n)).width,height:n.height},r),o,e),this.group.attr("position",[e.x-n.x,e.y-n.y]),this.group.add(this._backgroundEl=Pd(n,t)))},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl)},renderInner:function(s,l,u,c){var h=this.getContentGroup(),d=Y(),f=l.get("selectedMode"),p=[];u.eachRawSeries(function(t){t.get("legendHoverLink")||p.push(t.id)}),xM(l.getData(),function(n,i){var t,e,r,o,a=n.get("name");this.newlineDisabled||""!==a&&"\n"!==a?(t=u.getSeriesByName(a)[0],d.get(a)||(t?("function"==typeof(e=(o=t.getData()).getVisual("color"))&&(e=e(t.getDataParams(0))),r=o.getVisual("legendSymbol")||"roundRect",o=o.getVisual("symbol"),this._createItem(a,i,n,l,r,o,s,e,f).on("click",vM(zd,a,c)).on("mouseover",vM(jd,t.name,null,c,p)).on("mouseout",vM(Yd,t.name,null,c,p)),d.set(a,!0)):u.eachRawSeries(function(t){var e;!d.get(a)&&t.legendDataProvider&&((t=(e=t.legendDataProvider()).indexOfName(a))<0||(t=e.getItemVisual(t,"color"),this._createItem(a,i,n,l,"roundRect",null,s,t,f).on("click",vM(zd,a,c)).on("mouseover",vM(jd,null,a,c,p)).on("mouseout",vM(Yd,null,a,c,p)),d.set(a,!0)))},this))):h.add(new _M({newline:!0}))},this)},_createItem:function(t,e,n,i,r,o,a,s,l){var u=i.get("itemWidth"),c=i.get("itemHeight"),h=i.get("inactiveColor"),d=i.get("symbolKeepAspect"),f=i.isSelected(t),p=new _M,g=n.getModel("textStyle"),m=n.get("icon"),y=n.getModel("tooltip"),n=y.parentModel;p.add(Ja(r=m||r,0,0,u,c,f?s:h,null==d||d)),m||!o||o===r&&"none"!==o||p.add(Ja(o="none"===o?"circle":o,(u-(o=.8*c))/2,(c-o)/2,o,o,f?s:h,null==d||d));s="left"===a?u+5:-5,d=a,u=i.get("formatter"),a=t;"string"==typeof u&&u?a=u.replace("{name}",null!=t?t:""):"function"==typeof u&&(a=u(t)),p.add(new U0({style:gi({},g,{text:a,x:s,y:c/2,textFill:f?g.getTextColor():h,textAlign:d,textVerticalAlign:"middle"})}));y=new dy({shape:p.getBoundingRect(),invisible:!0,tooltip:y.get("show")?S({content:t,formatter:n.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:t,$vars:["name"]}},y.option):null});return p.add(y),p.eachChild(function(t){t.silent=!0}),y.silent=!l,this.getContentGroup().add(p),di(p),p.__legendDataIndex=e,p},layoutInner:function(t,e,n){var i=this.getContentGroup();Jy(t.get("orient"),i,t.get("itemGap"),n.width,n.height);n=i.getBoundingRect();return i.attr("position",[-n.x,-n.y]),this.group.getBoundingRect()}});qo(function(t){var n=t.findComponents({mainType:"legend"});n&&n.length&&t.filterSeries(function(t){for(var e=0;e<n.length;e++)if(!n[e].isSelected(t.name))return!1;return!0})}),Qy.registerSubTypeDefaulter("legend",function(){return"plain"});var bM=yM.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,n,i){var r=cr(t);bM.superCall(this,"init",t,e,n,i),Rd(this,t,r)},mergeOption:function(t,e){bM.superCall(this,"mergeOption",t,e),Rd(this,this.option,t)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}}}),wM=tm,MM=["width","height"],AM=["x","y"],IM=Tm.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){IM.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new wM),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new wM),this._showController},resetInner:function(){IM.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,i,e,r){function n(t,e){var n=t+"DataIndex",n=Ni(i.get("pageIcons",!0)[i.getOrient().name][e],{onclick:v(o._pageGo,o,n,i,r)},{x:-s[0]/2,y:-s[1]/2,width:s[0],height:s[1]});n.name=t,a.add(n)}var o=this;IM.superCall(this,"renderInner",t,i,e,r);var a=this._controllerGroup,s=i.get("pageIconSize",!0);T(s)||(s=[s,s]),n("pagePrev",0);e=i.getModel("pageTextStyle");a.add(new U0({name:"pageText",style:{textFill:e.getTextColor(),font:e.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),n("pageNext",1)},layoutInner:function(t,e,n){var i=this.getContentGroup(),r=this._containerGroup,o=this._controllerGroup,a=t.getOrient().index,s=MM[a],l=MM[1-a],u=AM[1-a];Jy(t.get("orient"),i,t.get("itemGap"),a?n.width:null,a?null:n.height),Jy("horizontal",o,t.get("pageButtonItemGap",!0));var c=i.getBoundingRect(),h=o.getBoundingRect(),d=this._showController=c[s]>n[s],f=[-c.x,-c.y];f[a]=i.position[a];var p=[0,0],g=[-h.x,-h.y],m=z(t.get("pageButtonGap",!0),t.get("itemGap",!0));d&&("end"===t.get("pageButtonPosition",!0)?g[a]+=n[s]-h[s]:p[a]+=h[s]+m),g[1-a]+=c[l]/2-h[l]/2,i.attr("position",f),r.attr("position",p),o.attr("position",g);p=this.group.getBoundingRect();(p={x:0,y:0})[s]=(d?n:c)[s],p[l]=Math.max(c[l],h[l]),p[u]=Math.min(0,h[u]+g[1-a]),r.__rectSize=n[s],d?((a={x:0,y:0})[s]=Math.max(n[s]-h[s]-m,0),a[l]=p[l],r.setClipPath(new dy({shape:a})),r.__rectSize=a[s]):o.eachChild(function(t){t.attr({invisible:!0,silent:!0})});o=this._getPageInfo(t);return null!=o.pageIndex&&Mi(i,{position:o.contentPosition},!!d&&t),this._updatePageInfoView(t,o),p},_pageGo:function(t,e,n){t=this._getPageInfo(e)[t];null!=t&&n.dispatchAction({type:"legendScroll",scrollDataIndex:t,legendId:e.id})},_updatePageInfoView:function(n,i){var r=this._controllerGroup;P(["pagePrev","pageNext"],function(t){var e=null!=i[t+"DataIndex"],t=r.childOfName(t);t&&(t.setStyle("fill",e?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),t.cursor=e?"pointer":"default")});var t=r.childOfName("pageText"),e=n.get("pageFormatter"),o=i.pageIndex,a=null!=o?o+1:0,o=i.pageCount;t&&e&&t.setStyle("text",L(e)?e.replace("{current}",a).replace("{total}",o):e({current:a,total:o}))},_getPageInfo:function(t){function i(t){var e=t.getBoundingRect().clone();return e[d]+=t.position[u],e}var e,r,n,o=t.get("scrollDataIndex",!0),a=this.getContentGroup(),s=a.getBoundingRect(),l=this._containerGroup.__rectSize,u=t.getOrient().index,c=MM[u],h=MM[1-u],d=AM[u],f=a.position.slice();this._showController?a.eachChild(function(t){t.__legendDataIndex===o&&(n=t)}):n=a.childAt(0);var p=l?Math.ceil(s[c]/l):0;if(n){var g=n.getBoundingRect(),t=n.position[u]+g[d];f[u]=-t-s[d],g=Math.floor(p*(t+g[d]+l/2)/s[c]);var g=s[c]&&p?Math.max(0,Math.min(p-1,g)):-1,m={x:0,y:0};m[c]=l,m[h]=s[h],m[d]=-f[u]-s[d];var y,v=a.children();if(a.eachChild(function(t,e){var n=i(t);n.intersect(m)&&(null==y&&(y=e),r=t.__legendDataIndex),e===v.length-1&&n[d]+n[c]<=m[d]+m[c]&&(r=null)}),null!=y){a=i(v[y]);if(m[d]=a[d]+a[c]-m[c],y<=0&&a[d]>=m[d])e=null;else{for(;0<y&&i(v[y-1]).intersect(m);)y--;e=v[y].__legendDataIndex}}}return{contentPosition:f,pageIndex:g,pageCount:p,pagePrevDataIndex:e,pageNextDataIndex:r}}});Jo("legendScroll","legendscroll",function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(n)})}),na({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var CM=P,SM=Qi,TM=["","-webkit-","-moz-","-o-"];Fd.prototype={constructor:Fd,_enterable:!0,update:function(){var t=this._container,e=t.currentStyle||document.defaultView.getComputedStyle(t),t=t.style;"absolute"!==t.position&&"absolute"!==e.position&&(t.position="relative")},show:function(t){clearTimeout(this._hideTimeout);var e=this.el;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+Bd(t)+";left:"+this._x+"px;top:"+this._y+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n=this._zr;n&&n.painter&&(i=n.painter.getViewportRootOffset())&&(t+=i.offsetLeft,e+=i.offsetTop);var i=this.el.style;i.left=t+"px",i.top=e+"px",this._x=t,this._y=e},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(v(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var t,e=this.el.clientWidth,n=this.el.clientHeight;return document.defaultView&&document.defaultView.getComputedStyle&&((t=document.defaultView.getComputedStyle(this.el))&&(e+=parseInt(t.paddingLeft,10)+parseInt(t.paddingRight,10)+parseInt(t.borderLeftWidth,10)+parseInt(t.borderRightWidth,10),n+=parseInt(t.paddingTop,10)+parseInt(t.paddingBottom,10)+parseInt(t.borderTopWidth,10)+parseInt(t.borderBottomWidth,10))),{width:e,height:n}}},Hd.prototype={constructor:Hd,_enterable:!0,update:function(){},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,n){this.el&&this._zr.remove(this.el);for(var i={},r=t,o=r.indexOf("{marker");0<=o;){var a=r.indexOf("|}"),s=r.substr(o+"{marker".length,a-o-"{marker".length);-1<s.indexOf("sub")?i["marker"+s]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[s],textOffset:[3,0]}:i["marker"+s]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[s]},o=(r=r.substr(a+1)).indexOf("{marker")}this.el=new U0({style:{rich:i,text:t,textLineHeight:20,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding")},z:n.get("z")}),this._zr.add(this.el);var l=this;this.el.on("mouseover",function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0}),this.el.on("mouseout",function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1})},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){this.el&&this.el.attr("position",[t,e])},hide:function(){this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(v(this.hide,this),t)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){return this.getSize()}};var DM=v,NM=P,LM=zi,kM=new dy({shape:{x:-1,y:-1,width:2,height:2}});ia({type:"tooltip",init:function(t,e){var n;Jp.node||(t=t.getComponent("tooltip").get("renderMode"),this._renderMode=dn(t),"html"===this._renderMode?(n=new Fd(e.getDom(),e),this._newLine="<br/>"):(n=new Hd(e),this._newLine="\n"),this._tooltipContent=n)},render:function(t,e,n){Jp.node||(this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent"),(n=this._tooltipContent).update(),n.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow())},_initGlobalListener:function(){var i=this._tooltipModel.get("triggerOn");Vh("itemTooltip",this._api,DM(function(t,e,n){"none"!==i&&(0<=i.indexOf(t)?this._tryShow(e,n):"leave"===t&&this._hide(n))},this))},_keepShow:function(){var t,e=this._tooltipModel,n=this._ecModel,i=this._api;null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")&&(t=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){t.manuallyShowTip(e,n,i,{x:t._lastX,y:t._lastY})}))},manuallyShowTip:function(t,e,n,i){var r,o,a;i.from===this.uid||Jp.node||(r=Gd(i,n),this._ticket="",a=i.dataByCoordSys,i.tooltip&&null!=i.x&&null!=i.y?((o=kM).position=[i.x,i.y],o.update(),o.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:o},r)):a?this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,event:{},dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},r):null!=i.seriesIndex?this._manuallyAxisShowTip(t,e,n,i)||(t=(a=Ww(i,e)).point[0],e=a.point[1],null!=t&&null!=e&&this._tryShow({offsetX:t,offsetY:e,position:i.position,target:a.el,event:{}},r)):null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target,event:{}},r)))},manuallyHideTip:function(t,e,n,i){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(Gd(i,n))},_manuallyAxisShowTip:function(t,e,n,i){var r=i.seriesIndex,o=i.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){e=e.getSeriesByIndex(r);if(e&&"axis"===(t=Wd([e.getData().getItemModel(o),e,(e.coordinateSystem||{}).model,t])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0}},_tryShow:function(t,e){var n,i=t.target;this._tooltipModel&&(this._lastX=t.offsetX,this._lastY=t.offsetY,(n=t.dataByCoordSys)&&n.length?this._showAxisTooltip(n,t):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,i,e)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,i,e)):(this._lastDataByCoordSys=null,this._hide(e)))},_showOrMove:function(t,e){t=t.get("showDelay");e=v(e,this),clearTimeout(this._showTimout),0<t?this._showTimout=setTimeout(e,t):e()},_showAxisTooltip:function(t,e){var u=this._ecModel,n=this._tooltipModel,i=[e.offsetX,e.offsetY],c=[],h=[],r=Wd([e.tooltipOption,n]),d=this._renderMode,f=this._newLine,p={};NM(t,function(t){NM(t.dataByAxis,function(r){var o,t,a=u.getComponent(r.axisDim+"Axis",r.axisIndex),s=r.value,l=[];a&&null!=s&&(o=rd(s,a.axis,u,r.seriesDataIndices,r.valueLabelOpt),P(r.seriesDataIndices,function(t){var e,n=u.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,t=n&&n.getDataParams(i);t.axisDim=r.axisDim,t.axisIndex=r.axisIndex,t.axisType=r.axisType,t.axisId=r.axisId,t.axisValue=Va(a.axis,s),t.axisValueLabel=o,t&&(h.push(t),E(n=n.formatTooltip(i,!0,null,d))?(e=n.html,i=n.markers,g(p,i)):e=n,l.push(e))}),t=o,"html"!==d?c.push(l.join(f)):c.push((t?Ki(t)+f:"")+l.join(f)))})},this),c.reverse();var c=c.join(this._newLine+this._newLine),o=e.position;this._showOrMove(r,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(r,o,i[0],i[1],this._tooltipContent,h):this._showTooltipContent(r,c,h,Math.random(),i[0],i[1],o,void 0,p)})},_showSeriesItemTooltip:function(t,e,n){var i,r,o,a,s=this._ecModel,l=e.seriesIndex,u=s.getSeriesByIndex(l),c=e.dataModel||u,h=e.dataIndex,s=e.dataType,e=c.getData(),d=Wd([e.getItemModel(h),c,u&&(u.coordinateSystem||{}).model,this._tooltipModel]),u=d.get("trigger");null!=u&&"item"!==u||(r=c.getDataParams(h,s),s=c.formatTooltip(h,!1,s,this._renderMode),o=E(s)?(i=s.html,s.markers):(i=s,null),a="item_"+c.name+"_"+h,this._showOrMove(d,function(){this._showTooltipContent(d,i,r,a,t.offsetX,t.offsetY,t.position,t.target,o)}),n({type:"showTip",dataIndexInside:h,dataIndex:e.getRawIndex(h),seriesIndex:l,from:this.uid}))},_showComponentItemTooltip:function(t,e,n){var i=e.tooltip,r=new Li(i="string"==typeof i?{content:i,formatter:i}:i,this._tooltipModel,this._ecModel),o=r.get("content"),a=Math.random();this._showOrMove(r,function(){this._showTooltipContent(r,o,r.get("formatterParams")||{},a,t.offsetX,t.offsetY,t.position,e)}),n({type:"showTip",from:this.uid})},_showTooltipContent:function(n,t,i,e,r,o,a,s,l){var u,c,h;this._ticket="",n.get("showContent")&&n.get("show")&&(u=this._tooltipContent,c=n.get("formatter"),a=a||n.get("position"),h=t,c&&"string"==typeof c?h=tr(c,i,!0):"function"==typeof c&&(t=DM(function(t,e){t===this._ticket&&(u.setContent(e,l,n),this._updatePosition(n,a,r,o,u,i,s))},this),this._ticket=e,h=c(i,e,t)),u.setContent(h,l,n),u.show(n),this._updatePosition(n,a,r,o,u,i,s))},_updatePosition:function(t,e,n,i,r,o,a){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u,c,h,d,f,p=r.getSize(),g=t.get("align"),m=t.get("verticalAlign"),y=a&&a.getBoundingRect().clone();a&&y.applyTransform(a.transform),T(e="function"==typeof e?e([n,i],o,r.el,y,{viewSize:[s,l],contentSize:p.slice()}):e)?(n=LM(e[0],s),i=LM(e[1],l)):E(e)?(e.width=p[0],e.height=p[1],n=(d=sr(e,{width:s,height:l})).x,i=d.y,m=g=null):i=(n="string"==typeof e&&a?(f=function(t,e,n){var i=n[0],r=n[1],o=0,a=0,s=e.width,l=e.height;switch(t){case"inside":o=e.x+s/2-i/2,a=e.y+l/2-r/2;break;case"top":o=e.x+s/2-i/2,a=e.y-r-5;break;case"bottom":o=e.x+s/2-i/2,a=e.y+l+5;break;case"left":o=e.x-i-5,a=e.y+l/2-r/2;break;case"right":o=e.x+s+5,a=e.y+l/2-r/2}return[o,a]}(e,y,p))[0]:(u=n,c=i,h=s,o=l,d=g?null:20,a=m?null:20,e=(y=(e=r).getOuterSize()).width,y=y.height,null!=d&&(h<u+e+d?u-=e+d:u+=d),null!=a&&(o<c+y+a?c-=y+a:c+=a),(f=[u,c])[0]),f[1]),g&&(n-=Ud(g)?p[0]/2:"right"===g?p[0]:0),m&&(i-=Ud(m)?p[1]/2:"bottom"===m?p[1]:0),t.get("confine")&&(g=n,m=i,p=s,t=l,s=(l=(s=r).getOuterSize()).width,l=l.height,g=Math.min(g+s,p)-s,m=Math.min(m+l,t)-l,n=(f=[g=Math.max(g,0),m=Math.max(m,0)])[0],i=f[1]),r.moveTo(n,i)},_updateContentNotChangedOnAxis:function(n){var t=this._lastDataByCoordSys,o=!!t&&t.length===n.length;return o&&NM(t,function(t,e){var t=t.dataByAxis||{},r=(n[e]||{}).dataByAxis||[];(o&=t.length===r.length)&&NM(t,function(t,e){var n=r[e]||{},e=t.seriesDataIndices||[],i=n.seriesDataIndices||[];(o&=t.value===n.value&&t.axisType===n.axisType&&t.axisId===n.axisId&&e.length===i.length)&&NM(e,function(t,e){e=i[e];o&=t.seriesIndex===e.seriesIndex&&t.dataIndex===e.dataIndex})})}),this._lastDataByCoordSys=n,!!o},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){Jp.node||(this._tooltipContent.hide(),Jh("itemTooltip",e))}}),Jo({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),Jo({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),Vd.prototype={constructor:Vd,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:Mx.prototype.dataToCoord,radiusToData:Mx.prototype.coordToData},o(Vd,Mx);var EM=ln();Xd.prototype={constructor:Xd,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:Mx.prototype.dataToCoord,angleToData:Mx.prototype.coordToData,calculateCategoryInterval:function(){var t=this.getLabelModel(),e=this.scale,n=e.getExtent(),i=e.count();if(n[1]-n[0]<1)return 0;var r=n[0],e=this.dataToCoord(r+1)-this.dataToCoord(r),n=Math.abs(e),e=fe(r,t.getFont(),"center","top"),r=Math.max(e.height,7)/n;isNaN(r)&&(r=1/0);t=Math.max(0,Math.floor(r)),e=EM(this.model),n=e.lastAutoInterval,r=e.lastTickCount;return null!=n&&null!=r&&Math.abs(n-t)<=1&&Math.abs(r-i)<=1&&t<n?t=n:(e.lastTickCount=i,e.lastAutoInterval=t),t}},o(Xd,Mx);function OM(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new Vd,this._angleAxis=new Xd,this._radiusAxis.polar=this._angleAxis.polar=this}OM.prototype={type:"polar",axisPointerEnabled:!0,constructor:OM,dimensions:["radius","angle"],model:null,containPoint:function(t){t=this.pointToCoord(t);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],n=this._angleAxis,i=this._radiusAxis;return n.scale.type===t&&e.push(n),i.scale.type===t&&e.push(i),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){t=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){t=this.pointToCoord(t);return[this._radiusAxis.radiusToData(t[0],e),this._angleAxis.angleToData(t[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=this.getAngleAxis(),t=i.getExtent(),r=Math.min(t[0],t[1]),o=Math.max(t[0],t[1]);i.inverse?r=o-360:o=r+360;i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var a=Math.atan2(-n,e)/Math.PI*180,s=a<r?1:-1;a<r||o<a;)a+=360*s;return[i,a]},coordToPoint:function(t){var e=t[0],t=t[1]/180*Math.PI;return[Math.cos(t)*e+this.cx,-Math.sin(t)*e+this.cy]}};i0=Qy.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});g(i0.prototype,mx);Tm={splitNumber:5};e0("angle",i0,qd,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),e0("radius",i0,qd,Tm),na({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}}),Mr.register("polar",{dimensions:OM.prototype.dimensions,create:function(n,s){var l=[];return n.eachComponent("polar",function(t,e){var n=new OM(e);n.update=Jd;var i=n.getRadiusAxis(),r=n.getAngleAxis(),o=t.findAxisModel("radiusAxis"),a=t.findAxisModel("angleAxis");$d(i,o),$d(r,a),e=n,i=s,r=(o=t).get("center"),a=i.getWidth(),i=i.getHeight(),e.cx=zi(r[0],a),e.cy=zi(r[1],i),e=e.getRadiusAxis(),i=Math.min(a,i)/2,i=zi(o.get("radius"),i),e.inverse?e.setExtent(i,0):e.setExtent(0,i),l.push(n),(t.coordinateSystem=n).model=t}),n.eachSeries(function(t){var e;"polar"===t.get("coordinateSystem")&&(e=n.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0],t.coordinateSystem=e.coordinateSystem)}),l}});var PM=["axisLine","axisLabel","axisTick","splitLine","splitArea"];i_.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){var n,i,r,o,a;this.group.removeAll(),e.get("show")&&(n=e.axis,i=n.polar,r=i.getRadiusAxis().getExtent(),o=n.getTicksCoords(),tf(a=I(n.getViewLabels(),function(t){return(t=C(t)).coord=n.dataToCoord(t.tickValue),t})),tf(o),P(PM,function(t){!e.get(t+".show")||n.scale.isBlank()&&"axisLine"!==t||this["_"+t](e,i,o,r,a)},this))},_axisLine:function(t,e,n,i){t=t.getModel("axisLine.lineStyle"),t=new oy({shape:{cx:e.cx,cy:e.cy,r:i[Kd(e)]},style:t.getLineStyle(),z2:1,silent:!0});t.style.fill=null,this.group.add(t)},_axisTick:function(t,e,n,i){var r=t.getModel("axisTick"),o=(r.get("inside")?-1:1)*r.get("length"),a=i[Kd(e)],n=I(n,function(t){return new fy({shape:Qd(e,[a,a+o],t.coord)})});this.group.add(wy(n,{style:D(r.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_axisLabel:function(l,u,t,c,e){var h=l.getCategories(!0),d=l.getModel("axisLabel"),f=d.get("margin");P(e,function(t,e){var n=d,i=t.tickValue,r=c[Kd(u)],o=u.coordToPoint([r+f,t.coord]),a=u.cx,s=u.cy,a=Math.abs(o[0]-a)/r<.3?"center":o[0]>a?"left":"right",s=Math.abs(o[1]-s)/r<.3?"middle":o[1]>s?"top":"bottom";h&&h[i]&&h[i].textStyle&&(n=new Li(h[i].textStyle,d,d.ecModel));i=new U0({silent:!0});this.group.add(i),gi(i.style,n,{x:o[0],y:o[1],textFill:n.getTextColor()||l.get("axisLine.lineStyle.color"),text:t.formattedLabel,textAlign:a,textVerticalAlign:s})},this)},_splitLine:function(t,e,n,i){for(var r=t.getModel("splitLine").getModel("lineStyle"),o=0,a=(a=r.get("color"))instanceof Array?a:[a],s=[],l=0;l<n.length;l++){var u=o++%a.length;s[u]=s[u]||[],s[u].push(new fy({shape:Qd(e,i,n[l].coord)}))}for(l=0;l<s.length;l++)this.group.add(wy(s[l],{style:D({stroke:a[l%a.length]},r.getLineStyle()),silent:!0,z:t.get("z")}))},_splitArea:function(t,e,n,i){if(n.length){for(var r=t.getModel("splitArea").getModel("areaStyle"),o=0,a=(a=r.get("color"))instanceof Array?a:[a],s=[],l=Math.PI/180,u=-n[0].coord*l,c=Math.min(i[0],i[1]),h=Math.max(i[0],i[1]),d=t.get("clockwise"),f=1;f<n.length;f++){var p=o++%a.length;s[p]=s[p]||[],s[p].push(new ly({shape:{cx:e.cx,cy:e.cy,r0:c,r:h,startAngle:u,endAngle:-n[f].coord*l,clockwise:d},silent:!0})),u=-n[f].coord*l}for(f=0;f<s.length;f++)this.group.add(wy(s[f],{style:D({fill:a[f%a.length]},r.getAreaStyle()),silent:!0}))}}});var zM=["axisLine","axisTickLabel","axisName"],jM=["splitLine","splitArea"];i_.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){var n,i,r,o,a,s;this.group.removeAll(),e.get("show")&&(n=e.axis,s=(i=n.polar).getAngleAxis(),r=n.getTicksCoords(),o=s.getExtent()[0],a=n.getExtent(),s={position:[i.cx,i.cy],rotation:o/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:e.getModel("axisLabel").get("rotate"),z2:1},s=new $x(e,s),P(zM,s.add,s),this.group.add(s.getGroup()),P(jM,function(t){e.get(t+".show")&&!n.scale.isBlank()&&this["_"+t](e,i,o,a,r)},this))},_splitLine:function(t,e,n,i,r){for(var o=t.getModel("splitLine").getModel("lineStyle"),a=0,s=(s=o.get("color"))instanceof Array?s:[s],l=[],u=0;u<r.length;u++){var c=a++%s.length;l[c]=l[c]||[],l[c].push(new oy({shape:{cx:e.cx,cy:e.cy,r:r[u].coord},silent:!0}))}for(u=0;u<l.length;u++)this.group.add(wy(l[u],{style:D({stroke:s[u%s.length],fill:null},o.getLineStyle()),silent:!0}))},_splitArea:function(t,e,n,i,r){if(r.length){for(var o=t.getModel("splitArea").getModel("areaStyle"),a=0,s=(s=o.get("color"))instanceof Array?s:[s],l=[],u=r[0].coord,c=1;c<r.length;c++){var h=a++%s.length;l[h]=l[h]||[],l[h].push(new ly({shape:{cx:e.cx,cy:e.cy,r0:u,r:r[c].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),u=r[c].coord}for(c=0;c<l.length;c++)this.group.add(wy(l[c],{style:D({fill:s[c%s.length]},o.getAreaStyle()),silent:!0}))}}});var e0=$h.extend({makeElOption:function(t,e,n,i,r){var o=n.axis;"angle"===o.dim&&(this.animationThreshold=Math.PI/18);var a,s,l,u,c,h=o.polar,d=h.getOtherAxis(o).getExtent(),f=o["dataTo"+or(o.dim)](e),p=i.get("type");p&&"none"!==p&&(a=nd(i),(s=YM[p](o,h,f,d,a)).style=a,t.graphicKey=s.type,t.pointer=s),id(t,n,i,r,(s=e,t=n,r=h,e=i.get("label.margin"),n=t.axis,h=n.dataToCoord(s),i=(i=r.getAngleAxis().getExtent()[0])/180*Math.PI,s=r.getRadiusAxis().getExtent(),c="radius"===n.dim?(yt(u=dt(),u,i),mt(u,u,[r.cx,r.cy]),l=Ci([h,-e],u),u=t.getModel("axisLabel").get("rotate")||0,u=(i=$x.innerTextLayout(i,u*Math.PI/180,-1)).textAlign,i.textVerticalAlign):(s=s[1],l=r.coordToPoint([s+e,h]),h=r.cx,c=r.cy,u=Math.abs(l[0]-h)/s<.3?"center":l[0]>h?"left":"right",Math.abs(l[1]-c)/s<.3?"middle":l[1]>c?"top":"bottom"),{position:l,align:u,verticalAlign:c}))}}),YM={line:function(t,e,n,i,r){return"angle"===t.dim?{type:"Line",shape:sd(e.coordToPoint([i[0],n]),e.coordToPoint([i[1],n]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:n}}},shadow:function(t,e,n,i,r){var o=Math.max(1,t.getBandWidth()),a=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:ud(e.cx,e.cy,i[0],i[1],(-n-o/2)*a,(o/2-n)*a)}:{type:"Sector",shape:ud(e.cx,e.cy,n-o/2,n+o/2,0,2*Math.PI)}}};i_.registerAxisPointerClass("PolarAxisPointer",e0),Qo(N(function(t,e,n){n.getWidth(),n.getHeight();var S={},T=function(t){var l={};P(t,function(t,e){var n=t.getData(),i=t.coordinateSystem.getBaseAxis(),r=i.getExtent(),o="category"===i.type?i.getBandWidth():Math.abs(r[1]-r[0])/n.count(),a=l[i.dim]||{bandWidth:o,remainedWidth:o,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},s=a.stacks;l[i.dim]=a;r=Zd(t);s[r]||a.autoWidthCount++,s[r]=s[r]||{width:0,maxWidth:0};n=zi(t.get("barWidth"),o),i=zi(t.get("barMaxWidth"),o),o=t.get("barGap"),t=t.get("barCategoryGap");n&&!s[r].width&&(n=Math.min(a.remainedWidth,n),s[r].width=n,a.remainedWidth-=n),i&&(s[r].maxWidth=i),null!=o&&(a.gap=o),null!=t&&(a.categoryGap=t)});var h={};return P(l,function(t,n){h[n]={};var e=t.stacks,i=t.bandWidth,i=zi(t.categoryGap,i),r=zi(t.gap,1),o=t.remainedWidth,a=t.autoWidthCount,s=(o-i)/(a+(a-1)*r),s=Math.max(s,0);P(e,function(t,e){var n=t.maxWidth;n&&n<s&&(n=Math.min(n,o),t.width&&(n=Math.min(n,t.width)),o-=n,t.width=n,a--)}),s=(o-i)/(a+(a-1)*r),s=Math.max(s,0);var l,u=0;P(e,function(t,e){t.width||(t.width=s),u+=(l=t).width*(1+r)}),l&&(u-=l.width*r);var c=-u/2;P(e,function(t,e){h[n][e]=h[n][e]||{offset:c,width:t.width},c+=t.width*(1+r)})}),h}(b(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),r=Zd(t),o=T[i.dim][r],a=o.offset,s=o.width,l=n.getOtherAxis(i),u=t.coordinateSystem.cx,c=t.coordinateSystem.cy,h=t.get("barMinHeight")||0,d=t.get("barMinAngle")||0;S[r]=S[r]||[];for(var f=e.mapDimension(l.dim),p=e.mapDimension(i.dim),g=wa(e,f),m=l.getExtent()[0],y=0,v=e.count();y<v;y++){var x,_,b,w,M,A,I=e.get(f,y),C=e.get(p,y);isNaN(I)||(x=0<=I?"p":"n",_=m,g&&(S[r][C]||(S[r][C]={p:m,n:m}),_=S[r][C][x]),"radius"===l.dim?(w=l.dataToRadius(I)-m,A=i.dataToAngle(C),M=(b=_)+(w=Math.abs(w)<h?(w<0?-1:1)*h:w),A=(w=A-a)-s,g&&(S[r][C][x]=M)):(I=l.dataToAngle(I,!0)-m,M=(b=i.dataToRadius(C)+a)+s,A=(w=_)+(I=Math.abs(I)<d?(I<0?-1:1)*d:I),g&&(S[r][C][x]=A)),e.setItemLayout(y,{cx:u,cy:c,r0:b,r:M,startAngle:-w*Math.PI/180,endAngle:-A*Math.PI/180}))}}},this)},"bar")),ia({type:"polar"}),r(Qy.extend({type:"geo",coordinateSystem:null,layoutMode:"box",init:function(t){Qy.prototype.init.apply(this,arguments),tn(t,"label",["show"])},optionUpdated:function(){var t=this.option,n=this;t.regions=E_.getFilledRegions(t.regions,t.map,t.nameMap),this._optionModelMap=y(t.regions||[],function(t,e){return e.name&&t.set(e.name,new Li(e,n)),t},Y()),this.updateSelectedMap(t.regions)},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},getRegionModel:function(t){return this._optionModelMap.get(t)||new Li(null,this,this.ecModel)},getFormattedLabel:function(t,e){var n=this.getRegionModel(t).get("label."+e+".formatter"),i={name:t};return"function"==typeof n?(i.status=e,n(i)):"string"==typeof n?n.replace("{a}",null!=t?t:""):void 0},setZoom:function(t){this.option.zoom=t},setCenter:function(t){this.option.center=t}}),sy),ia({type:"geo",init:function(t,e){e=new Gl(e,!0);this._mapDraw=e,this.group.add(e.group)},render:function(t,e,n,i){var r;i&&"geoToggleSelect"===i.type&&i.from===this.uid||(r=this._mapDraw,t.get("show")?r.draw(t,e,n,this,i):this._mapDraw.group.removeAll(),this.group.silent=t.get("silent"))},dispose:function(){this._mapDraw&&this._mapDraw.remove()}}),ef("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),ef("select",{type:"geoSelect",event:"geoselected"}),ef("unSelect",{type:"geoUnSelect",event:"geounselected"});var RM=["rect","polygon","keep","clear"],BM=P,FM={lineX:af(0),lineY:af(1),rect:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])},rect:function(t,e,n){return t&&n.boundingRect.intersect(t)}},polygon:{point:function(t,e,n){return t&&n.boundingRect.contain(t[0],t[1])&&Qa(n.range,t[0],t[1])},rect:function(t,e,n){var i=n.range;if(!t||i.length<=1)return!1;var r=t.x,o=t.y,a=t.width,s=t.height,n=i[0];return!!(Qa(i,r,o)||Qa(i,r+a,o)||Qa(i,r,o+s)||Qa(i,r+a,o+s)||Kt.create(t).contain(n[0],n[1])||lf(r,o,r+a,o,i)||lf(r,o,r,o+s,i)||lf(r+a,o,r+a,o+s,i)||lf(r,o+s,r+a,o+s,i))||void 0}}},HM=P,WM=p,i0=N,GM=["dataToPoint","pointToData"],UM=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],Tm=cf.prototype;Tm.setOutputRanges=function(t,e){this.matchOutputRanges(t,e,function(t,e,n){(t.coordRanges||(t.coordRanges=[])).push(e),t.coordRange||(t.coordRange=e,e=qM[t.brushType](0,n,e),t.__rangeOffset={offset:JM[t.brushType](e.values,t.range,[1,1]),xyMinMax:e.xyMinMax})})},Tm.matchOutputRanges=function(t,i,r){HM(t,function(n){var t=this.findTargetInfo(n,i);t&&!0!==t&&P(t.coordSyses,function(t){var e=qM[n.brushType](1,t,n.range);r(n,e.values,t,i)})},this)},Tm.setInputRanges=function(t,i){HM(t,function(t){var e,n=this.findTargetInfo(t,i);t.range=t.range||[],n&&!0!==n&&(t.panelId=n.panelId,e=qM[t.brushType](0,n.coordSys,t.coordRange),n=t.__rangeOffset,t.range=n?JM[t.brushType](e.values,n.offset,(t=e.xyMinMax,n=n.xyMinMax,t=gf(t),n=gf(n),n=[t[0]/n[0],t[1]/n[1]],isNaN(n[0])&&(n[0]=1),isNaN(n[1])&&(n[1]=1),n)):e.values)},this)},Tm.makePanelOpts=function(n,i){return I(this._targetInfoList,function(t){var e=t.getPanelRect();return{panelId:t.panelId,defaultBrushType:i&&i(t),clipPath:Bc(e),isTargetByCursor:Hc(e,n,t.coordSysModel),getLinearBrushOtherExtent:Fc(e)}})},Tm.controlSeries=function(t,e,n){n=this.findTargetInfo(t,n);return!0===n||n&&0<=WM(n.coordSyses,e.coordinateSystem)},Tm.findTargetInfo=function(t,e){for(var n=this._targetInfoList,i=df(e,t),r=0;r<n.length;r++){var o=n[r],a=t.panelId;if(a){if(o.panelId===a)return o}else for(r=0;r<VM.length;r++)if(VM[r](i,o))return o}return!0};var ZM={grid:function(t,i){var r=t.xAxisModels,o=t.yAxisModels,t=t.gridModels,e=Y(),a={},s={};(r||o||t)&&(HM(r,function(t){t=t.axis.grid.model;e.set(t.id,t),a[t.id]=!0}),HM(o,function(t){t=t.axis.grid.model;e.set(t.id,t),s[t.id]=!0}),HM(t,function(t){e.set(t.id,t),a[t.id]=!0,s[t.id]=!0}),e.each(function(t){var e=t.coordinateSystem,n=[];HM(e.getCartesians(),function(t,e){(0<=WM(r,t.getAxis("x").model)||0<=WM(o,t.getAxis("y").model))&&n.push(t)}),i.push({panelId:"grid--"+t.id,gridModel:t,coordSysModel:t,coordSys:n[0],coordSyses:n,getPanelRect:XM.grid,xAxisDeclared:a[t.id],yAxisDeclared:s[t.id]})}))},geo:function(t,n){HM(t.geoModels,function(t){var e=t.coordinateSystem;n.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:e,coordSyses:[e],getPanelRect:XM.geo})})}},VM=[function(t,e){var n=t.xAxisModel,i=t.yAxisModel,t=t.gridModel;return(t=!(t=!t&&n?n.axis.grid.model:t)&&i?i.axis.grid.model:t)&&t===e.gridModel},function(t,e){t=t.geoModel;return t&&t===e.geoModel}],XM={grid:function(){return this.coordSys.grid.getRect().clone()},geo:function(){var t=this.coordSys,e=t.getBoundingRect().clone();return e.applyTransform(Ii(t)),e}},qM={lineX:i0(ff,0),lineY:i0(ff,1),rect:function(t,e,n){var i=e[GM[t]]([n[0][0],n[1][0]]),n=e[GM[t]]([n[0][1],n[1][1]]),n=[hf([i[0],n[0]]),hf([i[1],n[1]])];return{values:n,xyMinMax:n}},polygon:function(e,n,t){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:I(t,function(t){t=n[GM[e]](t);return i[0][0]=Math.min(i[0][0],t[0]),i[1][0]=Math.min(i[1][0],t[1]),i[0][1]=Math.max(i[0][1],t[0]),i[1][1]=Math.max(i[1][1],t[1]),t}),xyMinMax:i}}},JM={lineX:i0(pf,0),lineY:i0(pf,1),rect:function(t,e,n){return[[t[0][0]-n[0]*e[0][0],t[0][1]-n[0]*e[0][1]],[t[1][0]-n[1]*e[1][0],t[1][1]-n[1]*e[1][1]]]},polygon:function(t,n,i){return I(t,function(t,e){return[t[0]-i[0]*n[e][0],t[1]-i[1]*n[e][1]]})}},$M=["inBrush","outOfBrush"],QM="__ecBrushSelect",KM="__ecInBrushSelectEvent",e0=Pg.VISUAL.BRUSH;Qo(e0,function(e,t,n){e.eachComponent({mainType:"brush"},function(t){n&&"takeGlobalCursor"===n.type&&t.setBrushOption("brush"===n.key?n.brushOption:{brushType:!1}),(t.brushTargetManager=new cf(t.option,e)).setInputRanges(t.areas,e)})}),Ko(e0,function(u,t,e){var r,o,n,i,a,c=[];u.eachComponent({mainType:"brush"},function(s,t){function m(t){return"all"===n||i[t]}function y(t){return!!t.length}function a(e,t,n){var i,r,o,a=vf(e);a&&(o=t,null==(r=(r=s).option.seriesIndex)||"all"===r||!(T(r)?p(r,o)<0:o!==r))&&(P(l,function(t){a[t.brushType]&&s.brushTargetManager.controlSeries(t,e,u)&&n.push(t),b|=y(n)}),m(t)&&y(n))&&(i=e.getData()).each(function(t){yf(a,n,i,t)&&(x[t]=1)})}var v={brushId:s.id,brushIndex:t,brushName:s.name,areas:C(s.areas),selected:[]};c.push(v);var e=s.option,n=e.brushLink,i=[],x=[],_=[],b=0;t||(r=e.throttleType,o=e.throttleDelay);var l=I(s.areas,function(t){return n=D({boundingRect:t2[t.brushType](t)},t),i=n.selectors={},P(FM[n.brushType],function(e,t){i[t]=function(t){return e(t,i,n)}}),n;var n,i}),w=rf(s.option,$M,function(t){t.mappingMethod="fixed"});T(n)&&P(n,function(t){i[t]=1}),u.eachSeries(function(t,e){var n,i,r,o=_[e]=[];"parallel"===t.subType?(i=e,r=(n=t).coordinateSystem,b|=r.hasAxisBrushed(),m(i)&&r.eachActiveState(n.getData(),function(t,e){"active"===t&&(x[e]=1)})):a(t,e,o)}),u.eachSeries(function(t,e){var n={seriesId:t.id,seriesIndex:e,seriesName:t.name,dataIndex:[]};v.selected.push(n);var s,l,u,c,h,d,f,i=vf(t),r=_[e],o=t.getData(),t=m(e)?function(t){return x[t]?(n.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"}:function(t){return yf(i,r,o,t)?(n.dataIndex.push(o.getRawIndex(t)),"inBrush"):"outOfBrush"};function p(t){return l.getItemVisual(d,t)}function g(t,e){l.setItemVisual(d,t,e)}function a(t,e){d=null==h?t:e;e=l.getRawDataItem(d);if(!e||!1!==e.visualMap)for(var e=u.call(c,t),n=s[e],i=f[e],r=0,o=i.length;r<o;r++){var a=i[r];n[a]&&n[a].applyVisual(t,p,g)}}(m(e)?b:y(r))&&(s=w,l=o,u=t,f={},P($M,function(t){var e=ib.prepareVisualTypes(s[t]);f[t]=e}),null==h?l.each(a):l.each([h],a))})}),n=t,i=r,a=o,t=c,(e=e)&&((e=n.getZr())[KM]||(e[QM]||(e[QM]=mf),ao(e,QM,a,i)(n,t)))});var t2={lineX:A,lineY:A,rect:function(t){return xf(t.range)},polygon:function(t){for(var e=t.range,n=0,i=e.length;n<i;n++){var r=r||[[1/0,-1/0],[1/0,-1/0]],o=e[n];o[0]<r[0][0]&&(r[0][0]=o[0]),o[0]>r[0][1]&&(r[0][1]=o[0]),o[1]<r[1][0]&&(r[1][0]=o[1]),o[1]>r[1][1]&&(r[1][1]=o[1])}return r&&xf(r)}},e2=["#ddd"];na({type:"brush",dependencies:["geo","grid","xAxis","yAxis","parallel","series"],defaultOption:{toolbox:null,brushLink:null,seriesIndex:"all",geoIndex:null,xAxisIndex:null,yAxisIndex:null,brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(120,140,180,0.3)",borderColor:"rgba(120,140,180,0.8)"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},areas:[],brushType:null,brushOption:{},coordInfoList:[],optionUpdated:function(t,e){var n=this.option;e||of(n,t,["inBrush","outOfBrush"]);t=n.inBrush=n.inBrush||{};n.outOfBrush=n.outOfBrush||{color:e2},t.hasOwnProperty("liftZ")||(t.liftZ=5)},setAreas:function(t){t&&(this.areas=I(t,function(t){return _f(this.option,t)},this))},setBrushOption:function(t){this.brushOption=_f(this.option,t),this.brushType=this.brushOption.brushType}}),ia({type:"brush",init:function(t,e){this.ecModel=t,this.api=e,this.model,(this._brushController=new uc(e.getZr())).on("brush",v(this._onBrush,this)).mount()},render:function(t){return this.model=t,bf.apply(this,arguments)},updateTransform:bf,updateView:bf,dispose:function(){this._brushController.dispose()},_onBrush:function(t,e){var n=this.model.id;this.model.brushTargetManager.setOutputRanges(t,this.ecModel),e.isEnd&&!e.removeOnClick||this.api.dispatchAction({type:"brush",brushId:n,areas:C(t),$from:n})}}),Jo({type:"brush",event:"brush"},function(e,t){t.eachComponent({mainType:"brush",query:e},function(t){t.setAreas(e.areas)})}),Jo({type:"brushSelect",event:"brushSelected",update:"none"},function(){});var n2={},sy=$v.toolbox.brush;Af.defaultOption={show:!0,type:["rect","polygon","lineX","lineY","keep","clear"],icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:C(sy.title)};Tm=Af.prototype;Tm.render=Tm.updateView=function(e,t,n){var i,r,o;t.eachComponent({mainType:"brush"},function(t){i=t.brushType,r=t.brushOption.brushMode||"single",o|=t.areas.length}),this._brushType=i,this._brushMode=r,P(e.get("type",!0),function(t){e.setIconStatus(t,("keep"===t?"multiple"===r:"clear"===t?o:t===i)?"emphasis":"normal")})},Tm.getIcons=function(){var t=this.model,e=t.get("icon",!0),n={};return P(t.get("type",!0),function(t){e[t]&&(n[t]=e[t])}),n},Tm.onclick=function(t,e,n){var i=this._brushType,r=this._brushMode;"clear"===n?(e.dispatchAction({type:"axisAreaSelect",intervals:[]}),e.dispatchAction({type:"brush",command:"clear",areas:[]})):e.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===n?i:i!==n&&n,brushMode:"keep"===n?"multiple"===r?"single":"multiple":r}})},wf("brush",Af),Xo(function(t,e){var n,i,r,o=t&&t.brush;(o=!T(o)?o?[o]:[]:o).length&&(n=[],P(o,function(t){t=t.hasOwnProperty("toolbox")?t.toolbox:[];t instanceof Array&&(n=n.concat(t))}),(o=T(o=t&&t.toolbox)?o[0]:o)||(t.toolbox=[o={feature:{}}]),(o=(o=(o=o.feature||(o.feature={})).brush||(o.brush={})).type||(o.type=[])).push.apply(o,n),r={},P(i=o,function(t){r[t]=1}),i.length=0,P(r,function(t,e){i.push(e)}),e&&!o.length&&o.push.apply(o,RM))}),If.prototype={constructor:If,type:"calendar",dimensions:["time","value"],getDimensionsInfo:function(){return[{name:"time",type:"time"},"value"]},getRangeInfo:function(){return this._rangeInfo},getModel:function(){return this._model},getRect:function(){return this._rect},getCellWidth:function(){return this._sw},getCellHeight:function(){return this._sh},getOrient:function(){return this._orient},getFirstDayOfWeek:function(){return this._firstDayOfWeek},getDateInfo:function(t){var e=(t=Ui(t)).getFullYear(),n=(n=t.getMonth()+1)<10?"0"+n:n,i=(i=t.getDate())<10?"0"+i:i,r=t.getDay();return{y:e,m:n,d:i,day:r=Math.abs((r+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+n+"-"+i,date:t}},getNextNDay:function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},update:function(t,e){function n(t,e){return null!=t[e]&&"auto"!==t[e]}this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var i=this._rangeInfo.weeks||1,r=["width","height"],o=this._model.get("cellSize").slice(),a=this._model.getBoxLayoutParams(),s="horizontal"===this._orient?[i,7]:[7,i];P([0,1],function(t){n(o,t)&&(a[r[t]]=o[t]*s[t])});var e={width:e.getWidth(),height:e.getHeight()},l=this._rect=sr(a,e);P([0,1],function(t){n(o,t)||(o[t]=l[r[t]]/s[t])}),this._sw=o[0],this._sh=o[1]},dataToPoint:function(t,e){T(t)&&(t=t[0]),null==e&&(e=!0);var n=this.getDateInfo(t),i=this._rangeInfo,t=n.formatedDate;if(e&&!(n.time>=i.start.time&&n.time<i.end.time+864e5))return[NaN,NaN];n=n.day,t=this._getRangeInfo([i.start.time,t]).nthWeek;return"vertical"===this._orient?[this._rect.x+n*this._sw+this._sw/2,this._rect.y+t*this._sh+this._sh/2]:[this._rect.x+t*this._sw+this._sw/2,this._rect.y+n*this._sh+this._sh/2]},pointToData:function(t){t=this.pointToDate(t);return t&&t.time},dataToRect:function(t,e){e=this.dataToPoint(t,e);return{contentShape:{x:e[0]-(this._sw-this._lineWidth)/2,y:e[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:e,tl:[e[0]-this._sw/2,e[1]-this._sh/2],tr:[e[0]+this._sw/2,e[1]-this._sh/2],br:[e[0]+this._sw/2,e[1]+this._sh/2],bl:[e[0]-this._sw/2,e[1]+this._sh/2]}},pointToDate:function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,n=Math.floor((t[1]-this._rect.y)/this._sh)+1,t=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(n,e-1,t):this._getDateByWeeksAndDay(e,n-1,t)},convertToPixel:N(Cf,"dataToPoint"),convertFromPixel:N(Cf,"pointToData"),_initRangeOption:function(){var t,e,n=this._model.get("range"),i=n;T(i)&&1===i.length&&(i=i[0]),/^\d{4}$/.test(i)&&(n=[i+"-01-01",i+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(i)&&((e=(t=this.getDateInfo(i)).date).setMonth(e.getMonth()+1),e=this.getNextNDay(e,-1),n=[t.formatedDate,e.formatedDate]),/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(i)&&(n=[i,i]);i=this._getRangeInfo(n);return i.start.time>i.end.time&&n.reverse(),n},_getRangeInfo:function(t){var e;(t=[this.getDateInfo(t[0]),this.getDateInfo(t[1])])[0].time>t[1].time&&(e=!0,t.reverse());var n=Math.floor(t[1].time/864e5)-Math.floor(t[0].time/864e5)+1,i=new Date(t[0].time),r=i.getDate(),o=t[1].date.getDate();if(i.setDate(r+n-1),i.getDate()!==o)for(var a=0<i.getTime()-t[1].time?1:-1;i.getDate()!==o&&0<(i.getTime()-t[1].time)*a;)i.setDate(r+(n-=a)-1);var s=Math.floor((n+t[0].day+6)/7),l=e?1-s:s-1;return e&&t.reverse(),{range:[t[0].formatedDate,t[1].formatedDate],start:t[0],end:t[1],allDay:n,weeks:s,nthWeek:l,fweek:t[0].day,lweek:t[1].day}},_getDateByWeeksAndDay:function(t,e,n){n=this._getRangeInfo(n);if(t>n.weeks||0===t&&e<n.fweek||t===n.weeks&&e>n.lweek)return!1;t=7*(t-1)-n.fweek+e,e=new Date(n.start.time);return e.setDate(n.start.d+t),this.getDateInfo(e)}},If.dimensions=If.prototype.dimensions,If.getDimensionsInfo=If.prototype.getDimensionsInfo,If.create=function(t,e){var n=[];return t.eachComponent("calendar",function(t){var e=new If(t);n.push(e),t.coordinateSystem=e}),t.eachSeries(function(t){"calendar"===t.get("coordinateSystem")&&(t.coordinateSystem=n[t.get("calendarIndex")||0])}),n},Mr.register("calendar",If);var i2=Qy.extend({type:"calendar",coordinateSystem:null,defaultOption:{zlevel:0,z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",nameMap:"en",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",nameMap:"en",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},init:function(t,e,n,i){var r=cr(t);i2.superApply(this,"init",arguments),Sf(t,r)},mergeOption:function(t,e){i2.superApply(this,"mergeOption",arguments),Sf(this.option,t)}}),r2={EN:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],CN:["","","","","","","","","","","",""]},o2={EN:["S","M","T","W","T","F","S"],CN:["","","","","","",""]};ia({type:"calendar",_tlpoints:null,_blpoints:null,_firstDayOfMonth:null,_firstDayPoints:null,render:function(t,e,n){var i=this.group;i.removeAll();var r=t.coordinateSystem,o=r.getRangeInfo(),r=r.getOrient();this._renderDayRect(t,o,i),this._renderLines(t,o,r,i),this._renderYearText(t,o,r,i),this._renderMonthText(t,r,i),this._renderWeekText(t,o,r,i)},_renderDayRect:function(t,e,n){for(var i=t.coordinateSystem,r=t.getModel("itemStyle").getItemStyle(),o=i.getCellWidth(),a=i.getCellHeight(),s=e.start.time;s<=e.end.time;s=i.getNextNDay(s,1).time){var l=i.dataToRect([s],!1).tl,l=new dy({shape:{x:l[0],y:l[1],width:o,height:a},cursor:"default",style:r});n.add(l)}},_renderLines:function(e,t,n,i){function r(t){o._firstDayOfMonth.push(a.getDateInfo(t)),o._firstDayPoints.push(a.dataToRect([t],!1).tl);t=o._getLinePointsOfOneWeek(e,t,n);o._tlpoints.push(t[0]),o._blpoints.push(t[t.length-1]),l&&o._drawSplitline(t,s,i)}var o=this,a=e.coordinateSystem,s=e.getModel("splitLine.lineStyle").getLineStyle(),l=e.get("splitLine.show"),u=s.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var c=t.start,h=0;c.time<=t.end.time;h++){r(c.formatedDate);var d=(c=0===h?a.getDateInfo(t.start.y+"-"+t.start.m):c).date;d.setMonth(d.getMonth()+1),c=a.getDateInfo(d)}r(a.getNextNDay(t.end.time,1).formatedDate),l&&this._drawSplitline(o._getEdgesPoints(o._tlpoints,u,n),s,i),l&&this._drawSplitline(o._getEdgesPoints(o._blpoints,u,n),s,i)},_getEdgesPoints:function(t,e,n){t=[t[0].slice(),t[t.length-1].slice()],n="horizontal"===n?0:1;return t[0][n]=t[0][n]-e/2,t[1][n]=t[1][n]+e/2,t},_drawSplitline:function(t,e,n){e=new hy({z2:20,shape:{points:t},style:e});n.add(e)},_getLinePointsOfOneWeek:function(t,e,n){var i=t.coordinateSystem;e=i.getDateInfo(e);for(var r=[],o=0;o<7;o++){var a=i.getNextNDay(e.time,o),s=i.dataToRect([a.time],!1);r[2*a.day]=s.tl,r[2*a.day+1]=s["horizontal"===n?"bl":"tr"]}return r},_formatterLabel:function(t,e){return"string"==typeof t&&t?er(t,e):"function"==typeof t?t(e):e.nameMap},_yearTextPositionControl:function(t,e,n,i,r){e=e.slice();var o=["center","bottom"];"bottom"===i?(e[1]+=r,o=["center","top"]):"left"===i?e[0]-=r:"right"===i?(e[0]+=r,o=["center","top"]):e[1]-=r;r=0;return{rotation:r="left"===i||"right"===i?Math.PI/2:r,position:e,style:{textAlign:o[0],textVerticalAlign:o[1]}}},_renderYearText:function(t,e,n,i){var r,o,a,s,l,u=t.getModel("yearLabel");u.get("show")&&(r=u.get("margin"),o=(o=u.get("position"))||("horizontal"!==n?"top":"left"),a=((s=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]])[0][0]+s[1][0])/2,l=(s[0][1]+s[1][1])/2,s={top:[a,s[t="horizontal"===n?0:1][1]],bottom:[a,s[1-t][1]],left:[s[1-t][0],l],right:[s[t][0],l]},t=e.start.y,+e.end.y>+e.start.y&&(t=t+"-"+e.end.y),l=u.get("formatter"),t={start:e.start.y,end:e.end.y,nameMap:t},l=this._formatterLabel(l,t),gi((t=new U0({z2:30})).style,u,{text:l}),t.attr(this._yearTextPositionControl(t,s[o],n,o,r)),i.add(t))},_monthTextPositionControl:function(t,e,n,i,r){var o="left",a="top",s=t[0],t=t[1];return"horizontal"===n?(t+=r,e&&(o="center"),"start"===i&&(a="bottom")):(s+=r,e&&(a="middle"),"start"===i&&(o="right")),{x:s,y:t,textAlign:o,textVerticalAlign:a}},_renderMonthText:function(t,e,n){var i=t.getModel("monthLabel");if(i.get("show")){var r=i.get("nameMap"),o=i.get("margin"),a=i.get("position"),t=i.get("align"),s=[this._tlpoints,this._blpoints];L(r)&&(r=r2[r.toUpperCase()]||[]);for(var l="start"===a?0:1,u="horizontal"===e?0:1,o="start"===a?-o:o,c="center"===t,h=0;h<s[l].length-1;h++){var d=s[l][h].slice(),f=this._firstDayOfMonth[h];c&&(g=this._firstDayPoints[h],d[u]=(g[u]+s[0][h+1][u])/2);var p=i.get("formatter"),g=r[+f.m-1],g={yyyy:f.y,yy:(f.y+"").slice(2),MM:f.m,M:+f.m,nameMap:g},p=this._formatterLabel(p,g),g=new U0({z2:30});S(gi(g.style,i,{text:p}),this._monthTextPositionControl(d,c,e,a,o)),n.add(g)}}},_weekTextPositionControl:function(t,e,n,i,r){var o="center",a="middle",s=t[0],t=t[1],n="start"===n;return"horizontal"===e?(s=s+i+(n?1:-1)*r[0]/2,o=n?"right":"left"):(t=t+i+(n?1:-1)*r[1]/2,a=n?"bottom":"top"),{x:s,y:t,textAlign:o,textVerticalAlign:a}},_renderWeekText:function(t,e,n,i){var r=t.getModel("dayLabel");if(r.get("show")){var o=t.coordinateSystem,a=r.get("position"),s=r.get("nameMap"),l=r.get("margin"),u=o.getFirstDayOfWeek();L(s)&&(s=o2[s.toUpperCase()]||[]);var c=o.getNextNDay(e.end.time,7-e.lweek).time,h=[o.getCellWidth(),o.getCellHeight()],l=zi(l,h["horizontal"===n?0:1]);"start"===a&&(c=o.getNextNDay(e.start.time,-(7+e.fweek)).time,l=-l);for(var d=0;d<7;d++){var f=o.getNextNDay(c,d),p=o.dataToRect([f.time],!1).center,g=Math.abs((d+u)%7),f=new U0({z2:30});S(gi(f.style,r,{text:s[g]}),this._weekTextPositionControl(p,n,a,l,h)),i.add(f)}}}}),na({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),ia({type:"title",render:function(t,e,n){var i,r,o,a,s,l,u,c,h;this.group.removeAll(),t.get("show")&&(i=this.group,u=t.getModel("textStyle"),a=t.getModel("subtextStyle"),r=t.get("textAlign"),h=t.get("textBaseline"),c=(o=new U0({style:gi({},u,{text:t.get("text"),textFill:u.getTextColor()},{disableBox:!0}),z2:10})).getBoundingRect(),u=t.get("subtext"),a=new U0({style:gi({},a,{text:u,textFill:a.getTextColor(),y:c.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),s=t.get("link"),l=t.get("sublink"),c=t.get("triggerEvent",!0),o.silent=!s&&!c,a.silent=!l&&!c,s&&o.on("click",function(){window.open(s,"_"+t.get("target"))}),l&&a.on("click",function(){window.open(l,"_"+t.get("subtarget"))}),o.eventData=a.eventData=c?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(o),u&&i.add(a),c=i.getBoundingRect(),(u=t.getBoxLayoutParams()).width=c.width,u.height=c.height,n=sr(u,{width:n.getWidth(),height:n.getHeight()},t.get("padding")),r||("right"===(r="middle"===(r=t.get("left")||t.get("right"))?"center":r)?n.x+=n.width:"center"===r&&(n.x+=n.width/2)),h||("bottom"===(h="center"===(h=t.get("top")||t.get("bottom"))?"middle":h)?n.y+=n.height:"middle"===h&&(n.y+=n.height/2),h=h||"top"),i.attr("position",[n.x,n.y]),o.setStyle(h={textAlign:r,textVerticalAlign:h}),a.setStyle(h),c=i.getBoundingRect(),h=n.margin,(n=t.getItemStyle(["color","opacity"])).fill=t.get("backgroundColor"),Kn(n=new dy({shape:{x:c.x-h[3],y:c.y-h[0],width:c.width+h[1]+h[3],height:c.height+h[0]+h[2],r:t.get("borderRadius")},style:n,silent:!0})),i.add(n))}}),Qy.registerSubTypeDefaulter("dataZoom",function(){return"slider"});function a2(t,e,n,i){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=i,this._dataZoomModel=n}var s2,l2,u2,c2,h2=["cartesian2d","polar","singleAxis"],d2=(l2=["axisIndex","axis","index","id"],u2=I(s2=(s2=["x","y","z","radius","angle","single"]).slice(),or),c2=I(l2=(l2||[]).slice(),or),function(r,o){P(s2,function(t,e){for(var n={name:t,capital:u2[e]},i=0;i<l2.length;i++)n[l2[i]]=t+c2[i];r.call(o,n)})}),f2=P,p2=Yi;a2.prototype={constructor:a2,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var n=[],i=this.ecModel;return i.eachSeries(function(t){var e;e=t.get("coordinateSystem"),0<=p(h2,e)&&(e=this._dimName,e=i.queryComponents({mainType:e+"Axis",index:t.get(e+"AxisIndex"),id:t.get(e+"AxisId")})[0],this._axisIndex===(e&&e.componentIndex)&&n.push(t))},this),n},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,n,t=this._dimName,i=this.ecModel,r=this.getAxisModel(),t="x"===t||"y"===t?(e="gridIndex","x"===t?"y":"x"):(e="polarIndex","angle"===t?"radius":"angle");return i.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(r.get(e)||0)&&(n=t)}),n},getMinMaxSpan:function(){return C(this._minMaxSpan)},calculateDataWindow:function(e){var i=this._dataExtent,r=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),a=[0,100],s=[e.start,e.end],l=[];return f2(["startValue","endValue"],function(t){l.push(null!=e[t]?r.parse(e[t]):null)}),f2([0,1],function(t){var e=l[t],n=s[t];"percent"===o[t]?e=r.parse(Pi(n=null==n?a[t]:n,a,i,!0)):n=Pi(e,i,a,!0),l[t]=e,s[t]=n}),{valueWindow:p2(l),percentWindow:p2(s)}},reset:function(t){var e,i,r,o;t===this._dataZoomModel&&(e=this.getTargetSeriesModels(),this._dataExtent=Df(this,this._dimName,e),t=this.calculateDataWindow(t.option),this._valueWindow=t.valueWindow,this._percentWindow=t.percentWindow,r=(i=this)._minMaxSpan={},o=i._dataZoomModel,f2(["min","max"],function(t){r[t+"Span"]=o.get(t+"Span");var e,n=o.get(t+"ValueSpan");null!=n&&(r[t+"ValueSpan"]=n,null!=(n=i.getAxisModel().axis.scale.parse(n)))&&(e=i._dataExtent,r[t+"Span"]=Pi(e[0]+n,e,[0,100],!0))}),Nf(this))},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,Nf(this,!0))},filterData:function(t,e){var i,n,r,c;t===this._dataZoomModel&&(i=this._dimName,n=this.getTargetSeriesModels(),r=t.get("filterMode"),c=this._valueWindow,"none"!==r&&f2(n,function(n){var l=n.getData(),u=l.mapDimension(i,!0);u.length&&("weakFilter"===r?l.filterSelf(function(t){for(var e,n,i,r=0;r<u.length;r++){var o=l.get(u[r],t),a=!isNaN(o),s=o<c[0],o=o>c[1];if(a&&!s&&!o)return!0;a&&(i=!0),s&&(e=!0),o&&(n=!0)}return i&&e&&n}):f2(u,function(t){var e;"empty"===r?n.setData(l.map(t,function(t){return(e=t)>=c[0]&&e<=c[1]?t:NaN;var e})):((e={})[t]=c,l.selectRange(e))}),f2(u,function(t){l.setApproximateExtent(c,t)}))}))}};var g2=P,m2=d2,i0=na({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=Lf(t);this.mergeDefaultAndTheme(t,n),this.doInit(i)},mergeOption:function(t){var e=Lf(t);g(this.option,t,!0),this.doInit(e)},doInit:function(t){var n=this.option;Jp.canvasSupported||(n.realtime=!1),this._setDefaultThrottle(t),kf(this,t),g2([["start","startValue"],["end","endValue"]],function(t,e){"value"===this._rangePropMode[e]&&(n[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var o=this._axisProxies;this.eachTargetAxis(function(t,e,n,i){var r=this.dependentModels[t.axis][e],i=r.__dzAxisProxy||(r.__dzAxisProxy=new a2(t.name,e,this,i));o[t.name+"_"+e]=i},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();m2(function(t){t=t.axisIndex;e[t]=Ke(e[t])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,n=!1;m2(function(t){null!=e[t.axisIndex]&&(n=!0)},this);var t=e.orient;return null==t&&n?"orient":n?void 0:(null==t&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t,o=!0,e=this.get("orient",!0),a=this.option,n=this.dependentModels;o&&(n[(t="vertical"===e?"y":"x")+"Axis"].length?(a[t+"AxisIndex"]=[0],o=!1):g2(n.singleAxis,function(t){o&&t.get("orient",!0)===e&&(a.singleAxisIndex=[t.componentIndex],o=!1)})),o&&m2(function(t){if(o){var e=[],n=this.dependentModels[t.axis];if(n.length&&!e.length)for(var i=0,r=n.length;i<r;i++)"category"===n[i].get("type")&&e.push(i);(a[t.axisIndex]=e).length&&(o=!1)}},this),o&&this.ecModel.eachSeries(function(r){this._isSeriesHasAllAxesTypeOf(r,"value")&&m2(function(t){var e=a[t.axisIndex],n=r.get(t.axisIndex),i=r.get(t.axisId);p(e,n=r.ecModel.queryComponents({mainType:t.axis,index:n,id:i})[0].componentIndex)<0&&e.push(n)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){e=e||t.name},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(n,i){var r=!0;return m2(function(t){var e=n.get(t.axisIndex),e=this.dependentModels[t.axis][e];e&&e.get("type")===i||(r=!1)},this),r},_setDefaultThrottle:function(t){t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle&&(t=this.ecModel.option,this.option.throttle=t.animation&&0<t.animationDurationUpdate?100:20)},getFirstTargetAxisModel:function(){var n;return m2(function(t){var e;null!=n||(e=this.get(t.axisIndex)).length&&(n=this.dependentModels[t.axis][e[0]])},this),n},eachTargetAxis:function(n,i){var r=this.ecModel;m2(function(e){g2(this.get(e.axisIndex),function(t){n.call(i,e,t,this,r)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){e=this.getAxisProxy(t,e);return e&&e.getAxisModel()},setRawRange:function(e,t){var n=this.option;g2([["start","startValue"],["end","endValue"]],function(t){null==e[t[0]]&&null==e[t[1]]||(n[t[0]]=e[t[0]],n[t[1]]=e[t[1]])},this),t||kf(this,e)},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();e=this.findRepresentativeAxisProxy();return e?e.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e,n=this._axisProxies;for(e in n)if(n.hasOwnProperty(e)&&n[e].hostedBy(this))return n[e];for(e in n)if(n.hasOwnProperty(e)&&!n[e].hostedBy(this))return n[e]},getRangePropMode:function(){return this._rangePropMode.slice()}}),e0=Wv.extend({type:"dataZoom",render:function(t,e,n,i){this.dataZoomModel=t,this.ecModel=e,this.api=n},getTargetCoordInfo:function(){var t=this.dataZoomModel,i=this.ecModel,r={};return t.eachTargetAxis(function(t,e){var n,e=i.getComponent(t.axis,e);e&&(n=e.getCoordSysModel())&&function(t,e,n,i){for(var r,o=0;o<n.length;o++)if(n[o].model===t){r=n[o];break}r||n.push(r={model:t,axisModels:[],coordIndex:i}),r.axisModels.push(e)}(n,e,r[n.mainType]||(r[n.mainType]=[]),n.componentIndex)},this),r}}),y2=(i0.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),dy),v2=Pi,x2=Yi,_2=v,b2=P,w2="horizontal",M2=["line","bar","candlestick","scatter"],A2=e0.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,n,i){A2.superApply(this,"render",arguments),ao(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){A2.superApply(this,"remove",arguments),so(this,"_dispatchZoomAction")},dispose:function(){A2.superApply(this,"dispose",arguments),so(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new tm;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,n=this._findCoordRect(),e={width:e.getWidth(),height:e.getHeight()},i=this._orient===w2?{right:e.width-n.x-n.width,top:e.height-30-7,width:n.width,height:30}:{right:7,top:n.y,width:30,height:n.height},r=cr(t.option);P(["right","top","width","height"],function(t){"ph"===r[t]&&(r[t]=i[t])});t=sr(r,e,t.padding);this._location={x:t.x,y:t.y},this._size=[t.width,t.height],"vertical"===this._orient&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,n=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),r=i&&i.get("inverse"),o=this._displayables.barGroup,i=(this._dataShadowInfo||{}).otherAxisInverse;o.attr(n!==w2||r?n===w2&&r?{scale:i?[-1,1]:[-1,-1]}:"vertical"!==n||r?{scale:i?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:i?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:i?[1,1]:[1,-1]});o=t.getBoundingRect([o]);t.attr("position",[e.x-o.x,e.y-o.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.barGroup;n.add(new y2({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),n.add(new y2({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:v(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t,e,i,r,o,a,s,l,u,c,n,h=this._dataShadowInfo=this._prepareDataShadowInfo();h&&(t=this._size,e=(n=h.series).getRawData(),null!=(n=n.getShadowDim?n.getShadowDim():h.otherDim)&&(h=.3*((i=e.getDataExtent(n))[1]-i[0]),i=[i[0]-h,i[1]+h],o=[0,t[1]],h=[0,t[0]],a=[[t[0],0],[0,0]],s=[],l=h[1]/(e.count()-1),u=0,c=Math.round(e.count()/t[0]),e.each([n],function(t,e){var n;0<c&&e%c?u+=l:(t=(n=null==t||isNaN(t)||""===t)?0:v2(t,i,o,!0),n&&!r&&e?(a.push([a[a.length-1][0],0]),s.push([s[s.length-1][0],0])):!n&&r&&(a.push([u,0]),s.push([u,0])),a.push([u,t]),s.push([u,t]),u+=l,r=n)}),n=this.dataZoomModel,this._displayables.barGroup.add(new cy({shape:{points:a},style:D({fill:n.get("dataBackgroundColor")},n.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new hy({shape:{points:s},style:n.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))))},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,s=t.get("showDataShadow");if(!1!==s){var l,u=this.ecModel;return t.eachTargetAxis(function(o,a){P(t.getAxisProxy(o.name,a).getTargetSeriesModels(),function(t){var e,n,i,r;l||!0!==s&&p(M2,t.get("type"))<0||(n=u.getComponent(o.axis,a).axis,i={x:"y",y:"x",radius:"angle",angle:"radius"}[o.name],r=t.coordinateSystem,null!=i&&r.getOtherAxis&&(e=r.getOtherAxis(n).inverse),i=t.getData().mapDimension(i),l={thisAxis:n,series:t,thisDim:o.name,otherDim:i,otherAxisInverse:e})},this)},this),l}},_renderHandle:function(){var t=this._displayables,i=t.handles=[],r=t.handleLabels=[],o=this._displayables.barGroup,e=this._size,a=this.dataZoomModel;o.add(t.filler=new y2({draggable:!0,cursor:Ef(this._orient),drift:_2(this._onDragMove,this,"all"),onmousemove:function(t){xg(t.event)},ondragstart:_2(this._showDataInfo,this,!0),ondragend:_2(this._onDragEnd,this),onmouseover:_2(this._showDataInfo,this,!0),onmouseout:_2(this._showDataInfo,this,!1),style:{fill:a.get("fillerColor"),textPosition:"inside"}})),o.add(new y2(Kn({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:a.get("dataBackgroundColor")||a.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}}))),b2([0,1],function(t){var e=Ni(a.get("handleIcon"),{cursor:Ef(this._orient),draggable:!0,drift:_2(this._onDragMove,this,t),onmousemove:function(t){xg(t.event)},ondragend:_2(this._onDragEnd,this),onmouseover:_2(this._showDataInfo,this,!0),onmouseout:_2(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),n=e.getBoundingRect();this._handleHeight=zi(a.get("handleSize"),this._size[1]),this._handleWidth=n.width/n.height*this._handleHeight,e.setStyle(a.getModel("handleStyle").getItemStyle());n=a.get("handleColor");null!=n&&(e.style.fill=n),o.add(i[t]=e);e=a.textStyleModel;this.group.add(r[t]=new U0({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:e.getTextColor(),textFont:e.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[v2(t[0],[0,100],e,!0),v2(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var n=this.dataZoomModel,i=this._handleEnds,r=this._getViewExtent(),o=n.findRepresentativeAxisProxy().getMinMaxSpan(),a=[0,100];Yb(e,i,r,n.get("zoomLock")?"all":t,null!=o.minSpan?v2(o.minSpan,a,r,!0):null,null!=o.maxSpan?v2(o.maxSpan,a,r,!0):null);o=this._range,a=this._range=x2([v2(i[0],r,a,!0),v2(i[1],r,a,!0)]);return!o||o[0]!==a[0]||o[1]!==a[1]},_updateView:function(t){var i=this._displayables,r=this._handleEnds,e=x2(r.slice()),o=this._size;b2([0,1],function(t){var e=i.handles[t],n=this._handleHeight;e.attr({scale:[n/2,n/2],position:[r[t],o[1]/2-n/2]})},this),i.filler.setShape({x:e[0],y:0,width:e[1]-e[0],height:o[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=Ii(o.handles[t].parent,this.group),n=Si(0===t?"right":"left",e),i=this._handleWidth/2+5,e=Ci([u[t]+(0===t?-i:i),this._size[1]/2],e);a[t].setStyle({x:e[0],y:e[1],textVerticalAlign:s===w2?"middle":n,textAlign:s===w2?n:"center",text:l[t]})}var n,i,r=this.dataZoomModel,o=this._displayables,a=o.handleLabels,s=this._orient,l=["",""];!r.get("showDetail")||(i=r.findRepresentativeAxisProxy())&&(n=i.getAxisModel().axis,r=this._range,i=t?i.calculateDataWindow({start:r[0],end:r[1]}).valueWindow:i.getDataValueWindow(),l=[this._formatLabel(i[0],n),this._formatLabel(i[1],n)]);var u=x2(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var n=this.dataZoomModel,i=n.get("labelFormatter"),n=n.get("labelPrecision");null!=n&&"auto"!==n||(n=e.getPixelPrecision());n=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(n,20));return m(i)?i(t,n):L(i)?i.replace("{value}",n):n},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,n){this._dragging=!0;n=Ci([e,n],this._displayables.barGroup.getLocalTransform(),!0),t=this._updateInterval(t,n[0]),n=this.dataZoomModel.get("realtime");this._updateView(!n),t&&n&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,t=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);t[0]<0||t[0]>e[0]||t[1]<0||t[1]>e[1]||(e=((e=this._handleEnds)[0]+e[1])/2,e=this._updateInterval("all",t[0]-e),this._updateView(),e&&this._dispatchZoomAction())},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t,e,n;return b2(this.getTargetCoordInfo(),function(t){!n&&t.length&&(t=t[0].model.coordinateSystem,n=t.getRect&&t.getRect())}),n||(t=this.api.getWidth(),e=this.api.getHeight(),n={x:.2*t,y:.2*e,width:.6*t,height:.6*e}),n}});i0.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var I2="\0_ec_dataZoom_roams",C2=v,S2=e0.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(a,t,s,e){S2.superApply(this,"render",arguments),this._range=a.getPercentRange(),P(this.getTargetCoordInfo(),function(t,r){var o=I(t,function(t){return Pf(t.model)});P(t,function(e){var i=e.model,n={};P(["pan","zoom","scrollMove"],function(t){n[t]=C2(T2[t],this,e,r)},this),Of(s,{coordId:Pf(i),allCoordIds:o,containsPoint:function(t,e,n){return i.coordinateSystem.containPoint([e,n])},dataZoomId:a.id,dataZoomModel:a,getRange:n})},this)},this)},dispose:function(){var t,n;t=this.api,n=this.dataZoomModel.id,P(t=zf(t),function(t){t.controller.dispose();var e=t.dataZoomInfos;e[n]&&(delete e[n],t.count--)}),jf(t),S2.superApply(this,"dispose",arguments),this._range=null}}),T2={zoom:function(t,e,n,i){var r=this._range,o=r.slice(),a=t.axisModels[0];if(a){t=D2[e](null,[i.originX,i.originY],a,n,t),t=(0<t.signal?t.pixelStart+t.pixelLength-t.pixel:t.pixel-t.pixelStart)/t.pixelLength*(o[1]-o[0])+o[0],i=Math.max(1/i.scale,0);o[0]=(o[0]-t)*i+t,o[1]=(o[1]-t)*i+t;t=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Yb(0,o,[0,100],0,t.minSpan,t.maxSpan),this._range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}},pan:Rf(function(t,e,n,i,r,o){n=D2[i]([o.oldX,o.oldY],[o.newX,o.newY],e,r,n);return n.signal*(t[1]-t[0])*n.pixel/n.pixelLength}),scrollMove:Rf(function(t,e,n,i,r,o){return D2[i]([0,0],[o.scrollDelta,o.scrollDelta],e,r,n).signal*(t[1]-t[0])*o.scrollDelta})},D2={grid:function(t,e,n,i,r){var o=n.axis,n={},r=r.model.coordinateSystem.getRect();return t=t||[0,0],"x"===o.dim?(n.pixel=e[0]-t[0],n.pixelLength=r.width,n.pixelStart=r.x,n.signal=o.inverse?1:-1):(n.pixel=e[1]-t[1],n.pixelLength=r.height,n.pixelStart=r.y,n.signal=o.inverse?-1:1),n},polar:function(t,e,n,i,r){var o=n.axis,a={},s=r.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),r=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(a.pixel=e[0]-t[0],a.pixelLength=l[1]-l[0],a.pixelStart=l[0],a.signal=o.inverse?1:-1):(a.pixel=e[1]-t[1],a.pixelLength=r[1]-r[0],a.pixelStart=r[0],a.signal=o.inverse?-1:1),a},singleAxis:function(t,e,n,i,r){var o=n.axis,n=r.model.coordinateSystem.getRect(),r={};return t=t||[0,0],"horizontal"===o.orient?(r.pixel=e[0]-t[0],r.pixelLength=n.width,r.pixelStart=n.x,r.signal=o.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=n.height,r.pixelStart=n.y,r.signal=o.inverse?-1:1),r}};qo({getTargetSeries:function(t){var i=Y();return t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,e,n){P(n.getAxisProxy(t.name,e).getTargetSeriesModels(),function(t){i.set(t.uid,t)})})}),i},modifyOutputEnd:!0,overallReset:function(t,i){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,e,n){n.getAxisProxy(t.name,e).reset(n,i)}),t.eachTargetAxis(function(t,e,n){n.getAxisProxy(t.name,e).filterData(n,i)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),n=e.getDataPercentWindow(),e=e.getDataValueWindow();t.setRawRange({start:n[0],end:n[1],startValue:e[0],endValue:e[1]},!0)})}}),Jo("dataZoom",function(n,t){var i=Tf(v(t.eachComponent,t,"dataZoom"),d2,function(t,e){return t.get(e.axisIndex)}),r=[];t.eachComponent({mainType:"dataZoom",query:n},function(t,e){r.push.apply(r,i(t).nodes)}),P(r,function(t,e){t.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})});var N2=P,sy=function(t){t=t&&t.visualMap;T(t)||(t=t?[t]:[]),N2(t,function(t){t&&(Bf(t,"splitList")&&!Bf(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList),(t=t.pieces)&&T(t)&&N2(t,function(t){E(t)&&(Bf(t,"start")&&!Bf(t,"min")&&(t.min=t.start),Bf(t,"end")&&!Bf(t,"max")&&(t.max=t.end))}))})};Qy.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?0<t.pieces.length:0<t.splitNumber)&&!t.calculable?"piecewise":"continuous"});Tm=Pg.VISUAL.COMPONENT;Ko(Tm,{createOnAllSeries:!0,reset:function(n,t){var i=[];return t.eachComponent("visualMap",function(t){var c,h,d,f,e=n.pipelineContext;!t.isTargetSeries(n)||e&&e.large||i.push((e=t.stateList,c=t.targetVisuals,h=v(t.getValueState,t),d=t.getDataDimension(n.getData()),f={},P(e,function(t){var e=ib.prepareVisualTypes(c[t]);f[t]=e}),{progress:function(t,n){null!=d&&(d=n.getDimension(d));for(var i;null!=(i=t.next());){var e=n.getRawDataItem(i);if(e&&!1===e.visualMap)return;for(var r=null!=d?n.get(d,i,!0):i,e=h(r),o=c[e],a=f[e],s=0,l=a.length;s<l;s++){var u=a[s];o[u]&&o[u].applyVisual(r,function(t){return n.getItemVisual(i,t)},function(t,e){n.setItemVisual(i,t,e)})}}}}))}),i}}),Ko(Tm,{createOnAllSeries:!0,reset:function(n,t){var i=n.getData(),r=[];t.eachComponent("visualMap",function(t){var e;t.isTargetSeries(n)&&(e=t.getVisualMeta(v(Ff,null,n,t))||{stops:[],outerColors:[]},t=t.getDataDimension(i),null!=(t=i.getDimensionInfo(t))&&(e.dimension=t.index,r.push(e)))}),n.getData().setVisual("visualMeta",r)}});var L2=function(t,e,n){e=C((k2[t]||{})[e]);return n&&T(e)?e[e.length-1]:e},k2={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},E2=ib.mapVisual,O2=ib.eachVisual,P2=T,z2=P,j2=Yi,Y2=Pi,R2=na({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,n){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,n)},optionUpdated:function(t,e){var n=this.option;Jp.canvasSupported||(n.realtime=!1),e||of(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=v(t,this),this.controllerVisuals=rf(this.option.controller,e,t),this.targetVisuals=rf(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,n=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,e){n.push(e)}):n=Ke(t),n},eachTargetSeries:function(e,n){P(this.getTargetSeriesIndices(),function(t){e.call(n,this.ecModel.getSeriesByIndex(t))},this)},isTargetSeries:function(e){var n=!1;return this.eachTargetSeries(function(t){t===e&&(n=!0)}),n},formatValueText:function(t,e,n){function i(t){return t===s[0]?"min":t===s[1]?"max":(+t).toFixed(Math.min(a,20))}var r,o=this.option,a=o.precision,s=this.dataBound,o=o.formatter;return n=n||["<",">"],T(t)&&(t=t.slice(),r=!0),e=e?t:r?[i(t[0]),i(t[1])]:i(t),L(o)?o.replace("{value}",r?e[0]:e).replace("{value2}",r?e[1]:e):m(o)?r?o(t[0],t[1]):o(t):r?t[0]===s[0]?n[0]+" "+e[1]:t[1]===s[1]?n[1]+" "+e[0]:e[0]+" - "+e[1]:e},resetExtent:function(){var t=this.option,t=j2([t.min,t.max]);this._dataExtent=t},getDataDimension:function(t){var e=this.option.dimension,n=t.dimensions;if(null!=e||n.length){if(null!=e)return t.getDimension(e);for(var i=t.dimensions,r=i.length-1;0<=r;r--){var o=i[r];if(!t.getDimensionInfo(o).isCalculationCoord)return o}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){function t(i){P2(n.color)&&!i.inRange&&(i.inRange={color:n.color.slice().reverse()}),i.inRange=i.inRange||{color:e.get("gradientColor")},z2(this.stateList,function(t){var e,n=i[t];L(n)&&((e=L2(n,"active",l))?(i[t]={},i[t][n]=e):delete i[t])},this)}var e=this.ecModel,n=this.option,i={inRange:n.inRange,outOfRange:n.outOfRange},r=n.target||(n.target={}),o=n.controller||(n.controller={});g(r,i),g(o,i);var l=this.isCategory();t.call(this,r),t.call(this,o),function(t,e,n){var e=t[e],i=t[n];e&&!i&&(i=t[n]={},z2(e,function(t,e){var n;!ib.isValidType(e)||null!=(n=L2(e,"inactive",l))&&(i[e]=n,"color"!==e||i.hasOwnProperty("opacity")||i.hasOwnProperty("colorAlpha")||(i.opacity=[0,0]))}))}.call(this,r,"inRange","outOfRange"),function(r){var o=(r.inRange||{}).symbol||(r.outOfRange||{}).symbol,a=(r.inRange||{}).symbolSize||(r.outOfRange||{}).symbolSize,s=this.get("inactiveColor");z2(this.stateList,function(t){var e=this.itemSize,n=r[t];null==(n=n||(r[t]={color:l?s:[s]})).symbol&&(n.symbol=o&&C(o)||(l?"roundRect":["roundRect"])),null==n.symbolSize&&(n.symbolSize=a&&C(a)||(l?e[0]:[e[0],e[0]])),n.symbol=E2(n.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var i,t=n.symbolSize;null!=t&&(i=-1/0,O2(t,function(t){i<t&&(i=t)}),n.symbolSize=E2(t,function(t){return Y2(t,[0,i],[0,e[0]],!0)}))},this)}.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:A,getValueState:A,getVisualMeta:A}),B2=[20,140],F2=R2.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){F2.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){F2.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),null!=t[0]&&!isNaN(t[0])||(t[0]=B2[0]),null!=t[1]&&!isNaN(t[1])||(t[1]=B2[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):T(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){R2.prototype.completeVisualOption.apply(this,arguments),P(this.stateList,function(t){t=this.option.controller[t].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=Yi((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(i){var r=[];return this.eachTargetSeries(function(t){var n=[],e=t.getData();e.each(this.getDataDimension(e),function(t,e){i[0]<=t&&t<=i[1]&&n.push(e)},this),r.push({seriesId:t.id,dataIndex:n})},this),r},getVisualMeta:function(n){function t(t,e){r.push({value:t,color:n(t,e)})}for(var e=Hf(0,0,this.getExtent()),i=Hf(0,0,this.option.range.slice()),r=[],o=0,a=0,s=i.length,l=e.length;a<l&&(!i.length||e[a]<=i[0]);a++)e[a]<i[o]&&t(e[a],"outOfRange");for(u=1;o<s;o++,u=0)u&&r.length&&t(i[o],"outOfRange"),t(i[o],"inRange");for(var u=1;a<l;a++)(!i.length||i[i.length-1]<e[a])&&(u&&(r.length&&t(r[r.length-1].value,"outOfRange"),u=0),t(e[a],"outOfRange"));var c=r.length;return{stops:r,outerColors:[c?r[0].color:"transparent",c?r[c-1].color:"transparent"]}}}),Tm=ia({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,n,i){!1!==(this.visualMapModel=t).get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,n=Hy(e.get("padding")||0),i=t.getBoundingRect();t.add(new dy({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(n,i,r){function o(t){return l[t]}function a(t,e){l[t]=e}var t,e=(r=r||{}).forceState,s=this.visualMapModel,l={};"symbol"===i&&(l.symbol=s.get("itemSymbol")),"color"===i&&(t=s.get("contentColor"),l.color=t);var u=s.controllerVisuals[e||s.getValueState(n)];return P(ib.prepareVisualTypes(u),function(t){var e=u[t];r.convertOpacityToAlpha&&"opacity"===t&&(t="colorAlpha",e=u.__alphaForOpacity),ib.dependsOn(t,i)&&e&&e.applyVisual(n,o,a)}),l[i]},positionGroup:function(t){var e=this.visualMapModel,n=this.api;lr(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},doRender:A}),H2=Pi,W2=P,G2=Math.min,U2=Math.max,Z2=Tm.extend({type:"visualMap.continuous",init:function(){Z2.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,n,i){i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);t=t.get("text");this._renderEndsText(e,t,0),this._renderEndsText(e,t,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,n){var i,r,o;e&&(i=null!=(i=e[1-n])?i+"":"",r=(o=this.visualMapModel).get("textGap"),e=o.itemSize,o=this._shapes.barGroup,e=this._applyTransform([e[0]/2,0===n?-r:e[1]+r],o),r=this._applyTransform(0===n?"bottom":"top",o),n=this._orient,o=this.visualMapModel.textStyleModel,this.group.add(new U0({style:{x:e[0],y:e[1],textVerticalAlign:"horizontal"===n?"middle":r,textAlign:"horizontal"===n?r:"center",text:i,textFont:o.getFont(),textFill:o.getTextColor()}})))},_renderBar:function(t){var e=this.visualMapModel,n=this._shapes,i=e.itemSize,r=this._orient,o=this._useHandle,a=Wf(e,this.api,i),s=n.barGroup=this._createBarGroup(a);s.add(n.outOfRange=Uf()),s.add(n.inRange=Uf(null,o?Vf(this._orient):null,v(this._dragHandle,this,"all",!1),v(this._dragHandle,this,"all",!0)));e=e.textStyleModel.getTextRect(""),e=U2(e.width,e.height);o&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(s,0,i,e,r,a),this._createHandle(s,1,i,e,r,a)),this._createIndicator(s,i,e,r),t.add(s)},_createHandle:function(t,e,n,i,r){var o,a=v(this._dragHandle,this,e,!1),s=v(this._dragHandle,this,e,!0),o=Uf((o=i,0===e?[[0,0],[o,0],[o,-o]]:[[0,0],[o,0],[o,o]]),Vf(this._orient),a,s);o.position[0]=n[0],t.add(o);t=this.visualMapModel.textStyleModel,t=new U0({draggable:!0,drift:a,onmousemove:function(t){xg(t.event)},ondragend:s,style:{x:0,y:0,text:"",textFont:t.getFont(),textFill:t.getTextColor()}});this.group.add(t);r=["horizontal"===r?i/2:1.5*i,"horizontal"===r?0===e?-1.5*i:1.5*i:0===e?-i/2:i/2],i=this._shapes;i.handleThumbs[e]=o,i.handleLabelPoints[e]=r,i.handleLabels[e]=t},_createIndicator:function(t,e,n,i){var r=Uf([[0,0]],"move");r.position[0]=e[0],r.attr({invisible:!0,silent:!0}),t.add(r);t=this.visualMapModel.textStyleModel,t=new U0({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:t.getFont(),textFill:t.getTextColor()}});this.group.add(t);i=["horizontal"===i?n/2:9,0],n=this._shapes;n.indicator=r,n.indicatorLabel=t,n.indicatorLabelPoint=i},_dragHandle:function(t,e,n,i){this._useHandle&&(this._dragging=!e,e||(i=this._applyTransform([n,i],this._shapes.barGroup,!0),this._updateInterval(t,i[1]),this._updateView()),e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?this._hovering||this._clearHoverLinkToSeries():Zf(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1))},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),t=[0,t.itemSize[1]];this._handleEnds=[H2(e[0],n,t,!0),H2(e[1],n,t,!0)]},_updateInterval:function(t,e){var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];Yb(e=e||0,i,r,t,0);n=n.getExtent();this._dataInterval=[H2(i[0],r,n,!0),H2(i[1],r,n,!0)]},_updateView:function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,r=[0,e.itemSize[1]],e=t?r:this._handleEnds,t=this._createBarVisual(this._dataInterval,n,e,"inRange"),r=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:t.barColor,opacity:t.opacity}).setShape("points",t.barPoints),i.outOfRange.setStyle({fill:r.barColor,opacity:r.opacity}).setShape("points",r.barPoints),this._updateHandle(e,t)},_createBarVisual:function(t,e,n,i){var r={forceState:i,convertOpacityToAlpha:!0},i=this._makeColorGradient(t,r),r=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],r=this._createBarPoints(n,r);return{barColor:new xy(0,0,0,1,i),barPoints:r,handlesColor:[i[0].color,i[i.length-1].color]}},_makeColorGradient:function(t,e){var n=[],i=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var r=1;r<100;r++){var o=t[0]+i*r;if(o>t[1])break;n.push({color:this.getControllerVisual(o,"color",e),offset:r/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},_createBarPoints:function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new tm("horizontal"!==e||n?"horizontal"===e&&n?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||n?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(n,i){var r,o,a,s;this._useHandle&&(r=this._shapes,o=this.visualMapModel,a=r.handleThumbs,s=r.handleLabels,W2([0,1],function(t){var e=a[t];e.setStyle("fill",i.handlesColor[t]),e.position[1]=n[t];e=Ci(r.handleLabelPoints[t],Ii(e,this.group));s[t].setStyle({x:e[0],y:e[1],text:o.formatValueText(this._dataInterval[t]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===t?"bottom":"top":"left",r.barGroup)})},this))},_showIndicator:function(t,e,n,i){var r=this.visualMapModel,o=r.getExtent(),a=r.itemSize,s=[0,a[1]],l=H2(t,o,s,!0),u=this._shapes,o=u.indicator;o&&(o.position[1]=l,o.attr("invisible",!1),o.setShape("points",(s=!!n,i=i,l=l,a=a[1],s?[[0,-G2(i,U2(l,0))],[6,0],[0,G2(i,U2(a-l,0))]]:[[0,0],[5,-5],[5,5]])),l=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),o.setStyle("fill",l),t=Ci(u.indicatorLabelPoint,Ii(o,this.group)),(l=u.indicatorLabel).attr("invisible",!1),o=this._applyTransform("left",u.barGroup),u=this._orient,l.setStyle({text:(n||"")+r.formatValueText(e),textVerticalAlign:"horizontal"===u?o:"middle",textAlign:"horizontal"===u?"center":o,x:t[0],y:t[1]}))},_enableHoverLinkToSeries:function(){var n=this;this._shapes.barGroup.on("mousemove",function(t){var e;n._hovering=!0,n._dragging||(e=n.visualMapModel.itemSize,(t=n._applyTransform([t.offsetX,t.offsetY],n._shapes.barGroup,!0,!0))[1]=G2(U2(0,t[1]),e[1]),n._doHoverLinkToSeries(t[1],0<=t[0]&&t[0]<=e[0]))}).on("mouseout",function(){n._hovering=!1,n._dragging||n._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var n,i,r,o,a,s=this.visualMapModel,l=s.itemSize;function u(t,e,n){for(var i=0,r=t.length;i<r;i++)for(var o=t[i].seriesId,a=Ke(t[i].dataIndex),s=n&&n[o],l=0,u=a.length;l<u;l++){var c=a[l];s&&s[c]?s[c]=null:(e[o]||(e[o]={}))[c]=1}}function c(t,e){var n,i,r=[];for(n in t)t.hasOwnProperty(n)&&null!=t[n]&&(e?r.push(+n):(i=c(t[n],!0)).length&&r.push({seriesId:n,dataIndex:i}));return r}s.option.hoverLink&&(n=[0,l[1]],i=s.getExtent(),t=G2(U2(n[0],t),n[1]),r=i,o=n,a=6,l=(l=s).get("hoverLinkDataSize"),a=[t-(o=a=l?H2(l,r,o,!0)/2:a),t+o],t=H2(t,n,i,!0),i=[H2(a[0],n,i,!0),H2(a[1],n,i,!0)],a[0]<n[0]&&(i[0]=-1/0),n[1]<a[1]&&(i[1]=1/0),e&&(i[0]===-1/0?this._showIndicator(t,i[1],"< ",o):i[1]===1/0?this._showIndicator(t,i[0],"> ",o):this._showIndicator(t,t," ",o)),t=this._hoverLinkDataIndices,o=[],(e||Zf(s))&&(o=this._hoverLinkDataIndices=s.findTargetDataIndices(i)),i=o,o={},u(t||[],t={}),u(i||[],o,t),o=[c(t),c(o)],this._dispatchHighDown("downplay",Gf(o[0])),this._dispatchHighDown("highlight",Gf(o[1])))},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,n=this.visualMapModel;e&&null!=e.dataIndex&&(t=this.ecModel.getSeriesByIndex(e.seriesIndex),n.isTargetSeries(t)&&(e=(t=t.getData(e.dataType)).get(n.getDataDimension(t),e.dataIndex,!0),isNaN(e)||this._showIndicator(e,e)))},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Gf(t)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,n,i){i=Ii(e,i?null:this.group);return Dy[T(t)?"applyTransform":"transformDirection"](t,i,n)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});Jo({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})}),Xo(sy);var V2=R2.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){V2.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var n=this._mode=this._determineMode();X2[this._mode].call(this),this._resetSelected(t,e);var i=this.option.categories;this.resetVisual(function(t,e){"categories"===n?(t.mappingMethod="category",t.categories=C(i)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=I(this._pieceList,function(t){t=C(t);return"inRange"!==e&&(t.visual=null),t}))})},completeVisualOption:function(){function i(t,e,n){return t&&t[e]&&(E(t[e])?t[e].hasOwnProperty(n):t[e]===n)}var r=this.option,n={},t=ib.listVisualTypes(),o=this.isCategory();P(r.pieces,function(e){P(t,function(t){e.hasOwnProperty(t)&&(n[t]=1)})}),P(n,function(t,e){var n=0;P(this.stateList,function(t){n|=i(r,t,e)||i(r.target,t,e)},this),n||P(this.stateList,function(t){(r[t]||(r[t]={}))[e]=L2(e,"inRange"===t?"active":"inactive",o)})},this),R2.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var n,i=this.option,r=this._pieceList,o=(e?i:t).selected||{};i.selected=o,P(r,function(t,e){t=this.getSelectedMapKey(t);o.hasOwnProperty(t)||(o[t]=!0)},this),"single"===i.selectedMode&&(n=!1,P(r,function(t,e){t=this.getSelectedMapKey(t);o[t]&&(n?o[t]=!1:n=!0)},this))},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&0<t.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=C(t)},getValueState:function(t){t=ib.findPieceIndex(t,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(i){var r=[];return this.eachTargetSeries(function(t){var n=[],e=t.getData();e.each(this.getDataDimension(e),function(t,e){ib.findPieceIndex(t,this._pieceList)===i&&n.push(e)},this),r.push({seriesId:t.id,dataIndex:n})},this),r},getRepresentValue:function(t){return this.isCategory()||null!=t.value?t.value:(t=t.interval||[])[0]===-1/0&&t[1]===1/0?0:(t[0]+t[1])/2},getVisualMeta:function(i){function e(t,e){var n=a.getRepresentValue({interval:t});e=e||a.getValueState(n);e=i(n,e);t[0]===-1/0?o[0]=e:t[1]===1/0?o[1]=e:r.push({value:t[0],color:e},{value:t[1],color:e})}if(!this.isCategory()){var t,r=[],o=[],a=this,n=this._pieceList.slice();n.length?((t=n[0].interval[0])!==-1/0&&n.unshift({interval:[-1/0,t]}),(t=n[n.length-1].interval[1])!==1/0&&n.push({interval:[t,1/0]})):n.push({interval:[-1/0,1/0]});var s=-1/0;return P(n,function(t){t=t.interval;t&&(t[0]>s&&e([s,t[0]],"outOfRange"),e(t.slice()),s=t[1])},this),{stops:r,outerColors:o}}}}),X2={splitNumber:function(){var t=this.option,e=this._pieceList,n=Math.min(t.precision,20),i=this.getExtent(),r=t.splitNumber,r=Math.max(parseInt(r,10),1);t.splitNumber=r;for(var o=(i[1]-i[0])/r;+o.toFixed(n)!==o&&n<5;)n++;t.precision=n;var o=+o.toFixed(n),a=0;t.minOpen&&e.push({index:a++,interval:[-1/0,i[0]],close:[0,0]});for(var s=i[0],l=a+r;a<l;s+=o){var u=a===r-1?i[1]:s+o;e.push({index:a++,interval:[s,u],close:[1,1]})}t.maxOpen&&e.push({index:a++,interval:[i[1],1/0],close:[0,0]}),qi(e),P(e,function(t){t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;P(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),Xf(t,this._pieceList)},pieces:function(){var t=this.option,h=this._pieceList;P(t.pieces,function(t,e){var n={text:"",index:e};if(null!=(t=!E(t)?{value:t}:t).label&&(n.text=t.label),t.hasOwnProperty("value")){e=n.value=t.value;n.interval=[e,e],n.close=[1,1]}else{for(var i=n.interval=[],r=n.close=[0,0],o=[1,0,1],a=[-1/0,1/0],s=[],l=0;l<2;l++){for(var u=[["gte","gt","min"],["lte","lt","max"]][l],c=0;c<3&&null==i[l];c++)i[l]=t[u[c]],r[l]=o[c],s[l]=2===c;null==i[l]&&(i[l]=a[l])}s[0]&&i[1]===1/0&&(r[0]=0),s[1]&&i[0]===-1/0&&(r[1]=0),i[0]===i[1]&&r[0]&&r[1]&&(n.value=i[0])}n.visual=ib.retrieveVisuals(t),h.push(n)},this),Xf(t,h),qi(h),P(h,function(t){var e=t.close,e=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,e)},this)}};Tm.extend({type:"visualMap.piecewise",doRender:function(){var i=this.group;i.removeAll();var r=this.visualMapModel,o=r.get("textGap"),t=r.textStyleModel,a=t.getFont(),s=t.getTextColor(),l=this._getItemAlign(),u=r.itemSize,e=this._getViewData(),t=e.endsText,c=O(r.get("showLabel",!0),!t);t&&this._renderEndsText(i,t[0],u,c,l),P(e.viewPieceList,function(t){var e=t.piece,n=new tm;n.onclick=v(this._onItemClick,this,e),this._enableHoverLink(n,t.indexInModelPieceList);t=r.getRepresentValue(e);this._createItemSymbol(n,t,[0,0,u[0],u[1]]),c&&(t=this.visualMapModel.getValueState(t),n.add(new U0({style:{x:"right"===l?-o:u[0]+o,y:u[1]/2,text:e.text,textVerticalAlign:"middle",textAlign:l,textFont:a,textFill:s,opacity:"outOfRange"===t?.5:1}}))),i.add(n)},this),t&&this._renderEndsText(i,t[1],u,c,l),Jy(r.get("orient"),i,r.get("itemGap")),this.renderBackground(i),this.positionGroup(i)},_enableHoverLink:function(t,n){function e(t){var e=this.visualMapModel;e.option.hoverLink&&this.api.dispatchAction({type:t,batch:Gf(e.findTargetDataIndices(n))})}t.on("mouseover",v(e,this,"highlight")).on("mouseout",v(e,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return Wf(t,this.api,t.itemSize);e=e.align;return e=!e||"auto"===e?"left":e},_renderEndsText:function(t,e,n,i,r){var o,a;e&&(o=new tm,a=this.visualMapModel.textStyleModel,o.add(new U0({style:{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,textVerticalAlign:"middle",textAlign:i?r:"center",text:e,textFont:a.getFont(),textFill:a.getTextColor()}})),t.add(o))},_getViewData:function(){var t=this.visualMapModel,e=I(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),n=t.get("text"),i=t.get("orient"),t=t.get("inverse");return("horizontal"===i?t:!t)?e.reverse():n=n&&n.slice().reverse(),{viewPieceList:e,endsText:n}},_createItemSymbol:function(t,e,n){t.add(Ja(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,n=e.option,i=C(n.selected),r=e.getSelectedMapKey(t);"single"===n.selectedMode?(i[r]=!0,P(i,function(t,e){i[e]=e===r})):i[r]=!i[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})}}),Xo(sy);var q2=$i,J2=Ki,Tm=na({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,n,i){this.mergeDefaultAndTheme(t,n),this.mergeOption(t,n,i.createdBySelf,!0)},isAnimationEnabled:function(){if(Jp.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,i,e,r){var o=this.constructor,a=this.mainType+"Model";e||i.eachSeries(function(t){var e=t.get(this.mainType,!0),n=t[a];e&&e.data?(n?n.mergeOption(e,i,!0):(r&&qf(e),P(e.data,function(t){t instanceof Array?(qf(t[0]),qf(t[1])):qf(t)}),S(n=new o(e,this,i),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),n.__hostSeries=t),t[a]=n):t[a]=null},this)},formatTooltip:function(t){var e=this.getData(),n=this.getRawValue(t),i=T(n)?I(n,q2).join(", "):q2(n),e=e.getName(t),t=J2(this.name);return null==n&&!e||(t+="<br />"),e&&(t+=J2(e),null!=n&&(t+=" : ")),null!=n&&(t+=J2(i)),t},getData:function(){return this._data},setData:function(t){this._data=t}});r(Tm,Og),Tm.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var $2=p,sy=N,Q2={min:sy(Jf,"min"),max:sy(Jf,"max"),average:sy(Jf,"average")},sy=ia({type:"marker",init:function(){this.markerGroupMap=Y()},render:function(t,n,i){var e=this.markerGroupMap;e.each(function(t){t.__keep=!1});var r=this.type+"Model";n.eachSeries(function(t){var e=t[r];e&&this.renderSeries(t,e,n,i)},this),e.each(function(t){t.__keep||this.group.remove(t.group)},this)},renderSeries:function(){}});sy.extend({type:"markPoint",updateTransform:function(t,e,n){e.eachSeries(function(t){var e=t.markPointModel;e&&(np(e.getData(),t,n),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,i,e,n){var r,o=t.coordinateSystem,a=t.id,s=t.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,new xs),c=(r=t,l=i,o=(a=o)?I(a&&a.dimensions,function(t){return D({name:t},r.getData().getDimensionInfo(r.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}],o=new R1(o,l),l=I(l.get("data"),N($f,r)),a&&(l=b(l,N(Kf,a))),o.initData(l,null,a?tp:function(t){return t.value}),o);i.setData(c),np(i.getData(),t,n),c.each(function(t){var e=c.getItemModel(t),n=e.getShallow("symbolSize");"function"==typeof n&&(n=n(i.getRawValue(t),i.getDataParams(t))),c.setItemVisual(t,{symbolSize:n,color:e.get("itemStyle.color")||s.getVisual("color"),symbol:e.getShallow("symbol")})}),u.updateData(c),this.group.add(u.group),c.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=i})}),u.__keep=!0,u.group.silent=i.get("silent")||t.get("silent")}}),Xo(function(t){t.markPoint=t.markPoint||{}}),Tm.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end"},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});function K2(t,e,n,i){var r,o,a,s=t.getData(),l=i.type;return T(i)||"min"!==l&&"max"!==l&&"average"!==l&&"median"!==l&&null==i.xAxis&&null==i.yAxis||(r=null!=i.yAxis||null!=i.xAxis?(a=null!=i.yAxis?"y":"x",e.getAxis(a),O(i.yAxis,i.xAxis)):(a=(o=Qf(i,s,e,t)).valueDataDim,o.valueAxis,ep(s,a,l)),o=1-(e="x"===a?0:1),s={},(a=C(i)).type=null,a.coord=[],s.coord=[],a.coord[o]=-1/0,s.coord[o]=1/0,0<=(n=n.get("precision"))&&"number"==typeof r&&(r=+r.toFixed(Math.min(n,20))),a.coord[e]=s.coord[e]=r,i=[a,s,{type:l,valueIndex:i.valueIndex,value:r}]),(i=[$f(t,i[0]),$f(t,i[1]),S({},i[2])])[2].type=i[2].type||"",g(i[2],i[0]),g(i[2],i[1]),i}sy.extend({type:"markLine",updateTransform:function(t,e,o){e.eachSeries(function(e){var n,i,r,t=e.markLineModel;t&&(n=t.getData(),i=t.__from,r=t.__to,i.each(function(t){ap(i,t,!0,e,o),ap(r,t,!1,e,o)}),n.each(function(t){n.setItemLayout(t,[i.getItemLayout(t),r.getItemLayout(t)])}),this.markerGroupMap.get(e.id).updateLayout())},this)},renderSeries:function(r,n,t,o){function e(t,e,n){var i=t.getItemModel(e);ap(t,e,n,r,o),t.setItemVisual(e,{symbolSize:i.get("symbolSize")||y[n?0:1],symbol:i.get("symbol",!0)||m[n?0:1],color:i.get("itemStyle.color")||s.getVisual("color")})}var i=r.coordinateSystem,a=r.id,s=r.getData(),l=this.markerGroupMap,u=l.get(a)||l.set(a,new Uu);this.group.add(u.group);var c,h,d,l=(h=r,d=n,l=(c=i)?I(c&&c.dimensions,function(t){return D({name:t},h.getData().getDimensionInfo(h.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}],a=new R1(l,d),i=new R1(l,d),l=new R1([],d),d=I(d.get("data"),N(K2,h,c,d)),c&&(d=b(d,N(op,c))),c=c?tp:function(t){return t.value},a.initData(I(d,function(t){return t[0]}),null,c),i.initData(I(d,function(t){return t[1]}),null,c),l.initData(I(d,function(t){return t[2]})),l.hasItemOption=!0,{from:a,to:i,line:l}),f=l.from,p=l.to,g=l.line;n.__from=f,n.__to=p,n.setData(g);var m=n.get("symbol"),y=n.get("symbolSize");T(m)||(m=[m,m]),"number"==typeof y&&(y=[y,y]),l.from.each(function(t){e(f,t,!0),e(p,t,!1)}),g.each(function(t){var e=g.getItemModel(t).get("lineStyle.color");g.setItemVisual(t,{color:e||f.getItemVisual(t,"color")}),g.setItemLayout(t,[f.getItemLayout(t),p.getItemLayout(t)]),g.setItemVisual(t,{fromSymbolSize:f.getItemVisual(t,"symbolSize"),fromSymbol:f.getItemVisual(t,"symbol"),toSymbolSize:p.getItemVisual(t,"symbolSize"),toSymbol:p.getItemVisual(t,"symbol")})}),u.updateData(g),l.line.eachItemGraphicEl(function(t,e){t.traverse(function(t){t.dataModel=n})}),u.__keep=!0,u.group.silent=n.get("silent")||r.get("silent")}}),Xo(function(t){t.markLine=t.markLine||{}}),Tm.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});function tA(t,e,n,i){var r=$f(t,i[0]),o=$f(t,i[1]),a=O,t=r.coord,i=o.coord;return t[0]=a(t[0],-1/0),t[1]=a(t[1],-1/0),i[0]=a(i[0],1/0),i[1]=a(i[1],1/0),(i=l([{},r,o])).coord=[r.coord,o.coord],i.x0=r.x,i.y0=r.y,i.x1=o.x,i.y1=o.y,i}var eA=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];sy.extend({type:"markArea",updateTransform:function(t,e,r){e.eachSeries(function(n){var i,t=n.markAreaModel;t&&(i=t.getData()).each(function(e){var t=I(eA,function(t){return cp(i,e,t,n,r)});i.setItemLayout(e,t),i.getItemGraphicEl(e).setShape("points",t)})},this)},renderSeries:function(n,a,t,i){var e=n.coordinateSystem,r=n.id,o=n.getData(),s=this.markerGroupMap,l=s.get(r)||s.set(r,{group:new tm});this.group.add(l.group),l.__keep=!0;var u,c,h=(u=n,s=a,e=(r=e)?(c=I(r&&r.dimensions,function(t){var e=u.getData();return D({name:t},e.getDimensionInfo(e.mapDimension(t))||{})}),new R1(I(["x0","y0","x1","y1"],function(t,e){return{name:t,type:c[e%2].type}}),s)):new R1(c=[{name:"value",type:"float"}],s),s=I(s.get("data"),N(tA,u,r,s)),r&&(s=b(s,N(up,r))),e.initData(s,null,r?function(t,e,n,i){return t.coord[Math.floor(i/2)][i%2]}:function(t){return t.value}),e.hasItemOption=!0,e);a.setData(h),h.each(function(e){h.setItemLayout(e,I(eA,function(t){return cp(h,e,t,n,i)})),h.setItemVisual(e,{color:o.getVisual("color")})}),h.diff(l.__data).add(function(t){var e=new cy({shape:{points:h.getItemLayout(t)}});h.setItemGraphicEl(t,e),l.group.add(e)}).update(function(t,e){e=l.__data.getItemGraphicEl(e);Mi(e,{shape:{points:h.getItemLayout(t)}},a,t),l.group.add(e),h.setItemGraphicEl(t,e)}).remove(function(t){t=l.__data.getItemGraphicEl(t);l.group.remove(t)}).execute(),h.eachItemGraphicEl(function(t,e){var n=h.getItemModel(e),i=n.getModel("label"),r=n.getModel("emphasis.label"),o=h.getItemVisual(e,"color");t.useStyle(D(n.getModel("itemStyle").getItemStyle(),{fill:Rt(o,.4),stroke:o})),t.hoverStyle=n.getModel("emphasis.itemStyle").getItemStyle(),pi(t.style,t.hoverStyle,i,r,{labelFetcher:a,labelDataIndex:e,defaultText:h.getName(e)||"",isRectText:!0,autoColor:o}),di(t,{}),t.dataModel=a}),l.__data=h,l.group.silent=a.get("silent")||n.get("silent")}}),Xo(function(t){t.markArea=t.markArea||{}}),Qy.registerSubTypeDefaulter("timeline",function(){return"slider"}),Jo({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e){var n=e.getComponent("timeline");return n&&null!=t.currentIndex&&(n.setCurrentIndex(t.currentIndex),!n.get("loop",!0)&&n.isIndexMax()&&n.setPlayState(!1)),e.resetOption("timeline"),D({currentIndex:n.option.currentIndex},t)}),Jo({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){e=e.getComponent("timeline");e&&null!=t.playState&&e.setPlayState(t.playState)});var nA=Qy.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},init:function(t,e,n){this._data,this._names,this.mergeDefaultAndTheme(t,n),this._initData()},mergeOption:function(t){nA.superApply(this,"mergeOption",arguments),this._initData()},setCurrentIndex:function(t){null==t&&(t=this.option.currentIndex);var e=this._data.count();this.option.loop?t=(t%e+e)%e:(t=e<=t?e-1:t)<0&&(t=0),this.option.currentIndex=t},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(t){this.option.autoPlay=!!t},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var r,t=this.option,e=t.data||[],t=t.axisType,o=this._names=[];"category"===t&&(r=[],P(e,function(t,e){var n,i=en(t);E(t)?(n=C(t)).value=e:n=e,r.push(n),L(i)||null!=i&&!isNaN(i)||(i=""),o.push(i+"")}),e=r),(this._data=new R1([{name:"value",type:{category:"ordinal",time:"time"}[t]||"number"}],this)).initData(e,o)},getData:function(){return this._data},getCategories:function(){if("category"===this.get("axisType"))return this._names.slice()}});r(nA.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#304654"},itemStyle:{color:"#304654",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{label:{show:!0,color:"#c23531"},itemStyle:{color:"#c23531"},controlStyle:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}}),Og);function iA(t,e,n,i){Mx.call(this,t,e,n),this.type=i||"value",this.model=null}Og=Wv.extend({type:"timeline"});iA.prototype={constructor:iA,getLabelModel:function(){return this.model.getModel("label")},isHorizontal:function(){return"horizontal"===this.model.get("orient")}},o(iA,Mx);var rA=v,oA=P,aA=Math.PI;Og.extend({type:"timeline.slider",init:function(t,e){this.api=e,this._axis,this._viewRect,this._timer,this._currentPointer,this._mainGroup,this._labelGroup},render:function(e,t,n,i){var r,o,a;this.model=e,this.api=n,this.ecModel=t,this.group.removeAll(),e.get("show",!0)&&(r=this._layout(e,n),o=this._createGroup("mainGroup"),n=this._createGroup("labelGroup"),a=this._axis=this._createAxis(r,e),e.formatTooltip=function(t){return Ki(a.scale.getLabel(t))},oA(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](r,o,a,e)},this),this._renderAxisLabel(r,n,a,e),this._position(r,e)),this._doPlayStop()},remove:function(){this._clearTimer(),this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(t,e){var n=t.get("label.position"),i=t.get("orient"),r=(x=e,sr((_=t).getBoxLayoutParams(),{width:x.getWidth(),height:x.getHeight()},_.get("padding")));null==n||"auto"===n?n="horizontal"===i?r.y+r.height/2<e.getHeight()/2?"-":"+":r.x+r.width/2<e.getWidth()/2?"+":"-":isNaN(n)&&(n={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[i][n]);var o,a,s,l={horizontal:"center",vertical:0<=n||"+"===n?"left":"right"},u={horizontal:0<=n||"+"===n?"top":"bottom",vertical:"middle"},c={horizontal:0,vertical:aA/2},h="vertical"===i?r.height:r.width,d=t.getModel("controlStyle"),f=d.get("show",!0),p=f?d.get("itemSize"):0,g=f?d.get("itemGap"):0,m=p+g,y=(y=t.get("label.rotate")||0)*aA/180,v=d.get("position",!0),x=f&&d.get("showPlayBtn",!0),_=f&&d.get("showPrevBtn",!0),e=f&&d.get("showNextBtn",!0),f=0,d=h;return"left"===v||"bottom"===v?(x&&(o=[0,0],f+=m),_&&(a=[f,0],f+=m)):(x&&(o=[d-p,0],d-=m),_&&(a=[0,0],f+=m)),e&&(s=[d-p,0],d-=m),d=[f,d],t.get("inverse")&&d.reverse(),{viewRect:r,mainLength:h,orient:i,rotation:c[i],labelRotation:y,labelPosOpt:n,labelAlign:t.get("label.align")||l[i],labelBaseline:t.get("label.verticalAlign")||t.get("label.baseline")||u[i],playPosition:o,prevBtnPosition:a,nextBtnPosition:s,axisExtent:d,controlSize:p,controlGap:g}},_position:function(t,e){function n(t){var e=t.position;t.origin=[l[0][0]-e[0],l[1][0]-e[1]]}function i(t){return[[t.x,t.x+t.width],[t.y,t.y+t.height]]}function r(t,e,n,i,r){t[i]+=n[i][r]-e[i][r]}var o=this._mainGroup,a=this._labelGroup,s=t.viewRect;"vertical"===t.orient&&(mt(d=dt(),d,[-(c=s.x),-(h=s.y+s.height)]),yt(d,d,-aA/2),mt(d,d,[c,h]),(s=s.clone()).applyTransform(d));var l=i(s),u=i(o.getBoundingRect()),c=i(a.getBoundingRect()),h=o.position,d=a.position;d[0]=h[0]=l[0][0];var f,s=t.labelPosOpt;isNaN(s)?(r(h,u,l,1,f="+"===s?0:1),r(d,c,l,1,1-f)):(r(h,u,l,1,f=0<=s?0:1),d[1]=h[1]+s),o.attr("position",h),a.attr("position",d),o.rotation=a.rotation=t.rotation,n(o),n(a)},_createAxis:function(t,e){var n=e.getData(),i=e.get("axisType"),r=Ua(e,i);r.getTicks=function(){return n.mapArray(["value"],function(t){return t})};var o=n.getDataExtent("value");r.setExtent(o[0],o[1]),r.niceTicks();i=new iA("value",r,t.axisExtent,i);return i.model=e,i},_createGroup:function(t){t=this["_"+t]=new tm;return this.group.add(t),t},_renderAxisLine:function(t,e,n,i){n=n.getExtent();i.get("lineStyle.show")&&e.add(new fy({shape:{x1:n[0],y1:0,x2:n[1],y2:0},style:S({lineCap:"round"},i.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(t,o,a,s){var l=s.getData(),e=a.scale.getTicks();oA(e,function(t){var e=a.dataToCoord(t),n=l.getItemModel(t),i=n.getModel("itemStyle"),r=n.getModel("emphasis.itemStyle"),e={position:[e,0],onclick:rA(this._changeTimeline,this,t)},e=fp(n,i,o,e);di(e,r.getItemStyle()),n.get("tooltip")?(e.dataIndex=t,e.dataModel=s):e.dataIndex=e.dataModel=null},this)},_renderAxisLabel:function(o,a,s,t){var l;s.getLabelModel().get("show")&&(l=t.getData(),t=s.getViewLabels(),oA(t,function(t){var e=t.tickValue,n=l.getItemModel(e),i=n.getModel("label"),r=n.getModel("emphasis.label"),n=s.dataToCoord(t.tickValue),e=new U0({position:[n,0],rotation:o.labelRotation-o.rotation,onclick:rA(this._changeTimeline,this,e),silent:!1});gi(e.style,i,{text:t.formattedLabel,textAlign:o.labelAlign,textVerticalAlign:o.labelBaseline}),a.add(e),di(e,gi({},r))},this))},_renderControl:function(t,o,e,a){function n(t,e,n,i){var r;t&&(r=h,n={position:t,origin:[s/2,0],rotation:i?-l:0,rectHover:!0,style:u,onclick:n},r=Xn(a.get(e).replace(/^path:\/\//,""),C(n||{}),new Kt(r[0],r[1],r[2],r[3]),"center"),o.add(r),di(r,c))}var s=t.controlSize,l=t.rotation,u=a.getModel("controlStyle").getItemStyle(),c=a.getModel("emphasis.controlStyle").getItemStyle(),h=[0,-s/2,s,s],i=a.getPlayState(),r=a.get("inverse",!0);n(t.nextBtnPosition,"controlStyle.nextIcon",rA(this._changeTimeline,this,r?"-":"+")),n(t.prevBtnPosition,"controlStyle.prevIcon",rA(this._changeTimeline,this,r?"+":"-")),n(t.playPosition,"controlStyle."+(i?"stopIcon":"playIcon"),rA(this._handlePlayClick,this,!i),!0)},_renderCurrentPointer:function(t,e,n,i){var r=i.getData(),o=i.getCurrentIndex(),r=r.getItemModel(o).getModel("checkpointStyle"),a=this;this._currentPointer=fp(r,r,this._mainGroup,{},this._currentPointer,{onCreate:function(t){t.draggable=!0,t.drift=rA(a._handlePointerDrag,a),t.ondragend=rA(a._handlePointerDragend,a),pp(t,o,n,i,!0)},onUpdate:function(t){pp(t,o,n,i)}})},_handlePlayClick:function(t){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:t,from:this.uid})},_handlePointerDrag:function(t,e,n){this._clearTimer(),this._pointerChangeTimeline([n.offsetX,n.offsetY])},_handlePointerDragend:function(t){this._pointerChangeTimeline([t.offsetX,t.offsetY],!0)},_pointerChangeTimeline:function(t,e){var n=this._toAxisCoord(t)[0],t=Yi(this._axis.getExtent().slice());(n=n>t[1]?t[1]:n)<t[0]&&(n=t[0]),this._currentPointer.position[0]=n,this._currentPointer.dirty();t=this._findNearestTick(n),n=this.model;(e||t!==n.getCurrentIndex()&&n.get("realtime"))&&this._changeTimeline(t)},_doPlayStop:function(){this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(rA(function(){var t=this.model;this._changeTimeline(t.getCurrentIndex()+(t.get("rewind",!0)?-1:1))},this),this.model.get("playInterval")))},_toAxisCoord:function(t){return Ci(t,this._mainGroup.getLocalTransform(),!0)},_findNearestTick:function(n){var i,t=this.model.getData(),r=1/0,o=this._axis;return t.each(["value"],function(t,e){t=o.dataToCoord(t),t=Math.abs(t-n);t<r&&(r=t,i=e)}),i},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(t){var e=this.model.getCurrentIndex();"+"===t?t=e+1:"-"===t&&(t=e-1),this.api.dispatchAction({type:"timelineChange",currentIndex:t,from:this.uid})}}),Xo(function(t){t=t&&t.timeline;P(t=!T(t)?t?[t]:[]:t,function(t){var e,n;t&&(n=(e=t).type,(t={number:"value",time:"time"})[n]&&(e.axisType=t[n],delete e.type),hp(e),dp(e,"controlPosition")&&(dp(n=e.controlStyle||(e.controlStyle={}),"position")||(n.position=e.controlPosition),"none"!==n.position||dp(n,"show")||(n.show=!1,delete n.position),delete e.controlPosition),P(e.data||[],function(t){E(t)&&!T(t)&&(!dp(t,"value")&&dp(t,"name")&&(t.value=t.name),hp(t))}))})});var sA=na({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},optionUpdated:function(){sA.superApply(this,"optionUpdated",arguments),P(this.option.feature,function(t,e){e=Mf(e);e&&g(t,e.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}}}});ia({type:"toolbox",render:function(c,h,d,o){function t(t,e){var n,i=l[t],r=l[e],t=new Li(a[i],c,c.ecModel);if(i&&!r){if(0===i.indexOf("my"))n={model:t,onclick:t.option.onclick,featureName:i};else{e=Mf(i);if(!e)return;n=new e(t,h,d)}s[i]=n}else{if(!(n=s[r]))return;n.model=t,n.ecModel=h,n.api=d}i||!r?t.get("show")&&!n.unusable?(function(i,r,t){var o=i.getModel("iconStyle"),a=i.getModel("emphasis.iconStyle"),e=r.getIcons?r.getIcons():i.get("icon"),s=i.get("title")||{};{var n,l;"string"==typeof e&&(n=e,l=s,s={},(e={})[t]=n,s[t]=l)}var u=i.iconPaths={};P(e,function(t,e){var n=Ni(t,{},{x:-f/2,y:-f/2,width:f,height:f});n.setStyle(o.getItemStyle()),n.hoverStyle=a.getItemStyle(),di(n),c.get("showTitle")&&(n.__title=s[e],n.on("mouseover",function(){var t=a.getItemStyle();n.setStyle({text:s[e],textPosition:t.textPosition||"bottom",textFill:t.fill||t.stroke||"#000",textAlign:t.textAlign||"center"})}).on("mouseout",function(){n.setStyle({textFill:null})})),n.trigger(i.get("iconStatus."+e)||"normal"),g.add(n),n.on("click",v(r.onclick,r,h,d,e)),u[e]=n})}(t,n,i),t.setIconStatus=function(t,e){var n=this.option,i=this.iconPaths;n.iconStatus=n.iconStatus||{},n.iconStatus[t]=e,i[t]&&i[t].trigger(e)},n.render&&n.render(t,h,d,o)):n.remove&&n.remove(h,d):n.dispose&&n.dispose(h,d)}var f,a,s,l,e,n,i,r,u,p,g=this.group;g.removeAll(),c.get("show")&&(f=+c.get("itemSize"),a=c.get("feature")||{},s=this._features||(this._features={}),l=[],P(a,function(t,e){l.push(e)}),new sa(this._featureNames||[],l).add(t).update(t).remove(N(t,null)).execute(),this._featureNames=l,e=g,i=d,r=(n=c).getBoxLayoutParams(),u=n.get("padding"),p={width:i.getWidth(),height:i.getHeight()},i=sr(r,p,u),Jy(n.get("orient"),e,n.get("itemGap"),i.width,i.height),lr(e,r,p,u),g.add(Pd(g.getBoundingRect(),c)),g.eachChild(function(t){var e,n,i=t.__title,r=t.hoverStyle;r&&i&&(e=fe(i,Ae(r)),n=t.position[0]+g.position[0],i=!1,t.position[1]+g.position[1]+f+e.height>d.getHeight()&&(r.textPosition="top",i=!0),i=i?-5-e.height:f+8,n+e.width/2>d.getWidth()?(r.textPosition=["100%",i],r.textAlign="right"):n-e.width/2<0&&(r.textPosition=[0,i],r.textAlign="left"))}))},updateView:function(t,e,n,i){P(this._features,function(t){t.updateView&&t.updateView(t.model,e,n,i)})},remove:function(e,n){P(this._features,function(t){t.remove&&t.remove(e,n)}),this.group.removeAll()},dispose:function(e,n){P(this._features,function(t){t.dispose&&t.dispose(e,n)})}});Og=$v.toolbox.saveAsImage;gp.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:Og.title,type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:Og.lang.slice()},gp.prototype.unusable=!Jp.canvasSupported,gp.prototype.onclick=function(t,e){var n=this.model,i=n.get("name")||t.get("title.0.text")||"echarts",r=document.createElement("a"),o=n.get("type",!0)||"png";r.download=i+"."+o,r.target="_blank";e=e.getConnectedDataURL({type:o,backgroundColor:n.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",excludeComponents:n.get("excludeComponents"),pixelRatio:n.get("pixelRatio")});if(r.href=e,"function"!=typeof MouseEvent||Jp.browser.ie||Jp.browser.edge)if(window.navigator.msSaveOrOpenBlob){for(var a=atob(e.split(",")[1]),s=a.length,l=new Uint8Array(s);s--;)l[s]=a.charCodeAt(s);t=new Blob([l]);window.navigator.msSaveOrOpenBlob(t,i+"."+o)}else{var u=n.get("lang"),u='<body style="margin:0;"><img src="'+e+'" style="max-width:100%;" title="'+(u&&u[0]||"")+'" /></body>';window.open().document.write(u)}else{u=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1});r.dispatchEvent(u)}},wf("saveAsImage",gp);Og=$v.toolbox.magicType;mp.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:C(Og.title),option:{},seriesIndex:{}};Og=mp.prototype;Og.getIcons=function(){var t=this.model,e=t.get("icon"),n={};return P(t.get("type"),function(t){e[t]&&(n[t]=e[t])}),n};var lA={line:function(t,e,n,i){if("bar"===t)return g({id:e,type:"line",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.line")||{},!0)},bar:function(t,e,n,i){if("line"===t)return g({id:e,type:"bar",data:n.get("data"),stack:n.get("stack"),markPoint:n.get("markPoint"),markLine:n.get("markLine")},i.get("option.bar")||{},!0)},stack:function(t,e,n,i){if("line"===t||"bar"===t)return g({id:e,stack:"__ec_magicType_stack__"},i.get("option.stack")||{},!0)},tiled:function(t,e,n,i){if("line"===t||"bar"===t)return g({id:e,stack:""},i.get("option.tiled")||{},!0)}},uA=[["line","bar"],["stack","tiled"]];Og.onclick=function(a,t,s){var l,u=this.model,e=u.get("seriesIndex."+s);lA[s]&&(l={series:[]},P(uA,function(t){0<=p(t,s)&&P(t,function(t){u.setIconStatus(t,"normal")})}),u.setIconStatus(s,"emphasis"),a.eachComponent({mainType:"series",query:null==e?null:{seriesIndex:e}},function(t){var e=t.subType,n=t.id,n=lA[s](e,n,t,u);n&&(D(n,t.option),l.series.push(n));n=t.coordinateSystem;if(n&&"cartesian2d"===n.type&&("line"===s||"bar"===s)){n=n.getAxesByScale("ordinal")[0];if(n){var i=n.dim+"Axis",r=a.queryComponents({mainType:i,index:t.get(name+"Index"),id:t.get(name+"Id")})[0].componentIndex;l[i]=l[i]||[];for(var o=0;o<=r;o++)l[i][r]=l[i][r]||{};l[i][r].boundaryGap="bar"===s}}}),t.dispatchAction({type:"changeMagicType",currentType:s,newOption:l}))},Jo({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,e){e.mergeOption(t.newOption)}),wf("magicType",mp);var Og=$v.toolbox.dataView,cA=new Array(60).join("-"),hA="\t",dA=new RegExp("["+hA+"]+","g");_p.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:C(Og.title),lang:C(Og.lang),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"},_p.prototype.onclick=function(t,e){function n(){i.removeChild(o),g._dom=null}var i=e.getDom(),r=this.model;this._dom&&i.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;",o.style.backgroundColor=r.get("backgroundColor")||"#fff";var a=document.createElement("h4"),s=r.get("lang")||[];a.innerHTML=s[0]||r.get("title"),a.style.cssText="margin: 10px 20px;",a.style.color=r.get("textColor");var l=document.createElement("div"),u=document.createElement("textarea");l.style.cssText="display:block;width:100%;overflow:auto;";var c=r.get("optionToContent"),h=r.get("contentToOption"),d=yp(t);"function"==typeof c?"string"==typeof(p=c(e.getOption()))?l.innerHTML=p:_(p)&&l.appendChild(p):(l.appendChild(u),u.readOnly=r.get("readOnly"),u.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",u.style.color=r.get("textColor"),u.style.borderColor=r.get("textareaBorderColor"),u.style.backgroundColor=r.get("textareaColor"),u.value=d.value);var f=d.meta,t=document.createElement("div");t.style.cssText="position:absolute;bottom:0;left:0;right:0;";var c="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",p=document.createElement("div"),d=document.createElement("div");c+=";background-color:"+r.get("buttonColor"),c+=";color:"+r.get("buttonTextColor");var g=this;lt(p,"click",n),lt(d,"click",function(){var t;try{t="function"==typeof h?h(l,e.getOption()):xp(u.value,f)}catch(t){throw n(),new Error("Data view format error "+t)}t&&e.dispatchAction({type:"changeDataView",newOption:t}),n()}),p.innerHTML=s[1],d.innerHTML=s[2],d.style.cssText=c,p.style.cssText=c,r.get("readOnly")||t.appendChild(d),t.appendChild(p),lt(u,"keydown",function(t){var e,n,i;9===(t.keyCode||t.which)&&(e=this.value,n=this.selectionStart,i=this.selectionEnd,this.value=e.substring(0,n)+hA+e.substring(i),this.selectionStart=this.selectionEnd=n+1,xg(t))}),o.appendChild(a),o.appendChild(l),o.appendChild(t),l.style.height=i.clientHeight-80+"px",i.appendChild(o),this._dom=o},_p.prototype.remove=function(t,e){this._dom&&e.getDom().removeChild(this._dom)},_p.prototype.dispose=function(t,e){this.remove(t,e)},wf("dataView",_p),Jo({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,r){var o=[];P(t.newOption.series,function(t){var e,n,i=r.getSeriesByName(t.name)[0];i?(e=i.get("data"),o.push({name:t.name,data:(i=t.data,n=e,I(i,function(t,e){e=n&&n[e];return E(e)&&!T(e)?D({value:t=E(t)&&!T(t)?t.value:t},e):t}))})):o.push(S({type:"scatter"},t))}),r.mergeOption(D({series:o},t.newOption))});var fA=P,pA="\0_ec_hist_store";i0.extend({type:"dataZoom.select"}),e0.extend({type:"dataZoom.select"});var e0=$v.toolbox.dataZoom,gA=P;wp.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:C(e0.title)};e0=wp.prototype;e0.render=function(t,e,n,i){var r,o,a,s;this.model=t,this.ecModel=e,this.api=n,r=t,o=e,a=i,s=n,n=(i=this)._isZoomActive,a&&"takeGlobalCursor"===a.type&&(n="dataZoomSelect"===a.key&&a.dataZoomSelectActive),i._isZoomActive=n,r.setIconStatus("zoom",n?"emphasis":"normal"),o=new cf(Mp(r.option),o,{include:["grid"]}),i._brushController.setPanels(o.makePanelOpts(s,function(t){return t.xAxisDeclared&&!t.yAxisDeclared?"lineX":!t.xAxisDeclared&&t.yAxisDeclared?"lineY":"rect"})).enableBrush(!!n&&{brushType:"auto",brushStyle:{lineWidth:0,fill:"rgba(0,0,0,0.2)"}}),Ap(t,e)},e0.onclick=function(t,e,n){mA[n].call(this)},e0.remove=function(t,e){this._brushController.unmount()},e0.dispose=function(t,e){this._brushController.dispose()};var mA={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(function(t){var i=bp(t),t=i[i.length-1];1<i.length&&i.pop();var r={};return fA(t,function(t,e){for(var n=i.length-1;0<=n;n--)if(t=i[n][e]){r[e]=t;break}}),r}(this.ecModel))}};e0._onBrush=function(t,e){function i(t,e,n){var i,r,o,a=e.getAxis(t),e=a.model,t=(i=t,r=e,l.eachComponent({mainType:"dataZoom",subType:"select"},function(t){t.getAxisModel(i,r.componentIndex)&&(o=t)}),o),e=t.findRepresentativeAxisProxy(e).getMinMaxSpan();null==e.minValueSpan&&null==e.maxValueSpan||(n=Yb(0,n.slice(),a.scale.getExtent(),0,e.minValueSpan,e.maxValueSpan)),t&&(s[t.id]={dataZoomId:t.id,startValue:n[0],endValue:n[1]})}var s,l,r,o;e.isEnd&&t.length&&(s={},l=this.ecModel,this._brushController.updateCovers([]),new cf(Mp(this.model.option),l,{include:["grid"]}).matchOutputRanges(t,l,function(t,e,n){"cartesian2d"===n.type&&("rect"===(t=t.brushType)?(i("x",n,e[0]),i("y",n,e[1])):i({lineX:"x",lineY:"y"}[t],n,e))}),t=s,o=bp(r=l),fA(t,function(t,e){for(var n,i=o.length-1;0<=i&&!o[i][e];i--);i<0&&((n=r.queryComponents({mainType:"dataZoom",subType:"select",id:e})[0])&&(n=n.getPercentRange(),o[0][e]={dataZoomId:e,start:n[0],end:n[1]}))}),o.push(t),this._dispatchZoomAction(s))},e0._dispatchZoomAction=function(t){var n=[];gA(t,function(t,e){n.push(C(t))}),n.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:n})},wf("dataZoom",wp),Xo(function(n){function t(i,t){var r,o;t&&(null==(o=t[r=i+"Index"])||"all"===o||T(o)||(o=!1===o||"none"===o?[]:[o]),function(t,e){t=n[t];T(t)||(t=t?[t]:[]),gA(t,e)}(i,function(t,e){var n;null!=o&&"all"!==o&&-1===p(o,e)||((n={type:"select",$fromToolbox:!0,id:"\0_ec_\0toolbox-dataZoom_"+i+e})[r]=e,a.push(n))}))}var a,e;n&&(T(a=n.dataZoom||(n.dataZoom=[]))||(n.dataZoom=a=[a]),(e=n.toolbox)&&((e=T(e)?e[0]:e)&&e.feature)&&(t("xAxis",e=e.feature.dataZoom),t("yAxis",e)))});e0=$v.toolbox.restore;Ip.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e0.title},Ip.prototype.onclick=function(t,e,n){t[pA]=null,e.dispatchAction({type:"restore",from:this.uid})},wf("restore",Ip),Jo({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,e){e.resetOption("recreate")});var yA,vA="urn:schemas-microsoft-com:vml",e0="undefined"==typeof window?null:window,xA=!1,_A=e0&&e0.document;if(_A&&!Jp.canvasSupported)try{_A.namespaces.zrvml||_A.namespaces.add("zrvml",vA),yA=function(t){return _A.createElement("<zrvml:"+t+' class="zrvml">')}}catch(t){yA=function(t){return _A.createElement("<"+t+' xmlns="'+vA+'" class="zrvml">')}}var bA=Wm.CMD,wA=Math.round,MA=Math.sqrt,AA=Math.abs,IA=Math.cos,CA=Math.sin,SA=Math.max;if(!Jp.canvasSupported){var TA=21600,DA=TA/2,NA=function(t){t.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;",t.coordsize=TA+","+TA,t.coordorigin="0,0"},LA=function(t,e,n){return"rgb("+[t,e,n].join(",")+")"},kA=function(t,e){e&&t&&e.parentNode!==t&&t.appendChild(e)},EA=function(t,e){e&&t&&e.parentNode===t&&t.removeChild(e)},OA=function(t,e,n){return 1e5*(parseFloat(t)||0)+1e3*(parseFloat(e)||0)+n},PA=function(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t},zA=function(t,e,n){e=kt(e);n=+n,isNaN(n)&&(n=1),e&&(t.color=LA(e[0],e[1],e[2]),t.opacity=n*e[3])},jA=function(t){t=kt(t);return[LA(t[0],t[1],t[2]),t[3]]},YA=function(t,e,n,i){var r="fill"==e,o=t.getElementsByTagName(e)[0];null!=n[e]&&"none"!==n[e]&&(r||!r&&n.lineWidth)?(t[r?"filled":"stroked"]="true",n[e]instanceof vy&&EA(t,o),o=o||Cp(e),r?function(t,e,n){var i=e.fill;if(null!=i)if(i instanceof vy){var r,o,a,s,l,u=0,c=[0,0],h=0,d=1,f=n.getBoundingRect(),p=f.width,g=f.height;"linear"===i.type?(r="gradient",l=n.transform,s=[i.x*p,i.y*g],a=[i.x2*p,i.y2*g],l&&(K(s,s,l),K(a,a,l)),o=a[0]-s[0],a=a[1]-s[1],(u=180*Math.atan2(o,a)/Math.PI)<0&&(u+=360),u<1e-6&&(u=0)):(r="gradientradial",s=[i.x*p,i.y*g],l=n.transform,y=n.scale,c=[(s[0]-f.x)/(v=p),(s[1]-f.y)/(x=g)],l&&K(s,s,l),v/=y[0]*TA,x/=y[1]*TA,_=SA(v,x),d=2*i.r/_-(h=0/_));var m=i.colorStops.slice();m.sort(function(t,e){return t.offset-e.offset});for(var y,v,x,_,b=m.length,w=[],M=[],A=0;A<b;A++){var I=m[A],C=jA(I.color);M.push(I.offset*d+h+" "+C[0]),0!==A&&A!==b-1||w.push(C)}2<=b&&(y=w[0][0],v=w[1][0],x=w[0][1]*e.opacity,_=w[1][1]*e.opacity,t.type=r,t.method="none",t.focus="100%",t.angle=u,t.color=y,t.color2=v,t.colors=M.join(","),t.opacity=_,t.opacity2=x),"radial"===r&&(t.focusposition=c.join(","))}else zA(t,i,e.opacity)}(o,n,i):(i=o,null!=(n=n).lineDash&&(i.dashstyle=n.lineDash.join(" ")),null==n.stroke||n.stroke instanceof vy||zA(i,n.stroke,n.opacity)),kA(t,o)):(t[r?"filled":"stroked"]="false",EA(t,o))},RA=[[],[],[]];Rn.prototype.brushVML=function(t){var e=this.style,n=this._vmlEl;n||(n=yA("shape"),NA(n),this._vmlEl=n),YA(n,"fill",e,this),YA(n,"stroke",e,this);var i=this.transform,r=null!=i,o=n.getElementsByTagName("stroke")[0];o&&(a=e.lineWidth,r&&!e.strokeNoScale&&(i=i[0]*i[3]-i[1]*i[2],a*=MA(AA(i))),o.weight=a+"px");var a=this.path||(this.path=new Wm);this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape),a.toStatic(),this.__dirtyPath=!1),n.path=function(t,e){for(var n,i,r,o=bA.M,a=bA.C,s=bA.L,l=bA.A,u=bA.Q,c=[],h=t.data,d=t.len(),f=0;f<d;){switch(m="",y=0,n=h[f++]){case o:m=" m ",y=1,i=h[f++],r=h[f++],RA[0][0]=i,RA[0][1]=r;break;case s:m=" l ",y=1,i=h[f++],r=h[f++],RA[0][0]=i,RA[0][1]=r;break;case u:case a:var p,g,m=" c ",y=3,v=h[f++],x=h[f++],_=h[f++],b=h[f++];n===u?(_=((p=_)+2*v)/3,b=((g=b)+2*x)/3,v=(i+2*v)/3,x=(r+2*x)/3):(p=h[f++],g=h[f++]),RA[0][0]=v,RA[0][1]=x,RA[1][0]=_,RA[1][1]=b,i=RA[2][0]=p,r=RA[2][1]=g;break;case l:var w=0,M=0,A=1,I=1,C=0;e&&(w=e[4],M=e[5],A=MA(e[0]*e[0]+e[1]*e[1]),I=MA(e[2]*e[2]+e[3]*e[3]),C=Math.atan2(-e[1]/I,e[0]/A));var S=h[f++],T=h[f++],D=h[f++],N=h[f++],L=h[f++]+C,k=h[f++]+L+C;f++;var E=h[f++],_=S+IA(L)*D,b=T+CA(L)*N,v=S+IA(k)*D,x=T+CA(k)*N,C=E?" wa ":" at ";Math.abs(_-v)<1e-4&&(.01<Math.abs(k-L)?E&&(_+=.0125):Math.abs(b-T)<1e-4?E&&_<S||!E&&S<_?x-=.0125:x+=.0125:E&&b<T||!E&&T<b?v+=.0125:v-=.0125),c.push(C,wA(((S-D)*A+w)*TA-DA),",",wA(((T-N)*I+M)*TA-DA),",",wA(((S+D)*A+w)*TA-DA),",",wA(((T+N)*I+M)*TA-DA),",",wA((_*A+w)*TA-DA),",",wA((b*I+M)*TA-DA),",",wA((v*A+w)*TA-DA),",",wA((x*I+M)*TA-DA)),i=v,r=x;break;case bA.R:I=RA[0],M=RA[1];I[0]=h[f++],I[1]=h[f++],M[0]=I[0]+h[f++],M[1]=I[1]+h[f++],e&&(K(I,I,e),K(M,M,e)),I[0]=wA(I[0]*TA-DA),M[0]=wA(M[0]*TA-DA),I[1]=wA(I[1]*TA-DA),M[1]=wA(M[1]*TA-DA),c.push(" m ",I[0],",",I[1]," l ",M[0],",",I[1]," l ",M[0],",",M[1]," l ",I[0],",",M[1]);break;case bA.Z:c.push(" x ")}if(0<y){c.push(m);for(var O=0;O<y;O++){var P=RA[O];e&&K(P,P,e),c.push(wA(P[0]*TA-DA),",",wA(P[1]*TA-DA),O<y-1?",":"")}}}return c.join("")}(a,this.transform),n.style.zIndex=OA(this.zlevel,this.z,this.z2),kA(t,n),null!=e.text?this.drawRectText(t,this.getBoundingRect()):this.removeRectText(t)},Rn.prototype.onRemove=function(t){EA(t,this._vmlEl),this.removeRectText(t)},Rn.prototype.onAdd=function(t){kA(t,this._vmlEl),this.appendRectText(t)};He.prototype.brushVML=function(t){var e,n,i,r,o,a,s,l,u,c,h,d,f,p,g,m,y,v,x,_,b,w,M,A,I=this.style,C=I.image;"object"==typeof(m=C)&&m.tagName&&"IMG"===m.tagName.toUpperCase()?((p=C.src)===this._imageSrc?(e=this._imageWidth,n=this._imageHeight):(g=(y=C.runtimeStyle).width,v=y.height,y.width="auto",y.height="auto",e=C.width,n=C.height,y.width=g,y.height=v,this._imageSrc=p,this._imageWidth=e,this._imageHeight=n),C=p):C===this._imageSrc&&(e=this._imageWidth,n=this._imageHeight),C&&(i=I.x||0,A=I.y||0,r=I.width,o=I.height,a=I.sWidth,s=I.sHeight,l=I.sx||0,u=I.sy||0,w=a&&s,(c=this._vmlEl)||(c=_A.createElement("div"),NA(c),this._vmlEl=c),M=c.style,m=!1,f=d=1,this.transform&&(h=this.transform,d=MA(h[0]*h[0]+h[1]*h[1]),f=MA(h[2]*h[2]+h[3]*h[3]),m=h[1]||h[2]),m?(g=[i+r,A],y=[i,A+o],v=[i+r,A+o],K(p=[i,A],p,h),K(g,g,h),K(y,y,h),K(v,v,h),m=SA(p[0],g[0],y[0],v[0]),y=SA(p[1],g[1],y[1],v[1]),(v=[]).push("M11=",h[0]/d,",","M12=",h[2]/f,",","M21=",h[1]/d,",","M22=",h[3]/f,",","Dx=",wA(i*d+h[4]),",","Dy=",wA(A*f+h[5])),M.padding="0 "+wA(m)+"px "+wA(y)+"px 0",M.filter="progid:DXImageTransform.Microsoft.Matrix("+v.join("")+", SizingMethod=clip)"):(h&&(i=i*d+h[4],A=A*f+h[5]),M.filter="",M.left=wA(i)+"px",M.top=wA(A)+"px"),M=this._imageEl,A=this._cropEl,M||(M=_A.createElement("div"),this._imageEl=M),x=M.style,w?(e&&n?(x.width=wA(d*e*r/a)+"px",x.height=wA(f*n*o/s)+"px"):(_=new Image,b=this,_.onload=function(){_.onload=null,e=_.width,n=_.height,x.width=wA(d*e*r/a)+"px",x.height=wA(f*n*o/s)+"px",b._imageWidth=e,b._imageHeight=n,b._imageSrc=C},_.src=C),A||((A=_A.createElement("div")).style.overflow="hidden",this._cropEl=A),(w=A.style).width=wA((r+l*r/a)*d),w.height=wA((o+u*o/s)*f),w.filter="progid:DXImageTransform.Microsoft.Matrix(Dx="+-l*r/a*d+",Dy="+-u*o/s*f+")",A.parentNode||c.appendChild(A),M.parentNode!=A&&A.appendChild(M)):(x.width=wA(d*r)+"px",x.height=wA(f*o)+"px",c.appendChild(M),A&&A.parentNode&&(c.removeChild(A),this._cropEl=null)),M="",(A=I.opacity)<1&&(M+=".Alpha(opacity="+wA(100*A)+") "),M+="progid:DXImageTransform.Microsoft.AlphaImageLoader(src="+C+", SizingMethod=scale)",x.filter=M,c.style.zIndex=OA(this.zlevel,this.z,this.z2),kA(t,c),null!=I.text&&this.drawRectText(t,this.getBoundingRect()))},He.prototype.onRemove=function(t){EA(t,this._vmlEl),this._vmlEl=null,this._cropEl=null,this._imageEl=null,this.removeRectText(t)},He.prototype.onAdd=function(t){kA(t,this._vmlEl),this.appendRectText(t)};var BA,FA={},HA=0,WA=document.createElement("div");bm.measureText=function(t,e){var n=_A;BA||((BA=n.createElement("div")).style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",_A.body.appendChild(BA));try{BA.style.font=e}catch(t){}return BA.innerHTML="",BA.appendChild(n.createTextNode(t)),{width:BA.offsetWidth}};for(var GA=new Kt,UA=[fm,Fe,He,Rn,U0],ZA=0;ZA<UA.length;ZA++){var VA=UA[ZA].prototype;VA.drawRectText=function(t,e,n,i){var r=this.style;if(this.__dirty&&Ce(r),null!=(a=r.text)&&(a+=""),a){if(r.rich){for(var o=we(a,r),a=[],s=0;s<o.lines.length;s++){for(var l=o.lines[s].tokens,u=[],c=0;c<l.length;c++)u.push(l[c].text);a.push(u.join(""))}a=a.join("\n")}var h=r.textAlign,d=r.textVerticalAlign,f=function(t){var e=FA[t];if(!e){100<HA&&(HA=0,FA={});var n,i=WA.style;try{i.font=t,n=i.fontFamily.split(",")[0]}catch(t){}e={style:i.fontStyle||"normal",variant:i.fontVariant||"normal",weight:i.fontWeight||"normal",size:0|parseFloat(i.fontSize||12),family:n||"Microsoft YaHei"},FA[t]=e,HA++}return e}(r.font),p=f.style+" "+f.variant+" "+f.weight+" "+f.size+'px "'+f.family+'"';n=n||fe(a,p,h,d);var g,m,y,v=this.transform;v&&!i&&(GA.copy(e),GA.applyTransform(v),e=GA),i?(m=e.x,y=e.y):(g=r.textPosition,f=r.textDistance,g instanceof Array?(m=e.x+PA(g[0],e.width),y=e.y+PA(g[1],e.height),h=h||"left"):(m=(f=me(g,e,f)).x,y=f.y,h=h||f.textAlign,d=d||f.textVerticalAlign)),m=pe(m,n.width,h),y=ge(y,n.height,d),y+=n.height/2;var x,_,d=Cp,n=this._textVmlEl;n?x=(b=(_=n.firstChild).nextSibling).nextSibling:(n=d("line"),b=d("path"),x=d("textpath"),_=d("skew"),x.style["v-text-align"]="left",NA(n),b.textpathok=!0,x.on=!0,n.from="0 0",n.to="1000 0.05",kA(n,_),kA(n,b),kA(n,x),this._textVmlEl=n);var d=[m,y],b=n.style;v&&i?(K(d,d,v),_.on=!0,_.matrix=v[0].toFixed(3)+","+v[2].toFixed(3)+","+v[1].toFixed(3)+","+v[3].toFixed(3)+",0,0",_.offset=(wA(d[0])||0)+","+(wA(d[1])||0),_.origin="0 0",b.left="0px",b.top="0px"):(_.on=!1,b.left=wA(m)+"px",b.top=wA(y)+"px"),x.string=String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;");try{x.style.font=p}catch(t){}YA(n,"fill",{fill:r.textFill,opacity:r.opacity},this),YA(n,"stroke",{stroke:r.textStroke,opacity:r.opacity,lineDash:r.lineDash},this),n.style.zIndex=OA(this.zlevel,this.z,this.z2),kA(t,n)}},VA.removeRectText=function(t){EA(t,this._textVmlEl),this._textVmlEl=null},VA.appendRectText=function(t){kA(t,this._textVmlEl)}}U0.prototype.brushVML=function(t){var e=this.style;null!=e.text?this.drawRectText(t,{x:e.x||0,y:e.y||0,width:0,height:0},this.getBoundingRect(),!0):this.removeRectText(t)},U0.prototype.onRemove=function(t){this.removeRectText(t)},U0.prototype.onAdd=function(t){this.appendRectText(t)}}Tp.prototype={constructor:Tp,getType:function(){return"vml"},getViewportRoot:function(){return this._vmlViewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0,!0);this._paintList(t)},_paintList:function(t){for(var e=this._vmlRoot,n=0;n<t.length;n++){var i=t[n];i.invisible||i.ignore?(i.__alreadyNotVisible||i.onRemove(e),i.__alreadyNotVisible=!0):(i.__alreadyNotVisible&&i.onAdd(e),i.__alreadyNotVisible=!1,i.__dirty&&(i.beforeBrush&&i.beforeBrush(),(i.brushVML||i.brush).call(i,e),i.afterBrush&&i.afterBrush())),i.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(e),this._firstPaint=!1)},resize:function(t,e){var n,t=null==t?this._getWidth():t,e=null==e?this._getHeight():e;this._width==t&&this._height==e||(this._width=t,this._height=e,(n=this._vmlViewport.style).width=t+"px",n.height=e+"px")},dispose:function(){this.root.innerHTML="",this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},clear:function(){this._vmlViewport&&this.root.removeChild(this._vmlViewport)},_getWidth:function(){var t=this.root,e=t.currentStyle;return(t.clientWidth||Sp(e.width))-Sp(e.paddingLeft)-Sp(e.paddingRight)|0},_getHeight:function(){var t=this.root,e=t.currentStyle;return(t.clientHeight||Sp(e.height))-Sp(e.paddingTop)-Sp(e.paddingBottom)|0}},P(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;Tp.prototype[t]=(e=t,function(){Ug('In IE8.0 VML mode painter not support method "'+e+'"')})}),Qe("vml",Tp);var XA=Wm.CMD,qA=Array.prototype.join,JA="none",$A=Math.round,QA=Math.sin,KA=Math.cos,tI=Math.PI,eI=2*Math.PI,nI=180/tI,iI=1e-4,rI={};rI.brush=function(t){var e=t.style,n=t.__svgEl;n||(n=Dp("path"),t.__svgEl=n),t.path||t.createPathProxy();var i=t.path;t.__dirtyPath&&(i.beginPath(),t.buildPath(i,t.shape),t.__dirtyPath=!1,(i=function(t){for(var e=[],n=t.data,i=t.len(),r=0;r<i;){var o="",a=0;switch(n[r++]){case XA.M:o="M",a=2;break;case XA.L:o="L",a=2;break;case XA.Q:o="Q",a=4;break;case XA.C:o="C",a=6;break;case XA.A:var s=n[r++],l=n[r++],u=n[r++],c=n[r++],h=n[r++],d=n[r++],f=n[r++],p=n[r++],g=Math.abs(d),m=Lp(g-eI)&&!Lp(g),y=!1,y=eI<=g||!Lp(g)&&(-tI<d&&d<0||tI<d)==!!p,v=Np(s+u*KA(h)),g=Np(l+c*QA(h));m&&(d=p?eI-1e-4:1e-4-eI,y=!0,9===r&&e.push("M",v,g));s=Np(s+u*KA(h+d)),d=Np(l+c*QA(h+d));e.push("A",Np(u),Np(c),$A(f*nI),+y,+p,s,d);break;case XA.Z:o="Z";break;case XA.R:s=Np(n[r++]),d=Np(n[r++]),y=Np(n[r++]),p=Np(n[r++]);e.push("M",s,d,"L",s+y,d,"L",s+y,d+p,"L",s,d+p,"L",s,d)}o&&e.push(o);for(var x=0;x<a;x++)e.push(Np(n[r++]))}return e.join(" ")}(i)).indexOf("NaN")<0&&Ep(n,"d",i)),Op(n,e,!1,t),kp(n,t.transform),null!=e.text&&lI(t,t.getBoundingRect())};var oI={brush:function(t){var e,n,i,r,o,a,s,l=t.style,u=l.image;(u=u instanceof HTMLImageElement?u.src:u)&&(e=l.x||0,n=l.y||0,i=l.width,r=l.height,(o=t.__svgEl)||(o=Dp("image"),t.__svgEl=o),u!==t.__imageSrc&&(a="href",s=u,o.setAttributeNS("http://www.w3.org/1999/xlink",a,s),t.__imageSrc=u),Ep(o,"width",i),Ep(o,"height",r),Ep(o,"x",e),Ep(o,"y",n),kp(o,t.transform),null!=l.text&&lI(t,t.getBoundingRect()))}},aI={},sI=new Kt,lI=function(t,e,n){var i=t.style;t.__dirty&&Ce(i);var r=i.text;if(null!=r){r+="";var o=t.__textSvgEl;o||(o=Dp("text"),t.__textSvgEl=o);var a=i.textPosition,s=i.textDistance,l=i.textAlign||"left";"number"==typeof i.fontSize&&(i.fontSize+="px");var u,c,h=i.font||[i.fontStyle||"",i.fontWeight||"",i.fontSize||"",i.fontFamily||""].join(" ")||_m,d=Pp(i.textVerticalAlign),f=(n=fe(r,h,l,d)).lineHeight;a instanceof Array?(u=e.x+a[0],c=e.y+a[1]):(u=(g=me(a,e,s)).x,c=g.y,d=Pp(g.textVerticalAlign),l=g.textAlign),Ep(o,"alignment-baseline",d),h&&(o.style.font=h);var p,g=i.textPadding;Ep(o,"x",u),Ep(o,"y",c),Op(o,i,!0,t),t instanceof U0||t.style.transformText?kp(o,t.transform):(t.transform?(sI.copy(e),sI.applyTransform(t.transform),e=sI):(p=t.transformCoordToGlobal(e.x,e.y),e.x=p[0],e.y=p[1],t.transform=ft(dt())),"center"===(e=i.textOrigin)?(u=n.width/2+u,c=n.height/2+c):e&&(u=e[0]+u,c=e[1]+c),e=-i.textRotation||0,yt(i=dt(),i,e),mt(i,i,p=[t.transform[4],t.transform[5]]),kp(o,i));var m=r.split("\n"),y=m.length,v=l;"left"===v?(v="start",g&&(u+=g[3])):"right"===v?(v="end",g&&(u-=g[1])):"center"===v&&(v="middle",g&&(u+=(g[3]-g[1])/2));var x=0;if("after-edge"===d?(x=-n.height+f,g&&(x-=g[2])):"middle"===d?(x=(-n.height+f)/2,g&&(c+=(g[0]-g[2])/2)):g&&(x+=g[0]),t.__text!==r||t.__textFont!==h){var _=t.__tspanList||[];for(t.__tspanList=_,w=0;w<y;w++)(M=_[w])?M.innerHTML="":(M=_[w]=Dp("tspan"),o.appendChild(M),Ep(M,"alignment-baseline",d),Ep(M,"text-anchor",v)),Ep(M,"x",u),Ep(M,"y",c+w*f+x),M.appendChild(document.createTextNode(m[w]));for(;w<_.length;w++)o.removeChild(_[w]);_.length=y,t.__text=r,t.__textFont=h}else if(t.__tspanList.length)for(var b=t.__tspanList.length,w=0;w<b;++w){var M=t.__tspanList[w];M&&(Ep(M,"x",u),Ep(M,"y",c+w*f+x))}}};aI.drawRectText=lI,aI.brush=function(t){var e=t.style;null!=e.text&&(e.textPosition=[0,0],lI(t,{x:e.x||0,y:e.y||0,width:0,height:0},t.getBoundingRect()))},zp.prototype={diff:function(s,l,t){this.equals=t=t||function(t,e){return t===e};var u=this;s=s.slice();var c=(l=l.slice()).length,h=s.length,d=1,e=c+h,f=[{newPos:-1,components:[]}],t=this.extractCommon(f[0],l,s,0);if(f[0].newPos+1>=c&&h<=t+1){for(var n=[],i=0;i<l.length;i++)n.push(i);return[{indices:n,count:l.length}]}for(;d<=e;){var r=function(){for(var t=-1*d;t<=d;t+=2){var e,n=f[t-1],i=f[t+1],r=(i?i.newPos:0)-t;n&&(f[t-1]=void 0);var o=n&&n.newPos+1<c,a=i&&0<=r&&r<h;if(o||a){if(!o||a&&n.newPos<i.newPos?(e={newPos:i.newPos,components:i.components.slice(0)},u.pushComponent(e.components,void 0,!0)):((e=n).newPos++,u.pushComponent(e.components,!0,void 0)),r=u.extractCommon(e,l,s,t),e.newPos+1>=c&&h<=r+1)return function(t){for(var e=0,n=t.length,i=0,r=0;e<n;e++){var o=t[e];if(o.removed){for(var a=[],s=r;s<r+o.count;s++)a.push(s);o.indices=a,r+=o.count}else{for(a=[],s=i;s<i+o.count;s++)a.push(s);o.indices=a,i+=o.count,o.added||(r+=o.count)}}return t}(e.components);f[t]=e}else f[t]=void 0}d++}();if(r)return r}},pushComponent:function(t,e,n){var i=t[t.length-1];i&&i.added===e&&i.removed===n?t[t.length-1]={count:i.count+1,added:e,removed:n}:t.push({count:1,added:e,removed:n})},extractCommon:function(t,e,n,i){for(var r=e.length,o=n.length,a=t.newPos,s=a-i,l=0;a+1<r&&s+1<o&&this.equals(e[a+1],n[s+1]);)a++,s++,l++;return l&&t.components.push({count:l}),t.newPos=a,s},tokenize:function(t){return t.slice()},join:function(t){return t.slice()}};var uI=new zp;jp.prototype.createElement=Dp,jp.prototype.getDefs=function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");return 0===i.length?t?((i=e.insertBefore(this.createElement("defs"),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;0<=n;--n)if(e[n]===t)return!0;return!1}),i):null:i[0]},jp.prototype.update=function(t,e){var n;t&&(n=this.getDefs(!1),t[this._domName]&&n.contains(t[this._domName])?"function"==typeof e&&e(t):(e=this.add(t))&&(t[this._domName]=e))},jp.prototype.addDom=function(t){this.getDefs(!0).appendChild(t)},jp.prototype.removeDom=function(t){var e=this.getDefs(!1);e&&t[this._domName]&&(e.removeChild(t[this._domName]),t[this._domName]=null)},jp.prototype.getDoms=function(){var e=this.getDefs(!1);if(!e)return[];var n=[];return P(this._tagNames,function(t){t=e.getElementsByTagName(t);n=n.concat([].slice.call(t))}),n},jp.prototype.markAllUnused=function(){var e=this;P(this.getDoms(),function(t){t[e._markLabel]="0"})},jp.prototype.markUsed=function(t){t&&(t[this._markLabel]="1")},jp.prototype.removeUnused=function(){var e,n=this.getDefs(!1);n&&P((e=this).getDoms(),function(t){"1"!==t[e._markLabel]&&n.removeChild(t)})},jp.prototype.getSvgProxy=function(t){return t instanceof Rn?rI:t instanceof He?oI:t instanceof U0?aI:rI},jp.prototype.getTextSvgElement=function(t){return t.__textSvgEl},jp.prototype.getSvgElement=function(t){return t.__svgEl},o(Yp,jp),Yp.prototype.addWithoutUpdate=function(r,o){var a;o&&o.style&&(a=this,P(["fill","stroke"],function(t){var e,n,i;!o.style[t]||"linear"!==o.style[t].type&&"radial"!==o.style[t].type||(e=o.style[t],n=a.getDefs(!0),e._dom?(i=e._dom,n.contains(e._dom)||a.addDom(i)):i=a.add(e),a.markUsed(o),i=i.getAttribute("id"),r.setAttribute(t,"url(#"+i+")"))}))},Yp.prototype.add=function(t){var e;if("linear"===t.type)e=this.createElement("linearGradient");else{if("radial"!==t.type)return Ug("Illegal gradient type."),null;e=this.createElement("radialGradient")}return t.id=t.id||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-gradient-"+t.id),this.updateDom(t,e),this.addDom(e),e},Yp.prototype.update=function(n){var i=this;jp.prototype.update.call(this,n,function(){var t=n.type,e=n._dom.tagName;"linear"===t&&"linearGradient"===e||"radial"===t&&"radialGradient"===e?i.updateDom(n,n._dom):(i.removeDom(n),i.add(n))})},Yp.prototype.updateDom=function(t,e){if("linear"===t.type)e.setAttribute("x1",t.x),e.setAttribute("y1",t.y),e.setAttribute("x2",t.x2),e.setAttribute("y2",t.y2);else{if("radial"!==t.type)return void Ug("Illegal gradient type.");e.setAttribute("cx",t.x),e.setAttribute("cy",t.y),e.setAttribute("r",t.r)}t.global?e.setAttribute("gradientUnits","userSpaceOnUse"):e.setAttribute("gradientUnits","objectBoundingBox"),e.innerHTML="";for(var n=t.colorStops,i=0,r=n.length;i<r;++i){var o=this.createElement("stop");o.setAttribute("offset",100*n[i].offset+"%"),o.setAttribute("stop-color",n[i].color),e.appendChild(o)}t._dom=e},Yp.prototype.markUsed=function(t){var e;t.style&&((e=t.style.fill)&&e._dom&&jp.prototype.markUsed.call(this,e._dom),(e=t.style.stroke)&&e._dom&&jp.prototype.markUsed.call(this,e._dom))},o(Rp,jp),Rp.prototype.update=function(t){var e=this.getSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!1);e=this.getTextSvgElement(t);e&&this.updateDom(e,t.__clipPaths,!0),this.markUsed(t)},Rp.prototype.updateDom=function(t,e,n){var i,r,o,a,s;e&&0<e.length?(o=this.getDefs(!0),(s=e[0])[a=n?"_textDom":"_dom"]?(r=s[a].getAttribute("id"),i=s[a],o.contains(i)||o.appendChild(i)):(r="zr"+this._zrId+"-clip-"+this.nextId,++this.nextId,(i=this.createElement("clipPath")).setAttribute("id",r),o.appendChild(i),s[a]=i),o=this.getSvgProxy(s),s.transform&&s.parent.invTransform&&!n?(a=Array.prototype.slice.call(s.transform),gt(s.transform,s.parent.invTransform,s.transform),o.brush(s),s.transform=a):o.brush(s),s=this.getSvgElement(s),i.innerHTML="",i.appendChild(s.cloneNode()),t.setAttribute("clip-path","url(#"+r+")"),1<e.length&&this.updateDom(i,e.slice(1),n)):t&&t.setAttribute("clip-path","none")},Rp.prototype.markUsed=function(t){var e=this;t.__clipPaths&&0<t.__clipPaths.length&&P(t.__clipPaths,function(t){t._dom&&jp.prototype.markUsed.call(e,t._dom),t._textDom&&jp.prototype.markUsed.call(e,t._textDom)})},o(Bp,jp),Bp.prototype.addWithoutUpdate=function(t,e){var n,i;e&&Fp(e.style)&&((n=e.style)._shadowDom?(i=n._shadowDom,this.getDefs(!0).contains(n._shadowDom)||this.addDom(i)):i=this.add(e),this.markUsed(e),i=i.getAttribute("id"),t.style.filter="url(#"+i+")")},Bp.prototype.add=function(t){var e=this.createElement("filter"),n=t.style;return n._shadowDomId=n._shadowDomId||this.nextId++,e.setAttribute("id","zr"+this._zrId+"-shadow-"+n._shadowDomId),this.updateDom(t,e),this.addDom(e),e},Bp.prototype.update=function(t,e){var n,i=e.style;Fp(i)?jp.prototype.update.call(n=this,e,function(t){n.updateDom(e,t._shadowDom)}):this.remove(t,i)},Bp.prototype.remove=function(t,e){null!=e._shadowDomId&&(this.removeDom(e),t.style.filter="")},Bp.prototype.updateDom=function(t,e){var n,i,r,o,a=0===(a=e.getElementsByTagName("feDropShadow")).length?this.createElement("feDropShadow"):a[0],s=t.style,l=t.scale&&t.scale[0]||1,t=t.scale&&t.scale[1]||1;if(s.shadowBlur||s.shadowOffsetX||s.shadowOffsetY)n=s.shadowOffsetX||0,i=s.shadowOffsetY||0,r=s.shadowBlur,o=s.shadowColor;else{if(!s.textShadowBlur)return void this.removeDom(e,s);n=s.textShadowOffsetX||0,i=s.textShadowOffsetY||0,r=s.textShadowBlur,o=s.textShadowColor}a.setAttribute("dx",n/l),a.setAttribute("dy",i/t),a.setAttribute("flood-color",o),a.setAttribute("stdDeviation",r/2/l+" "+r/2/t),e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width",Math.ceil(r/2*200)+"%"),e.setAttribute("height",Math.ceil(r/2*200)+"%"),e.appendChild(a),s._shadowDom=e},Bp.prototype.markUsed=function(t){t=t.style;t&&t._shadowDom&&jp.prototype.markUsed.call(this,t._shadowDom)};function cI(t,e,n,i){this.root=t,this.storage=e,this._opts=n=S({},n||{}),(e=Dp("svg")).setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("version","1.1"),e.setAttribute("baseProfile","full"),e.style.cssText="user-select:none;position:absolute;left:0;top:0;",this.gradientManager=new Yp(i,e),this.clipPathManager=new Rp(i,e),this.shadowManager=new Bp(i,e),(i=document.createElement("div")).style.cssText="overflow:hidden;position:relative",this._svgRoot=e,this._viewport=i,t.appendChild(i),i.appendChild(e),this.resize(n.width,n.height),this._visibleList=[]}cI.prototype={constructor:cI,getType:function(){return"svg"},getViewportRoot:function(){return this._viewport},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(){var t=this.storage.getDisplayList(!0);this._paintList(t)},setBackgroundColor:function(t){this._viewport.style.background=t},_paintList:function(t){this.gradientManager.markAllUnused(),this.clipPathManager.markAllUnused(),this.shadowManager.markAllUnused();for(var e=this._svgRoot,n=this._visibleList,i=t.length,r=[],o=0;o<i;o++){var a=(a=f=t[o])instanceof Rn?rI:a instanceof He?oI:a instanceof U0?aI:rI,s=Xp(f)||Vp(f);f.invisible||(f.__dirty&&(a&&a.brush(f),this.clipPathManager.update(f),f.style&&(this.gradientManager.update(f.style.fill),this.gradientManager.update(f.style.stroke),this.shadowManager.update(s,f)),f.__dirty=!1),r.push(f))}var l,u=uI.diff(n,r,l);for(o=0;o<u.length;o++)if((h=u[o]).removed)for(d=0;d<h.count;d++){var s=Xp(f=n[h.indices[d]]),c=Vp(f);Zp(e,s),Zp(e,c)}for(o=0;o<u.length;o++){var h=u[o];if(h.added)for(d=0;d<h.count;d++){s=Xp(f=r[h.indices[d]]),c=Vp(f);p?Gp(e,s,p):Up(e,s),s?Gp(e,c,s):p?Gp(e,c,p):Up(e,c),Gp(e,c,s),p=c||s||p,this.gradientManager.addWithoutUpdate(s,f),this.shadowManager.addWithoutUpdate(p,f),this.clipPathManager.markUsed(f)}else if(!h.removed)for(var d=0;d<h.count;d++){var f=r[h.indices[d]],p=s=Vp(f)||Xp(f)||p;this.gradientManager.markUsed(f),this.gradientManager.addWithoutUpdate(s,f),this.shadowManager.markUsed(f),this.shadowManager.addWithoutUpdate(s,f),this.clipPathManager.markUsed(f)}}this.gradientManager.removeUnused(),this.clipPathManager.removeUnused(),this.shadowManager.removeUnused(),this._visibleList=r},_getDefs:function(t){var e=this._svgRoot,i=this._svgRoot.getElementsByTagName("defs");return 0===i.length?t?((i=e.insertBefore(Dp("defs"),e.firstChild)).contains||(i.contains=function(t){var e=i.children;if(!e)return!1;for(var n=e.length-1;0<=n;--n)if(e[n]===t)return!0;return!1}),i):null:i[0]},resize:function(t,e){var n=this._viewport;n.style.display="none";var i=this._opts;null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width===t&&this._height===e||(this._width=t,this._height=e,(n=n.style).width=t+"px",n.height=e+"px",(n=this._svgRoot).setAttribute("width",t),n.setAttribute("height",e))},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],i=["clientWidth","clientHeight"][t],r=["paddingLeft","paddingTop"][t],o=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);t=this.root,e=document.defaultView.getComputedStyle(t);return(t[i]||Hp(e[n])||Hp(t.style[n]))-(Hp(e[r])||0)-(Hp(e[o])||0)|0},dispose:function(){this.root.innerHTML="",this._svgRoot=this._viewport=this.storage=null},clear:function(){this._viewport&&this.root.removeChild(this._viewport)},pathToDataUrl:function(){return this.refresh(),"data:image/svg+xml;charset=UTF-8,"+this._svgRoot.outerHTML}},P(["getLayer","insertLayer","eachLayer","eachBuiltinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],function(t){var e;cI.prototype[t]=(e=t,function(){Ug('In SVG mode painter not support method "'+e+'"')})}),Qe("svg",cI),t.version="4.2.0",t.dependencies={zrender:"4.0.5"},t.PRIORITY=Pg,t.init=function(t,e,n){var i=Zo(t);if(i)return i;var r,o,n=new No(t,e,n);return n.id="ec_"+z1++,O1[n.id]=n,hn(t,Y1,n.id),r=n,o="__connectUpdateStatus",y1(S1,function(t,e){r._messageCenter.on(e,function(t){var e,n;P1[r.group]&&0!==r[o]&&(t&&t.escapeConnect||(e=r.makeActionFromEvent(t),n=[],y1(O1,function(t){t!==r&&t.group===r.group&&n.push(t)}),a(n,0),y1(n,function(t){1!==t[o]&&t.dispatchAction(e)}),a(n,2)))})}),n;function a(t,e){for(var n=0;n<t.length;n++)t[n][o]=e}},t.connect=function(e){var t;return T(e)&&(t=e,e=null,y1(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+j1++,y1(t,function(t){t.group=e})),P1[e]=!0,e},t.disConnect=Uo,t.disconnect=jm,t.dispose=function(t){"string"==typeof t?t=O1[t]:t instanceof No||(t=Zo(t)),t instanceof No&&!t.isDisposed()&&t.dispose()},t.getInstanceByDom=Zo,t.getInstanceById=function(t){return O1[t]},t.registerTheme=Vo,t.registerPreprocessor=Xo,t.registerProcessor=qo,t.registerPostUpdate=function(t){N1.push(t)},t.registerAction=Jo,t.registerCoordinateSystem=$o,t.getCoordinateSystemDimensions=function(t){t=Mr.get(t);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},t.registerLayout=Qo,t.registerVisual=Ko,t.registerLoading=ea,t.extendComponentModel=na,t.extendComponentView=ia,t.extendSeriesModel=ra,t.extendChartView=oa,t.setCanvasCreator=function(t){e("createCanvas",t)},t.registerMap=function(t,e,n){f1(t,e,n)},t.getMap=function(t){t=p1(t);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}},t.dataTool={},t.zrender=Gm,t.number=tg,t.format=Cg,t.throttle=oo,t.helper=Oy,t.matrix=Ag,t.vector=pg,t.color=Bg,t.parseGeoJSON=bx,t.parseGeoJson=kg,t.util=Cx,t.graphic=Sx,t.List=R1,t.Model=Li,t.Axis=Mx,t.env=Jp}),function(){"use strict";function t(f){f.fn._fadeIn=f.fn.fadeIn;var p=f.noop||function(){},g=/MSIE/.test(navigator.userAgent),m=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),y=(document.documentMode,f.isFunction(document.createElement("div").style.setExpression));f.blockUI=function(t){n(window,t)},f.unblockUI=function(t){_(window,t)},f.growlUI=function(t,e,n,i){var r=f('<div class="growlUI"></div>');t&&r.append("<h1>"+t+"</h1>"),e&&r.append("<h2>"+e+"</h2>"),void 0===n&&(n=3e3);function o(t){f.blockUI({message:r,fadeIn:void 0!==(t=t||{}).fadeIn?t.fadeIn:700,fadeOut:void 0!==t.fadeOut?t.fadeOut:1e3,timeout:void 0!==t.timeout?t.timeout:n,centerY:!1,showOverlay:!1,onUnblock:i,css:f.blockUI.defaults.growlCSS})}o();r.css("opacity");r.mouseover(function(){o({fadeIn:0,timeout:3e4});var t=f(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){f(".blockMsg").fadeOut(1e3)})},f.fn.block=function(t){if(this[0]===window)return f.blockUI(t),this;var e=f.extend({},f.blockUI.defaults,t||{});return this.each(function(){var t=f(this);e.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==f.css(this,"position")&&(this.style.position="relative",f(this).data("blockUI.static",!0)),this.style.zoom=1,n(this,t)})},f.fn.unblock=function(t){return this[0]===window?(f.unblockUI(t),this):this.each(function(){_(this,t)})},f.blockUI.version=2.7,f.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:10,margin:10,width:"200px",top:"40%",left:"35%",textAlign:"center",color:"#fff",border:"1px solid #aaa",backgroundColor:"#000",opacity:.5,cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#fff",opacity:.5,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var v=null,x=[];function n(t,n){var e,i,r,o,a,s,l,u,c,h=t==window,d=n&&void 0!==n.message?n.message:void 0;(n=f.extend({},f.blockUI.defaults,n||{})).ignoreIfBlocked&&f(t).data("blockUI.isBlocked")||(n.overlayCSS=f.extend({},f.blockUI.defaults.overlayCSS,n.overlayCSS||{}),r=f.extend({},f.blockUI.defaults.css,n.css||{}),n.onOverlayClick&&(n.overlayCSS.cursor="pointer"),o=f.extend({},f.blockUI.defaults.themedCSS,n.themedCSS||{}),d='<i class="fa fa-cog fa-spin fa-2x fa-fw"></i><br />'+(d=void 0===d?n.message:d),h&&v&&_(window,{fadeOut:0}),d&&"string"!=typeof d&&(d.parentNode||d.jquery)&&(e=d.jquery?d[0]:d,l={},f(t).data("blockUI.history",l),l.el=e,l.parent=e.parentNode,l.display=e.style.display,l.position=e.style.position,l.parent&&l.parent.removeChild(e)),f(t).data("blockUI.onUnblock",n.onUnblock),c=n.baseZ,l=g||n.forceIframe?f('<iframe class="blockUI" style="z-index:'+c+++';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+n.iframeSrc+'"></iframe>'):f('<div class="blockUI" style="display:none"></div>'),e=n.theme?f('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+c+++';display:none"></div>'):f('<div class="blockUI blockOverlay" style="z-index:'+c+++';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),n.theme&&h?(u='<div class="blockUI '+n.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(c+10)+';display:none;position:fixed">',n.title&&(u+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),u+='<div class="ui-widget-content ui-dialog-content"></div>',u+="</div>"):n.theme?(u='<div class="blockUI '+n.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(c+10)+';display:none;position:absolute">',n.title&&(u+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||"&nbsp;")+"</div>"),u+='<div class="ui-widget-content ui-dialog-content"></div>',u+="</div>"):u=h?'<div class="blockUI '+n.blockMsgClass+' blockPage" style="z-index:'+(c+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+n.blockMsgClass+' blockElement" style="z-index:'+(c+10)+';display:none;position:absolute"></div>',c=f(u),d&&(n.theme?(c.css(o),c.addClass("ui-widget-content")):c.css(r)),n.theme||e.css(n.overlayCSS),e.css("position",h?"fixed":"absolute"),(g||n.forceIframe)&&l.css("opacity",0),u=[l,e,c],i=f(h?"body":t),f.each(u,function(){this.appendTo(i)}),n.theme&&n.draggable&&f.fn.draggable&&c.draggable({handle:".ui-dialog-titlebar",cancel:"li"}),o=y&&(!f.support.boxModel||0<f("object,embed",h?null:t).length),(m||o)&&(h&&n.allowBodyStretch&&f.support.boxModel&&f("html,body").css("height","100%"),!m&&f.support.boxModel||h||(r=M(t,"borderTopWidth"),o=M(t,"borderLeftWidth"),a=r?"(0 - "+r+")":0,s=o?"(0 - "+o+")":0),f.each(u,function(t,e){e=e[0].style;e.position="absolute",t<2?(h?e.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+n.quirksmodeOffsetHack+') + "px"'):e.setExpression("height",'this.parentNode.offsetHeight + "px"'),h?e.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):e.setExpression("width",'this.parentNode.offsetWidth + "px"'),s&&e.setExpression("left",s),a&&e.setExpression("top",a)):n.centerY?(h&&e.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),e.marginTop=0):!n.centerY&&h&&(t=n.css&&n.css.top?parseInt(n.css.top,10):0,e.setExpression("top","((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+t+') + "px"'))})),d&&((n.theme?c.find(".ui-widget-content"):c).append(d),(d.jquery||d.nodeType)&&f(d).show()),(g||n.forceIframe)&&n.showOverlay&&l.show(),n.fadeIn?(u=n.onBlock||p,l=n.showOverlay&&!d?u:p,u=d?u:p,n.showOverlay&&e._fadeIn(n.fadeIn,l),d&&c._fadeIn(n.fadeIn,u)):(n.showOverlay&&e.show(),d&&c.show(),n.onBlock&&n.onBlock.bind(c)()),b(1,t,n),h?(v=c[0],x=f(n.focusableElements,v),n.focusInput&&setTimeout(w,20)):function(t,e,n){var i=t.parentNode,r=t.style,o=(i.offsetWidth-t.offsetWidth)/2-M(i,"borderLeftWidth"),i=(i.offsetHeight-t.offsetHeight)/2-M(i,"borderTopWidth");e&&(r.left=0<o?o+"px":"0");n&&(r.top=0<i?i+"px":"0")}(c[0],n.centerX,n.centerY),n.timeout&&(c=setTimeout(function(){h?f.unblockUI(n):f(t).unblock(n)},n.timeout),f(t).data("blockUI.timeout",c)))}function _(t,e){var n,i,r=t==window,o=f(t),a=o.data("blockUI.history"),s=o.data("blockUI.timeout");s&&(clearTimeout(s),o.removeData("blockUI.timeout")),e=f.extend({},f.blockUI.defaults,e||{}),b(0,t,e),null===e.onUnblock&&(e.onUnblock=o.data("blockUI.onUnblock"),o.removeData("blockUI.onUnblock")),i=r?f("body").children().filter(".blockUI").add("body > .blockUI"):o.find(">.blockUI"),e.cursorReset&&(1<i.length&&(i[1].style.cursor=e.cursorReset),2<i.length&&(i[2].style.cursor=e.cursorReset)),r&&(v=x=null),e.fadeOut?(n=i.length,i.stop().fadeOut(e.fadeOut,function(){0==--n&&l(i,a,e,t)})):l(i,a,e,t)}function l(t,e,n,i){var r=f(i);r.data("blockUI.isBlocked")||(t.each(function(t,e){this.parentNode&&this.parentNode.removeChild(this)}),e&&e.el&&(e.el.style.display=e.display,e.el.style.position=e.position,e.el.style.cursor="default",e.parent&&e.parent.appendChild(e.el),r.removeData("blockUI.history")),r.data("blockUI.static")&&r.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(i,n),i=(r=f(document.body)).width(),n=r[0].style.width,r.width(i-1).width(i),r[0].style.width=n)}function b(t,e,n){var i=e==window,e=f(e);!t&&(i&&!v||!i&&!e.data("blockUI.isBlocked"))||(e.data("blockUI.isBlocked",t),i&&n.bindEvents&&(!t||n.showOverlay)&&(i="mousedown mouseup keydown keypress keyup touchstart touchend touchmove",t?f(document).bind(i,n,r):f(document).unbind(i,r)))}function r(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&v&&t.data.constrainTabKey){var e=x,n=!t.shiftKey&&t.target===e[e.length-1],i=t.shiftKey&&t.target===e[0];if(n||i)return setTimeout(function(){w(i)},10),!1}e=t.data,n=f(t.target);return n.hasClass("blockOverlay")&&e.onOverlayClick&&e.onOverlayClick(t),0<n.parents("div."+e.blockMsgClass).length||0===n.parents().children().filter("div.blockUI").length}function w(t){!x||(t=x[!0===t?x.length-1:0])&&t.focus()}function M(t,e){return parseInt(f.css(t,e),10)||0}}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["./jquery"],t):t(jQuery)}(),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.math=e():t.math=e()}(this,function(){return n=[function(t,e,n){"use strict";t.exports=function e(t,n,i){return t&&"function"==typeof t.map?t.map(function(t){return e(t,n,i)}):n(t)}},function(t,e,n){"use strict";e.name="matrix",e.factory=function(i,t,e,n){return(n=n("matrix",{"":function(){return r([])},string:function(t){return r([],t)},"string, string":function(t,e){return r([],t,e)},Array:function(t){return r(t)},Matrix:function(t){return r(t,t.storage())},"Array | Matrix, string":r,"Array | Matrix, string, string":r})).toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},n;function r(t,e,n){return new(i.Matrix.storage(e||"default"))(t,n)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"size",function(){return s}),n.d(e,"validate",function(){return a}),n.d(e,"validateIndex",function(){return u}),n.d(e,"resize",function(){return c}),n.d(e,"reshape",function(){return h}),n.d(e,"squeeze",function(){return d}),n.d(e,"unsqueeze",function(){return f}),n.d(e,"flatten",function(){return p}),n.d(e,"map",function(){return g}),n.d(e,"forEach",function(){return m}),n.d(e,"filter",function(){return y}),n.d(e,"filterRegExp",function(){return v}),n.d(e,"join",function(){return x}),n.d(e,"identify",function(){return _}),n.d(e,"generalize",function(){return b});var e=n(3),i=n.n(e),e=n(9),r=n.n(e),e=n(8),l=n.n(e),e=n(55),o=n.n(e);function s(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function a(t,e){if(0===e.length){if(Array.isArray(t))throw new l.a(t.length,0)}else!function t(e,n,i){var r=e.length;if(r!==n[i])throw new l.a(r,n[i]);if(i<n.length-1)for(var o=i+1,a=0;a<r;a++){var s=e[a];if(!Array.isArray(s))throw new l.a(n.length-1,n.length,"<");t(e[a],n,o)}else for(a=0;a<r;a++)if(Array.isArray(e[a]))throw new l.a(n.length+1,n.length,">")}(t,e,0)}function u(t,e){if(!i.a.isNumber(t)||!i.a.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&e<=t)throw new o.a(t,e)}function c(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");return e.forEach(function(t){if(!i.a.isNumber(t)||!i.a.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+r.a.format(e)+")")}),function t(e,n,i,r){var o;var a;var s=e.length;var l=n[i];var u=Math.min(s,l);e.length=l;if(i<n.length-1){var c=i+1;for(o=0;o<u;o++)a=e[o],Array.isArray(a)||(a=[a],e[o]=a),t(a,n,c,r);for(o=u;o<l;o++)a=[],e[o]=a,t(a,n,c,r)}else{for(o=0;o<u;o++)for(;Array.isArray(e[o]);)e[o]=e[o][0];for(o=u;o<l;o++)e[o]=r}}(t,e,0,void 0!==n?n:0),t}function h(e,n){var t,i=p(e);function r(t){return t.reduce(function(t,e){return t*e})}if(!Array.isArray(e)||!Array.isArray(n))throw new TypeError("Array expected");if(0===n.length)throw new l.a(0,r(s(e)),"!=");for(var o=1,a=0;a<n.length;a++)o*=n[a];if(i.length!==o)throw new l.a(r(n),r(s(e)),"!=");try{t=function(t,e){for(var n,i=t,r=e.length-1;0<r;r--){var o=e[r];n=[];for(var a=i.length/o,s=0;s<a;s++)n.push(i.slice(s*o,(s+1)*o));i=n}return i}(i,n)}catch(t){if(t instanceof l.a)throw new l.a(r(n),r(s(e)),"!=");throw t}return t}function d(t,e){for(var n=e||s(t);Array.isArray(t)&&1===t.length;)t=t[0],n.shift();for(var i=n.length;1===n[i-1];)i--;return i<n.length&&(t=function t(e,n,i){var r,o;if(i<n){var a=i+1;for(r=0,o=e.length;r<o;r++)e[r]=t(e[r],n,a)}else for(;Array.isArray(e);)e=e[0];return e}(t,i,0),n.length=i),t}function f(t,e,n,i){var r=i||s(t);if(n)for(var o=0;o<n;o++)t=[t],r.unshift(1);for(t=function t(e,n,i){var r,o;if(Array.isArray(e)){var a=i+1;for(r=0,o=e.length;r<o;r++)e[r]=t(e[r],n,a)}else for(var s=i;s<n;s++)e=[e];return e}(t,e,0);r.length<e;)r.push(1);return t}function p(t){if(!Array.isArray(t))return t;var n=[];return t.forEach(function t(e){Array.isArray(e)?e.forEach(t):n.push(e)}),n}function g(t,e){return Array.prototype.map.call(t,e)}function m(t,e){Array.prototype.forEach.call(t,e)}function y(t,e){if(1!==s(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function v(t,e){if(1!==s(t).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,function(t){return e.test(t)})}function x(t,e){return Array.prototype.join.call(t,e)}function _(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;var e=[],n=0;e[0]={value:t[0],identifier:0};for(var i=1;i<t.length;i++)t[i]===t[i-1]?n++:n=0,e.push({value:t[i],identifier:n});return e}function b(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(0===t.length)return t;for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);return e}},function(t,l,e){"use strict";var o=e(5);function u(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}l.isNumber=function(t){return"number"==typeof t},l.isInteger=function(t){return"boolean"==typeof t||!!isFinite(t)&&t===Math.round(t)},l.sign=Math.sign||function(t){return 0<t?1:t<0?-1:0},l.format=function(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n,i="auto";switch(e&&(e.notation&&(i=e.notation),l.isNumber(e)?n=e:l.isNumber(e.precision)&&(n=e.precision)),i){case"fixed":return l.toFixed(t,n);case"exponential":return l.toExponential(t,n);case"engineering":return l.toEngineering(t,n);case"auto":if(!e||!e.exponential||void 0===e.exponential.lower&&void 0===e.exponential.upper)return l.toPrecision(t,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});var r=o.map(e,function(t){return t});return(r.exponential=void 0)!==e.exponential.lower&&(r.lowerExp=Math.round(Math.log(e.exponential.lower)/Math.LN10)),void 0!==e.exponential.upper&&(r.upperExp=Math.round(Math.log(e.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(e)+" with "+JSON.stringify(r)),l.toPrecision(t,n,r);default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},l.splitNumber=function(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],t=e[2],i=parseFloat(e[4]||"0"),e=t.indexOf(".");i+=-1!==e?e-1:t.length-1;t=t.replace(".","").replace(/^0*/,function(t){return i-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)});return 0===t.length&&(t.push(0),i++),{sign:n,coefficients:t,exponent:i}},l.toEngineering=function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=l.roundDigits(l.splitNumber(t),e),i=n.exponent,r=n.coefficients,t=i%3==0?i:i<0?i-3-i%3:i-i%3;l.isNumber(e)?e>r.length&&(r=r.concat(u(e-r.length))):(s=0<=i?i:Math.abs(t),r.length-1<s&&(r=r.concat(u(s-(r.length-1)))));for(var o=Math.abs(i-t),a=1;0<=--o;)a++;var s=r.slice(a).join(""),s=l.isNumber(e)&&s.length||s.match(/[1-9]/)?"."+s:"",t=r.slice(0,a).join("")+s+"e"+(0<=i?"+":"")+t.toString();return n.sign+t},l.toFixed=function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=l.splitNumber(t),i="number"==typeof e?l.roundDigits(n,n.exponent+1+e):n,t=i.coefficients,n=i.exponent+1,e=n+(e||0);return t.length<e&&(t=t.concat(u(e-t.length))),n<0&&(t=u(1-n).concat(t),n=1),n<t.length&&t.splice(n,0,0===n?"0.":"."),i.sign+t.join("")},l.toExponential=function(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=l.splitNumber(t),i=e?l.roundDigits(n,e):n,t=i.coefficients,n=i.exponent,e=(t=t.length<e?t.concat(u(e-t.length)):t).shift();return i.sign+e+(0<t.length?"."+t.join(""):"")+"e"+(0<=n?"+":"")+n},l.toPrecision=function(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var i=n&&void 0!==n.lowerExp?n.lowerExp:-3,r=n&&void 0!==n.upperExp?n.upperExp:5,n=l.splitNumber(t);if(n.exponent<i||n.exponent>=r)return l.toExponential(t,e);r=e?l.roundDigits(n,e):n,t=r.coefficients,n=r.exponent;t=(t=t.length<e?t.concat(u(e-t.length)):t).concat(u(n-t.length+1+(t.length<e?e-t.length:0)));e=0<n?n:0;return e<(t=u(-n).concat(t)).length-1&&t.splice(e+1,0,"."),r.sign+t.join("")},l.roundDigits=function(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},i=n.coefficients;e<=0;)i.unshift(0),n.exponent++,e++;if(i.length>e&&5<=i.splice(e,i.length-e)[0]){var r=e-1;for(i[r]++;10===i[r];)i.pop(),0===r&&(i.unshift(0),n.exponent++,r++),i[--r]++}return n},l.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},l.DBL_EPSILON=Number.EPSILON||2220446049250313e-31,l.nearlyEqual=function(t,e,n){if(null==n)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var i=Math.abs(t-e);return i<l.DBL_EPSILON||i<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}},function(t,n,e){"use strict";var i=e(173);n.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},n.operators={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},n.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var r={deg:"^\\circ"};n.escape=function(t){return i(t,{preserveFormatting:!0})},n.toSymbol=function(t,e){return(e=void 0!==e&&e)?r.hasOwnProperty(t)?r[t]:"\\mathrm{"+n.escape(t)+"}":n.symbols.hasOwnProperty(t)?n.symbols[t]:n.escape(t)}},function(t,o,e){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=e(79);o.clone=function t(e){var n=i(e);if("number"===n||"string"===n||"boolean"===n||null==e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(t);if(e instanceof Date)return new Date(e.valueOf());if(r(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return o.map(e,t)},o.map=function(t,e){var n,i={};for(n in t)o.hasOwnProperty(t,n)&&(i[n]=e(t[n]));return i},o.extend=function(t,e){for(var n in e)o.hasOwnProperty(e,n)&&(t[n]=e[n]);return t},o.deepExtend=function t(e,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var i in n)if(o.hasOwnProperty(n,i))if(n[i]&&n[i].constructor===Object)void 0===e[i]&&(e[i]={}),e[i].constructor===Object?t(e[i],n[i]):e[i]=n[i];else{if(Array.isArray(n[i]))throw new TypeError("Arrays are not supported by deepExtend");e[i]=n[i]}return e},o.deepEqual=function(t,e){var n,i,r;if(Array.isArray(t)){if(!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(i=0,r=t.length;i<r;i++)if(!o.deepEqual(t[i],e[i]))return!1;return!0}if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!o.deepEqual(t[n],e[n]))return!1;for(n in e)if(!o.deepEqual(t[n],e[n]))return!1;return!0}return t===e},o.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},o.lazy=function(t,e,n){var i,r;o.canDefineProperty()?(i=!0,Object.defineProperty(t,e,{get:function(){return i&&(r=n(),i=!1),r},set:function(t){r=t,i=!1},configurable:!0,enumerable:!0})):t[e]=n()},o.traverse=function(t,e){var n=t;if(e)for(var i=e.split("."),r=0;r<i.length;r++){var o=i[r];o in n||(n[o]={}),n=n[o]}return n},o.hasOwnProperty=function(t,e){return t&&Object.hasOwnProperty.call(t,e)},o.isFactory=function(t){return t&&"function"==typeof t.factory}},function(t,e,n){"use strict";var c=n(5).clone;e.name="algorithm14",e.factory=function(t,e,n,l){var u=t.DenseMatrix;return function(t,e,n,i){var r,o=t._data,a=t._size,s=t._datatype,t=n;"string"==typeof s&&(e=l.convert(e,r=s),t=l.find(n,[r,r]));i=0<a.length?function t(e,n,i,r,o,a,s){var l=[];if(n===i.length-1)for(var u=0;u<r;u++)l[u]=s?e(a,o[u]):e(o[u],a);else for(var c=0;c<r;c++)l[c]=t(e,n+1,i,i[n+1],o[c],a,s);return l}(t,0,a,a[0],o,e,i):[];return new u({data:i,size:c(a),datatype:r})}}},function(t,e,n){"use strict";var f=n(8);e.name="algorithm13",e.factory=function(t,e,n,h){var d=t.DenseMatrix;return function(t,e,n){var i=t._data,r=t._size,o=t._datatype,a=e._data,s=e._size,t=e._datatype,l=[];if(r.length!==s.length)throw new f(r.length,s.length);for(var u,c=0;c<r.length;c++){if(r[c]!==s[c])throw new RangeError("Dimension mismatch. Matrix A ("+r+") must match Matrix B ("+s+")");l[c]=r[c]}e=n;"string"==typeof o&&o===t&&(e=h.find(n,[u=o,u]));a=0<l.length?function t(e,n,i,r,o,a){var s=[];if(n===i.length-1)for(var l=0;l<r;l++)s[l]=e(o[l],a[l]);else for(var u=0;u<r;u++)s[u]=t(e,n+1,i,i[n+1],o[u],a[u]);return s}(e,0,l,l[0],i,a):[];return new d({data:a,size:l,datatype:u})}}},function(t,e,n){"use strict";function i(t,e,n){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=(new Error).stack}(i.prototype=new RangeError).constructor=RangeError,i.prototype.name="DimensionError",i.prototype.isDimensionError=!0,t.exports=i},function(t,a,e){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=e(3).format,l=e(168).format,u=e(79);a.isString=function(t){return"string"==typeof t},a.endsWith=function(t,e){var n=t.length-e.length,i=t.length;return t.substring(n,i)===e},a.format=function(t,e){if("number"==typeof t)return s(t,e);if(u(t))return l(t,e);if((n=t)&&"object"===o(n)&&"number"==typeof n.s&&"number"==typeof n.n&&"number"==typeof n.d||!1)return e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d;var n;if(Array.isArray(t))return function t(e,n){{if(Array.isArray(e)){for(var i="[",r=e.length,o=0;o<r;o++)0!==o&&(i+=", "),i+=t(e[o],n);return i+="]"}return a.format(e,n)}}(t,e);if(a.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"===o(t)){if("function"==typeof t.format)return t.format(e);if(t&&t.toString()!=={}.toString())return t.toString();var i,r=[];for(i in t)t.hasOwnProperty(i)&&r.push('"'+i+'": '+a.format(t[i],e));return"{"+r.join(", ")+"}"}return String(t)},a.stringify=function(t){for(var e=String(t),n="",i=0;i<e.length;){var r=e.charAt(i);"\\"===r?(n+=r,i++,""!==(r=e.charAt(i))&&-1!=='"\\/bfnrtu'.indexOf(r)||(n+="\\"),n+=r):n+='"'===r?'\\"':r,i++}return'"'+n+'"'},a.escape=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(t,e,h){"use strict";var d=h(5).extend,f=h(2);e.name="multiply",e.factory=function(n,t,e,E){var i=h(4),r=e(h(1)),O=e(h(17)),P=e(h(21)),k=e(h(11)),o=e(h(20)),a=e(h(6)),v=n.DenseMatrix,z=n.SparseMatrix,s=E("multiply",d({"Array, Array":function(t,e){l(f.size(t),f.size(e));e=s(r(t),r(e));return n.isMatrix(e)?e.valueOf():e},"Matrix, Matrix":function(t,e){var n=t.size(),i=e.size();return l(n,i),1===n.length?1===i.length?function(t,e,n){if(0===n)throw new Error("Cannot multiply two empty vectors");var i=t._data,t=t._datatype,r=e._data,e=e._datatype,o=O,a=P;t&&e&&t===e&&"string"==typeof t&&(t=t,o=E.find(O,[t,t]),a=E.find(P,[t,t]));for(var s=a(i[0],r[0]),l=1;l<n;l++)s=o(s,a(i[l],r[l]));return s}(t,e,n[0]):function(t,e){if("dense"===e.storage())return function(t,e){var n,i=t._data,r=t._size,o=t._datatype,a=e._data,t=e._size,e=e._datatype,s=r[0],l=t[1],u=O,c=P;o&&e&&o===e&&"string"==typeof o&&(n=o,u=E.find(O,[n,n]),c=E.find(P,[n,n]));for(var h=[],d=0;d<l;d++){for(var f=c(i[0],a[0][d]),p=1;p<s;p++)f=u(f,c(i[p],a[p][d]));h[d]=f}return new v({data:h,size:[l],datatype:n})}(t,e);throw new Error("Support for SparseMatrix not implemented")}(t,e):(1===i.length?u:c)(t,e)},"Matrix, Array":function(t,e){return s(t,r(e))},"Array, Matrix":function(t,e){return s(r(t,e.storage()),e)},"SparseMatrix, any":function(t,e){return o(t,e,P,!1)},"DenseMatrix, any":function(t,e){return a(t,e,P,!1)},"any, SparseMatrix":function(t,e){return o(e,t,P,!0)},"any, DenseMatrix":function(t,e){return a(e,t,P,!0)},"Array, any":function(t,e){return a(r(t),e,P,!1).valueOf()},"any, Array":function(t,e){return a(r(e),t,P,!0).valueOf()},"any, any":P,"any, any, ...any":function(t,e,n){for(var i=s(t,e),r=0;r<n.length;r++)i=s(i,n[r]);return i}},P.signatures));function l(t,e){switch(t.length){case 1:switch(e.length){case 1:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(t[0]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+t[0]+") must match Matrix rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;case 2:switch(e.length){case 1:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+t[1]+") must match Vector length ("+e[0]+")");break;case 2:if(t[1]!==e[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+t[1]+") must match Matrix B rows ("+e[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+e.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+t.length+" dimensions)")}}var u=E("_multiplyMatrixVector",{"DenseMatrix, any":function(t,e){var n,i=t._data,r=t._size,t=t._datatype,o=e._data,e=e._datatype,a=r[0],s=r[1],l=O,u=P;t&&e&&t===e&&"string"==typeof t&&(n=t,l=E.find(O,[n,n]),u=E.find(P,[n,n]));for(var c=[],h=0;h<a;h++){for(var d=i[h],f=u(d[0],o[0]),p=1;p<s;p++)f=l(f,u(d[p],o[p]));c[h]=f}return new v({data:c,size:[a],datatype:n})},"SparseMatrix, any":function(t,e){var n=t._values,i=t._index,r=t._ptr,o=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var a,s=e._data,l=e._datatype,t=t._size[0],u=e._size[0],c=[],h=[],e=[],d=O,f=P,p=k,g=0;o&&l&&o===l&&"string"==typeof o&&(a=o,d=E.find(O,[a,a]),f=E.find(P,[a,a]),p=E.find(k,[a,a]),g=E.convert(0,a));for(var m=[],y=[],v=e[0]=0;v<u;v++){var x=s[v];if(!p(x,g))for(var _=r[v],b=r[v+1],w=_;w<b;w++){var M=i[w];y[M]?m[M]=d(m[M],f(x,n[w])):(y[M]=!0,h.push(M),m[M]=f(x,n[w]))}}for(var A=h.length,I=0;I<A;I++){var C=h[I];c[I]=m[C]}return e[1]=h.length,new z({values:c,index:h,ptr:e,size:[t,1],datatype:a})}}),c=E("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function(t,e){var n,i=t._data,r=t._size,o=t._datatype,a=e._data,t=e._size,e=e._datatype,s=r[0],l=r[1],u=t[1],c=O,h=P;o&&e&&o===e&&"string"==typeof o&&(n=o,c=E.find(O,[n,n]),h=E.find(P,[n,n]));for(var d=[],f=0;f<s;f++){var p=i[f];d[f]=[];for(var g=0;g<u;g++){for(var m=h(p[0],a[0][g]),y=1;y<l;y++)m=c(m,h(p[y],a[y][g]));d[f][g]=m}}return new v({data:d,size:[s,u],datatype:n})},"DenseMatrix, SparseMatrix":function(t,e){var n=t._data,i=t._size,r=t._datatype,o=e._values,a=e._index,s=e._ptr,t=e._size,e=e._datatype;if(!o)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var l=i[0],u=t[1],c=O,h=P,d=k,f=0;r&&e&&r===e&&"string"==typeof r&&(y=r,c=E.find(O,[y,y]),h=E.find(P,[y,y]),d=E.find(k,[y,y]),f=E.convert(0,y));for(var p=[],g=[],m=[],y=new z({values:p,index:g,ptr:m,size:[l,u],datatype:y}),v=0;v<u;v++){m[v]=g.length;var x=s[v],_=s[v+1];if(x<_)for(var b=0,w=0;w<l;w++){for(var M=w+1,A=void 0,I=x;I<_;I++){var C=a[I];b!==M?(A=h(n[w][C],o[I]),b=M):A=c(A,h(n[w][C],o[I]))}b!==M||d(A,f)||(g.push(w),p.push(A))}}return m[u]=g.length,y},"SparseMatrix, DenseMatrix":function(t,e){var n=t._values,i=t._index,r=t._ptr,o=t._datatype;if(!n)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var a=e._data,s=e._datatype,t=t._size[0],l=e._size[0],u=e._size[1],c=O,h=P,d=k,f=0;o&&s&&o===s&&"string"==typeof o&&(y=o,c=E.find(O,[y,y]),h=E.find(P,[y,y]),d=E.find(k,[y,y]),f=E.convert(0,y));for(var p=[],g=[],m=[],y=new z({values:p,index:g,ptr:m,size:[t,u],datatype:y}),v=[],x=[],_=0;_<u;_++){m[_]=g.length;for(var b=_+1,w=0;w<l;w++){var M=a[w][_];if(!d(M,f))for(var A=r[w],I=r[w+1],C=A;C<I;C++){var S=i[C];x[S]!==b?(x[S]=b,g.push(S),v[S]=h(M,n[C])):v[S]=c(v[S],h(M,n[C]))}}for(var T=m[_],D=g.length,N=T;N<D;N++){var L=g[N];p[N]=v[L]}}return m[u]=g.length,y},"SparseMatrix, SparseMatrix":function(t,e){var n=t._values,i=t._index,r=t._ptr,o=t._datatype,a=e._values,s=e._index,l=e._ptr,u=e._datatype,t=t._size[0],c=e._size[1],h=n&&a,d=O,f=P;o&&u&&o===u&&"string"==typeof o&&(A=o,d=E.find(O,[A,A]),f=E.find(P,[A,A]));for(var p,g,m,y,v,x,_,b=h?[]:void 0,w=[],M=[],A=new z({values:b,index:w,ptr:M,size:[t,c],datatype:A}),I=h?[]:void 0,C=[],S=0;S<c;S++){M[S]=w.length;var T=S+1;for(D=l[S],v=l[S+1],y=D;y<v;y++)if(_=s[y],h)for(g=r[_],m=r[_+1],p=g;p<m;p++)x=i[p],C[x]!==T?(C[x]=T,w.push(x),I[x]=f(a[y],n[p])):I[x]=d(I[x],f(a[y],n[p]));else for(g=r[_],m=r[_+1],p=g;p<m;p++)x=i[p],C[x]!==T&&(C[x]=T,w.push(x));if(h)for(var D=M[S],N=w.length,L=D;L<N;L++){var k=w[L];b[L]=I[k]}}return M[c]=w.length,A}});return s.toTex={2:"\\left(${args[0]}".concat(i.operators.multiply,"${args[1]}\\right)")},s}},function(t,e,n){"use strict";var o=n(3).nearlyEqual,a=n(38);e.factory=function(t,n,e,i){var r=i("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,e){return t===e||o(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.eq(e)||a(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return r(t.value,e.value)}});return r}},function(t,e,s){"use strict";e.factory=function(t,e,n,i){var r=n(s(65)),o=n(s(24)),a=i("divide",{"number, number":function(t,e){return t/e},"Complex, Complex":function(t,e){return t.div(e)},"BigNumber, BigNumber":function(t,e){return t.div(e)},"Fraction, Fraction":function(t,e){return t.div(e)},"Unit, number | Fraction | BigNumber":function(t,e){var n=t.clone(),t=r(1,o(e));return n.value=a(null===n.value?n._normalize(t):n.value,e),n},"number | Fraction | BigNumber, Unit":function(t,e){var n=(n=e.clone()).pow(-1),i=r(1,o(t));return n.value=a(t,null===e.value?e._normalize(i):e.value),n},"Unit, Unit":function(t,e){return t.divide(e)}});return a}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(5).hasOwnProperty;function o(t,e){return!(!t||"object"!==i(t))&&(!!r(l,e)||!(e in Object.prototype)&&!(e in Function.prototype))}function a(t,e){return!(!t||"function"!=typeof t[e])&&(!(r(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t))&&(!!r(u,e)||!(e in Object.prototype)&&!(e in Function.prototype)))}function s(t){return"object"===i(t)&&t&&t.constructor===Object}var l={length:!0,name:!0},u={toString:!0,valueOf:!0,toLocaleString:!0};e.getSafeProperty=function(t,e){if(s(t)&&o(t,e))return t[e];if("function"==typeof t[e]&&a(t,e))throw new Error('Cannot access method "'+e+'" as a property');throw new Error('No access to property "'+e+'"')},e.setSafeProperty=function(t,e,n){if(s(t)&&o(t,e))return t[e]=n;throw new Error('No access to property "'+e+'"')},e.isSafeProperty=o,e.validateSafeMethod=function(t,e){if(!a(t,e))throw new Error('No access to method "'+e+'"')},e.isSafeMethod=a,e.isPlainObject=s},function(t,e,f){"use strict";var p=f(5).extend;e.name="add",e.factory=function(t,e,n,i){var r=n(f(1)),o=n(f(17)),a=f(4),s=n(f(32)),l=n(f(83)),u=n(f(39)),c=n(f(7)),h=n(f(6)),d=i("add",p({"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,o)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,o,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,o,!0)},"SparseMatrix, SparseMatrix":function(t,e){return l(t,e,o)},"Array, Array":function(t,e){return d(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return d(r(t),e)},"Matrix, Array":function(t,e){return d(t,r(e))},"DenseMatrix, any":function(t,e){return h(t,e,o,!1)},"SparseMatrix, any":function(t,e){return u(t,e,o,!1)},"any, DenseMatrix":function(t,e){return h(e,t,o,!0)},"any, SparseMatrix":function(t,e){return u(e,t,o,!0)},"Array, any":function(t,e){return h(r(t),e,o,!1).valueOf()},"any, Array":function(t,e){return h(r(e),t,o,!0).valueOf()},"any, any":o,"any, any, ...any":function(t,e,n){for(var i=d(t,e),r=0;r<n.length;r++)i=d(i,n[r]);return i}},o.signatures));return d.toTex={2:"\\left(${args[0]}".concat(a.operators.add,"${args[1]}\\right)")},d}},function(t,e,g){"use strict";var n=g(8);function m(t,e){t=t.size(),e=e.size();if(t.length!==e.length)throw new n(t.length,e.length)}e.name="subtract",e.factory=function(t,e,n,i){var r=g(4),o=n(g(1)),a=n(g(17)),s=n(g(34)),l=n(g(32)),u=n(g(18)),c=n(g(66)),h=n(g(39)),d=n(g(7)),f=n(g(6)),p=i("subtract",{"number, number":function(t,e){return t-e},"Complex, Complex":function(t,e){return t.sub(e)},"BigNumber, BigNumber":function(t,e){return t.minus(e)},"Fraction, Fraction":function(t,e){return t.sub(e)},"Unit, Unit":function(t,e){if(null===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");t=t.clone();return t.value=p(t.value,e.value),t.fixPrefix=!1,t},"SparseMatrix, SparseMatrix":function(t,e){return m(t,e),c(t,e,p)},"SparseMatrix, DenseMatrix":function(t,e){return m(t,e),u(e,t,p,!0)},"DenseMatrix, SparseMatrix":function(t,e){return m(t,e),l(t,e,p,!1)},"DenseMatrix, DenseMatrix":function(t,e){return m(t,e),d(t,e,p)},"Array, Array":function(t,e){return p(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return p(o(t),e)},"Matrix, Array":function(t,e){return p(t,o(e))},"SparseMatrix, any":function(t,e){return h(t,s(e),a)},"DenseMatrix, any":function(t,e){return f(t,e,p)},"any, SparseMatrix":function(t,e){return h(e,t,p,!0)},"any, DenseMatrix":function(t,e){return f(e,t,p,!0)},"Array, any":function(t,e){return f(o(t),e,p,!1).valueOf()},"any, Array":function(t,e){return f(o(e),t,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}".concat(r.operators.subtract,"${args[1]}\\right)")},p}},function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=n(108),l=n(5).deepEqual,u=n(5).hasOwnProperty;e.name="Node",e.path="expression.node",e.math=!0,e.factory=function(e,t,n,i,r){function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator")}return o.prototype.eval=function(t){return this.compile().eval(t)},o.prototype.type="Node",o.prototype.isNode=!0,o.prototype.comment="",o.prototype.compile=function(){var e=this._compile(r.expression.mathWithTransform,{}),n={};return{eval:function(t){t=t||{};return function(t){for(var e in t)if(u(t,e)&&e in s)throw new Error('Scope contains an illegal symbol, "'+e+'" is a reserved keyword')}(t),e(t,n,null)}}},o.prototype._compile=function(t,e){throw new Error("Method _compile should be implemented by type "+this.type)},o.prototype.forEach=function(t){throw new Error("Cannot run forEach on a Node interface")},o.prototype.map=function(t){throw new Error("Cannot run map on a Node interface")},o.prototype._ifNode=function(t){if(!e.isNode(t))throw new TypeError("Callback function must return a Node");return t},o.prototype.traverse=function(t){t(this,null,null),function i(t,r){t.forEach(function(t,e,n){r(t,e,n),i(t,r)})}(this,t)},o.prototype.transform=function(t){return function i(t,r){return t.map(function(t,e,n){return i(r(t,e,n),r)})}(t(this,null,null),t)},o.prototype.filter=function(i){var r=[];return this.traverse(function(t,e,n){i(t,e,n)&&r.push(t)}),r},o.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},o.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},o.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},o.prototype.cloneDeep=function(){return this.map(function(t){return t.cloneDeep()})},o.prototype.equals=function(t){return!!t&&l(this,t)},o.prototype.toString=function(t){var e;if(t&&"object"===a(t))switch(a(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toString(t)},o.prototype.toJSON=function(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)},o.prototype.toHTML=function(t){var e;if(t&&"object"===a(t))switch(a(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this.toHTML(t)},o.prototype._toString=function(){throw new Error("_toString not implemented for "+this.type)},o.prototype.toTex=function(t){var e;if(t&&"object"===a(t))switch(a(t.handler)){case"object":case"undefined":break;case"function":e=t.handler(this,t);break;default:throw new TypeError("Object or function expected as callback")}return void 0!==e?e:this._toTex(t)},o.prototype._toTex=function(t){throw new Error("_toTex not implemented for "+this.type)},o.prototype.getIdentifier=function(){return this.type},o.prototype.getContent=function(){return this},o}},function(t,e,n){"use strict";e.factory=function(t,e,n,i){var r=i("add",{"number, number":function(t,e){return t+e},"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null===t.value||void 0===t.value)throw new Error("Parameter x contains a unit with undefined value");if(null===e.value||void 0===e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");t=t.clone();return t.value=r(t.value,e.value),t.fixPrefix=!1,t}});return r}},function(t,e,n){"use strict";var T=n(8);e.name="algorithm03",e.factory=function(t,e,n,C){var S=t.DenseMatrix;return function(t,e,n,i){var r=t._data,o=t._size,a=t._datatype,s=e._values,l=e._index,u=e._ptr,t=e._size,e=e._datatype;if(o.length!==t.length)throw new T(o.length,t.length);if(o[0]!==t[0]||o[1]!==t[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+t+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var c,h=o[0],d=o[1],f=0,p=n;"string"==typeof a&&a===e&&(f=C.convert(0,c=a),p=C.find(n,[c,c]));for(var g=[],m=0;m<h;m++)g[m]=[];for(var y=[],v=[],x=0;x<d;x++){for(var _=x+1,b=u[x],w=u[x+1],M=b;M<w;M++){var A=l[M];y[A]=i?p(s[M],r[A][x]):p(r[A][x],s[M]),v[A]=_}for(var I=0;I<h;I++)v[I]===_?g[I][x]=y[I]:g[I][x]=i?p(f,r[I][x]):p(r[I][x],f)}return new S({data:g,size:[h,d],datatype:c})}}},function(t,e,n){"use strict";e.name="algorithm12",e.factory=function(t,e,n,w){var M=t.DenseMatrix;return function(t,e,n,i){var r=t._values,o=t._index,a=t._ptr,s=t._size,t=t._datatype;if(!r)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=s[0],u=s[1],c=n;"string"==typeof t&&(e=w.convert(e,d=t),c=w.find(n,[d,d]));for(var h=[],d=new M({data:h,size:[l,u],datatype:d}),f=[],p=[],g=0;g<u;g++){for(var m=g+1,y=a[g],v=a[g+1],x=y;x<v;x++){var _=o[x];f[_]=r[x],p[_]=m}for(var b=0;b<l;b++)0===g&&(h[b]=[]),p[b]===m?h[b][g]=i?c(e,f[b]):c(f[b],e):h[b][g]=i?c(e,0):c(0,e)}return d}}},function(t,e,i){"use strict";e.name="algorithm11",e.factory=function(t,e,n,M){var A=n(i(11)),I=t.SparseMatrix;return function(t,e,n,i){var r=t._values,o=t._index,a=t._ptr,s=t._size,l=t._datatype;if(!r)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var t=s[0],u=s[1],c=A,h=0,d=n;"string"==typeof l&&(c=M.find(A,[m=l,m]),h=M.convert(0,m),e=M.convert(e,m),d=M.find(n,[m,m]));for(var f=[],p=[],g=[],m=new I({values:f,index:p,ptr:g,size:[t,u],datatype:m}),y=0;y<u;y++){g[y]=p.length;for(var v=a[y],x=a[y+1],_=v;_<x;_++){var b=o[_],w=i?d(e,r[_]):d(r[_],e);c(w,h)||(p.push(b),f.push(w))}}return g[u]=p.length,m}}},function(t,e,n){"use strict";e.factory=function(t,e,n,i){var r=i("multiplyScalar",{"number, number":function(t,e){return t*e},"Complex, Complex":function(t,e){return t.mul(e)},"BigNumber, BigNumber":function(t,e){return t.times(e)},"Fraction, Fraction":function(t,e){return t.mul(e)},"number | Fraction | BigNumber | Complex, Unit":function(t,e){e=e.clone();return e.value=null===e.value?e._normalize(t):r(e.value,t),e},"Unit, number | Fraction | BigNumber | Complex":function(t,e){t=t.clone();return t.value=null===t.value?t._normalize(e):r(t.value,e),t},"Unit, Unit":function(t,e){return t.multiply(e)}});return r}},function(t,e,a){"use strict";var s=a(5).clone,c=a(2).validateIndex,n=a(13).getSafeProperty,i=a(13).setSafeProperty,h=a(8);function l(t,e){if(1!==e.size().length)throw new h(e.size(),1);e=e.dimension(0);if("string"!=typeof e)throw new TypeError("String expected as index to retrieve an object property");return n(t,e)}function u(t,e,n){if(1!==e.size().length)throw new h(e.size(),1);e=e.dimension(0);if("string"!=typeof e)throw new TypeError("String expected as index to retrieve an object property");t=s(t);return i(t,e,n),t}e.name="subset",e.factory=function(r,t,e,n){var o=e(a(1));return(n=n("subset",{"Array, Index":function(t,e){t=o(t).subset(e);return e.isScalar()?t:t.valueOf()},"Matrix, Index":function(t,e){return t.subset(e)},"Object, Index":l,"string, Index":function(e,t){if(!r.isIndex(t))throw new TypeError("Index expected");if(1!==t.size().length)throw new h(t.size().length,1);var n=e.length;c(t.min()[0],n),c(t.max()[0],n);var t=t.dimension(0),i="";return t.forEach(function(t){i+=e.charAt(t)}),i},"Array, Index, any":function(t,e,n){return o(s(t)).subset(e,n,void 0).valueOf()},"Array, Index, any, any":function(t,e,n,i){return o(s(t)).subset(e,n,i).valueOf()},"Matrix, Index, any":function(t,e,n){return t.clone().subset(e,n)},"Matrix, Index, any, any":function(t,e,n,i){return t.clone().subset(e,n,i)},"string, Index, string":i,"string, Index, string, string":i,"Object, Index, any":u})).toTex=void 0,n;function i(t,e,n,i){if(!e||!0!==e.isIndex)throw new TypeError("Index expected");if(1!==e.size().length)throw new h(e.size().length,1);if(void 0!==i){if("string"!=typeof i||1!==i.length)throw new TypeError("Single character expected as defaultValue")}else i=" ";var r=e.dimension(0);if(r.size()[0]!==n.length)throw new h(r.size()[0],n.length);var o=t.length;c(e.min()[0]),c(e.max()[0]);for(var a=[],s=0;s<o;s++)a[s]=t.charAt(s);if(r.forEach(function(t,e){a[t]=n.charAt(e[0])}),a.length>o)for(var l=o-1,u=a.length;l<u;l++)a[l]||(a[l]=i);return a.join("")}}},function(t,e,n){"use strict";var o=n(0);e.name="abs",e.factory=function(t,e,n,i){var r=i("abs",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},Fraction:function(t){return t.abs()},"Array | Matrix":function(t){return o(t,r,!0)},Unit:function(t){return t.abs()}});return r.toTex={1:"\\left|${args[0]}\\right|"},r}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.name="typeof",e.factory=function(n,t,e,i){return(i=i("_typeof",{any:function(t){var e=r(t);return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":n.isBigNumber(t)?"BigNumber":n.isComplex(t)?"Complex":n.isFraction(t)?"Fraction":n.isMatrix(t)?"Matrix":n.isUnit(t)?"Unit":n.isIndex(t)?"Index":n.isRange(t)?"Range":n.isResultSet(t)?"ResultSet":n.isNode(t)?t.type:n.isChain(t)?"Chain":n.isHelp(t)?"Help":"Object":"function"===e?"Function":e}})).toTex=void 0,i}},function(t,e,i){"use strict";var S=i(8);e.name="algorithm02",e.factory=function(t,e,n,A){var I=n(i(11)),C=t.SparseMatrix;return function(t,e,n,i){var r=t._data,o=t._size,a=t._datatype,s=e._values,l=e._index,u=e._ptr,t=e._size,e=e._datatype;if(o.length!==t.length)throw new S(o.length,t.length);if(o[0]!==t[0]||o[1]!==t[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+t+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var c,t=o[0],h=o[1],d=I,f=0,p=n;"string"==typeof a&&a===e&&(d=A.find(I,[c=a,c]),f=A.convert(0,c),p=A.find(n,[c,c]));for(var g=[],m=[],y=[],v=0;v<h;v++){y[v]=m.length;for(var x=u[v],_=u[v+1],b=x;b<_;b++){var w=l[b],M=i?p(s[b],r[w][v]):p(r[w][v],s[b]);d(M,f)||(m.push(w),g.push(M))}}return y[h]=m.length,new C({values:g,index:m,ptr:y,size:[t,h],datatype:c})}}},function(t,e,o){"use strict";var a=o(2);e.name="size",e.factory=function(t,e,n,i){var r=n(o(1));return(i=i("size",{Matrix:function(t){return r(t.size())},Array:a.size,string:function(t){return"Array"===e.matrix?[t.length]:r([t.length])},"number | Complex | BigNumber | Unit | boolean | null":function(t){return"Array"===e.matrix?[]:r([])}})).toTex=void 0,i}},function(t,e,n){"use strict";var M=n(8);e.name="algorithm07",e.factory=function(t,e,n,_){var b=t.DenseMatrix;function w(t,e,n,i,r){for(var o=t._values,a=t._index,t=t._ptr,s=t[e],l=t[e+1];s<l;s++){var u=a[s];n[u]=r,i[u]=o[s]}}return function(t,e,n){var i=t._size,r=t._datatype,o=e._size,a=e._datatype;if(i.length!==o.length)throw new M(i.length,o.length);if(i[0]!==o[0]||i[1]!==o[1])throw new RangeError("Dimension mismatch. Matrix A ("+i+") must match Matrix B ("+o+")");var s=i[0],l=i[1],u=0,c=n;"string"==typeof r&&r===a&&(u=_.convert(0,f=r),c=_.find(n,[f,f]));for(var h=[],d=0;d<s;d++)h[d]=[];for(var f=new b({data:h,size:[s,l],datatype:f}),p=[],g=[],m=[],y=[],v=0;v<l;v++){var x=v+1;for(w(t,v,m,p,x),w(e,v,y,g,x),d=0;d<s;d++)h[d][v]=c(m[d]===x?p[d]:u,y[d]===x?g[d]:u)}return f}}},function(t,e,n){"use strict";var i=n(5).clone,r=n(3).isInteger;e.name="Index",e.path="type",e.factory=function(o){function a(t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var e=0,n=arguments.length;e<n;e++){var i=arguments[e];if(o.isRange(i))this._dimensions.push(i),this._isScalar=!1;else if(Array.isArray(i)||o.isMatrix(i)){var r=s(i.valueOf());this._dimensions.push(r);r=r.size();1===r.length&&1===r[0]||(this._isScalar=!1)}else if("number"==typeof i)this._dimensions.push(s([i]));else{if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(i)}}}function s(t){for(var e=0,n=t.length;e<n;e++)if("number"!=typeof t[e]||!r(t[e]))throw new TypeError("Index parameters must be positive integer numbers");return new o.ImmutableDenseMatrix(t)}return a.prototype.type="Index",a.prototype.isIndex=!0,a.prototype.clone=function(){var t=new a;return t._dimensions=i(this._dimensions),t._isScalar=this._isScalar,t},a.create=function(t){var e=new a;return a.apply(e,t),e},a.prototype.size=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var i=this._dimensions[e];t[e]="string"==typeof i?1:i.size()[0]}return t},a.prototype.max=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var i=this._dimensions[e];t[e]="string"==typeof i?i:i.max()}return t},a.prototype.min=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var i=this._dimensions[e];t[e]="string"==typeof i?i:i.min()}return t},a.prototype.forEach=function(t){for(var e=0,n=this._dimensions.length;e<n;e++)t(this._dimensions[e],e,this)},a.prototype.dimension=function(t){return this._dimensions[t]||null},a.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},a.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},a.prototype.isScalar=function(){return this._isScalar},a.prototype.valueOf=a.prototype.toArray=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var i=this._dimensions[e];t.push("string"==typeof i?i:i.toArray())}return t},a.prototype.toString=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var i=this._dimensions[e];"string"==typeof i?t.push(JSON.stringify(i)):t.push(i.toString())}return"["+t.join(", ")+"]"},a.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},a.fromJSON=function(t){return a.create(t.dimensions)},a}},function(t,e,i){"use strict";var h=i(283);e.name="compareNatural",e.factory=function(o,t,e,n){var a=e(i(24)),s=e(i(54)),l=s.signatures["boolean,boolean"],u=n("compareNatural",{"any, any":function(t,e){var n,i=a(t),r=a(e);if(!("number"!==i&&"BigNumber"!==i&&"Fraction"!==i||"number"!==r&&"BigNumber"!==r&&"Fraction"!==r))return"0"!==(n=s(t,e)).toString()?0<n?1:-1:h(i,r);if("Array"===i||"Matrix"===i||"Array"===r||"Matrix"===r)return 0!==(n=function t(e,n){if(o.isSparseMatrix(e)&&o.isSparseMatrix(n))return c(e.toJSON().values,n.toJSON().values);if(o.isSparseMatrix(e))return t(e.toArray(),n);if(o.isSparseMatrix(n))return t(e,n.toArray());if(o.isDenseMatrix(e))return t(e.toJSON().data,n);if(o.isDenseMatrix(n))return t(e,n.toJSON().data);if(!Array.isArray(e))return t([e],n);if(!Array.isArray(n))return t(e,[n]);return c(e,n)}(t,e))?n:h(i,r);if(i!==r)return h(i,r);if("Complex"===i)return function(t,e){if(t.re>e.re)return 1;if(t.re<e.re)return-1;if(t.im>e.im)return 1;if(t.im<e.im)return-1;return 0}(t,e);if("Unit"===i)return t.equalBase(e)?u(t.value,e.value):c(t.formatUnits(),e.formatUnits());if("boolean"===i)return l(t,e);if("string"===i)return h(t,e);if("Object"===i)return function(t,e){var n=Object.keys(t),i=Object.keys(e);n.sort(h),i.sort(h);var r=c(n,i);if(0!==r)return r;for(var o=0;o<n.length;o++){var a=u(t[n[o]],e[i[o]]);if(0!==a)return a}return 0}(t,e);if("null"===i)return 0;if("undefined"===i)return 0;throw new TypeError('Unsupported type of value "'+i+'"')}});function c(t,e){for(var n=0,i=Math.min(t.length,e.length);n<i;n++){var r=u(t[n],e[n]);if(0!==r)return r}return t.length>e.length?1:t.length<e.length?-1:0}return u.toTex=void 0,u}},function(t,e,n){"use strict";e.array=n(2),e.boolean=n(178),e.function=n(31),e.number=n(3),e.object=n(5),e.string=n(9),e.emitter=n(99)},function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.memoize=function(r,o){return function t(){"object"!==a(t.cache)&&(t.cache={});for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=o?o(e):JSON.stringify(e);return i in t.cache||(t.cache[i]=r.apply(r,e)),t.cache[i]}},e.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,e){e=(e.match(/,/g)||[]).length+1;return Math.max(t,e)},-1)},e.callWithRightArgumentCount=function(t,e,n){return Object.keys(t.signatures||{}).reduce(function(t,e){e=(e.match(/,/g)||[]).length+1;return Math.max(t,e)},-1)}},function(t,e,n){"use strict";var A=n(8);e.name="algorithm01",e.factory=function(t,e,n,w){var M=t.DenseMatrix;return function(t,e,n,i){var r=t._data,o=t._size,a=t._datatype,s=e._values,l=e._index,u=e._ptr,t=e._size,e=e._datatype;if(o.length!==t.length)throw new A(o.length,t.length);if(o[0]!==t[0]||o[1]!==t[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+t+")");if(!s)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");for(var c=o[0],h=o[1],a="string"==typeof a&&a===e?a:void 0,d=a?w.find(n,[a,a]):n,f=[],p=0;p<c;p++)f[p]=[];for(var g=[],m=[],y=0;y<h;y++){for(var v=y+1,x=u[y],_=u[y+1],b=x;b<_;b++)g[p=l[b]]=i?d(s[b],r[p][y]):d(r[p][y],s[b]),m[p]=v;for(p=0;p<c;p++)m[p]===v?f[p][y]=g[p]:f[p][y]=r[p][y]}return new M({data:f,size:[c,h],datatype:a})}}},function(t,e,h){"use strict";var d=h(3).nearlyEqual,f=h(38);e.name="larger",e.factory=function(t,n,e,i){var r=e(h(1)),o=e(h(18)),a=e(h(27)),s=e(h(19)),l=e(h(7)),u=e(h(6)),e=h(4),c=i("larger",{"boolean, boolean":function(t,e){return e<t},"number, number":function(t,e){return e<t&&!d(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!f(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return c(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,c)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,c,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,c,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,c)},"Array, Array":function(t,e){return c(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return c(r(t),e)},"Matrix, Array":function(t,e){return c(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,c,!1)},"DenseMatrix, any":function(t,e){return u(t,e,c,!1)},"any, SparseMatrix":function(t,e){return s(e,t,c,!0)},"any, DenseMatrix":function(t,e){return u(e,t,c,!0)},"Array, any":function(t,e){return u(r(t),e,c,!1).valueOf()},"any, Array":function(t,e){return u(r(e),t,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}".concat(e.operators.larger,"${args[1]}\\right)")},c}},function(t,e,a){"use strict";var s=a(0);e.name="unaryMinus",e.factory=function(t,e,n,i){var r=a(4),o=i("unaryMinus",{number:function(t){return-t},Complex:function(t){return t.neg()},BigNumber:function(t){return t.neg()},Fraction:function(t){return t.neg()},Unit:function(t){var e=t.clone();return e.value=o(t.value),e},"Array | Matrix":function(t){return s(t,o,!0)}});return o.toTex={1:"".concat(r.operators.unaryMinus,"\\left(${args[0]}\\right)")},o}},function(t,e,n){"use strict";var i=n(55);e.transform=function(t){return t&&t.isIndexError?new i(t.index+1,t.min+1,void 0!==t.max?t.max+1:void 0):t}},function(t,e,n){"use strict";var o=n(0),a=n(3);e.name="isInteger",e.factory=function(t,e,n,i){var r=i("isInteger",{number:a.isInteger,BigNumber:function(t){return t.isInt()},Fraction:function(t){return 1===t.d&&isFinite(t.n)},"Array | Matrix":function(t){return o(t,r)}});return r}},function(t,e,o){"use strict";e.factory=function(t,e,n,i){var r=n(o(24));return function(t,e,n){var i;return-1!==String(t).indexOf("Unexpected type")?(i=2<arguments.length?" (type: "+r(n)+", value: "+JSON.stringify(n)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+i)):-1!==String(t).indexOf("complex numbers")?(i=2<arguments.length?" (type: "+r(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+i)):t}}},function(t,e,n){"use strict";t.exports=function(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var i=t.minus(e).abs();if(i.isZero())return!0;e=t.constructor.max(t.abs(),e.abs());return i.lte(e.times(n))}return!1}},function(t,e,n){"use strict";e.name="algorithm10",e.factory=function(t,e,n,w){var M=t.DenseMatrix;return function(t,e,n,i){var r=t._values,o=t._index,a=t._ptr,s=t._size,t=t._datatype;if(!r)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l=s[0],u=s[1],c=n;"string"==typeof t&&(e=w.convert(e,d=t),c=w.find(n,[d,d]));for(var h=[],d=new M({data:h,size:[l,u],datatype:d}),f=[],p=[],g=0;g<u;g++){for(var m=g+1,y=a[g],v=a[g+1],x=y;x<v;x++){var _=o[x];f[_]=r[x],p[_]=m}for(var b=0;b<l;b++)0===g&&(h[b]=[]),p[b]===m?h[b][g]=i?c(e,f[b]):c(f[b],e):h[b][g]=e}return d}}},function(t,e,h){"use strict";var d=h(3).nearlyEqual,f=h(38);e.name="smaller",e.factory=function(t,n,e,i){var r=e(h(1)),o=e(h(18)),a=e(h(27)),s=e(h(19)),l=e(h(7)),u=e(h(6)),e=h(4),c=i("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!d(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!f(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return-1===t.compare(e)},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return c(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,c)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,c,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,c,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,c)},"Array, Array":function(t,e){return c(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return c(r(t),e)},"Matrix, Array":function(t,e){return c(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,c,!1)},"DenseMatrix, any":function(t,e){return u(t,e,c,!1)},"any, SparseMatrix":function(t,e){return s(e,t,c,!0)},"any, DenseMatrix":function(t,e){return u(e,t,c,!0)},"Array, any":function(t,e){return u(r(t),e,c,!1).valueOf()},"any, Array":function(t,e){return u(r(e),t,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}".concat(e.operators.smaller,"${args[1]}\\right)")},c}},function(t,e,f){"use strict";var p=f(3).isInteger,g=f(2).size;e.name="pow",e.factory=function(r,o,t,e){var n=f(4),a=t(f(49)),s=t(f(10)),i=t(f(1)),l=t(f(81)),u=t(f(64));function c(t,e){if(o.predictable&&!p(e)&&t<0)try{var n=l(e),i=u(n);if((e===i||Math.abs((e-i)/e)<1e-14)&&n.d%2==1)return(n.n%2==0?1:-1)*Math.pow(-t,e)}catch(t){}return t*t<1&&e===1/0||1<t*t&&e===-1/0?0:o.predictable&&(t<-1&&e===1/0||-1<t&&t<0&&e===-1/0)?NaN:p(e)||0<=t||o.predictable?Math.pow(t,e):new r.Complex(t,0).pow(e,0)}function h(t,e){if(!p(e)||e<0)throw new TypeError("For A^b, b must be a positive integer (value is "+e+")");var n=g(t);if(2!==n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!==n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var i=a(n[0]).valueOf(),r=t;1<=e;)1==(1&e)&&(i=s(r,i)),e>>=1,r=s(r,r);return i}function d(t,e){return i(h(t.valueOf(),e))}return(e=e("pow",{"number, number":c,"Complex, Complex":function(t,e){return t.pow(e)},"BigNumber, BigNumber":function(t,e){return e.isInteger()||0<=t||o.predictable?t.pow(e):new r.Complex(t.toNumber(),0).pow(e.toNumber(),0)},"Fraction, Fraction":function(t,e){if(1===e.d)return t.pow(e);if(o.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return c(t.valueOf(),e.valueOf())},"Array, number":h,"Array, BigNumber":function(t,e){return h(t,e.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(t,e){return d(t,e.toNumber())},"Unit, number | BigNumber":function(t,e){return t.pow(e)}})).toTex={2:"\\left(${args[0]}\\right)".concat(n.operators.pow,"{${args[1]}}")},e}},function(t,e,r){"use strict";var s=r(3).isInteger,l=r(2).resize;e.name="zeros",e.factory=function(o,n,t,e){var a=t(r(1));return(e=e("zeros",{"":function(){return"Array"===n.matrix?i([]):i([],"default")},"...number | BigNumber | string":function(t){if("string"!=typeof t[t.length-1])return"Array"===n.matrix?i(t):i(t,"default");var e=t.pop();return i(t,e)},Array:i,Matrix:function(t){var e=t.storage();return i(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return i(t.valueOf(),e)}})).toTex=void 0,e;function i(t,e){var i,n=(i=!1,t.forEach(function(t,e,n){o.isBigNumber(t)&&(i=!0,n[e]=t.toNumber())}),i)?new o.BigNumber(0):0;if(t.forEach(function(t){if("number"!=typeof t||!s(t)||t<0)throw new Error("Parameters in function zeros must be positive integers")}),e){var r=a(e);return 0<t.length?r.resize(t,n):r}r=[];return 0<t.length?l(r,t,n):r}}},function(t,e,rt){"use strict";function ot(){return(ot=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}var at=rt(56),st=rt(0);e.name="parse",e.path="expression",e.factory=function(a,s,t,e){var l=t(rt(65)),r=t(rt(107)),u=t(rt(110)),c=t(rt(111)),o=t(rt(112)),h=t(rt(113)),d=t(rt(57)),f=t(rt(114)),p=t(rt(115)),g=t(rt(116)),m=t(rt(58)),y=t(rt(67)),v=t(rt(68)),i=t(rt(117)),x=t(rt(118)),_=t(rt(53));function b(t,e){if(1!==arguments.length&&2!==arguments.length)throw new at("parse",arguments.length,1,2);var n=e&&e.nodes?e.nodes:{};if("string"==typeof t)return z(t,n);if(Array.isArray(t)||t instanceof a.Matrix)return st(t,function(t){if("string"!=typeof t)throw new TypeError("String expected");return z(t,n)});throw new TypeError("String or matrix expected")}var w={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},M={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},A={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},I={true:!0,false:!1,null:null,undefined:void 0},C=["NaN","Infinity"];function S(t,e){return t.expression.substr(t.index,e)}function T(t){return S(t,1)}function D(t){t.index++}function N(t){return t.expression.charAt(t.index-1)}function L(t){return t.expression.charAt(t.index+1)}function k(t){for(t.tokenType=w.NULL,t.token="",t.comment="";b.isWhitespace(T(t),t.nestingLevel);)D(t);if("#"===T(t))for(;"\n"!==T(t)&&""!==T(t);)t.comment+=T(t),D(t);if(""!==T(t)){if("\n"===T(t)&&!t.nestingLevel)return t.tokenType=w.DELIMITER,t.token=T(t),void D(t);var e=T(t),n=S(t,2),i=S(t,3);if(3===i.length&&M[i])return t.tokenType=w.DELIMITER,t.token=i,D(t),D(t),void D(t);if(2===n.length&&M[n])return t.tokenType=w.DELIMITER,t.token=n,D(t),void D(t);if(M[e])return t.tokenType=w.DELIMITER,t.token=e,void D(t);if(b.isDigitDot(e)){if(t.tokenType=w.NUMBER,"."===T(t))t.token+=T(t),D(t),b.isDigit(T(t))||(t.tokenType=w.DELIMITER);else{for(;b.isDigit(T(t));)t.token+=T(t),D(t);b.isDecimalMark(T(t),L(t))&&(t.token+=T(t),D(t))}for(;b.isDigit(T(t));)t.token+=T(t),D(t);if("E"===T(t)||"e"===T(t))if(b.isDigit(L(t))||"-"===L(t)||"+"===L(t)){if(t.token+=T(t),D(t),"+"!==T(t)&&"-"!==T(t)||(t.token+=T(t),D(t)),!b.isDigit(T(t)))throw nt(t,'Digit expected, got "'+T(t)+'"');for(;b.isDigit(T(t));)t.token+=T(t),D(t);if(b.isDecimalMark(T(t),L(t)))throw nt(t,'Digit expected, got "'+T(t)+'"')}else if("."===L(t))throw D(t),nt(t,'Digit expected, got "'+T(t)+'"')}else{if(!b.isAlpha(T(t),N(t),L(t))){for(t.tokenType=w.UNKNOWN;""!==T(t);)t.token+=T(t),D(t);throw nt(t,'Syntax error in part "'+t.token+'"')}for(;b.isAlpha(T(t),N(t),L(t))||b.isDigit(T(t));)t.token+=T(t),D(t);A.hasOwnProperty(t.token)?t.tokenType=w.DELIMITER:t.tokenType=w.SYMBOL}}else t.tokenType=w.DELIMITER}function E(t){for(;k(t),"\n"===t.token;);}function O(t){t.nestingLevel++}function P(t){t.nestingLevel--}function z(t,e){var n={extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:w.NULL,nestingLevel:0,conditionalLevel:null};ot(n,{expression:t,extraNodes:e}),k(n);e=function(t){var e,n,i=[];""!==t.token&&"\n"!==t.token&&";"!==t.token&&((e=j(t)).comment=t.comment);for(;"\n"===t.token||";"===t.token;)0===i.length&&e&&(n=";"!==t.token,i.push({node:e,visible:n})),k(t),"\n"!==t.token&&";"!==t.token&&""!==t.token&&((e=j(t)).comment=t.comment,n=";"!==t.token,i.push({node:e,visible:n}));return 0<i.length?new o(i):(e||((e=new d(void 0)).comment=t.comment),e)}(n);if(""!==n.token)throw n.tokenType===w.DELIMITER?it(n,"Unexpected operator "+n.token):nt(n,'Unexpected part "'+n.token+'"');return e}function j(t){var e,n,i,r,o=function(t){var e=function(t){var e=Y(t);for(;"or"===t.token;)E(t),e=new m("or","or",[e,Y(t)]);return e}(t);for(;"?"===t.token;){var n=t.conditionalLevel;t.conditionalLevel=t.nestingLevel,E(t);var i=e,r=j(t);if(":"!==t.token)throw nt(t,"False part of conditional expression expected");t.conditionalLevel=null,E(t);var o=j(t);e=new h(i,r,o),t.conditionalLevel=n}return e}(t);if("="!==t.token)return o;if(a.isSymbolNode(o))return e=o.name,E(t),i=j(t),new c(new _(e),i);if(a.isAccessorNode(o))return E(t),i=j(t),new c(o.object,o.index,i);if(a.isFunctionNode(o)&&a.isSymbolNode(o.fn)&&(r=!0,n=[],e=o.name,o.args.forEach(function(t,e){a.isSymbolNode(t)?n[e]=t.name:r=!1}),r))return E(t),i=j(t),new f(e,n,i);throw nt(t,"Invalid left hand side of assignment operator =")}function Y(t){for(var e=n(t);"xor"===t.token;)E(t),e=new m("xor","xor",[e,n(t)]);return e}function n(t){for(var e=R(t);"and"===t.token;)E(t),e=new m("and","and",[e,R(t)]);return e}function R(t){for(var e=B(t);"|"===t.token;)E(t),e=new m("|","bitOr",[e,B(t)]);return e}function B(t){for(var e=F(t);"^|"===t.token;)E(t),e=new m("^|","bitXor",[e,F(t)]);return e}function F(t){for(var e=H(t);"&"===t.token;)E(t),e=new m("&","bitAnd",[e,H(t)]);return e}function H(t){for(var e=[W(t)],n=[],i={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};i.hasOwnProperty(t.token);){var r={name:t.token,fn:i[t.token]};n.push(r),E(t),e.push(W(t))}return 1===e.length?e[0]:2===e.length?new m(n[0].name,n[0].fn,e):new x(n.map(function(t){return t.fn}),e)}function W(t){for(var e,n,i,r=G(t),o={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};o.hasOwnProperty(t.token);)n=o[e=t.token],E(t),i=[r,G(t)],r=new m(e,n,i);return r}function G(t){for(var e,n,i,r=U(t),o={to:"to",in:"to"};o.hasOwnProperty(t.token);)n=o[e=t.token],E(t),r="in"===e&&""===t.token?new m("*","multiply",[r,new _("in")],!0):(i=[r,U(t)],new m(e,n,i));return r}function U(t){var e=[],n=":"===t.token?new d(1):Z(t);if(":"===t.token&&t.conditionalLevel!==t.nestingLevel){for(e.push(n);":"===t.token&&e.length<3;)E(t),")"===t.token||"]"===t.token||","===t.token||""===t.token?e.push(new _("end")):e.push(Z(t));n=3===e.length?new i(e[0],e[2],e[1]):new i(e[0],e[1])}return n}function Z(t){for(var e,n,i,r=V(t),o={"+":"add","-":"subtract"};o.hasOwnProperty(t.token);)n=o[e=t.token],E(t),i=[r,V(t)],r=new m(e,n,i);return r}function V(t){for(var e,n,i,r=X(t),o={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"};;){if(!o.hasOwnProperty(t.token))break;n=o[e=t.token],E(t),i=X(t),r=new m(e,n,[r,i])}return r}function X(t){for(var e=q(t),n=e;;){if(!(t.tokenType===w.SYMBOL||"in"===t.token&&a.isConstantNode(e))&&(t.tokenType!==w.NUMBER||a.isConstantNode(n)||a.isOperatorNode(n)&&"!"!==n.op)&&"("!==t.token)break;n=q(t),e=new m("*","multiply",[e,n],!0)}return e}function q(t){for(var e=J(t),n=e,i=[];;){if("/"!==t.token||!a.isConstantNode(n))break;if(i.push(ot({},t)),E(t),t.tokenType!==w.NUMBER){ot(t,i.pop());break}if(i.push(ot({},t)),E(t),t.tokenType!==w.SYMBOL&&"("!==t.token){i.pop(),ot(t,i.pop());break}ot(t,i.pop()),i.pop(),n=J(t),e=new m("/","divide",[e,n])}return e}function J(t){var e,n,i={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return i.hasOwnProperty(t.token)?(n=i[t.token],e=t.token,E(t),i=[J(t)],new m(e,n,i)):function(t){var e,n,i;e=function(t){var e,n,i,r;e=function(t){var e=[];if(t.tokenType===w.SYMBOL&&t.extraNodes.hasOwnProperty(t.token)){var n=t.extraNodes[t.token];if(k(t),"("===t.token){if(e=[],O(t),k(t),")"!==t.token)for(e.push(j(t));","===t.token;)k(t),e.push(j(t));if(")"!==t.token)throw nt(t,"Parenthesis ) expected");P(t),k(t)}return new n(e)}return function(t){var e;if(t.tokenType===w.SYMBOL||t.tokenType===w.DELIMITER&&t.token in A)return e=t.token,k(t),e=I.hasOwnProperty(e)?new d(I[e]):-1!==C.indexOf(e)?new d(l(e,"number")):new _(e),e=$(t,e);return function(t){var e;return'"'!==t.token?function(t){var e;return"'"!==t.token?function(t){var e,n,i,r;if("["!==t.token)return function(t){if("{"!==t.token)return function(t){var e;return t.tokenType!==w.NUMBER?function(t){var e;if("("!==t.token)return function(t){throw""===t.token?nt(t,"Unexpected end of expression"):nt(t,"Value expected")}(t);if(O(t),k(t),e=j(t),")"===t.token)return P(t),k(t),e=new y(e),e=$(t,e);throw nt(t,"Parenthesis ) expected")}(t):(e=t.token,k(t),new d(l(e,s.number)))}(t);var e;O(t);var n={};do{if(k(t),"}"!==t.token){if('"'===t.token)e=Q(t);else if("'"===t.token)e=K(t);else{if(t.tokenType!==w.SYMBOL)throw nt(t,"Symbol or string expected as object key");e=t.token,k(t)}if(":"!==t.token)throw nt(t,"Colon : expected after object key");k(t),n[e]=j(t)}}while(","===t.token);if("}"!==t.token)throw nt(t,"Comma , or bracket } expected after object value");P(t),k(t);var i=new g(n);return i=$(t,i)}(t);if(O(t),k(t),"]"!==t.token){var o=tt(t);if(";"===t.token){for(i=1,n=[o];";"===t.token;)k(t),n[i]=tt(t),i++;if("]"!==t.token)throw nt(t,"End of matrix ] expected");P(t),k(t),r=n[0].items.length;for(var a=1;a<i;a++)if(n[a].items.length!==r)throw it(t,"Column dimensions mismatch ("+n[a].items.length+" !== "+r+")");e=new u(n)}else{if("]"!==t.token)throw nt(t,"End of matrix ] expected");P(t),k(t),e=o}}else P(t),k(t),e=new u([]);return $(t,e)}(t):(e=K(t),e=new d(e),e=$(t,e))}(t):(e=Q(t),e=new d(e),e=$(t,e))}(t)}(t)}(t),n={"!":"factorial","'":"ctranspose"};for(;n.hasOwnProperty(t.token);)i=t.token,r=n[i],k(t),e=new m(i,r,[e]),e=$(t,e);return e}(t),"^"!==t.token&&".^"!==t.token||(n=t.token,i="^"===n?"pow":"dotPow",E(t),t=[e,J(t)],e=new m(n,i,t));return e}(t)}function $(t,e,n){for(var i;!("("!==t.token&&"["!==t.token&&"."!==t.token||n&&-1===n.indexOf(t.token));)if(i=[],"("===t.token){if(!a.isSymbolNode(e)&&!a.isAccessorNode(e))return e;if(O(t),k(t),")"!==t.token)for(i.push(j(t));","===t.token;)k(t),i.push(j(t));if(")"!==t.token)throw nt(t,"Parenthesis ) expected");P(t),k(t),e=new v(e,i)}else if("["===t.token){if(O(t),k(t),"]"!==t.token)for(i.push(j(t));","===t.token;)k(t),i.push(j(t));if("]"!==t.token)throw nt(t,"Parenthesis ] expected");P(t),k(t),e=new r(e,new p(i))}else{if(k(t),t.tokenType!==w.SYMBOL)throw nt(t,"Property name expected after dot");i.push(new d(t.token)),k(t);e=new r(e,new p(i,!0))}return e}function Q(t){for(var e="";""!==T(t)&&'"'!==T(t);)"\\"===T(t)&&(e+=T(t),D(t)),e+=T(t),D(t);if(k(t),'"'!==t.token)throw nt(t,'End of string " expected');return k(t),JSON.parse('"'+e+'"')}function K(t){for(var e="";""!==T(t)&&"'"!==T(t);)"\\"===T(t)&&(e+=T(t),D(t)),e+=T(t),D(t);if(k(t),"'"!==t.token)throw nt(t,"End of string ' expected");return k(t),JSON.parse('"'+e+'"')}function tt(t){for(var e=[j(t)],n=1;","===t.token;)k(t),e[n]=j(t),n++;return new u(e)}function et(t){return t.index-t.token.length+1}function nt(t,e){t=et(t),e=new SyntaxError(e+" (char "+t+")");return e.char=t,e}function it(t,e){t=et(t),e=new SyntaxError(e+" (char "+t+")");return e.char=t,e}return b.isAlpha=function(t,e,n){return b.isValidLatinOrGreek(t)||b.isValidMathSymbol(t,n)||b.isValidMathSymbol(e,t)},b.isValidLatinOrGreek=function(t){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(t)},b.isValidMathSymbol=function(t,e){return/^[\uD835]$/.test(t)&&/^[\uDC00-\uDFFF]$/.test(e)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(e)},b.isWhitespace=function(t,e){return" "===t||"\t"===t||"\n"===t&&0<e},b.isDecimalMark=function(t,e){return"."===t&&"/"!==e&&"*"!==e&&"^"!==e},b.isDigitDot=function(t){return"0"<=t&&t<="9"||"."===t},b.isDigit=function(t){return"0"<=t&&t<="9"},b}},function(t,e,c){"use strict";var h=c(5).extend;e.name="divide",e.factory=function(t,e,n,i){var r=n(c(12)),o=n(c(10)),a=n(c(69)),s=n(c(1)),l=n(c(20)),u=n(c(6));return(i=i("divide",h({"Array | Matrix, Array | Matrix":function(t,e){return o(t,a(e))},"DenseMatrix, any":function(t,e){return u(t,e,r,!1)},"SparseMatrix, any":function(t,e){return l(t,e,r,!1)},"Array, any":function(t,e){return u(s(t),e,r,!1).valueOf()},"any, Array | Matrix":function(t,e){return o(t,a(e))}},r.signatures))).toTex={2:"\\frac{${args[0]}}{${args[1]}}"},i}},function(t,e,n){"use strict";var a=n(0);e.name="sqrt",e.factory=function(e,n,t,i){var r=i("sqrt",{number:o,Complex:function(t){return t.sqrt()},BigNumber:function(t){return!t.isNegative()||n.predictable?t.sqrt():o(t.toNumber())},"Array | Matrix":function(t){return a(t,r,!0)},Unit:function(t){return t.pow(.5)}});function o(t){return isNaN(t)?NaN:0<=t||n.predictable?Math.sqrt(t):new e.Complex(t,0).sqrt()}return r.toTex={1:"\\sqrt{${args[0]}}"},r}},function(t,e,n){"use strict";var a=n(62);t.exports=function t(e,n){for(var i=0,r=(e=a(e)?e.valueOf():e).length;i<r;i++){var o=e[i];Array.isArray(o)?t(o,n):n(o)}}},function(t,e,n){"use strict";var i=n(62);t.exports=function(t){return Array.isArray(t)||i(t)}},function(t,e,i){"use strict";var r=i(30),c=i(8),o=r.string,g=r.array,h=r.object,n=r.number,m=Array.isArray,y=n.isNumber,v=n.isInteger,x=o.isString,_=g.validateIndex;e.name="DenseMatrix",e.path="type",e.factory=function(d,t,e,f){var n=e(i(63)),e=e(i(82));function p(t,e){if(!(this instanceof p))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!x(e))throw new Error("Invalid datatype: "+e);if(d.isMatrix(t))"DenseMatrix"===t.type?(this._data=h.clone(t._data),this._size=h.clone(t._size)):(this._data=t.toArray(),this._size=t.size()),this._datatype=e||t._datatype;else if(t&&m(t.data)&&m(t.size))this._data=t.data,this._size=t.size,this._datatype=e||t.datatype;else if(m(t))this._data=function t(e){for(var n=0,i=e.length;n<i;n++){var r=e[n];m(r)?e[n]=t(r):r&&!0===r.isMatrix&&(e[n]=t(r.valueOf()))}return e}(t),this._size=g.size(this._data),g.validate(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+r.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e}}function s(t,e,n){if(0!==e.length)return t._size=e.slice(0),t._data=g.resize(t._data,t._size,n),t;for(var i=t._data;m(i);)i=i[0];return i}function u(t,e,n){for(var i=t._size.slice(0),r=!1;i.length<e.length;)i.push(0),r=!0;for(var o=0,a=e.length;o<a;o++)e[o]>i[o]&&(i[o]=e[o],r=!0);r&&s(t,i,n)}return(p.prototype=new e).type="DenseMatrix",p.prototype.isDenseMatrix=!0,p.prototype.getDataType=function(){return n(this._data)},p.prototype.storage=function(){return"dense"},p.prototype.datatype=function(){return this._datatype},p.prototype.create=function(t,e){return new p(t,e)},p.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return function(t,e){if(!d.isIndex(e))throw new TypeError("Invalid index");{if(e.isScalar())return t.get(e.min());var n=e.size();if(n.length!==t._size.length)throw new c(n.length,t._size.length);for(var i=e.min(),r=e.max(),o=0,a=t._size.length;o<a;o++)_(i[o],t._size[o]),_(r[o],t._size[o]);return new p(function e(n,i,r,o){var t=o===r-1;var a=i.dimension(o);return(t?a.map(function(t){return _(t,n.length),n[t]}):a.map(function(t){_(t,n.length);t=n[t];return e(t,i,r,o+1)})).valueOf()}(t._data,e,n.length,0),t._datatype)}}(this,t);case 2:case 3:return function(t,e,n,i){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var r,o=e.size(),a=e.isScalar();d.isMatrix(n)?(r=n.size(),n=n.valueOf()):r=g.size(n);if(a){if(0!==r.length)throw new TypeError("Scalar expected");t.set(e.min(),n,i)}else{if(o.length<t._size.length)throw new c(o.length,t._size.length,"<");if(r.length<o.length){for(var s=0,l=0;1===o[s]&&1===r[s];)s++;for(;1===o[s];)l++,s++;n=g.unsqueeze(n,o.length,l,r)}if(!h.deepEqual(o,r))throw new c(o,r,">");a=e.max().map(function(t){return t+1});u(t,a,i);i=o.length;!function n(i,r,o,a,s){var t=s===a-1;var e=r.dimension(s);t?e.forEach(function(t,e){_(t),i[t]=o[e[0]]}):e.forEach(function(t,e){_(t),n(i[t],r,o[e[0]],a,s+1)})}(t._data,e,n,i,0)}return t}(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},p.prototype.get=function(t){if(!m(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new c(t.length,this._size.length);for(var e=0;e<t.length;e++)_(t[e],this._size[e]);for(var n=this._data,i=0,r=t.length;i<r;i++){var o=t[i];_(o,n.length),n=n[o]}return n},p.prototype.set=function(t,e,n){if(!m(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new c(t.length,this._size.length,"<");var i;u(this,t.map(function(t){return t+1}),n);for(var r=this._data,o=0,a=t.length-1;o<a;o++)i=t[o],_(i,r.length),r=r[i];return i=t[t.length-1],_(i,r.length),r[i]=e,this},p.prototype.resize=function(t,e,n){if(!m(t))throw new TypeError("Array expected");return s(n?this.clone():this,t,e)},p.prototype.reshape=function(t,e){e=e?this.clone():this;return e._data=g.reshape(e._data,t),e._size=t.slice(0),e},p.prototype.clone=function(){return new p({data:h.clone(this._data),size:h.clone(this._size),datatype:this._datatype})},p.prototype.size=function(){return this._size.slice(0)},p.prototype.map=function(e){var r=this;return new p({data:function n(t,i){return m(t)?t.map(function(t,e){return n(t,i.concat(e))}):e(t,i,r)}(this._data,[]),size:h.clone(this._size),datatype:this._datatype})},p.prototype.forEach=function(e){var r=this;(function n(t,i){m(t)?t.forEach(function(t,e){n(t,i.concat(e))}):e(t,i,r)})(this._data,[])},p.prototype.toArray=function(){return h.clone(this._data)},p.prototype.valueOf=function(){return this._data},p.prototype.format=function(t){return o.format(this._data,t)},p.prototype.toString=function(){return o.format(this._data)},p.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},p.prototype.diagonal=function(t){if(t){if(d.isBigNumber(t)&&(t=t.toNumber()),!y(t)||!v(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=0<t?t:0,n=t<0?-t:0,i=this._size[0],t=this._size[1],r=Math.min(i-n,t-e),o=[],a=0;a<r;a++)o[a]=this._data[a+n][a+e];return new p({data:o,size:[r],datatype:this._datatype})},p.diagonal=function(t,e,n,i,r){if(!m(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(d.isBigNumber(t)&&(t=t.toNumber()),!y(t)||!v(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){if(d.isBigNumber(n)&&(n=n.toNumber()),!y(n)||!v(n))throw new TypeError("The parameter k must be an integer number")}else n=0;i&&x(r)&&(i=f.convert(i,r));var o,a=0<n?n:0,s=n<0?-n:0,l=t[0],r=t[1],u=Math.min(l-s,r-a);if(m(e)){if(e.length!==u)throw new Error("Invalid value array length");o=function(t){return e[t]}}else if(d.isMatrix(e)){n=e.size();if(1!==n.length||n[0]!==u)throw new Error("Invalid matrix length");o=function(t){return e.get([t])}}else o=function(){return e};i=i||(d.isBigNumber(o(0))?new d.BigNumber(0):0);var c=[];if(0<t.length)for(var c=g.resize(c,t,i),h=0;h<u;h++)c[h+s][h+a]=o(h);return new p({data:c,size:[l,r]})},p.fromJSON=function(t){return new p(t)},p.prototype.swapRows=function(t,e){if(!(y(t)&&v(t)&&y(e)&&v(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return _(t,this._size[0]),_(e,this._size[0]),p._swapRows(t,e,this._data),this},p._swapRows=function(t,e,n){var i=n[t];n[t]=n[e],n[e]=i},d.Matrix._storage.dense=p,d.Matrix._storage.default=p},e.lazy=!1},function(t,e,a){"use strict";var c=a(2),h=a(3).isInteger;e.name="identity",e.factory=function(u,n,t,e){var i=t(a(1));return(e=e("identity",{"":function(){return"Matrix"===n.matrix?i([]):[]},string:function(t){return i(t)},"number | BigNumber":function(t){return o(t,t,"Matrix"===n.matrix?"default":void 0)},"number | BigNumber, string":function(t,e){return o(t,t,e)},"number | BigNumber, number | BigNumber":function(t,e){return o(t,e,"Matrix"===n.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":o,Array:function(t){return r(t)},"Array, string":r,Matrix:function(t){return r(t.valueOf(),t.storage())},"Matrix, string":function(t,e){return r(t.valueOf(),e)}})).toTex=void 0,e;function r(t,e){switch(t.length){case 0:return e?i(e):[];case 1:return o(t[0],t[0],e);case 2:return o(t[0],t[1],e);default:throw new Error("Vector containing two values expected")}}function o(t,e,n){var i=u.isBigNumber(t)||u.isBigNumber(e)?u.BigNumber:null;if(u.isBigNumber(t)&&(t=t.toNumber()),u.isBigNumber(e)&&(e=e.toNumber()),!h(t)||t<1)throw new Error("Parameters in function identity must be positive integers");if(!h(e)||e<1)throw new Error("Parameters in function identity must be positive integers");var r=i?new u.BigNumber(1):1,o=i?new i(0):0,i=[t,e];if(n)return u.Matrix.storage(n).diagonal(i,r,0,o);for(var a=c.resize([],i,o),s=t<e?t:e,l=0;l<s;l++)a[l][l]=r;return a}}},function(t,e,d){"use strict";e.name="equal",e.factory=function(t,e,n,i){var r=n(d(1)),o=n(d(11)),a=n(d(18)),s=n(d(27)),l=n(d(19)),u=n(d(7)),c=n(d(6)),n=d(4),h=i("equal",{"any, any":function(t,e){return null===t?null===e:null===e?null===t:void 0===t?void 0===e:void 0===e?void 0===t:o(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return s(t,e,o)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,o,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,o,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,o)},"Array, Array":function(t,e){return h(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return h(r(t),e)},"Matrix, Array":function(t,e){return h(t,r(e))},"SparseMatrix, any":function(t,e){return l(t,e,o,!1)},"DenseMatrix, any":function(t,e){return c(t,e,o,!1)},"any, SparseMatrix":function(t,e){return l(e,t,o,!0)},"any, DenseMatrix":function(t,e){return c(e,t,o,!0)},"Array, any":function(t,e){return c(r(t),e,o,!1).valueOf()},"any, Array":function(t,e){return c(r(e),t,o,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(n.operators.equal,"${args[1]}\\right)")},h}},function(t,e,n){"use strict";var o=n(0);e.name="isNumeric",e.factory=function(t,e,n,i){var r=i("isNumeric",{"number | BigNumber | Fraction | boolean":function(){return!0},"Complex | Unit | string | null | undefined | Node":function(){return!1},"Array | Matrix":function(t){return o(t,r)}});return r}},function(t,e,n){"use strict";var s=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{associativity:"left",associativeWith:[]}},{"OperatorNode:and":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{associativity:"left",associativeWith:[]},"OperatorNode:unequal":{associativity:"left",associativeWith:[]},"OperatorNode:smaller":{associativity:"left",associativeWith:[]},"OperatorNode:larger":{associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{associativity:"left",associativeWith:[]}},{"OperatorNode:to":{associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{associativity:"left",associativeWith:[]},"OperatorNode:mod":{associativity:"left",associativeWith:[]}},{"OperatorNode:unaryPlus":{associativity:"right"},"OperatorNode:unaryMinus":{associativity:"right"},"OperatorNode:bitNot":{associativity:"right"},"OperatorNode:not":{associativity:"right"}},{"OperatorNode:pow":{associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{associativity:"left"}},{"OperatorNode:transpose":{associativity:"left"}}];function l(t,e){for(var n=t,i=(n="keep"!==e?t.getContent():n).getIdentifier(),r=0;r<s.length;r++)if(i in s[r])return r;return null}t.exports.properties=s,t.exports.getPrecedence=l,t.exports.getAssociativity=function(t,e){var n=t,t=(n="keep"!==e?t.getContent():n).getIdentifier();if(null===(e=l(n,e)))return null;if((e=s[e][t]).hasOwnProperty("associativity")){if("left"===e.associativity)return"left";if("right"===e.associativity)return"right";throw Error("'"+t+"' has the invalid associativity '"+e.associativity+"'.")}return null},t.exports.isAssociativeWith=function(t,e,n){var i="keep"!==n?t.getContent():t,t="keep"!==n?t.getContent():e,e=i.getIdentifier(),r=t.getIdentifier();if(null===(n=l(i,n)))return null;var o=s[n][e];if(o.hasOwnProperty("associativeWith")&&o.associativeWith instanceof Array){for(var a=0;a<o.associativeWith.length;a++)if(o.associativeWith[a]===r)return!0;return!1}return null}},function(t,e,o){"use strict";var l=o(4),u=o(9).escape,c=o(5).hasOwnProperty,h=o(13).getSafeProperty;e.name="SymbolNode",e.path="expression.node",e.math=!0,e.factory=function(a,t,e,n,i){function s(t){return!!a.Unit&&a.Unit.isValuelessUnit(t)}function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');this.name=t}return e=e(o(16)),(r.prototype=new e).type="SymbolNode",r.prototype.isSymbolNode=!0,r.prototype._compile=function(i,t){var r=this.name;if(c(t,r))return function(t,e,n){return e[r]};if(r in i)return function(t,e,n){return r in t?h(t,r):h(i,r)};var o=s(r);return function(t,e,n){return r in t?h(t,r):o?new a.Unit(null,r):function(t){throw new Error("Undefined symbol "+t)}(r)}},r.prototype.forEach=function(t){},r.prototype.map=function(t){return this.clone()},r.prototype.clone=function(){return new r(this.name)},r.prototype._toString=function(t){return this.name},r.prototype.toHTML=function(t){var e=u(this.name);return"true"===e||"false"===e?'<span class="math-symbol math-boolean">'+e+"</span>":"i"===e?'<span class="math-symbol math-imaginary-symbol">'+e+"</span>":"Infinity"===e?'<span class="math-symbol math-infinity-symbol">'+e+"</span>":"NaN"===e?'<span class="math-symbol math-nan-symbol">'+e+"</span>":"null"===e?'<span class="math-symbol math-null-symbol">'+e+"</span>":"undefined"===e?'<span class="math-symbol math-undefined-symbol">'+e+"</span>":'<span class="math-symbol">'+e+"</span>"},r.prototype.toJSON=function(){return{mathjs:"SymbolNode",name:this.name}},r.fromJSON=function(t){return new r(t.name)},r.prototype._toTex=function(t){var e=!1;void 0===i[this.name]&&s(this.name)&&(e=!0);e=l.toSymbol(this.name,e);return"\\"===e[0]?e:" "+e},r}},function(t,e,h){"use strict";var d=h(3).nearlyEqual,f=h(38);e.name="compare",e.factory=function(n,i,t,e){var r=t(h(1)),o=t(h(18)),a=t(h(66)),s=t(h(19)),l=t(h(7)),u=t(h(6)),c=e("compare",{"boolean, boolean":function(t,e){return t===e?0:e<t?1:-1},"number, number":function(t,e){return t===e||d(t,e,i.epsilon)?0:e<t?1:-1},"BigNumber, BigNumber":function(t,e){return t.eq(e)||f(t,e,i.epsilon)?new n.BigNumber(0):new n.BigNumber(t.cmp(e))},"Fraction, Fraction":function(t,e){return new n.Fraction(t.compare(e))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return c(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,c)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,c,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,c,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,c)},"Array, Array":function(t,e){return c(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return c(r(t),e)},"Matrix, Array":function(t,e){return c(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,c,!1)},"DenseMatrix, any":function(t,e){return u(t,e,c,!1)},"any, SparseMatrix":function(t,e){return s(e,t,c,!0)},"any, DenseMatrix":function(t,e){return u(e,t,c,!0)},"Array, any":function(t,e){return u(r(t),e,c,!1).valueOf()},"any, Array":function(t,e){return u(r(e),t,c,!0).valueOf()}});return c.toTex=void 0,c}},function(t,e,n){"use strict";function i(t,e,n){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}(i.prototype=new RangeError).constructor=RangeError,i.prototype.name="IndexError",i.prototype.isIndexError=!0,t.exports=i},function(t,e,n){"use strict";function r(t,e,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(null!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}(r.prototype=new Error).constructor=Error,r.prototype.name="ArgumentsError",r.prototype.isArgumentsError=!0,t.exports=r},function(t,e,s){"use strict";var l=s(9).format,u=s(4).escape;e.name="ConstantNode",e.path="expression.node",e.factory=function(t,e,n,i){var r=n(s(16)),o=n(s(24));function a(t){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(2===arguments.length)throw new SyntaxError("new ConstantNode(valueStr, valueType) is not supported anymore since math v4.0.0. Use new ConstantNode(value) instead, where value is a non-stringified value.");this.value=t}return(a.prototype=new r).type="ConstantNode",a.prototype.isConstantNode=!0,a.prototype._compile=function(t,e){var n=this.value;return function(){return n}},a.prototype.forEach=function(t){},a.prototype.map=function(t){return this.clone()},a.prototype.clone=function(){return new a(this.value)},a.prototype._toString=function(t){return l(this.value,t)},a.prototype.toHTML=function(t){var e=this._toString(t);switch(o(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+e+"</span>";case"string":return'<span class="math-string">'+e+"</span>";case"boolean":return'<span class="math-boolean">'+e+"</span>";case"null":return'<span class="math-null-symbol">'+e+"</span>";case"undefined":return'<span class="math-undefined">'+e+"</span>";default:return'<span class="math-symbol">'+e+"</span>"}},a.prototype.toJSON=function(){return{mathjs:"ConstantNode",value:this.value}},a.fromJSON=function(t){return new a(t.value)},a.prototype._toTex=function(t){var e=this._toString(t);switch(o(this.value)){case"string":return"\\mathtt{"+u(e)+"}";case"number":case"BigNumber":var n=e.toLowerCase().indexOf("e");return-1!==n?e.substring(0,n)+"\\cdot10^{"+e.substring(n+1)+"}":e;case"Fraction":return this.value.toLatex();default:return e}},a}},function(t,e,i){"use strict";var f=i(4),s=i(2).map,l=i(9).escape,u=i(13).isSafeMethod,c=i(13).getSafeProperty,g=i(52);e.name="OperatorNode",e.path="expression.node",e.factory=function(r,t,e,n){function o(t,e,n,i){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('string expected for parameter "op"');if("string"!=typeof e)throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(n)||!n.every(r.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=!0===i,this.op=t,this.fn=e,this.args=n||[]}function d(i,r,t,e,n){var o,a=g.getPrecedence(i,r),s=g.getAssociativity(i,r);if("all"===r||2<e.length&&"OperatorNode:add"!==i.getIdentifier()&&"OperatorNode:multiply"!==i.getIdentifier())return e.map(function(t){switch(t.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});switch(e.length){case 0:o=[];break;case 1:var l=g.getPrecedence(e[0],r);if(n&&null!==l){var u="keep"===r?(p=e[0].getIdentifier(),i.getIdentifier()):(p=e[0].getContent().getIdentifier(),i.getContent().getIdentifier());if(!1===g.properties[a][u].latexLeftParens){o=[!1];break}if(!1===g.properties[l][p].latexParens){o=[!1];break}}if(null===l){o=[!1];break}if(l<=a){o=[!0];break}o=[!1];break;case 2:var c,h,d=g.getPrecedence(e[0],r),f=g.isAssociativeWith(i,e[0],r),u=null!==d&&(d===a&&"right"===s&&!f||d<a),p=g.getPrecedence(e[1],r),l=g.isAssociativeWith(i,e[1],r),f=null!==p&&(p===a&&"left"===s&&!l||p<a);n&&(l="keep"===r?(c=i.getIdentifier(),h=i.args[0].getIdentifier(),i.args[1].getIdentifier()):(c=i.getContent().getIdentifier(),h=i.args[0].getContent().getIdentifier(),i.args[1].getContent().getIdentifier()),null!==d&&(!1===g.properties[a][c].latexLeftParens&&(u=!1),!1===g.properties[d][h].latexParens&&(u=!1)),null!==p&&(!1===g.properties[a][c].latexRightParens&&(f=!1),!1===g.properties[p][l].latexParens&&(f=!1))),o=[u,f];break;default:"OperatorNode:add"!==i.getIdentifier()&&"OperatorNode:multiply"!==i.getIdentifier()||(o=e.map(function(t){var e=g.getPrecedence(t,r),n=g.isAssociativeWith(i,t,r),t=g.getAssociativity(t,r);return null!==e&&(a===e&&s===t&&!n||e<a)}))}return o=2<=e.length&&"OperatorNode:multiply"===i.getIdentifier()&&i.implicit&&"auto"===r&&"hide"===t?e.map(function(t,e){t="ParenthesisNode"===t.getIdentifier();return!(!o[e]&&!t)}):o}return e=e(i(16)),(o.prototype=new e).type="OperatorNode",o.prototype.isOperatorNode=!0,o.prototype._compile=function(e,n){if("string"!=typeof this.fn||!u(e,this.fn))throw e[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var r=c(e,this.fn),t=s(this.args,function(t){return t._compile(e,n)});if(1===t.length){var i=t[0];return function(t,e,n){return r(i(t,e,n))}}if(2!==t.length)return function(e,n,i){return r.apply(null,s(t,function(t){return t(e,n,i)}))};var o=t[0],a=t[1];return function(t,e,n){return r(o(t,e,n),a(t,e,n))}},o.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},o.prototype.map=function(t){for(var e=[],n=0;n<this.args.length;n++)e[n]=this._ifNode(t(this.args[n],"args["+n+"]",this));return new o(this.op,this.fn,e,this.implicit)},o.prototype.clone=function(){return new o(this.op,this.fn,this.args.slice(0),this.implicit)},o.prototype.isUnary=function(){return 1===this.args.length},o.prototype.isBinary=function(){return 2===this.args.length},o.prototype._toString=function(n){var t=n&&n.parenthesis?n.parenthesis:"keep",e=n&&n.implicit?n.implicit:"hide",i=this.args,r=d(this,t,e,i,!1);if(1===i.length){var o=g.getAssociativity(this,t),a=i[0].toString(n);return r[0]&&(a="("+a+")"),"right"===o?this.op+a:a+this.op}if(2===i.length){o=i[0].toString(n),a=i[1].toString(n);return r[0]&&(o="("+o+")"),r[1]&&(a="("+a+")"),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===e?o+" "+a:o+" "+this.op+" "+a}if(2<i.length&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){i=i.map(function(t,e){return t=t.toString(n),t=r[e]?"("+t+")":t});return this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===e?i.join(" "):i.join(" "+this.op+" ")}return this.fn+"("+this.args.join(", ")+")"},o.prototype.toJSON=function(){return{mathjs:"OperatorNode",op:this.op,fn:this.fn,args:this.args,implicit:this.implicit}},o.fromJSON=function(t){return new o(t.op,t.fn,t.args,t.implicit)},o.prototype.toHTML=function(n){var t=n&&n.parenthesis?n.parenthesis:"keep",e=n&&n.implicit?n.implicit:"hide",i=this.args,r=d(this,t,e,i,!1);if(1===i.length){var t=g.getAssociativity(this,t),o=i[0].toHTML(n);return r[0]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),"right"===t?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+l(this.op)+"</span>"+o:'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+l(this.op)+"</span>"+o}if(2===i.length){var o=i[0].toHTML(n),a=i[1].toHTML(n);return r[0]&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>'),r[1]&&(a='<span class="math-parenthesis math-round-parenthesis">(</span>'+a+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===e?o+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+a:o+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+l(this.op)+"</span>"+a}a=i.map(function(t,e){return t=t.toHTML(n),t=r[e]?'<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>':t});return 2<i.length&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())?this.implicit&&"OperatorNode:multiply"===this.getIdentifier()&&"hide"===e?a.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):a.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+l(this.op)+"</span>"):'<span class="math-function">'+l(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'},o.prototype._toTex=function(n){var t=n&&n.parenthesis?n.parenthesis:"keep",e=n&&n.implicit?n.implicit:"hide",i=this.args,r=d(this,t,e,i,!0),o=void 0===(o=f.operators[this.fn])?this.op:o;if(1===i.length){var a=g.getAssociativity(this,t),s=i[0].toTex(n);return r[0]&&(s="\\left(".concat(s,"\\right)")),"right"===a?o+s:s+o}if(2===i.length){var l=i[0],u=l.toTex(n);r[0]&&(u="\\left(".concat(u,"\\right)"));var c,h=i[1].toTex(n);switch(r[1]&&(h="\\left(".concat(h,"\\right)")),c=("keep"===t?l:l.getContent()).getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return o+"{"+u+"}{"+h+"}";case"OperatorNode:pow":switch(u="{"+u+"}",h="{"+h+"}",c){case"ConditionalNode":case"OperatorNode:divide":u="\\left(".concat(u,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&"hide"===e)return u+"~"+h}return u+o+h}if(2<i.length&&("OperatorNode:add"===this.getIdentifier()||"OperatorNode:multiply"===this.getIdentifier())){l=i.map(function(t,e){return t=t.toTex(n),t=r[e]?"\\left(".concat(t,"\\right)"):t});return"OperatorNode:multiply"===this.getIdentifier()&&this.implicit?l.join("~"):l.join(o)}return"\\mathrm{"+this.fn+"}\\left("+i.map(function(t){return t.toTex(n)}).join(",")+"\\right)"},o.prototype.getIdentifier=function(){return this.type+":"+this.fn},o}},function(t,e,n){"use strict";var o=n(0);e.name="isZero",e.factory=function(t,e,n,i){var r=i("isZero",{number:function(t){return 0===t},BigNumber:function(t){return t.isZero()},Complex:function(t){return 0===t.re&&0===t.im},Fraction:function(t){return 1===t.d&&0===t.n},Unit:function(t){return r(t.value)},"Array | Matrix":function(t){return o(t,r)}});return r}},function(t,e,n){"use strict";var o=n(0);e.name="isNegative",e.factory=function(t,e,n,i){var r=i("isNegative",{number:function(t){return t<0},BigNumber:function(t){return t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return t.s<0},Unit:function(t){return r(t.value)},"Array | Matrix":function(t){return o(t,r)}});return r}},function(t,e,n){"use strict";var i=n(47);t.exports=function(t){for(var e=0;e<t.length;e++)if(i(t[e]))return!0;return!1}},function(t,e,n){"use strict";t.exports=function(t){return t&&t.constructor.prototype.isMatrix||!1}},function(t,e,r){"use strict";e.factory=function(t,e,n,i){var s=n(r(24));return function t(e){for(var n,i=0,r=0;r<e.length;r++){var o=e[r],a=Array.isArray(o);if(0===r&&a&&(i=o.length),a&&o.length!==i)return;if(o=(a?t:s)(o),void 0===n)n=o;else if(n!==o)return"mixed"}return n}}},function(t,e,n){"use strict";var o=n(0);e.name="number",e.factory=function(t,e,n,i){var r=i("number",{"":function(){return 0},number:function(t){return t},string:function(t){if("NaN"===t)return NaN;var e=Number(t);if(isNaN(e))throw new SyntaxError('String "'+t+'" is no valid number');return e},BigNumber:function(t){return t.toNumber()},Fraction:function(t){return t.valueOf()},Unit:function(t){throw new Error("Second argument with valueless unit expected")},null:function(t){return 0},"Unit, string | Unit":function(t,e){return t.toNumber(e)},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},r}},function(t,e,s){"use strict";e.path="type",e.name="_numeric",e.factory=function(t,e,n,i){var r=n(s(24)),o={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:n(s(64)),BigNumber:n(s(100)),Fraction:n(s(81))};return(n=function(t,e){var n=r(t);if(!(n in o))throw new TypeError("Cannot convert "+t+' of type "'+n+'"; valid input types are '+Object.keys(o).join(", "));if(!(e in a))throw new TypeError("Cannot convert "+t+' to type "'+e+'"; valid output types are '+Object.keys(a).join(", "));return e===n?t:a[e](t)}).toTex=function(t,e){return t.args[0].toTex()},n}},function(t,e,i){"use strict";var E=i(8);e.name="algorithm05",e.factory=function(t,e,n,N){var L=n(i(11)),k=t.SparseMatrix;return function(t,e,n){var i=t._values,r=t._index,o=t._ptr,a=t._size,s=t._datatype,l=e._values,u=e._index,c=e._ptr,t=e._size,e=e._datatype;if(a.length!==t.length)throw new E(a.length,t.length);if(a[0]!==t[0]||a[1]!==t[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+t+")");var t=a[0],h=a[1],d=L,f=0,p=n;"string"==typeof s&&s===e&&(d=N.find(L,[v=s,v]),f=N.convert(0,v),p=N.find(n,[v,v]));for(var g=i&&l?[]:void 0,m=[],y=[],v=new k({values:g,index:m,ptr:y,size:[t,h],datatype:v}),x=g?[]:void 0,_=g?[]:void 0,b=[],w=[],M=0;M<h;M++){y[M]=m.length;for(var A=M+1,I=o[M],C=o[M+1];I<C;I++)S=r[I],m.push(S),b[S]=A,x&&(x[S]=i[I]);for(I=c[M],C=c[M+1];I<C;I++)b[S=u[I]]!==A&&m.push(S),w[S]=A,_&&(_[S]=l[I]);if(g)for(I=y[M];I<m.length;){var S,T=b[S=m[I]],D=w[S];T!==A&&D!==A||(d(D=p(T===A?x[S]:f,D===A?_[S]:f),f)?m.splice(I,1):(g.push(D),I++))}}return y[h]=m.length,v}}},function(t,e,o){"use strict";e.name="ParenthesisNode",e.path="expression.node",e.factory=function(e,t,n,i){function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!e.isNode(t))throw new TypeError('Node expected for parameter "content"');this.content=t}return n=n(o(16)),(r.prototype=new n).type="ParenthesisNode",r.prototype.isParenthesisNode=!0,r.prototype._compile=function(t,e){return this.content._compile(t,e)},r.prototype.getContent=function(){return this.content.getContent()},r.prototype.forEach=function(t){t(this.content,"content",this)},r.prototype.map=function(t){return new r(t(this.content,"content",this))},r.prototype.clone=function(){return new r(this.content)},r.prototype._toString=function(t){return!t||!t.parenthesis||t&&"keep"===t.parenthesis?"("+this.content.toString(t)+")":this.content.toString(t)},r.prototype.toJSON=function(){return{mathjs:"ParenthesisNode",content:this.content}},r.fromJSON=function(t){return new r(t.content)},r.prototype.toHTML=function(t){return!t||!t.parenthesis||t&&"keep"===t.parenthesis?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(t)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(t)},r.prototype._toTex=function(t){return!t||!t.parenthesis||t&&"keep"===t.parenthesis?"\\left(".concat(this.content.toTex(t),"\\right)"):this.content.toTex(t)},r}},function(t,e,u){"use strict";function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(){return(v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}var h=u(4),d=u(9).escape,f=u(5).hasOwnProperty,x=u(2).map,_=u(13).validateSafeMethod,b=u(13).getSafeProperty;e.name="FunctionNode",e.path="expression.node",e.math=!0,e.factory=function(m,t,e,n,r){var i=e(u(16)),o=e(u(53));function y(t,e){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if("string"==typeof t&&(t=new o(t)),!m.isNode(t))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(e)||!e.every(m.isNode))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=t,this.args=e||[],Object.defineProperty(this,"name",{get:function(){return this.fn.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}});e=function(){throw new Error("Property `FunctionNode.object` is deprecated, use `FunctionNode.fn` instead")};Object.defineProperty(this,"object",{get:e,set:e})}(y.prototype=new i).type="FunctionNode",y.prototype.isFunctionNode=!0,y.prototype._compile=function(r,e){if(!(this instanceof y))throw new TypeError("No valid FunctionNode");var o=x(this.args,function(t){return t._compile(r,e)});if(m.isSymbolNode(this.fn)){var a=this.fn.name,s=a in r?b(r,a):void 0;if("function"==typeof s&&!0===s.rawArgs){var i=this.args;return function(t,e,n){return(a in t?b(t,a):s)(i,r,v({},t,e))}}if(1===o.length){var l=o[0];return function(t,e,n){return(a in t?b(t,a):s)(l(t,e,n))}}if(2!==o.length)return function(e,n,i){return(a in e?b(e,a):s).apply(null,x(o,function(t){return t(e,n,i)}))};var u=o[0],c=o[1];return function(t,e,n){return(a in t?b(t,a):s)(u(t,e,n),c(t,e,n))}}if(m.isAccessorNode(this.fn)&&m.isIndexNode(this.fn.index)&&this.fn.index.isObjectProperty()){var h=this.fn.object._compile(r,e),d=this.fn.index.getObjectProperty(),f=this.args;return function(e,n,i){var t=h(e,n,i);return _(t,d),t[d]&&t[d].rawArgs?t[d](f,r,v({},e,n)):t[d].apply(t,x(o,function(t){return t(e,n,i)}))}}var p=this.fn._compile(r,e),g=this.args;return function(e,n,i){var t=p(e,n,i);return t&&t.rawArgs?t(g,r,v({},e,n)):t.apply(t,x(o,function(t){return t(e,n,i)}))}},y.prototype.forEach=function(t){for(var e=0;e<this.args.length;e++)t(this.args[e],"args["+e+"]",this)},y.prototype.map=function(t){for(var e=this.fn.map(t),n=[],i=0;i<this.args.length;i++)n[i]=this._ifNode(t(this.args[i],"args["+i+"]",this));return new y(e,n)},y.prototype.clone=function(){return new y(this.fn,this.args.slice(0))};var a=y.prototype.toString;function s(t,e,n){for(var i,r="",o=new RegExp("\\$(?:\\{([a-z_][a-z_0-9]*)(?:\\[([0-9]+)\\])?\\}|\\$)","ig"),a=0;null!==(i=o.exec(t));)if(r+=t.substring(a,i.index),a=i.index,"$$"===i[0])r+="$",a++;else{a+=i[0].length;var s=e[i[1]];if(!s)throw new ReferenceError("Template: Property "+i[1]+" does not exist.");if(void 0===i[2])switch(c(s)){case"string":r+=s;break;case"object":if(m.isNode(s))r+=s.toTex(n);else{if(!Array.isArray(s))throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes");r+=s.map(function(t,e){if(m.isNode(t))return t.toTex(n);throw new TypeError("Template: "+i[1]+"["+e+"] is not a Node.")}).join(",")}break;default:throw new TypeError("Template: "+i[1]+" has to be a Node, String or array of Nodes")}else{if(!m.isNode(s[i[2]]&&s[i[2]]))throw new TypeError("Template: "+i[1]+"["+i[2]+"] is not a Node.");r+=s[i[2]].toTex(n)}}return r+=t.slice(a)}y.prototype.toString=function(t){var e,n=this.fn.toString(t);return void 0!==(e=t&&"object"===c(t.handler)&&f(t.handler,n)?t.handler[n](this,t):e)?e:a.call(this,t)},y.prototype._toString=function(e){var t=this.args.map(function(t){return t.toString(e)});return(m.isFunctionAssignmentNode(this.fn)?"("+this.fn.toString(e)+")":this.fn.toString(e))+"("+t.join(", ")+")"},y.prototype.toJSON=function(){return{mathjs:"FunctionNode",fn:this.fn,args:this.args}},y.fromJSON=function(t){return new y(t.fn,t.args)},y.prototype.toHTML=function(e){var t=this.args.map(function(t){return t.toHTML(e)});return'<span class="math-function">'+d(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+t.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'};var l=y.prototype.toTex;return y.prototype.toTex=function(t){var e;return void 0!==(e=t&&"object"===c(t.handler)&&f(t.handler,this.name)?t.handler[this.name](this,t):e)?e:l.call(this,t)},y.prototype._toTex=function(e){var t,n,i=this.args.map(function(t){return t.toTex(e)});switch(!r[this.name]||"function"!=typeof r[this.name].toTex&&"object"!==c(r[this.name].toTex)&&"string"!=typeof r[this.name].toTex||(t=r[this.name].toTex),c(t)){case"function":n=t(this,e);break;case"string":n=s(t,this,e);break;case"object":switch(c(t[i.length])){case"function":n=t[i.length](this,e);break;case"string":n=s(t[i.length],this,e)}}return void 0!==n?n:s(h.defaultTemplate,this,e)},y.prototype.getIdentifier=function(){return this.type+":"+this.name},y}},function(t,e,i){"use strict";var s=i(30);e.name="inv",e.factory=function(r,t,e,n){var o=e(i(1)),y=e(i(12)),v=e(i(17)),x=e(i(10)),_=e(i(34)),b=e(i(122)),w=e(i(49)),M=e(i(23));function a(t,e,n){var i,r,o;if(1===e){if(0===(a=t[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[y(1,a)]]}if(2===e){var a=b(t);if(0===a)throw Error("Cannot calculate inverse, determinant is zero");return[[y(t[1][1],a),y(_(t[0][1]),a)],[y(_(t[1][0]),a),y(t[0][0],a)]]}var s=t.concat();for(d=0;d<e;d++)s[d]=s[d].concat();for(var l=w(e).valueOf(),u=0;u<n;u++){for(var c=M(s[u][u]),h=u,d=u+1;d<e;)M(s[d][u])>c&&(c=M(s[d][u]),h=d),d++;if(0===c)throw Error("Cannot calculate inverse, determinant is zero");(d=h)!==u&&(o=s[u],s[u]=s[d],s[d]=o,o=l[u],l[u]=l[d],l[d]=o);var f=s[u],p=l[u];for(d=0;d<e;d++){var g=s[d],m=l[d];if(d!==u){if(0!==g[u]){for(r=y(_(g[u]),f[u]),i=u;i<n;i++)g[i]=v(g[i],x(r,f[i]));for(i=0;i<n;i++)m[i]=v(m[i],x(r,p[i]))}}else{for(r=f[u],i=u;i<n;i++)g[i]=y(g[i],r);for(i=0;i<n;i++)m[i]=y(m[i],r)}}}return l}return(n=n("inv",{"Array | Matrix":function(t){var e=r.isMatrix(t)?t.size():s.array.size(t);switch(e.length){case 1:if(1===e[0])return r.isMatrix(t)?o([y(1,t.valueOf()[0])]):[y(1,t[0])];throw new RangeError("Matrix must be square (size: "+s.string.format(e)+")");case 2:var n=e[0],i=e[1];if(n===i)return r.isMatrix(t)?o(a(t.valueOf(),n,i),t.storage()):a(t,n,i);throw new RangeError("Matrix must be square (size: "+s.string.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+s.string.format(e)+")")}},any:function(t){return y(1,t)}})).toTex={1:"\\left(${args[0]}\\right)^{-1}"},n}},function(t,e,n){"use strict";var o=n(0);e.name="conj",e.factory=function(t,e,n,i){var r=i("conj",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.conjugate()},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\left(${args[0]}\\right)^*"},r}},function(t,e,s){"use strict";var b=s(5).clone,u=s(9).format;e.name="transpose",e.factory=function(t,e,n,i){var r=s(4),o=n(s(1)),l=t.DenseMatrix,_=t.SparseMatrix,a=i("transpose",{Array:function(t){return a(o(t)).valueOf()},Matrix:function(t){var e,n=t.size();switch(n.length){case 1:e=t.clone();break;case 2:var i=n[0],r=n[1];if(0===r)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+u(n)+")");switch(t.storage()){case"dense":e=function(t,e,n){for(var i,r=t._data,o=[],a=0;a<n;a++){i=o[a]=[];for(var s=0;s<e;s++)i[s]=b(r[s][a])}return new l({data:o,size:[n,e],datatype:t._datatype})}(t,i,r);break;case"sparse":e=function(t,e,n){for(var i,r,o,a=t._values,s=t._index,l=t._ptr,u=a?[]:void 0,c=[],h=[],d=[],f=0;f<e;f++)d[f]=0;for(i=0,r=s.length;i<r;i++)d[s[i]]++;for(var p=0,g=0;g<e;g++)h.push(p),p+=d[g],d[g]=h[g];for(h.push(p),o=0;o<n;o++)for(var m=l[o],y=l[o+1],v=m;v<y;v++){var x=d[s[v]]++;c[x]=o,a&&(u[x]=b(a[v]))}return new _({values:u,index:c,ptr:h,size:[n,e],datatype:t._datatype})}(t,i,r)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+u(this._size)+")")}return e},any:function(t){return b(t)}});return a.toTex={1:"\\left(${args[0]}\\right)".concat(r.operators.transpose)},a}},function(t,e,n){"use strict";var o=n(0);e.name="isPositive",e.factory=function(t,e,n,i){var r=i("isPositive",{number:function(t){return 0<t},BigNumber:function(t){return!t.isNeg()&&!t.isZero()&&!t.isNaN()},Fraction:function(t){return 0<t.s&&0<t.n},Unit:function(t){return r(t.value)},"Array | Matrix":function(t){return o(t,r)}});return r}},function(t,e,i){"use strict";var N=i(229),L=i(8);e.name="algorithm06",e.factory=function(t,e,n,S){var T=n(i(11)),D=t.SparseMatrix;return function(t,e,n){var i=t._values,r=t._size,o=t._datatype,a=e._values,s=e._size,l=e._datatype;if(r.length!==s.length)throw new L(r.length,s.length);if(r[0]!==s[0]||r[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+r+") must match Matrix B ("+s+")");var u,s=r[0],c=r[1],h=T,d=0,f=n;"string"==typeof o&&o===l&&(h=S.find(T,[u=o,u]),d=S.convert(0,u),f=S.find(n,[u,u]));for(var p=i&&a?[]:void 0,g=[],m=[],y=new D({values:p,index:g,ptr:m,size:[s,c],datatype:u}),v=p?[]:void 0,x=[],_=[],b=0;b<c;b++){m[b]=g.length;var w=b+1;if(N(t,b,x,v,_,w,y,f),N(e,b,x,v,_,w,y,f),v)for(var M=m[b];M<g.length;){var A,I=g[M];_[I]!==w||h(A=v[I],d)?g.splice(M,1):(p.push(A),M++)}else for(var C=m[b];C<g.length;)_[g[C]]!==w?g.splice(C,1):C++}return m[c]=g.length,y}}},function(t,e,a){"use strict";var s=a(0);e.name="factorial",e.factory=function(t,e,n,i){var r=n(a(136)),n=a(4),o=i("factorial",{number:function(t){if(t<0)throw new Error("Value must be non-negative");return r(t+1)},BigNumber:function(t){if(t.isNegative())throw new Error("Value must be non-negative");return r(t.plus(1))},"Array | Matrix":function(t){return s(t,o)}});return o.toTex={1:"\\left(${args[0]}\\right)".concat(n.operators.factorial)},o}},function(t,e,n){"use strict";var i=n(3).isInteger,r=n(92);function l(t){return t.isInteger()&&t.gte(0)}e.name="combinations",e.factory=function(s,t,e,n){return(n=n("combinations",{"number, number":function(t,e){var n;if(!i(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!i(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(t<e)throw new TypeError("k must be less than or equal to n");return e<(n=t-e)?r(1+n,t)/r(1,e):r(e+1,t)/r(1,n)},"BigNumber, BigNumber":function(t,e){var n,i,r,o,a=new s.BigNumber(1);if(!l(t)||!l(e))throw new TypeError("Positive integer value expected in function combinations");if(e.gt(t))throw new TypeError("k must be less than n in function combinations");for(n=t.minus(e),e.lt(n)&&(n=e),r=i=a,o=t.minus(n);r.lte(o);r=r.plus(1))i=i.times(n.plus(r)).dividedBy(r);return i}})).toTex={2:"\\binom{${args[0]}}{${args[1]}}"},n}},function(t,e,i){"use strict";var f=i(5).clone,p=i(2),g=i(55),m=i(8);e.name="concat",e.factory=function(c,t,e,n){var h=e(i(1)),d=e(i(36));return(n=n("concat",{"...Array | Matrix | number | BigNumber":function(t){for(var e,n=t.length,i=-1,r=!1,o=[],a=0;a<n;a++){var s=t[a];if(c.isMatrix(s)&&(r=!0),c.isNumber(s)||c.isBigNumber(s)){if(a!==n-1)throw new Error("Dimension must be specified as last argument");if(e=i,i=s.valueOf(),!d(i))throw new TypeError("Integer number expected for dimension");if(i<0||0<a&&e<i)throw new g(i,e+1)}else{var l=f(s).valueOf(),s=p.size(l);if(o[a]=l,e=i,i=s.length-1,0<a&&i!==e)throw new m(e+1,i+1)}}if(0===o.length)throw new SyntaxError("At least one matrix expected");for(var u=o.shift();o.length;)u=function t(e,n,i,r){{if(r<i){if(e.length!==n.length)throw new m(e.length,n.length);for(var o=[],a=0;a<e.length;a++)o[a]=t(e[a],n[a],i,r+1);return o}return e.concat(n)}}(u,o.shift(),i,0);return r?h(u):u},"...string":function(t){return t.join("")}})).toTex=void 0,n}},function(t,e,n){"use strict";var r=n(0);e.name="isNaN",e.factory=function(t,e,n,i){return i("isNaN",{number:function(t){return Number.isNaN(t)},BigNumber:function(t){return t.isNaN()},Fraction:function(t){return!1},Complex:function(t){return t.isNaN()},Unit:function(t){return Number.isNaN(t.value)},"Array | Matrix":function(t){return r(t,Number.isNaN)}})}},function(t,e,n){"use strict";var r=n(2).size,o=n(62),a=n(55);function s(t,e,n){var i,r,o,a;if(e<=0){if(Array.isArray(t[0])){for(a=function(t){var e,n,i=t.length,r=t[0].length,o=[];for(n=0;n<r;n++){var a=[];for(e=0;e<i;e++)a.push(t[e][n]);o.push(a)}return o}(t),r=[],i=0;i<a.length;i++)r[i]=s(a[i],e-1,n);return r}for(o=t[0],i=1;i<t.length;i++)o=n(o,t[i]);return o}for(r=[],i=0;i<t.length;i++)r[i]=s(t[i],e-1,n);return r}t.exports=function(t,e,n){var i=Array.isArray(t)?r(t):t.size();if(e<0||e>=i.length)throw new a(e,i.length);return o(t)?t.create(s(t.valueOf(),e,n)):s(t,e,n)}},function(t,e,n){"use strict";t.exports=function(t){return t&&t.constructor.prototype.isBigNumber||!1}},function(t,e,n){"use strict";function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=n(171),s=n(3).format,l=n(3).isNumber;e.name="Complex",e.path="type",e.factory=function(i,t,e,n,r){return a.prototype.type="Complex",a.prototype.isComplex=!0,a.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},a.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},a.prototype.format=function(t){var e=this.im,n=this.re,i=s(this.re,t),r=s(this.im,t),t=l(t)?t:t?t.precision:null;return null!==t&&(t=Math.pow(10,-t),Math.abs(n/e)<t&&(n=0),Math.abs(e/n)<t&&(e=0)),0===e?i:0===n?1===e?"i":-1===e?"-i":r+"i":e<0?-1===e?i+" - i":i+" - "+r.substring(1)+"i":1===e?i+" + i":i+" + "+r+"i"},a.fromPolar=function(t){switch(arguments.length){case 1:var e=t;if("object"===o(e))return a(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var n=t,e=arguments[1];if(l(n)){if(i.isUnit(e)&&e.hasBase("ANGLE")&&(e=e.toNumber("rad")),l(e))return new a({r:n,phi:e});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},a.prototype.valueOf=a.prototype.toString,a.fromJSON=function(t){return new a(t)},a.EPSILON=t.epsilon,r.on("config",function(t,e){t.epsilon!==e.epsilon&&(a.EPSILON=t.epsilon)}),a.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},a},e.math=!0},function(t,e,n){"use strict";var o=n(0);e.name="fraction",e.factory=function(n,t,e,i){var r=i("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new n.Fraction(t)},string:function(t){return new n.Fraction(t)},"number, number":function(t,e){return new n.Fraction(t,e)},null:function(t){return new n.Fraction(0)},BigNumber:function(t){return new n.Fraction(t.toString())},Fraction:function(t){return t},Object:function(t){return new n.Fraction(t)},"Array | Matrix":function(t){return o(t,r)}});return r}},function(t,e,n){"use strict";var o=n(30).string.isString;e.name="Matrix",e.path="type",e.factory=function(t,e,n,i){function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.storage=function(t){if(!o(t))throw new TypeError("format must be a string value");var e=r._storage[t];if(!e)throw new SyntaxError("Unsupported matrix storage format: "+t);return e},r._storage={},r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r}},function(t,e,i){"use strict";var E=i(8);e.name="algorithm04",e.factory=function(t,e,n,N){var L=n(i(11)),k=t.SparseMatrix;return function(t,e,n){var i=t._values,r=t._index,o=t._ptr,a=t._size,s=t._datatype,l=e._values,u=e._index,c=e._ptr,t=e._size,e=e._datatype;if(a.length!==t.length)throw new E(a.length,t.length);if(a[0]!==t[0]||a[1]!==t[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+t+")");var t=a[0],h=a[1],d=L,f=0,p=n;"string"==typeof s&&s===e&&(d=N.find(L,[v=s,v]),f=N.convert(0,v),p=N.find(n,[v,v]));for(var g=i&&l?[]:void 0,m=[],y=[],v=new k({values:g,index:m,ptr:y,size:[t,h],datatype:v}),x=i&&l?[]:void 0,_=i&&l?[]:void 0,b=[],w=[],M=0;M<h;M++){y[M]=m.length;for(var A,I,C=M+1,S=o[M],T=o[M+1],D=S;D<T;D++)I=r[D],m.push(I),b[I]=C,x&&(x[I]=i[D]);for(S=c[M],T=c[M+1],D=S;D<T;D++)b[I=u[D]]===C?x&&(d(A=p(x[I],l[D]),f)?b[I]=null:x[I]=A):(m.push(I),w[I]=C,_&&(_[I]=l[D]));if(x&&_)for(D=y[M];D<m.length;)b[I=m[D]]===C?(g[D]=x[I],D++):w[I]===C?(g[D]=_[I],D++):m.splice(D,1)}return y[h]=m.length,v}}},function(t,e,D){"use strict";function N(t){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.math=!0,e.name="simplify",e.factory=function(h,t,e,n,d){var l=e(D(43)),f=e(D(50)),p=e(D(57)),g=e(D(68)),m=e(D(58)),a=e(D(67)),y=e(D(53)),i=e(D(119)),r=e(D(121)),u=e(D(199)),v=(e=e(D(120))).isCommutative,x=e.isAssociative,c=e.flatten,_=e.unflattenr,b=e.unflattenl,w=e.createMakeNodeFunction,o=n("simplify",{string:function(t){return o(l(t),o.rules,{},{})},"string, Object":function(t,e){return o(l(t),o.rules,e,{})},"string, Object, Object":function(t,e,n){return o(l(t),o.rules,e,n)},"string, Array":function(t,e){return o(l(t),e,{},{})},"string, Array, Object":function(t,e,n){return o(l(t),e,n,{})},"string, Array, Object, Object":function(t,e,n,i){return o(l(t),e,n,i)},"Node, Object":function(t,e){return o(t,o.rules,e,{})},"Node, Object, Object":function(t,e,n){return o(t,o.rules,e,n)},Node:function(t){return o(t,o.rules,{},{})},"Node, Array":function(t,e){return o(t,e,{},{})},"Node, Array, Object":function(t,e,n){return o(t,e,n,{})},"Node, Array, Object, Object":function(t,e,n,i){e=function(t){for(var e=[],n=0;n<t.length;n++){var i,r=t[n],o=void 0,a=N(r);switch(a){case"string":var s=r.split("->");if(2!==s.length)throw SyntaxError("Could not parse rule: "+r);r={l:s[0],r:s[1]};case"object":o={l:M(l(r.l)),r:M(l(r.r))},r.context&&(o.evaluate=r.context),r.evaluate&&(o.evaluate=l(r.evaluate)),x(o.l)&&(i=w(o.l),s=new y("_p"+I++),o.expanded={},o.expanded.l=i([o.l.clone(),s]),c(o.expanded.l),_(o.expanded.l),o.expanded.r=i([o.r,s]));break;case"function":o=r;break;default:throw TypeError("Unsupported type of rule: "+a)}e.push(o)}return e}(e);for(var r=u(t,n),o={},a=(r=M(r)).toString({parenthesis:"all"});!o[a];){o[a]=!0;for(var s=I=0;s<e.length;s++)r="function"==typeof e[s]?e[s](r,i):(c(r),C(r,e[s])),b(r);a=r.toString({parenthesis:"all"})}return r}});function M(t){return t.transform(function(t,e,n){return h.isParenthesisNode(t)?t.content:t})}o.simplifyCore=r,o.resolve=u;var A={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};o.rules=[r,{l:"log(e)",r:"1"},{l:"n-n1",r:"n+-n1"},{l:"-(c*v)",r:"(-c) * v"},{l:"-v",r:"(-1) * v"},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{l:"(n ^ n1) ^ n2",r:"n ^ (n1 * n2)"},{l:"n*n",r:"n^2"},{l:"n * n^n1",r:"n^(n1+1)"},{l:"n^n1 * n^n2",r:"n^(n1+n2)"},{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},{l:"n1*n2 + n2",r:"(n1+1)*n2"},{l:"n1*n3 + n2*n3",r:"(n1+n2)*n3"},{l:"n1 + -1 * (n2 + n3)",r:"n1 + -1 * n2 + -1 * n3"},i,{l:"(-n)*n1",r:"-(n*n1)"},{l:"c+v",r:"v+c",context:{add:{commutative:!1}}},{l:"v*c",r:"c*v",context:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"n-(n1+n2)",r:"n-n1-n2"},{l:"1*n",r:"n"}];var I=0,C=n("applyRule",{"Node, Object":function(t,e){var n=t;if(n instanceof m||n instanceof g){if(n.args)for(var i=0;i<n.args.length;i++)n.args[i]=C(n.args[i],e)}else n instanceof a&&n.content&&(n.content=C(n.content,e));var r=e.r,o=T(e.l,n)[0];return!o&&e.expanded&&(r=e.expanded.r,o=T(e.expanded.l,n)[0]),o&&(t=n.implicit,n=r.clone(),t&&"implicit"in r&&(n.implicit=!0),n=function t(e){return e.isSymbolNode&&o.placeholders.hasOwnProperty(e.name)?o.placeholders[e.name].clone():e.map(t)}(n)),n}});function s(t,e){var n,i,r={placeholders:{}};if(!t.placeholders&&!e.placeholders)return r;if(!t.placeholders)return e;if(!e.placeholders)return t;for(n in t.placeholders)if(r.placeholders[n]=t.placeholders[n],e.placeholders.hasOwnProperty(n)&&!function t(e,n){if(e instanceof p&&n instanceof p){if(!f(e.value,n.value))return!1}else if(e instanceof y&&n instanceof y){if(e.name!==n.name)return!1}else{if(!(e instanceof m&&n instanceof m||e instanceof g&&n instanceof g))return!1;if(e instanceof m){if(e.op!==n.op||e.fn!==n.fn)return!1}else if(e instanceof g&&e.name!==n.name)return!1;if(e.args.length!==n.args.length)return!1;for(var i=0;i<e.args.length;i++)if(!t(e.args[i],n.args[i]))return!1}return!0}(t.placeholders[n],e.placeholders[n]))return null;for(i in e.placeholders)r.placeholders[i]=e.placeholders[i];return r}function S(t,e){var n,i=[];if(0===t.length||0===e.length)return i;for(var r=0;r<t.length;r++)for(var o=0;o<e.length;o++)(n=s(t[r],e[o]))&&i.push(n);return i}function T(t,e,n){var i=[{placeholders:{}}];if(t instanceof m&&e instanceof m||t instanceof g&&e instanceof g){if(t instanceof m){if(t.op!==e.op||t.fn!==e.fn)return[]}else if(t instanceof g&&t.name!==e.name)return[];if((1!==e.args.length||1!==t.args.length)&&x(e)&&!n){if(2<=e.args.length&&2===t.args.length){for(var r=function(t,e){var n,i,r=[],o=w(t);if(v(t,e))for(var a=0;a<t.args.length;a++)(i=t.args.slice(0)).splice(a,1),n=1===i.length?i[0]:o(i),r.push(o([t.args[a],n]));else n=1===(i=t.args.slice(1)).length?i[0]:o(i),r.push(o([t.args[0],n]));return r}(e,t.context),o=[],a=0;a<r.length;a++)var s=T(t,r[a],!0),o=o.concat(s);return o}if(2<t.args.length)throw Error("Unexpected non-binary associative function: "+t.toString());return[]}for(var l=[],u=0;u<t.args.length;u++){var c=T(t.args[u],e.args[u]);if(0===c.length)return[];l.push(c)}i=function(t){if(0===t.length)return t;for(var e=t.reduce(S),n=[],i={},r=0;r<e.length;r++){var o=JSON.stringify(e[r]);i[o]||(i[o]=!0,n.push(e[r]))}return n}(l)}else if(t instanceof y){if(0===t.name.length)throw new Error("Symbol in rule has 0 length...!?");if(d.hasOwnProperty(t.name)){if(!A[t.name])throw new Error("Built in constant: "+t.name+" is not supported by simplify.");if(t.name!==e.name)return[]}else if("n"===t.name[0]||"_p"===t.name.substring(0,2))i[0].placeholders[t.name]=e;else if("v"===t.name[0]){if(h.isConstantNode(e))return[];i[0].placeholders[t.name]=e}else{if("c"!==t.name[0])throw new Error("Invalid symbol in rule: "+t.name);if(!(e instanceof p))return[];i[0].placeholders[t.name]=e}}else{if(!(t instanceof p))return[];if(!f(t.value,e.value))return[]}return i}return o}},function(t,e,a){"use strict";var A=a(30).object;e.name="lup",e.factory=function(t,e,n,i){var r=n(a(1)),C=n(a(23)),b=n(a(17)),S=n(a(12)),T=n(a(21)),w=n(a(15)),D=n(a(33)),N=n(a(11)),L=n(a(34)),k=t.SparseMatrix,M=t.DenseMatrix,E=t.Spa;function o(t){var e,n=t._size[0],i=t._size[1],r=Math.min(n,i),o=A.clone(t._data),a=[],s=[n,r],l=[],t=[r,i],u=[];for(m=0;m<n;m++)u[m]=m;for(e=0;e<i;e++){if(0<e)for(m=0;m<n;m++){for(var c=Math.min(m,e),h=0,d=0;d<c;d++)h=b(h,T(o[m][d],o[d][e]));o[m][e]=w(o[m][e],h)}for(var f=e,p=0,g=0,m=e;m<n;m++){var y=o[m][e],v=C(y);D(v,p)&&(f=m,p=v,g=y)}if(e!==f&&(u[e]=[u[f],u[f]=u[e]][0],M._swapRows(e,f,o)),e<n)for(m=e+1;m<n;m++){var x=o[m][e];N(x,0)||(o[m][e]=S(o[m][e],g))}}for(e=0;e<i;e++)for(m=0;m<n;m++)0===e&&(m<i&&(l[m]=[]),a[m]=[]),m<e?(m<i&&(l[m][e]=o[m][e]),e<n&&(a[m][e]=0)):m!==e?(m<i&&(l[m][e]=0),e<n&&(a[m][e]=o[m][e])):(m<i&&(l[m][e]=o[m][e]),e<n&&(a[m][e]=1));var s=new M({data:a,size:s}),t=new M({data:l,size:t}),_=[];for(m=0,r=u.length;m<r;m++)_[u[m]]=m;return{L:s,U:t,p:_,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}}return i("lup",{DenseMatrix:o,SparseMatrix:function(t){var u,c,h,d=t._size[0],e=t._size[1],n=Math.min(d,e),f=t._values,p=t._index,g=t._ptr,m=[],y=[],v=[],x=[d,n],_=[],b=[],w=[],M=[n,e],A=[],I=[];for(u=0;u<d;u++)A[u]=u,I[u]=u;function i(){var r=new E;c<d&&(v.push(m.length),m.push(1),y.push(c)),w.push(_.length);var t=g[c],e=g[c+1];for(h=t;h<e;h++)u=p[h],r.set(A[u],f[h]);0<c&&r.forEach(0,c-1,function(n,i){k._forEachRow(n,m,y,v,function(t,e){n<t&&r.accumulate(t,L(T(e,i)))})});var n,i,o,a=c,s=r.get(c),l=C(s);r.forEach(c+1,d-1,function(t,e){var n=C(e);D(n,l)&&(a=t,l=n,s=e)}),c!==a&&(k._swapRows(c,a,x[1],m,y,v),k._swapRows(c,a,M[1],_,b,w),r.swap(c,a),i=a,o=I[n=c],t=I[i],A[o]=i,A[t]=n,I[n]=t,I[i]=o),r.forEach(0,d-1,function(t,e){t<=c?(_.push(e),b.push(t)):(e=S(e,s),N(e,0)||(m.push(e),y.push(t)))})}for(c=0;c<e;c++)i();return w.push(_.length),v.push(m.length),{L:new k({values:m,index:y,ptr:v,size:x}),U:new k({values:_,index:b,ptr:w,size:M}),p:A,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},Array:function(t){t=o(r(t));return{L:t.L.valueOf(),U:t.U.valueOf(),p:t.p}}})}},function(t,e,n){"use strict";e.name="csFlip",e.path="algebra.sparse",e.factory=function(){return function(t){return-t-2}}},function(t,e,n){"use strict";var n=n(30),p=n.string,g=n.array,m=Array.isArray;e.factory=function(d){var f=d.DenseMatrix;return function(t,e,n){t=t.size();if(2!==t.length)throw new RangeError("Matrix must be two dimensional (size: "+p.format(t)+")");var i,r,o,a=t[0];if(a!==t[1])throw new RangeError("Matrix must be square (size: "+p.format(t)+")");if(d.isMatrix(e)){var s=e.size();if(1===s.length){if(s[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(i=[],o=e._data,r=0;r<a;r++)i[r]=[o[r]];return new f({data:i,size:[a,1],datatype:e._datatype})}if(2!==s.length)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(s[0]!==a||1!==s[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(d.isDenseMatrix(e)){if(n){for(i=[],o=e._data,r=0;r<a;r++)i[r]=[o[r][0]];return new f({data:i,size:[a,1],datatype:e._datatype})}return e}for(i=[],r=0;r<a;r++)i[r]=[0];for(var l=e._values,u=e._index,s=e._ptr,c=s[1],h=s[0];h<c;h++)i[r=u[h]][0]=l[h];return new f({data:i,size:[a,1],datatype:e._datatype})}if(m(e)){s=g.size(e);if(1===s.length){if(s[0]!==a)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(i=[],r=0;r<a;r++)i[r]=[e[r]];return new f({data:i,size:[a,1]})}if(2!==s.length)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(s[0]!==a||1!==s[1])throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(i=[],r=0;r<a;r++)i[r]=[e[r][0]];return new f({data:i,size:[a,1]})}}}},function(t,e,a){"use strict";var s=a(0);e.name="log",e.factory=function(e,n,t,i){var r=t(a(12)),o=i("log",{number:function(t){return 0<=t||n.predictable?Math.log(t):new e.Complex(t,0).log()},Complex:function(t){return t.log()},BigNumber:function(t){return!t.isNegative()||n.predictable?t.ln():new e.Complex(t.toNumber(),0).log()},"Array | Matrix":function(t){return s(t,o)},"any, any":function(t,e){return r(o(t),o(e))}});return o.toTex={1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},o}},function(t,e,n){"use strict";var x=n(90);function _(t){for(var e=t.d,n=e[0]+"",i=1;i<e.length;++i){for(var r=e[i]+"",o=7-r.length;o--;)r="0"+r;n+=r}for(var a=n.length;"0"===n.charAt(a);)a--;var s=t.e,l=n.slice(0,a+1||1),t=l.length;if(0<s)if(++s>t)for(s-=t;s--;)l+="0";else s<t&&(l=l.slice(0,s)+"."+l.slice(s));for(var u=[0],c=0;c<l.length;){for(var h=u.length;h--;)u[h]*=10;u[0]+=parseInt(l.charAt(c++));for(var d=0;d<u.length;++d)1<u[d]&&(null!==u[d+1]&&void 0!==u[d+1]||(u[d+1]=0),u[d+1]+=u[d]>>1,u[d]&=1)}return u.reverse()}t.exports=function(t,e,n){var i,r,o=t.constructor,a=+(t.s<0),s=+(e.s<0);if(a)for(var l=_(x(t)),u=0;u<l.length;++u)l[u]^=1;else l=_(t);if(s)for(var c=_(x(e)),h=0;h<c.length;++h)c[h]^=1;else c=_(e);var d=l.length<=c.length?(i=l,r=c,a):(i=c,r=l,s),f=i.length,p=r.length,g=1^n(a,s),m=new o(1^g),y=new o(1),v=new o(2),s=o.precision;for(o.config({precision:1e9});0<f;)n(i[--f],r[--p])===g&&(m=m.plus(y)),y=y.times(v);for(;0<p;)n(d,r[--p])===g&&(m=m.plus(y)),y=y.times(v);return o.config({precision:s}),0==g&&(m.s=-m.s),m}},function(t,e,n){"use strict";t.exports=function(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,n=e.precision;e.config({precision:1e9});t=t.plus(new e(1));return t.s=-t.s||null,e.config({precision:n}),t}},function(t,e,i){"use strict";var L=i(8);e.name="algorithm08",e.factory=function(t,e,n,T){var D=n(i(11)),N=t.SparseMatrix;return function(t,e,n){var i=t._values,r=t._index,o=t._ptr,a=t._size,s=t._datatype,l=e._values,u=e._index,c=e._ptr,t=e._size,e=e._datatype;if(a.length!==t.length)throw new L(a.length,t.length);if(a[0]!==t[0]||a[1]!==t[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+t+")");if(!i||!l)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var t=a[0],h=a[1],d=D,f=0,p=n;"string"==typeof s&&s===e&&(d=T.find(D,[v=s,v]),f=T.convert(0,v),p=T.find(n,[v,v]));for(var g=[],m=[],y=[],v=new N({values:g,index:m,ptr:y,size:[t,h],datatype:v}),x=[],_=[],b=0;b<h;b++){y[b]=m.length;for(var w=b+1,M=o[b],A=o[b+1],I=M;I<A;I++)_[C=r[I]]=w,x[C]=i[I],m.push(C);for(M=c[b],A=c[b+1],I=M;I<A;I++)_[C=u[I]]===w&&(x[C]=p(x[C],l[I]));for(I=y[b];I<m.length;){var C,S=x[C=m[I]];d(S,f)?m.splice(I,1):(g.push(S),I++)}}return y[h]=m.length,v}}},function(t,e){t.exports=function t(e,n){return n<e?1:n===e?n:t(e,e=n+e>>1)*t(1+e,n)}},function(t,e,l){"use strict";var u=l(3).isInteger;e.name="partitionSelect",e.factory=function(i,t,e,n){var c=e(l(51)),h=e(l(77)),r=e(l(54));function o(t,e){return-r(t,e)}return n("partitionSelect",{"Array | Matrix, number":function(t,e){return a(t,e,r)},"Array | Matrix, number, string":function(t,e,n){if("asc"===n)return a(t,e,r);if("desc"===n)return a(t,e,o);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":a});function a(t,e,n){if(!u(e)||e<0)throw new Error("k must be a non-negative integer");if(i.isMatrix(t)){if(1<t.size().length)throw new Error("Only one dimensional matrices supported");return s(t.valueOf(),e,n)}if(Array.isArray(t))return s(t,e,n)}function s(t,e,n){if(e>=t.length)throw new Error("k out of bounds");for(var i=0;i<t.length;i++)if(c(t[i])&&h(t[i]))return t[i];for(var r=0,o=t.length-1;r<o;){for(var a,s=r,l=o,u=t[Math.floor(Math.random()*(o-r+1))+r];s<l;)0<=n(t[s],u)?(a=t[l],t[l]=t[s],t[s]=a,--l):++s;0<n(t[s],u)&&--s,e<=s?o=s:r=s+1}return t[e]}}},function(t,e,l){"use strict";var u=l(46),c=l(78),h=l(61);e.name="max",e.factory=function(t,e,n,i){var r=n(l(33)),o=n(l(37));return(i=i("max",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(t,e){return c(t,e.valueOf(),a)},"...":function(t){if(h(t))throw new TypeError("Scalar values expected in function max");return s(t)}})).toTex="\\max\\left(${args}\\right)",i;function a(t,e){try{return r(t,e)?t:e}catch(t){throw o(t,"max",e)}}function s(t){var n;if(u(t,function(e){try{isNaN(e)&&"number"==typeof e?n=NaN:void 0!==n&&!r(e,n)||(n=e)}catch(t){throw o(t,"max",e)}}),void 0===n)throw new Error("Cannot calculate max of an empty array");return n}}},function(t,e,s){"use strict";var l=s(46),u=s(78),c=s(61);e.name="sum",e.factory=function(e,i,t,n){var r=t(s(17)),o=t(s(37));return(n=n("sum",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){try{return u(t,e,r)}catch(t){throw o(t,"sum")}},"...":function(t){if(c(t))throw new TypeError("Scalar values expected in function sum");return a(t)}})).toTex=void 0,n;function a(t){var n;if(l(t,function(e){try{n=void 0===n?e:r(n,e)}catch(t){throw o(t,"sum",e)}}),void 0===n)switch(i.number){case"number":return 0;case"BigNumber":return new e.BigNumber(0);case"Fraction":return new e.Fraction(0);default:return 0}return n}}},function(t,e,o){"use strict";var c=o(56),h=o(47),m=o(3).isNumber;e.name="distribution",e.factory=function(f,t,e,i,n){var s=e(o(1)),p=o(2),g=e(o(293));function r(t){if(!l.hasOwnProperty(t))throw new Error("Unknown distribution "+t);var n,e=Array.prototype.slice.call(arguments,1),e=l[t].apply(this,e);return n=e,{random:function(t,e,n){var i,r;if(3<arguments.length)throw new c("random",arguments.length,0,3);if(1===arguments.length?h(t)?i=t:o=t:o=2===arguments.length?(h(t)?i=t:r=t,e):(i=t,r=e,n),void 0!==r&&!m(r)||void 0!==o&&!m(o))throw new TypeError("Invalid argument in function random");if(void 0===o&&(o=1),void 0===r&&(r=0),void 0===i)return a(r,o);var o=u(i.valueOf(),r,o,a);return f.isMatrix(i)?s(o):o},randomInt:i({"number | Array":function(t){if(h(t)){var e=t,n=u(e.valueOf(),0,1,o);return f.isMatrix(e)?s(n):n}return o(0,t)},"number | Array, number":function(t,e){if(h(t)){var n=t,i=e,i=u(n.valueOf(),0,i,o);return f.isMatrix(n)?s(i):i}return o(t,e)},"Array, number, number":function(t,e,n){n=u(t.valueOf(),e,n,o);return t&&!0===t.isMatrix?s(n):n}}),pickRandom:i({Array:function(t){return r(t)},"Array, number | Array":function(t,e){var n,i;if(Array.isArray(e))i=e;else{if(!m(e))throw new TypeError("Invalid argument in function pickRandom");n=e}return r(t,n,i)},"Array, number | Array, Array | number":function(t,e,n){var i,e=Array.isArray(e)?(i=e,n):(i=n,e);if(!Array.isArray(i)||!m(e))throw new TypeError("Invalid argument in function pickRandom");return r(t,e,i)}})};function r(t,e,n){var i=void 0===e;if(i&&(e=1),f.isMatrix(t))t=t.valueOf();else if(!Array.isArray(t))throw new TypeError("Unsupported type of value in function pickRandom");if(1<p.size(t).length)throw new Error("Only one dimensional vectors supported");var r=0;if(void 0!==n){if(n.length!==t.length)throw new Error("Weights must have the same length as possibles");for(var o=0,a=n.length;o<a;o++){if(!m(n[o])||n[o]<0)throw new Error("Weights must be an array of positive numbers");r+=n[o]}}var s=t.length;if(0===s)return[];if(s<=e)return 1<e?t:t[0];for(var l,u=[];u.length<e;){if(void 0===n)l=t[Math.floor(g()*s)];else for(var c=g()*r,h=0,d=t.length;h<d;h++)if((c-=n[h])<0){l=t[h];break}-1===u.indexOf(l)&&u.push(l)}return i?u[0]:u}function a(t,e){return t+n()*(e-t)}function o(t,e){return Math.floor(t+n()*(e-t))}function u(t,e,n,i){var r=[];if(1<(t=t.slice(0)).length)for(var o=0,a=t.shift();o<a;o++)r.push(u(t,e,n,i));else for(var s=0,l=t.shift();s<l;s++)r.push(i(e,n));return r}}var l={uniform:function(){return g},normal:function(){return function(){for(var t,e,n=-1;n<0||1<n;)t=g(),e=g(),n=1/6*Math.pow(-2*Math.log(t),.5)*Math.cos(2*Math.PI*e)+.5;return n}}};return r.toTex=void 0,r}},function(t,e,n){"use strict";e.factory=function(s,t,e,n){return function(t,e,n){var i=t.filter(function(t){return s.isSymbolNode(t)&&!(t.name in e)&&!(t.name in n)})[0];if(!i)throw new Error('No undefined variable found in inline expression "'+t+'"');var r=i.name,o=Object.create(n),a=t.compile();return function(t){return o[r]=t,a.eval(o)}}}},function(t,e,n){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=n(157),o=n(3).digits,a=n(79),s=n(62),l=function(){return l=r.create,r};e.create=function(n){n.isNumber=function(t){return"number"==typeof t},n.isComplex=function(t){return n.Complex&&t instanceof n.Complex||!1},n.isBigNumber=a,n.isFraction=function(t){return n.Fraction&&t instanceof n.Fraction||!1},n.isUnit=function(t){return t&&t.constructor.prototype.isUnit||!1},n.isString=function(t){return"string"==typeof t},n.isArray=Array.isArray,n.isMatrix=s,n.isDenseMatrix=function(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix||!1},n.isSparseMatrix=function(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix||!1},n.isRange=function(t){return t&&t.constructor.prototype.isRange||!1},n.isIndex=function(t){return t&&t.constructor.prototype.isIndex||!1},n.isBoolean=function(t){return"boolean"==typeof t},n.isResultSet=function(t){return t&&t.constructor.prototype.isResultSet||!1},n.isHelp=function(t){return t&&t.constructor.prototype.isHelp||!1},n.isFunction=function(t){return"function"==typeof t},n.isDate=function(t){return t instanceof Date},n.isRegExp=function(t){return t instanceof RegExp},n.isObject=function(t){return"object"===i(t)&&t.constructor===Object&&!n.isComplex(t)&&!n.isFraction(t)},n.isNull=function(t){return null===t},n.isUndefined=function(t){return void 0===t},n.isAccessorNode=function(t){return t&&t.isAccessorNode&&t.constructor.prototype.isNode||!1},n.isArrayNode=function(t){return t&&t.isArrayNode&&t.constructor.prototype.isNode||!1},n.isAssignmentNode=function(t){return t&&t.isAssignmentNode&&t.constructor.prototype.isNode||!1},n.isBlockNode=function(t){return t&&t.isBlockNode&&t.constructor.prototype.isNode||!1},n.isConditionalNode=function(t){return t&&t.isConditionalNode&&t.constructor.prototype.isNode||!1},n.isConstantNode=function(t){return t&&t.isConstantNode&&t.constructor.prototype.isNode||!1},n.isFunctionAssignmentNode=function(t){return t&&t.isFunctionAssignmentNode&&t.constructor.prototype.isNode||!1},n.isFunctionNode=function(t){return t&&t.isFunctionNode&&t.constructor.prototype.isNode||!1},n.isIndexNode=function(t){return t&&t.isIndexNode&&t.constructor.prototype.isNode||!1},n.isNode=function(t){return t&&t.isNode&&t.constructor.prototype.isNode||!1},n.isObjectNode=function(t){return t&&t.isObjectNode&&t.constructor.prototype.isNode||!1},n.isOperatorNode=function(t){return t&&t.isOperatorNode&&t.constructor.prototype.isNode||!1},n.isParenthesisNode=function(t){return t&&t.isParenthesisNode&&t.constructor.prototype.isNode||!1},n.isRangeNode=function(t){return t&&t.isRangeNode&&t.constructor.prototype.isNode||!1},n.isSymbolNode=function(t){return t&&t.isSymbolNode&&t.constructor.prototype.isNode||!1},n.isChain=function(t){return t&&t.constructor.prototype.isChain||!1};var t=l();return t.types=[{name:"number",test:n.isNumber},{name:"Complex",test:n.isComplex},{name:"BigNumber",test:n.isBigNumber},{name:"Fraction",test:n.isFraction},{name:"Unit",test:n.isUnit},{name:"string",test:n.isString},{name:"Array",test:n.isArray},{name:"Matrix",test:n.isMatrix},{name:"DenseMatrix",test:n.isDenseMatrix},{name:"SparseMatrix",test:n.isSparseMatrix},{name:"Range",test:n.isRange},{name:"Index",test:n.isIndex},{name:"boolean",test:n.isBoolean},{name:"ResultSet",test:n.isResultSet},{name:"Help",test:n.isHelp},{name:"function",test:n.isFunction},{name:"Date",test:n.isDate},{name:"RegExp",test:n.isRegExp},{name:"null",test:n.isNull},{name:"undefined",test:n.isUndefined},{name:"OperatorNode",test:n.isOperatorNode},{name:"ConstantNode",test:n.isConstantNode},{name:"SymbolNode",test:n.isSymbolNode},{name:"ParenthesisNode",test:n.isParenthesisNode},{name:"FunctionNode",test:n.isFunctionNode},{name:"FunctionAssignmentNode",test:n.isFunctionAssignmentNode},{name:"ArrayNode",test:n.isArrayNode},{name:"AssignmentNode",test:n.isAssignmentNode},{name:"BlockNode",test:n.isBlockNode},{name:"ConditionalNode",test:n.isConditionalNode},{name:"IndexNode",test:n.isIndexNode},{name:"RangeNode",test:n.isRangeNode},{name:"Node",test:n.isNode},{name:"Object",test:n.isObject}],t.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(15<o(t))throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new n.BigNumber(t)}},{from:"number",to:"Complex",convert:function(t){return new n.Complex(t,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(t){return new n.Complex(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(t){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return new n.Complex(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){if(new n.Fraction(t).valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return new n.Fraction(t)}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"string",to:"BigNumber",convert:function(e){try{return new n.BigNumber(e)}catch(t){throw new Error('Cannot convert "'+e+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(e){try{return new n.Fraction(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(e){try{return new n.Complex(e)}catch(t){throw new Error('Cannot convert "'+e+'" to Complex')}}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(t){return new n.BigNumber(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return new n.Fraction(+t)}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"Array",to:"Matrix",convert:function(t){return new n.DenseMatrix(t)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],t}},function(t,e,n){"use strict";var i=n(158);e.mixin=function(t){var e=new i;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}},function(t,e,n){"use strict";var o=n(0);e.name="bignumber",e.factory=function(e,t,n,i){var r=i("bignumber",{"":function(){return new e.BigNumber(0)},number:function(t){return new e.BigNumber(t+"")},string:function(t){return new e.BigNumber(t)},BigNumber:function(t){return t},Fraction:function(t){return new e.BigNumber(t.n).div(t.d).times(t.s)},null:function(t){return new e.BigNumber(0)},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={0:"0",1:"\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var i=n(3);e.name="Range",e.path="type",e.factory=function(a,t,e,n){function s(t,e,n){if(!(this instanceof s))throw new SyntaxError("Constructor must be called with the new operator");var i=null!=t,r=null!=e,o=null!=n;if(i)if(a.isBigNumber(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(r)if(a.isBigNumber(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter end must be a number");if(o)if(a.isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=i?parseFloat(t):0,this.end=r?parseFloat(e):0,this.step=o?parseFloat(n):1}return s.prototype.type="Range",s.prototype.isRange=!0,s.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":").map(function(t){return parseFloat(t)});if(e.some(function(t){return isNaN(t)}))return null;switch(e.length){case 2:return new s(e[0],e[1]);case 3:return new s(e[0],e[2],e[1]);default:return null}},s.prototype.clone=function(){return new s(this.start,this.end,this.step)},s.prototype.size=function(){var t=0,e=this.start,n=this.step,e=this.end-e;return i.sign(n)===i.sign(e)?t=Math.ceil(e/n):0==e&&(t=0),[t=isNaN(t)?0:t]},s.prototype.min=function(){var t=this.size()[0];if(0<t)return 0<this.step?this.start:this.start+(t-1)*this.step},s.prototype.max=function(){var t=this.size()[0];if(0<t)return 0<this.step?this.start+(t-1)*this.step:this.start},s.prototype.forEach=function(t){var e=this.start,n=this.step,i=this.end,r=0;if(0<n)for(;e<i;)t(e,[r],this),e+=n,r++;else if(n<0)for(;i<e;)t(e,[r],this),e+=n,r++},s.prototype.map=function(i){var r=[];return this.forEach(function(t,e,n){r[e[0]]=i(t,e,n)}),r},s.prototype.toArray=function(){var n=[];return this.forEach(function(t,e){n[e[0]]=t}),n},s.prototype.valueOf=function(){return this.toArray()},s.prototype.format=function(t){var e=i.format(this.start,t);return 1!==this.step&&(e+=":"+i.format(this.step,t)),e+=":"+i.format(this.end,t)},s.prototype.toString=function(){return this.format()},s.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},s.fromJSON=function(t){return new s(t.start,t.end,t.step)},s}},function(t,e,n){"use strict";e.name="ResultSet",e.path="type",e.factory=function(t,e,n,i){function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=t||[]}return r.prototype.type="ResultSet",r.prototype.isResultSet=!0,r.prototype.valueOf=function(){return this.entries},r.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},r.fromJSON=function(t){return new r(t.entries)},r}},function(t,e,n){"use strict";n=n(31).memoize;function i(t){return t[0].precision}e.e=n(function(t){return new t(1).exp()},i),e.phi=n(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},i),e.pi=n(function(t){return t.acos(-1)},i),e.tau=n(function(t){return e.pi(t).times(2)},i)},function(t,e,n){"use strict";var o=n(0);e.name="fix",e.factory=function(e,t,n,i){var r=i("fix",{number:function(t){return 0<t?Math.floor(t):Math.ceil(t)},Complex:function(t){return new e.Complex(0<t.re?Math.floor(t.re):Math.ceil(t.re),0<t.im?Math.floor(t.im):Math.ceil(t.im))},BigNumber:function(t){return t.isNegative()?t.ceil():t.floor()},Fraction:function(t){return t.s<0?t.ceil():t.floor()},"Array | Matrix":function(t){return o(t,r,!0)}});return r.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},r}},function(t,e,h){"use strict";var d=h(3).isInteger,f=h(3).toFixed,p=h(0),g="Number of decimals in function round must be an integer";e.name="round",e.factory=function(n,t,e,i){var r=e(h(1)),o=e(h(11)),a=e(h(42)),s=e(h(20)),l=e(h(19)),u=e(h(6)),c=i("round",{number:Math.round,"number, number":function(t,e){if(!d(e))throw new TypeError(g);if(e<0||15<e)throw new Error("Number of decimals in function round must be in te range of 0-15");return parseFloat(f(t,e))},Complex:function(t){return t.round()},"Complex, number":function(t,e){if(e%1)throw new TypeError(g);return t.round(e)},"Complex, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(g);e=e.toNumber();return t.round(e)},"number, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(g);return new n.BigNumber(t).toDecimalPlaces(e.toNumber())},BigNumber:function(t){return t.toDecimalPlaces(0)},"BigNumber, BigNumber":function(t,e){if(!e.isInteger())throw new TypeError(g);return t.toDecimalPlaces(e.toNumber())},Fraction:function(t){return t.round()},"Fraction, number":function(t,e){if(e%1)throw new TypeError(g);return t.round(e)},"Array | Matrix":function(t){return p(t,c,!0)},"SparseMatrix, number | BigNumber":function(t,e){return s(t,e,c,!1)},"DenseMatrix, number | BigNumber":function(t,e){return u(t,e,c,!1)},"number | Complex | BigNumber, SparseMatrix":function(t,e){return o(t,0)?a(e.size(),e.storage()):l(e,t,c,!0)},"number | Complex | BigNumber, DenseMatrix":function(t,e){return o(t,0)?a(e.size(),e.storage()):u(e,t,c,!0)},"Array, number | BigNumber":function(t,e){return u(r(t),e,c,!1).valueOf()},"number | Complex | BigNumber, Array":function(t,e){return u(r(e),t,c,!0).valueOf()}});return c.toTex={1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},c}},function(t,e,n){"use strict";var r=n(9);e.name="format",e.factory=function(t,e,n,i){return(i=i("format",{any:r.format,"any, Object | function | number":r.format})).toTex=void 0,i}},function(t,e,l){"use strict";var u=l(13).getSafeProperty;e.name="AccessorNode",e.path="expression.node",e.factory=function(n,t,e,i){var r=e(l(16)),a=e(l(109));function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!n.isNode(t))throw new TypeError('Node expected for parameter "object"');if(!n.isIndexNode(e))throw new TypeError('IndexNode expected for parameter "index"');this.object=t||null,this.index=e,Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function s(t){return!(n.isAccessorNode(t)||n.isArrayNode(t)||n.isConstantNode(t)||n.isFunctionNode(t)||n.isObjectNode(t)||n.isParenthesisNode(t)||n.isSymbolNode(t))}return(o.prototype=new r).type="AccessorNode",o.prototype.isAccessorNode=!0,o.prototype._compile=function(t,e){var i=this.object._compile(t,e),r=this.index._compile(t,e);if(this.index.isObjectProperty()){var o=this.index.getObjectProperty();return function(t,e,n){return u(i(t,e,n),o)}}return function(t,e,n){n=i(t,e,n),e=r(t,e,n);return a(n,e)}},o.prototype.forEach=function(t){t(this.object,"object",this),t(this.index,"index",this)},o.prototype.map=function(t){return new o(this._ifNode(t(this.object,"object",this)),this._ifNode(t(this.index,"index",this)))},o.prototype.clone=function(){return new o(this.object,this.index)},o.prototype._toString=function(t){var e=this.object.toString(t);return(e=s(this.object)?"("+e+")":e)+this.index.toString(t)},o.prototype.toHTML=function(t){var e=this.object.toHTML(t);return(e=s(this.object)?'<span class="math-parenthesis math-round-parenthesis">(</span>'+e+'<span class="math-parenthesis math-round-parenthesis">)</span>':e)+this.index.toHTML(t)},o.prototype._toTex=function(t){var e=this.object.toTex(t);return(e=s(this.object)?"\\left(' + object + '\\right)":e)+this.index.toTex(t)},o.prototype.toJSON=function(){return{mathjs:"AccessorNode",object:this.object,index:this.index}},o.fromJSON=function(t){return new o(t.object,t.index)},o}},function(t,e,n){"use strict";t.exports={end:!0}},function(t,e,o){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=o(35).transform,l=o(13).getSafeProperty;e.factory=function(t,e,n,i){var r=n(o(22));return function(t,e){try{if(Array.isArray(t))return r(t,e);if(t&&"function"==typeof t.subset)return t.subset(e);if("string"==typeof t)return r(t,e);if("object"!==a(t))throw new TypeError("Cannot apply index: unsupported type of object");if(!e.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return l(t,e.getObjectProperty())}catch(t){throw s(t)}}}},function(t,e,o){"use strict";var a=o(2).map;e.name="ArrayNode",e.path="expression.node",e.factory=function(e,t,n,i){function r(t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.items=t||[],!Array.isArray(this.items)||!this.items.every(e.isNode))throw new TypeError("Array containing Nodes expected");t=function(){throw new Error("Property `ArrayNode.nodes` is deprecated, use `ArrayNode.items` instead")};Object.defineProperty(this,"nodes",{get:t,set:t})}return n=n(o(16)),(r.prototype=new n).type="ArrayNode",r.prototype.isArrayNode=!0,r.prototype._compile=function(e,n){var t=a(this.items,function(t){return t._compile(e,n)});if("Array"===e.config().matrix)return function(e,n,i){return a(t,function(t){return t(e,n,i)})};var r=e.matrix;return function(e,n,i){return r(a(t,function(t){return t(e,n,i)}))}},r.prototype.forEach=function(t){for(var e=0;e<this.items.length;e++)t(this.items[e],"items["+e+"]",this)},r.prototype.map=function(t){for(var e=[],n=0;n<this.items.length;n++)e[n]=this._ifNode(t(this.items[n],"items["+n+"]",this));return new r(e)},r.prototype.clone=function(){return new r(this.items.slice(0))},r.prototype._toString=function(e){return"["+this.items.map(function(t){return t.toString(e)}).join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"ArrayNode",items:this.items}},r.fromJSON=function(t){return new r(t.items)},r.prototype.toHTML=function(e){return'<span class="math-parenthesis math-square-parenthesis">[</span>'+this.items.map(function(t){return t.toHTML(e)}).join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},r.prototype._toTex=function(e){var n="\\begin{bmatrix}";return this.items.forEach(function(t){t.items?n+=t.items.map(function(t){return t.toTex(e)}).join("&"):n+=t.toTex(e),n+="\\\\"}),n+="\\end{bmatrix}"},r}},function(t,e,l){"use strict";var p=l(13).getSafeProperty,g=l(13).setSafeProperty;e.name="AssignmentNode",e.path="expression.node",e.factory=function(i,t,e,n){var r=e(l(16)),d=e(l(198)),f=e(l(109)),o=l(52);function a(t,e,n){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.object=t,this.index=n?e:null,this.value=n||e,!i.isSymbolNode(t)&&!i.isAccessorNode(t))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(i.isSymbolNode(t)&&"end"===t.name)throw new Error('Cannot assign to symbol "end"');if(this.index&&!i.isIndexNode(this.index))throw new TypeError('IndexNode expected as "index"');if(!i.isNode(this.value))throw new TypeError('Node expected as "value"');Object.defineProperty(this,"name",{get:function(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}.bind(this),set:function(){throw new Error("Cannot assign a new name, name is read-only")}})}function s(t,e){var n=o.getPrecedence(t,e=e||"keep"),t=o.getPrecedence(t.value,e);return"all"===e||null!==t&&t<=n}return(a.prototype=new r).type="AssignmentNode",a.prototype.isAssignmentNode=!0,a.prototype._compile=function(t,e){var r=this.object._compile(t,e),s=this.index?this.index._compile(t,e):null,l=this.value._compile(t,e),o=this.object.name;if(this.index){if(this.index.isObjectProperty()){var a=this.index.getObjectProperty();return function(t,e,n){var i=r(t,e,n),n=l(t,e,n);return g(i,a,n)}}if(i.isSymbolNode(this.object))return function(t,e,n){var i=r(t,e,n),n=l(t,e,n),e=s(t,e,i);return g(t,o,d(i,e,n)),n};var u=this.object.object._compile(t,e);if(this.object.index.isObjectProperty()){var c=this.object.index.getObjectProperty();return function(t,e,n){var i=u(t,e,n),r=p(i,c),o=s(t,e,r),n=l(t,e,n);return g(i,c,d(r,o,n)),n}}var h=this.object.index._compile(t,e);return function(t,e,n){var i=u(t,e,n),r=h(t,e,i),o=f(i,r),a=s(t,e,o),n=l(t,e,n);return d(i,r,d(o,a,n)),n}}if(!i.isSymbolNode(this.object))throw new TypeError("SymbolNode expected as object");return function(t,e,n){return g(t,o,l(t,e,n))}},a.prototype.forEach=function(t){t(this.object,"object",this),this.index&&t(this.index,"index",this),t(this.value,"value",this)},a.prototype.map=function(t){return new a(this._ifNode(t(this.object,"object",this)),this.index?this._ifNode(t(this.index,"index",this)):null,this._ifNode(t(this.value,"value",this)))},a.prototype.clone=function(){return new a(this.object,this.index,this.value)},a.prototype._toString=function(t){var e=this.object.toString(t),n=this.index?this.index.toString(t):"",i=this.value.toString(t);return e+n+" = "+(i=s(this,t&&t.parenthesis)?"("+i+")":i)},a.prototype.toJSON=function(){return{mathjs:"AssignmentNode",object:this.object,index:this.index,value:this.value}},a.fromJSON=function(t){return new a(t.object,t.index,t.value)},a.prototype.toHTML=function(t){var e=this.object.toHTML(t),n=this.index?this.index.toHTML(t):"",i=this.value.toHTML(t);return e+n+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+(i=s(this,t&&t.parenthesis)?'<span class="math-paranthesis math-round-parenthesis">(</span>'+i+'<span class="math-paranthesis math-round-parenthesis">)</span>':i)},a.prototype._toTex=function(t){var e=this.object.toTex(t),n=this.index?this.index.toTex(t):"",i=this.value.toTex(t);return e+n+":="+(i=s(this,t&&t.parenthesis)?"\\left(".concat(i,"\\right)"):i)},a}},function(t,e,s){"use strict";var l=s(2).forEach,u=s(2).map;e.name="BlockNode",e.path="expression.node",e.factory=function(n,t,e,i){var r=e(s(16)),a=e(s(102));function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new Error("Array expected");this.blocks=t.map(function(t){var e=t&&t.node,t=!t||void 0===t.visible||t.visible;if(!n.isNode(e))throw new TypeError('Property "node" must be a Node');if("boolean"!=typeof t)throw new TypeError('Property "visible" must be a boolean');return{node:e,visible:t}})}return(o.prototype=new r).type="BlockNode",o.prototype.isBlockNode=!0,o.prototype._compile=function(e,n){var t=u(this.blocks,function(t){return{eval:t.node._compile(e,n),visible:t.visible}});return function(n,i,r){var o=[];return l(t,function(t){var e=t.eval(n,i,r);t.visible&&o.push(e)}),new a(o)}},o.prototype.forEach=function(t){for(var e=0;e<this.blocks.length;e++)t(this.blocks[e].node,"blocks["+e+"].node",this)},o.prototype.map=function(t){for(var e=[],n=0;n<this.blocks.length;n++){var i=this.blocks[n],r=this._ifNode(t(i.node,"blocks["+n+"].node",this));e[n]={node:r,visible:i.visible}}return new o(e)},o.prototype.clone=function(){return new o(this.blocks.map(function(t){return{node:t.node,visible:t.visible}}))},o.prototype._toString=function(e){return this.blocks.map(function(t){return t.node.toString(e)+(t.visible?"":";")}).join("\n")},o.prototype.toJSON=function(){return{mathjs:"BlockNode",blocks:this.blocks}},o.fromJSON=function(t){return new o(t.blocks)},o.prototype.toHTML=function(e){return this.blocks.map(function(t){return t.node.toHTML(e)+(t.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')},o.prototype._toTex=function(e){return this.blocks.map(function(t){return t.node.toTex(e)+(t.visible?"":";")}).join("\\;\\;\n")},o}},function(t,e,o){"use strict";var l=o(52);e.name="ConditionalNode",e.path="expression.node",e.factory=function(a,t,e,n){var i=e(o(16)),s=e(o(24));function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!a.isNode(t))throw new TypeError("Parameter condition must be a Node");if(!a.isNode(e))throw new TypeError("Parameter trueExpr must be a Node");if(!a.isNode(n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=t,this.trueExpr=e,this.falseExpr=n}return(r.prototype=new i).type="ConditionalNode",r.prototype.isConditionalNode=!0,r.prototype._compile=function(t,e){var i=this.condition._compile(t,e),r=this.trueExpr._compile(t,e),o=this.falseExpr._compile(t,e);return function(t,e,n){return(function(t){if("number"==typeof t||"boolean"==typeof t||"string"==typeof t)return!!t;if(t){if(a.isBigNumber(t))return!t.isZero();if(a.isComplex(t))return!(!t.re&&!t.im);if(a.isUnit(t))return!!t.value}if(null!=t)throw new TypeError('Unsupported type of condition "'+s(t)+'"');return!1}(i(t,e,n))?r:o)(t,e,n)}},r.prototype.forEach=function(t){t(this.condition,"condition",this),t(this.trueExpr,"trueExpr",this),t(this.falseExpr,"falseExpr",this)},r.prototype.map=function(t){return new r(this._ifNode(t(this.condition,"condition",this)),this._ifNode(t(this.trueExpr,"trueExpr",this)),this._ifNode(t(this.falseExpr,"falseExpr",this)))},r.prototype.clone=function(){return new r(this.condition,this.trueExpr,this.falseExpr)},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=l.getPrecedence(this,e),i=this.condition.toString(t),r=l.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==r&&r<=n)&&(i="("+i+")");var o=this.trueExpr.toString(t),r=l.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==r&&r<=n)&&(o="("+o+")");r=this.falseExpr.toString(t),t=l.getPrecedence(this.falseExpr,e);return i+" ? "+o+" : "+(r="all"===e||"OperatorNode"===this.falseExpr.type||null!==t&&t<=n?"("+r+")":r)},r.prototype.toJSON=function(){return{mathjs:"ConditionalNode",condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}},r.fromJSON=function(t){return new r(t.condition,t.trueExpr,t.falseExpr)},r.prototype.toHTML=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",n=l.getPrecedence(this,e),i=this.condition.toHTML(t),r=l.getPrecedence(this.condition,e);("all"===e||"OperatorNode"===this.condition.type||null!==r&&r<=n)&&(i='<span class="math-parenthesis math-round-parenthesis">(</span>'+i+'<span class="math-parenthesis math-round-parenthesis">)</span>');var o=this.trueExpr.toHTML(t),r=l.getPrecedence(this.trueExpr,e);("all"===e||"OperatorNode"===this.trueExpr.type||null!==r&&r<=n)&&(o='<span class="math-parenthesis math-round-parenthesis">(</span>'+o+'<span class="math-parenthesis math-round-parenthesis">)</span>');r=this.falseExpr.toHTML(t),t=l.getPrecedence(this.falseExpr,e);return i+'<span class="math-operator math-conditional-operator">?</span>'+o+'<span class="math-operator math-conditional-operator">:</span>'+(r="all"===e||"OperatorNode"===this.falseExpr.type||null!==t&&t<=n?'<span class="math-parenthesis math-round-parenthesis">(</span>'+r+'<span class="math-parenthesis math-round-parenthesis">)</span>':r)},r.prototype._toTex=function(t){return"\\begin{cases} {"+this.trueExpr.toTex(t)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(t)+"}\\\\{"+this.falseExpr.toTex(t)+"}, &\\quad{\\text{otherwise}}\\end{cases}"},r}},function(t,e,n){"use strict";var a=n(108),s=n(9).escape,h=n(2).forEach,d=n(2).join,l=n(4),u=n(52),f=n(13).setSafeProperty;e.name="FunctionAssignmentNode",e.path="expression.node",e.factory=function(i,t,e,c){function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof t)throw new TypeError('String expected for parameter "name"');if(!Array.isArray(e))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!i.isNode(n))throw new TypeError('Node expected for parameter "expr"');if(t in a)throw new Error('Illegal function name, "'+t+'" is a reserved keyword');this.name=t,this.params=e.map(function(t){return t&&t.name||t}),this.types=e.map(function(t){return t&&t.type||"any"}),this.expr=n}function o(t,e){var n=u.getPrecedence(t,e),t=u.getPrecedence(t.expr,e);return"all"===e||null!==t&&t<=n}return e=e(n(16)),(r.prototype=new e).type="FunctionAssignmentNode",r.prototype.isFunctionAssignmentNode=!0,r.prototype._compile=function(t,e){var n=Object.create(e);h(this.params,function(t){n[t]=!0});var o=this.expr._compile(t,n),a=this.name,s=this.params,l=d(this.types,","),u=a+"("+d(this.params,", ")+")";return function(n,i,r){var t={};t[l]=function(){for(var t=Object.create(i),e=0;e<s.length;e++)t[s[e]]=arguments[e];return o(n,t,r)};t=c(a,t);return t.syntax=u,f(n,a,t),t}},r.prototype.forEach=function(t){t(this.expr,"expr",this)},r.prototype.map=function(t){t=this._ifNode(t(this.expr,"expr",this));return new r(this.name,this.params.slice(0),t)},r.prototype.clone=function(){return new r(this.name,this.params.slice(0),this.expr)},r.prototype._toString=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",t=this.expr.toString(t);return o(this,e)&&(t="("+t+")"),this.name+"("+this.params.join(", ")+") = "+t},r.prototype.toJSON=function(){var n=this.types;return{mathjs:"FunctionAssignmentNode",name:this.name,params:this.params.map(function(t,e){return{name:t,type:n[e]}}),expr:this.expr}},r.fromJSON=function(t){return new r(t.name,t.params,t.expr)},r.prototype.toHTML=function(t){for(var e=t&&t.parenthesis?t.parenthesis:"keep",n=[],i=0;i<this.params.length;i++)n.push('<span class="math-symbol math-parameter">'+s(this.params[i])+"</span>");t=this.expr.toHTML(t);return o(this,e)&&(t='<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+s(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+t},r.prototype._toTex=function(t){var e=t&&t.parenthesis?t.parenthesis:"keep",t=this.expr.toTex(t);return o(this,e)&&(t="\\left(".concat(t,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(l.toSymbol).join(",")+"\\right):="+t},r}},function(t,e,s){"use strict";var l=s(2).map,u=s(9).escape;e.name="IndexNode",e.path="expression.node",e.factory=function(f,t,e,n){var i=e(s(16)),r=e(s(101)),o=Array.isArray;function a(t,e){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");if(this.dimensions=t,this.dotNotation=e||!1,!o(t)||!t.every(f.isNode))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties");t=function(){throw new Error("Property `IndexNode.object` is deprecated, use `IndexNode.fn` instead")};Object.defineProperty(this,"object",{get:t,set:t})}function p(t,e,n){return new r(f.isBigNumber(t)?t.toNumber():t,f.isBigNumber(e)?e.toNumber():e,f.isBigNumber(n)?n.toNumber():n)}return(a.prototype=new i).type="IndexNode",a.prototype.isIndexNode=!0,a.prototype._compile=function(d,n){var r=l(this.dimensions,function(t,r){if(f.isRangeNode(t)){if(t.needsEnd()){var e=Object.create(n);e.end=!0;var o=t.start._compile(d,e),a=t.end._compile(d,e),s=t.step?t.step._compile(d,e):function(){return 1};return function(t,e,n){var i=d.size(n).valueOf(),e=Object.create(e);return e.end=i[r],p(o(t,e,n),a(t,e,n),s(t,e,n))}}var i=t.start._compile(d,n),l=t.end._compile(d,n),u=t.step?t.step._compile(d,n):function(){return 1};return function(t,e,n){return p(i(t,e,n),l(t,e,n),u(t,e,n))}}if(f.isSymbolNode(t)&&"end"===t.name){e=Object.create(n);e.end=!0;var c=t._compile(d,e);return function(t,e,n){var i=d.size(n).valueOf(),e=Object.create(e);return e.end=i[r],c(t,e,n)}}var h=t._compile(d,n);return function(t,e,n){return h(t,e,n)}});return function(e,n,i){var t=l(r,function(t){return t(e,n,i)});return d.index.apply(d,t)}},a.prototype.forEach=function(t){for(var e=0;e<this.dimensions.length;e++)t(this.dimensions[e],"dimensions["+e+"]",this)},a.prototype.map=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this._ifNode(t(this.dimensions[n],"dimensions["+n+"]",this));return new a(e)},a.prototype.clone=function(){return new a(this.dimensions.slice(0))},a.prototype.isObjectProperty=function(){return 1===this.dimensions.length&&f.isConstantNode(this.dimensions[0])&&"string"==typeof this.dimensions[0].value},a.prototype.getObjectProperty=function(){return this.isObjectProperty()?this.dimensions[0].value:null},a.prototype._toString=function(t){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"},a.prototype.toJSON=function(){return{mathjs:"IndexNode",dimensions:this.dimensions,dotNotation:this.dotNotation}},a.fromJSON=function(t){return new a(t.dimensions,t.dotNotation)},a.prototype.toHTML=function(t){for(var e=[],n=0;n<this.dimensions.length;n++)e[n]=this.dimensions[n].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+u(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+e.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'},a.prototype._toTex=function(e){var t=this.dimensions.map(function(t){return t.toTex(e)});return this.dotNotation?"."+this.getObjectProperty():"_{"+t.join(",")+"}"},a}},function(t,e,o){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var s=o(9).stringify,l=o(9).escape,u=o(13).isSafeProperty,c=o(5).hasOwnProperty;e.name="ObjectNode",e.path="expression.node",e.factory=function(n,t,e,i){function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.properties=e||{},e&&("object"!==a(e)||!Object.keys(e).every(function(t){return n.isNode(e[t])})))throw new TypeError("Object containing Nodes expected")}return e=e(o(16)),(r.prototype=new e).type="ObjectNode",r.prototype.isObjectNode=!0,r.prototype._compile=function(t,e){var n,o={};for(n in this.properties)if(c(this.properties,n)){var i=s(n),i=JSON.parse(i);if(!u(this.properties,i))throw new Error('No access to property "'+i+'"');o[i]=this.properties[n]._compile(t,e)}return function(t,e,n){var i,r={};for(i in o)c(o,i)&&(r[i]=o[i](t,e,n));return r}},r.prototype.forEach=function(t){for(var e in this.properties)this.properties.hasOwnProperty(e)&&t(this.properties[e],"properties["+s(e)+"]",this)},r.prototype.map=function(t){var e,n={};for(e in this.properties)this.properties.hasOwnProperty(e)&&(n[e]=this._ifNode(t(this.properties[e],"properties["+s(e)+"]",this)));return new r(n)},r.prototype.clone=function(){var t,e={};for(t in this.properties)this.properties.hasOwnProperty(t)&&(e[t]=this.properties[t]);return new r(e)},r.prototype._toString=function(t){var e,n=[];for(e in this.properties)this.properties.hasOwnProperty(e)&&n.push(s(e)+": "+this.properties[e].toString(t));return"{"+n.join(", ")+"}"},r.prototype.toJSON=function(){return{mathjs:"ObjectNode",properties:this.properties}},r.fromJSON=function(t){return new r(t.properties)},r.prototype.toHTML=function(t){var e,n=[];for(e in this.properties)this.properties.hasOwnProperty(e)&&n.push('<span class="math-symbol math-property">'+l(e)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[e].toHTML(t));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+n.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'},r.prototype._toTex=function(t){var e,n=[];for(e in this.properties)this.properties.hasOwnProperty(e)&&n.push("\\mathbf{"+e+":} & "+this.properties[e].toTex(t)+"\\\\");return"\\left\\{\\begin{array}{ll}".concat(n.join("\n"),"\\end{array}\\right\\}")},r}},function(t,e,a){"use strict";var s=a(52);e.name="RangeNode",e.path="expression.node",e.factory=function(i,t,e,n){function r(t,e,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!i.isNode(t))throw new TypeError("Node expected");if(!i.isNode(e))throw new TypeError("Node expected");if(n&&!i.isNode(n))throw new TypeError("Node expected");if(3<arguments.length)throw new Error("Too many arguments");this.start=t,this.end=e,this.step=n||null}function o(t,e){var n=s.getPrecedence(t,e),i={},r=s.getPrecedence(t.start,e);i.start=null!==r&&r<=n||"all"===e,t.step&&(r=s.getPrecedence(t.step,e),i.step=null!==r&&r<=n||"all"===e);t=s.getPrecedence(t.end,e);return i.end=null!==t&&t<=n||"all"===e,i}return e=e(a(16)),(r.prototype=new e).type="RangeNode",r.prototype.isRangeNode=!0,r.prototype.needsEnd=function(){return 0<this.filter(function(t){return i.isSymbolNode(t)&&"end"===t.name}).length},r.prototype._compile=function(t,e){var i=t.range,r=this.start._compile(t,e),o=this.end._compile(t,e);if(this.step){var a=this.step._compile(t,e);return function(t,e,n){return i(r(t,e,n),o(t,e,n),a(t,e,n))}}return function(t,e,n){return i(r(t,e,n),o(t,e,n))}},r.prototype.forEach=function(t){t(this.start,"start",this),t(this.end,"end",this),this.step&&t(this.step,"step",this)},r.prototype.map=function(t){return new r(this._ifNode(t(this.start,"start",this)),this._ifNode(t(this.end,"end",this)),this.step&&this._ifNode(t(this.step,"step",this)))},r.prototype.clone=function(){return new r(this.start,this.end,this.step&&this.step)},r.prototype._toString=function(t){var e=o(this,t&&t.parenthesis?t.parenthesis:"keep"),n=this.start.toString(t),i=n=e.start?"("+n+")":n;this.step&&(n=this.step.toString(t),i+=":"+(n=e.step?"("+n+")":n));t=this.end.toString(t);return i+=":"+(t=e.end?"("+t+")":t)},r.prototype.toJSON=function(){return{mathjs:"RangeNode",start:this.start,end:this.end,step:this.step}},r.fromJSON=function(t){return new r(t.start,t.end,t.step)},r.prototype.toHTML=function(t){var e=o(this,t&&t.parenthesis?t.parenthesis:"keep"),n=this.start.toHTML(t),i=n=e.start?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>':n;this.step&&(n=this.step.toHTML(t),i+='<span class="math-operator math-range-operator">:</span>'+(n=e.step?'<span class="math-parenthesis math-round-parenthesis">(</span>'+n+'<span class="math-parenthesis math-round-parenthesis">)</span>':n));t=this.end.toHTML(t);return i+='<span class="math-operator math-range-operator">:</span>'+(t=e.end?'<span class="math-parenthesis math-round-parenthesis">(</span>'+t+'<span class="math-parenthesis math-round-parenthesis">)</span>':t)},r.prototype._toTex=function(t){var e,n=o(this,t&&t.parenthesis?t.parenthesis:"keep"),i=this.start.toTex(t);n.start&&(i="\\left(".concat(i,"\\right)")),this.step&&(e=this.step.toTex(t),i+=":"+(e=n.step?"\\left(".concat(e,"\\right)"):e));t=this.end.toTex(t);return i+=":"+(t=n.end?"\\left(".concat(t,"\\right)"):t)},r}},function(t,e,o){"use strict";var s=o(52),a=o(4),l=o(9).escape;e.name="RelationalNode",e.path="expression.node",e.factory=function(t,e,n,i){var n=n(o(16)),u=o(13).getSafeProperty;function r(t,e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(t))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(e))throw new TypeError("Parameter params must be an array");if(t.length!==e.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=t,this.params=e}return(r.prototype=new n).type="RelationalNode",r.prototype.isRelationalNode=!0,r.prototype._compile=function(a,e){var s=this,l=this.params.map(function(t){return t._compile(a,e)});return function(t,e,n){for(var i=l[0](t,e,n),r=0;r<s.conditionals.length;r++){var o=i,i=l[r+1](t,e,n);if(!u(a,s.conditionals[r])(o,i))return!1}return!0}},r.prototype.forEach=function(n){var i=this;this.params.forEach(function(t,e){return n(t,"params["+e+"]",i)},this)},r.prototype.map=function(n){var i=this;return new r(this.conditionals.slice(),this.params.map(function(t,e){return i._ifNode(n(t,"params["+e+"]",i))},this))},r.prototype.clone=function(){return new r(this.conditionals,this.params)},r.prototype._toString=function(i){for(var r=i&&i.parenthesis?i.parenthesis:"keep",o=s.getPrecedence(this,r),t=this.params.map(function(t,e){var n=s.getPrecedence(t,r);return"all"===r||null!==n&&n<=o?"("+t.toString(i)+")":t.toString(i)}),e={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},n=t[0],a=0;a<this.conditionals.length;a++)n+=" "+e[this.conditionals[a]]+" "+t[a+1];return n},r.prototype.toJSON=function(){return{mathjs:"RelationalNode",conditionals:this.conditionals,params:this.params}},r.fromJSON=function(t){return new r(t.conditionals,t.params)},r.prototype.toHTML=function(i){for(var r=i&&i.parenthesis?i.parenthesis:"keep",o=s.getPrecedence(this,r),t=this.params.map(function(t,e){var n=s.getPrecedence(t,r);return"all"===r||null!==n&&n<=o?'<span class="math-parenthesis math-round-parenthesis">(</span>'+t.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':t.toHTML(i)}),e={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="},n=t[0],a=0;a<this.conditionals.length;a++)n+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+l(e[this.conditionals[a]])+"</span>"+t[a+1];return n},r.prototype._toTex=function(i){for(var r=i&&i.parenthesis?i.parenthesis:"keep",o=s.getPrecedence(this,r),t=this.params.map(function(t,e){var n=s.getPrecedence(t,r);return"all"===r||null!==n&&n<=o?"\\left("+t.toString(i)+"\right)":t.toString(i)}),e=t[0],n=0;n<this.conditionals.length;n++)e+=a.operators[this.conditionals[n]]+t[n+1];return e},r}},function(t,e,s){"use strict";e.math=!0,e.name="simplifyConstant",e.path="algebra.simplify",e.factory=function(c,n,t,e,h){var d=(t=t(s(120))).isCommutative,f=t.isAssociative,p=t.allChildren,g=t.createMakeNodeFunction,i=h.expression.node.ConstantNode,r=h.expression.node.OperatorNode,m=h.expression.node.FunctionNode;function y(e,n,i){try{return x(h[e].apply(null,n),i)}catch(t){return n=n.map(function(t){return c.isFraction(t)?t.valueOf():t}),x(h[e].apply(null,n),i)}}var v=e({Fraction:function(t){var e=t.s*t.n;e=e<0?new r("-","unaryMinus",[new i(-e)]):new i(e);return 1!==t.d?new r("/","divide",[e,new i(t.d)]):e},number:function(t){return t<0?a(new i(-t)):new i(t)},BigNumber:function(t){return t<0?a(new i(-t)):new i(t)},Complex:function(t){throw new Error("Cannot convert Complex number to Node")}});function o(t,e){if(e&&!1!==e.exactFractions&&isFinite(t)){e=h.fraction(t);if(e.valueOf()===t)return e}return t}var x=e({"string, Object":function(t,e){return"BigNumber"===n.number?h.bignumber(t):"Fraction"===n.number?h.fraction(t):o(parseFloat(t),e)},"Fraction, Object":function(t,e){return t},"BigNumber, Object":function(t,e){return t},"number, Object":o,"Complex, Object":function(t,e){return 0!==t.im?t:o(t.re,e)}});function a(t){return new r("-","unaryMinus",[t])}function _(n,t,i,r){return t.reduce(function(t,e){if(c.isNode(t)||c.isNode(e))c.isNode(t)?c.isNode(e)||(e=v(e)):t=v(t);else{try{return y(n,[t,e],r)}catch(t){}t=v(t),e=v(e)}return i([t,e])})}return function(t,e){return e=function e(t,n){switch(t.type){case"SymbolNode":return t;case"ConstantNode":return"number"!=typeof t.value&&isNaN(t.value)?t:x(t.value,n);case"FunctionNode":if(h[t.name]&&h[t.name].rawArgs)return t;var i=["add","multiply"];if(-1===i.indexOf(t.name)){var r=t.args.map(function(t){return e(t,n)});if(!r.some(c.isNode))try{return y(t.name,r,n)}catch(t){}return r=r.map(function(t){return c.isNode(t)?t:v(t)}),new m(t.name,r)}case"OperatorNode":var o,a,i=t.fn.toString(),r=g(t);if(t.isUnary())o=[e(t.args[0],n)],a=c.isNode(o[0])?r(o):y(i,o,n);else if(f(t))if(o=(o=p(t)).map(function(t){return e(t,n)}),d(i)){for(var s=[],l=[],u=0;u<o.length;u++)(c.isNode(o[u])?l:s).push(o[u]);a=1<s.length?(a=_(i,s,r,n),l.unshift(a),_(i,l,r,n)):_(i,o,r,n)}else a=_(i,o,r,n);else o=t.args.map(function(t){return e(t,n)}),a=_(i,o,r,n);return a;case"ParenthesisNode":return e(t.content,n);default:throw new Error("Unimplemented node type in simplifyConstant: ".concat(t.type))}}(t,e),c.isNode(e)?e:v(e)}}},function(t,e,n){"use strict";e.factory=function(a,t,e,n,i){var r=i.expression.node.FunctionNode,o=i.expression.node.OperatorNode,s=i.expression.node.SymbolNode,l={add:!0,multiply:!0},u={add:!0,multiply:!0};function c(t,e){if(!a.isOperatorNode(t))return!1;t=t.fn.toString();return e&&e.hasOwnProperty(t)&&e[t].hasOwnProperty("associative")?e[t].associative:u[t]||!1}function h(t){function i(t){for(var e=0;e<t.args.length;e++){var n=t.args[e];a.isOperatorNode(n)&&r===n.op?i(n):o.push(n)}}var r,o=[];return c(t)?(r=t.op,i(t),o):t.args}function d(e){return a.isOperatorNode(e)?function(t){try{return new o(e.op,e.fn,t,e.implicit)}catch(t){return console.error(t),[]}}:function(t){return new r(new s(e.name),t)}}return{createMakeNodeFunction:d,isCommutative:function(t,e){return!a.isOperatorNode(t)||(t=t.fn.toString(),e&&e.hasOwnProperty(t)&&e[t].hasOwnProperty("commutative")?e[t].commutative:l[t]||!1)},isAssociative:c,flatten:function t(e){if(!e.args||0===e.args.length)return e;e.args=h(e);for(var n=0;n<e.args.length;n++)t(e.args[n])},allChildren:h,unflattenr:function t(e){if(e.args&&0!==e.args.length){for(var n=d(e),i=e.args.length,r=0;r<i;r++)t(e.args[r]);if(2<i&&c(e)){for(var o=e.args.pop();0<e.args.length;)o=n([e.args.pop(),o]);e.args=o.args}}},unflattenl:function t(e){if(e.args&&0!==e.args.length){for(var n=d(e),i=e.args.length,r=0;r<i;r++)t(e.args[r]);if(2<i&&c(e)){for(var o=e.args.shift();0<e.args.length;)o=n([o,e.args.shift()]);e.args=o.args}}}}},e.math=!0},function(t,e,r){"use strict";e.math=!0,e.name="simplifyCore",e.path="algebra.simplify",e.factory=function(s,t,e,n,i){var l=e(r(50)),u=e(r(59)),c=e(r(14)),h=e(r(15)),d=e(r(10)),f=e(r(44)),p=e(r(41)),g=i.expression.node.ConstantNode,m=i.expression.node.OperatorNode,y=i.expression.node.FunctionNode,v=i.expression.node.ParenthesisNode,x=new g(0),_=new g(1);return function t(e){if(s.isOperatorNode(e)&&e.isUnary()){var n=t(e.args[0]);if("+"===e.op)return n;if("-"===e.op){if(s.isOperatorNode(n)){if(n.isUnary()&&"-"===n.op)return n.args[0];if(n.isBinary()&&"subtract"===n.fn)return new m("-","subtract",[n.args[1],n.args[0]])}return new m(e.op,e.fn,[n])}}else if(s.isOperatorNode(e)&&e.isBinary()){var i=t(e.args[0]),r=t(e.args[1]);if("+"===e.op){if(s.isConstantNode(i)){if(u(i.value))return r;if(s.isConstantNode(r))return new g(c(i.value,r.value))}return s.isConstantNode(r)&&u(r.value)?i:s.isOperatorNode(r)&&r.isUnary()&&"-"===r.op?new m("-","subtract",[i,r.args[0]]):new m(e.op,e.fn,r?[i,r]:[i])}if("-"===e.op){if(s.isConstantNode(i)&&r){if(s.isConstantNode(r))return new g(h(i.value,r.value));if(u(i.value))return new m("-","unaryMinus",[r])}if("subtract"===e.fn)return s.isConstantNode(r)&&u(r.value)?i:s.isOperatorNode(r)&&r.isUnary()&&"-"===r.op?t(new m("+","add",[i,r.args[0]])):new m(e.op,e.fn,[i,r])}else{if("*"===e.op){if(s.isConstantNode(i)){if(u(i.value))return x;if(l(i.value,1))return r;if(s.isConstantNode(r))return new g(d(i.value,r.value))}if(s.isConstantNode(r)){if(u(r.value))return x;if(l(r.value,1))return i;if(s.isOperatorNode(i)&&i.isBinary()&&i.op===e.op&&(n=i.args[0],s.isConstantNode(n))){var o=new g(d(n.value,r.value));return new m(e.op,e.fn,[o,i.args[1]],e.implicit)}return new m(e.op,e.fn,[r,i],e.implicit)}return new m(e.op,e.fn,[i,r],e.implicit)}if("/"===e.op){if(s.isConstantNode(i)){if(u(i.value))return x;if(s.isConstantNode(r)&&(l(r.value,1)||l(r.value,2)||l(r.value,4)))return new g(f(i.value,r.value))}return new m(e.op,e.fn,[i,r])}if("^"===e.op){if(s.isConstantNode(r)){if(u(r.value))return _;if(l(r.value,1))return i;if(s.isConstantNode(i))return new g(p(i.value,r.value));if(s.isOperatorNode(i)&&i.isBinary()&&"^"===i.op&&(o=i.args[1],s.isConstantNode(o)))return new m(e.op,e.fn,[i.args[0],new g(d(o.value,r.value))])}return new m(e.op,e.fn,[i,r])}}}else{if(s.isParenthesisNode(e)){var a=t(e.content);return s.isParenthesisNode(a)||s.isSymbolNode(a)||s.isConstantNode(a)?a:new v(a)}if(s.isFunctionNode(e))return a=e.args.map(t).map(function(t){return s.isParenthesisNode(t)?t.content:t}),new y(t(e.fn),a)}return e}}},function(t,e,i){"use strict";var n=i(30),p=n.object,a=n.string;e.name="det",e.factory=function(r,t,e,n){var o=e(i(1)),c=e(i(15)),h=e(i(10)),d=e(i(34)),f=e(i(85));return(n=n("det",{any:function(t){return p.clone(t)},"Array | Matrix":function(t){var e=r.isMatrix(t)?t.size():Array.isArray(t)?(t=o(t)).size():[];switch(e.length){case 0:return p.clone(t);case 1:if(1===e[0])return p.clone(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");case 2:var n=e[0],i=e[1];if(n===i)return function(t,e){{if(1===e)return p.clone(t[0][0]);if(2===e)return c(h(t[0][0],t[1][1]),h(t[1][0],t[0][1]));for(var n=f(t),i=n.U[0][0],r=1;r<e;r++)i=h(i,n.U[r][r]);for(var o=0,a=0,s=[];;){for(;s[a];)a++;if(e<=a)break;for(var l=a,u=0;!s[n.p[l]];)s[n.p[l]]=!0,l=n.p[l],u++;u%2==0&&o++}return o%2==0?i:d(i)}}(t.clone().valueOf(),n);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(e)+")")}}})).toTex={1:"\\det\\left(${args[0]}\\right)"},n}},function(t,e,r){"use strict";e.name="parse",e.factory=function(t,e,n,i){return n=n(r(43)),i("parse",{"string | Array | Matrix":n,"string | Array | Matrix, Object":n})}},function(t,e,d){"use strict";var f=d(3).nearlyEqual,p=d(38);e.name="unequal",e.factory=function(t,n,e,i){var r=e(d(1)),o=e(d(18)),a=e(d(27)),s=e(d(19)),l=e(d(7)),u=e(d(6)),e=d(4),c=i("unequal",{"any, any":function(t,e){return null===t?null!==e:null===e?null!==t:void 0===t?void 0!==e:void 0===e?void 0!==t:h(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,h)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,h,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,h,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,h)},"Array, Array":function(t,e){return c(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return c(r(t),e)},"Matrix, Array":function(t,e){return c(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,h,!1)},"DenseMatrix, any":function(t,e){return u(t,e,h,!1)},"any, SparseMatrix":function(t,e){return s(e,t,h,!0)},"any, DenseMatrix":function(t,e){return u(e,t,h,!0)},"Array, any":function(t,e){return u(r(t),e,h,!1).valueOf()},"any, Array":function(t,e){return u(r(e),t,h,!0).valueOf()}}),h=i("_unequal",{"boolean, boolean":function(t,e){return t!==e},"number, number":function(t,e){return!f(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return!p(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return!t.equals(e)},"Complex, Complex":function(t,e){return!t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return c(t.value,e.value)}});return c.toTex={2:"\\left(${args[0]}".concat(e.operators.unequal,"${args[1]}\\right)")},c}},function(t,e,n){"use strict";var o=n(3),a=n(0);e.name="sign",e.factory=function(e,t,n,i){var r=i("sign",{number:o.sign,Complex:function(t){return t.sign()},BigNumber:function(t){return new e.BigNumber(t.cmp(0))},Fraction:function(t){return new e.Fraction(t.s,1)},"Array | Matrix":function(t){return a(t,r,!0)},Unit:function(t){return r(t.value)}});return r.toTex={1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},r}},function(t,e,a){"use strict";var s=a(30).number.isInteger;e.name="slu",e.factory=function(t,e,n,i){var r=n(a(202)),o=n(a(210));return i("slu",{"SparseMatrix, number, number":function(t,e,n){if(!s(e)||e<0||3<e)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(n<0||1<n)throw new Error("Partial pivoting threshold must be a number from 0 to 1");e=r(e,t,!1),n=o(t,e,n);return{L:n.L,U:n.U,p:n.pinv,q:e.q,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\np: "+this.p.toString()+(this.q?"\nq: "+this.q.toString():"")+"\n"}}}})}},function(t,e,n){"use strict";e.name="csTdfs",e.path="algebra.sparse",e.factory=function(){return function(t,e,n,i,r,o,a){var s=0;for(n[a]=t;0<=s;){var l=n[a+s],u=n[i+l];-1===u?(s--,o[e++]=l):(n[i+l]=n[r+u],n[a+ ++s]=u)}return e}}},function(t,e,h){"use strict";var d=h(3).nearlyEqual,f=h(38);e.name="largerEq",e.factory=function(t,n,e,i){var r=e(h(1)),o=e(h(18)),a=e(h(27)),s=e(h(19)),l=e(h(7)),u=e(h(6)),e=h(4),c=i("largerEq",{"boolean, boolean":function(t,e){return e<=t},"number, number":function(t,e){return e<=t||d(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gte(e)||f(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return-1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return c(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,c)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,c,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,c,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,c)},"Array, Array":function(t,e){return c(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return c(r(t),e)},"Matrix, Array":function(t,e){return c(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,c,!1)},"DenseMatrix, any":function(t,e){return u(t,e,c,!1)},"any, SparseMatrix":function(t,e){return s(e,t,c,!0)},"any, DenseMatrix":function(t,e){return u(e,t,c,!0)},"Array, any":function(t,e){return u(r(t),e,c,!1).valueOf()},"any, Array":function(t,e){return u(r(e),t,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}".concat(e.operators.largerEq,"${args[1]}\\right)")},c}},function(t,e,n){"use strict";e.name="csMarked",e.path="algebra.sparse",e.factory=function(){return function(t,e){return t[e]<0}}},function(t,e,r){"use strict";e.name="csMark",e.path="algebra.sparse",e.factory=function(t,e,n){var i=n(r(86));return function(t,e){t[e]=i(t[e])}}},function(t,e,a){"use strict";e.name="lsolve",e.factory=function(t,e,n,i){var r=n(a(1)),y=n(a(12)),v=n(a(21)),x=n(a(15)),_=n(a(11)),b=n(a(87)),w=t.DenseMatrix;function o(t,e){for(var n=(e=b(t,e,!0))._data,i=t._size[0],r=t._size[1],o=[],a=t._data,s=0;s<r;s++){var l=n[s][0]||0,u=void 0;if(_(l,0))u=0;else{var c=a[s][s];if(_(c,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var u=y(l,c),h=s+1;h<i;h++)n[h]=[x(n[h][0]||0,v(u,a[h][s]))]}o[s]=[u]}return new w({data:o,size:[i,1]})}return i("lsolve",{"SparseMatrix, Array | Matrix":function(t,e){for(var n,i,r=(e=b(t,e,!0))._data,e=t._size[0],o=t._size[1],a=t._values,s=t._index,l=t._ptr,u=[],c=0;c<o;c++){var h=r[c][0]||0;if(_(h,0))u[c]=[0];else{var d=0,f=[],p=[],g=l[c+1];for(i=l[c];i<g;i++)(n=s[i])===c?d=a[i]:c<n&&(f.push(a[i]),p.push(n));if(_(d,0))throw new Error("Linear system cannot be solved since matrix is singular");var m=y(h,d);for(i=0,g=p.length;i<g;i++)n=p[i],r[n]=[x(r[n][0]||0,v(m,f[i]))];u[c]=[m]}}return new w({data:u,size:[e,1]})},"DenseMatrix, Array | Matrix":o,"Array, Array | Matrix":function(t,e){return o(r(t),e).valueOf()}})}},function(t,e,a){"use strict";e.name="usolve",e.factory=function(t,e,n,i){var r=n(a(1)),v=n(a(12)),x=n(a(21)),_=n(a(15)),b=n(a(11)),w=n(a(87)),M=t.DenseMatrix;function o(t,e){for(var n=(e=w(t,e,!0))._data,i=t._size[0],e=t._size[1],r=[],o=t._data,a=e-1;0<=a;a--){var s=n[a][0]||0,l=void 0;if(b(s,0))l=0;else{var u=o[a][a];if(b(u,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var l=v(s,u),c=a-1;0<=c;c--)n[c]=[_(n[c][0]||0,x(l,o[c][a]))]}r[a]=[l]}return new M({data:r,size:[i,1]})}return i("usolve",{"SparseMatrix, Array | Matrix":function(t,e){for(var n,i,r=(e=w(t,e,!0))._data,o=t._size[0],e=t._size[1],a=t._values,s=t._index,l=t._ptr,u=[],c=e-1;0<=c;c--){var h=r[c][0]||0;if(b(h,0))u[c]=[0];else{var d=0,f=[],p=[],g=l[c],m=l[c+1];for(i=m-1;g<=i;i--)(n=s[i])===c?d=a[i]:n<c&&(f.push(a[i]),p.push(n));if(b(d,0))throw new Error("Linear system cannot be solved since matrix is singular");var y=v(h,d);for(i=0,m=p.length;i<m;i++)n=p[i],r[n]=[_(r[n][0],x(y,f[i]))];u[c]=[y]}}return new M({data:u,size:[o,1]})},"DenseMatrix, Array | Matrix":o,"Array, Array | Matrix":function(t,e){return o(r(t),e).valueOf()}})}},function(t,e,g){"use strict";e.name="dotDivide",e.factory=function(t,e,n,i){var r=n(g(1)),o=n(g(12)),a=g(4),s=n(g(25)),l=n(g(18)),u=n(g(27)),c=n(g(20)),h=n(g(19)),d=n(g(7)),f=n(g(6)),p=i("dotDivide",{"any, any":o,"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,o,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,o,!0)},"DenseMatrix, SparseMatrix":function(t,e){return l(t,e,o,!1)},"DenseMatrix, DenseMatrix":function(t,e){return d(t,e,o)},"Array, Array":function(t,e){return p(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return p(r(t),e)},"Matrix, Array":function(t,e){return p(t,r(e))},"SparseMatrix, any":function(t,e){return c(t,e,o,!1)},"DenseMatrix, any":function(t,e){return f(t,e,o,!1)},"any, SparseMatrix":function(t,e){return h(e,t,o,!0)},"any, DenseMatrix":function(t,e){return f(e,t,o,!0)},"Array, any":function(t,e){return f(r(t),e,o,!1).valueOf()},"any, Array":function(t,e){return f(r(e),t,o,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}".concat(a.operators.dotDivide,"${args[1]}\\right)")},p}},function(t,e,i){"use strict";var L=i(8);e.name="algorithm09",e.factory=function(t,e,n,T){var D=n(i(11)),N=t.SparseMatrix;return function(t,e,n){var i=t._values,r=t._index,o=t._ptr,a=t._size,s=t._datatype,l=e._values,u=e._index,c=e._ptr,t=e._size,e=e._datatype;if(a.length!==t.length)throw new L(a.length,t.length);if(a[0]!==t[0]||a[1]!==t[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+t+")");var t=a[0],h=a[1],d=D,f=0,p=n;"string"==typeof s&&s===e&&(d=T.find(D,[b=s,b]),f=T.convert(0,b),p=T.find(n,[b,b]));for(var g,m,y,v=i&&l?[]:void 0,x=[],_=[],b=new N({values:v,index:x,ptr:_,size:[t,h],datatype:b}),w=v?[]:void 0,M=[],A=0;A<h;A++){_[A]=x.length;var I=A+1;if(w)for(m=c[A],y=c[A+1],g=m;g<y;g++)M[S=u[g]]=I,w[S]=l[g];for(m=o[A],y=o[A+1],g=m;g<y;g++){var C,S=r[g];w?(C=M[S]===I?w[S]:f,d(C=p(i[g],C),f)||(x.push(S),v.push(C))):x.push(S)}}return _[h]=x.length,b}}},function(t,e,r){"use strict";e.name="stirlingS2",e.factory=function(t,e,n,i){var l=n(r(14)),u=n(r(15)),c=n(r(10)),h=n(r(44)),d=n(r(41)),f=n(r(74)),p=n(r(75)),g=n(r(60)),m=n(r(36)),y=n(r(33));return(i=i("stirlingS2",{"number | BigNumber, number | BigNumber":function(t,e){if(!m(t)||g(t)||!m(e)||g(e))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(y(e,t))throw new TypeError("k must be less than or equal to n in function stirlingS2");for(var n=f(e),i=0,r=0;r<=e;r++)var o=d(-1,u(e,r)),a=p(e,r),s=d(r,t),i=l(i,c(c(a,s),o));return h(i,n)}})).toTex={2:"\\mathrm{S}\\left(${args}\\right)"},i}},function(t,e,n){"use strict";var i=n(0),d=n(3).isInteger;var f=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];e.name="gamma",e.factory=function(l,r,t,e){var u=t(n(10)),c=t(n(41)),s=n(92),h=e("gamma",{number:function(t){if(d(t))return t<=0?isFinite(t)?1/0:NaN:171<t?1/0:s(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*h(1-t));if(171.35<=t)return 1/0;if(85<t){var e=t*t,n=e*t,i=n*t,r=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*e)-139/(51840*n)-571/(2488320*i)+163879/(209018880*r)+5246819/(75246796800*r*t))}--t;for(var o=f[0],a=1;a<f.length;++a)o+=f[a]/(t+a);return r=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(r,t+.5)*Math.exp(-r)*o},Complex:function(t){if(0===t.im)return h(t.re);t=new l.Complex(t.re-1,t.im);for(var e=new l.Complex(f[0],0),n=1;n<f.length;++n){var i=t.re+n,r=i*i+t.im*t.im;0!=r?(e.re+=f[n]*i/r,e.im+=-(f[n]*t.im)/r):e.re=f[n]<0?-1/0:1/0}var o=new l.Complex(t.re+4.7421875+.5,t.im),a=Math.sqrt(2*Math.PI);t.re+=.5;var s=c(o,t);0===s.im?s.re*=a:(0===s.re||(s.re*=a),s.im*=a);a=Math.exp(-o.re);return o.re=a*Math.cos(-o.im),o.im=a*Math.sin(-o.im),u(u(s,o),e)},BigNumber:function(t){if(t.isInteger())return t.isNegative()||t.isZero()?new l.BigNumber(1/0):function(t){if(t.isZero())return new l.BigNumber(1);var e=r.precision+(0|Math.log(t.toNumber())),n=new(l.BigNumber.clone({precision:e}))(t),i=t.toNumber()-1;for(;1<i;)n=n.times(i),i--;return new l.BigNumber(n.toPrecision(l.BigNumber.precision))}(t.minus(1));if(!t.isFinite())return new l.BigNumber(t.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(t){return i(t,h)}});return h.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},h}},function(t,e,a){"use strict";var s=a(0);e.name="not",e.factory=function(t,e,n,i){var r=a(4),o=i("not",{number:function(t){return!t},Complex:function(t){return 0===t.re&&0===t.im},BigNumber:function(t){return t.isZero()||t.isNaN()},Unit:function(t){return null===t.value||o(t.value)},"Array | Matrix":function(t){return s(t,o)}});return o.toTex={1:r.operators.not+"\\left(${args[0]}\\right)"},o}},function(t,e,n){"use strict";var i=n(31).maxArgumentCount;function r(e,r){var o=i(r);return function n(t,i){return Array.isArray(t)?t.map(function(t,e){return n(t,i.concat(e))}):1===o?r(t):2===o?r(t,i):r(t,i,e)}(e,[])}e.name="map",e.factory=function(t,e,n,i){return(i=i("map",{"Array, function":r,"Matrix, function":function(t,e){return t.map(e)}})).toTex=void 0,i}},function(t,e,f){"use strict";e.name="range",e.factory=function(i,r,t,e){var n=t(f(1)),o=new i.BigNumber(0),a=new i.BigNumber(1);return(e=e("range",{string:l,"string, boolean":l,"number, number":function(t,e){return s(u(t,e,1))},"number, number, number":function(t,e,n){return s(u(t,e,n))},"number, number, boolean":function(t,e,n){return s((n?c:u)(t,e,1))},"number, number, number, boolean":function(t,e,n,i){return s((i?c:u)(t,e,n))},"BigNumber, BigNumber":function(t,e){return s(h(t,e,a))},"BigNumber, BigNumber, BigNumber":function(t,e,n){return s(h(t,e,n))},"BigNumber, BigNumber, boolean":function(t,e,n){return s((n?d:h)(t,e,a))},"BigNumber, BigNumber, BigNumber, boolean":function(t,e,n,i){return s((i?d:h)(t,e,n))}})).toTex=void 0,e;function s(t){return"Array"===r.matrix?t:n(t)}function l(t,e){var n=function(t){var e=t.split(":").map(function(t){return Number(t)});if(e.some(function(t){return isNaN(t)}))return null;switch(e.length){case 2:return{start:e[0],end:e[1],step:1};case 3:return{start:e[0],end:e[2],step:e[1]};default:return null}}(t);if(!n)throw new SyntaxError('String "'+t+'" is no valid range');return"BigNumber"===r.number?s((e?d:h)(new i.BigNumber(n.start),new i.BigNumber(n.end),new i.BigNumber(n.step))):s((e?c:u)(n.start,n.end,n.step))}function u(t,e,n){var i=[],r=t;if(0<n)for(;r<e;)i.push(r),r+=n;else if(n<0)for(;e<r;)i.push(r),r+=n;return i}function c(t,e,n){var i=[],r=t;if(0<n)for(;r<=e;)i.push(r),r+=n;else if(n<0)for(;e<=r;)i.push(r),r+=n;return i}function h(t,e,n){var i=[],r=t;if(n.gt(o))for(;r.lt(e);)i.push(r),r=r.plus(n);else if(n.lt(o))for(;r.gt(e);)i.push(r),r=r.plus(n);return i}function d(t,e,n){var i=[],r=t;if(n.gt(o))for(;r.lte(e);)i.push(r),r=r.plus(n);else if(n.lt(o))for(;r.gte(e);)i.push(r),r=r.plus(n);return i}}},function(t,e,c){"use strict";e.name="compareText",e.factory=function(n,t,e,i){var r=e(c(1)),o=e(c(24)),a=e(c(7)),s=e(c(6)),l=i("compareText",{"any, any":u,"DenseMatrix, DenseMatrix":function(t,e){return a(t,e,u)},"Array, Array":function(t,e){return l(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return l(r(t),e)},"Matrix, Array":function(t,e){return l(t,r(e))},"DenseMatrix, any":function(t,e){return s(t,e,u,!1)},"any, DenseMatrix":function(t,e){return s(e,t,u,!0)},"Array, any":function(t,e){return s(r(t),e,u,!1).valueOf()},"any, Array":function(t,e){return s(r(e),t,u,!0).valueOf()}});function u(t,e){if(!n.isString(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+o(t)+", index: 0)");if(!n.isString(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+o(e)+", index: 1)");return t===e?0:e<t?1:-1}return l.toTex=void 0,l}},function(t,e,r){"use strict";var f=r(2).flatten,p=r(2).identify,g=r(2).generalize;e.name="setDifference",e.factory=function(t,e,n,i){var l=n(r(28)),u=n(r(48)),c=n(r(26)),h=n(r(22)),d=n(r(29));return i("setDifference",{"Array | Matrix, Array | Matrix":function(t,e){if(0===h(c(t),new l(0)))r=[];else{if(0===h(c(e),new l(0)))return f(t.toArray());for(var n=p(f(Array.isArray(t)?t:t.toArray()).sort(d)),i=p(f(Array.isArray(e)?e:e.toArray()).sort(d)),r=[],o=0;o<n.length;o++){for(var a=!1,s=0;s<i.length;s++)if(0===d(n[o].value,i[s].value)&&n[o].identifier===i[s].identifier){a=!0;break}a||r.push(n[o])}}return Array.isArray(t)&&Array.isArray(e)?g(r):new u(g(r))}})}},function(t,e,r){"use strict";var d=r(2).flatten,f=r(2).identify,p=r(2).generalize;e.name="setIntersect",e.factory=function(t,e,n,i){var s=n(r(28)),l=n(r(48)),u=n(r(26)),c=n(r(22)),h=n(r(29));return i("setIntersect",{"Array | Matrix, Array | Matrix":function(t,e){if(0===c(u(t),new s(0))||0===c(u(e),new s(0)))r=[];else for(var n=f(d(Array.isArray(t)?t:t.toArray()).sort(h)),i=f(d(Array.isArray(e)?e:e.toArray()).sort(h)),r=[],o=0;o<n.length;o++)for(var a=0;a<i.length;a++)if(0===h(n[o].value,i[a].value)&&n[o].identifier===i[a].identifier){r.push(n[o]);break}return Array.isArray(t)&&Array.isArray(e)?p(r):new l(p(r))}})}},function(t,e,u){"use strict";var c=u(2).flatten;e.name="setSymDifference",e.factory=function(t,e,n,i){var r=n(u(28)),o=n(u(76)),a=n(u(26)),s=n(u(22)),l=n(u(141));return i("setSymDifference",{"Array | Matrix, Array | Matrix":function(t,e){if(0===s(a(t),new r(0)))return c(e);if(0===s(a(e),new r(0)))return c(t);t=c(t),e=c(e);return o(l(t,e),l(e,t))}})}},function(t,e,d){"use strict";var f=d(2).flatten,p=d(61);e.name="median",e.factory=function(t,e,n,i){var r=n(d(17)),o=n(d(12)),s=n(d(54)),l=n(d(93)),u=n(d(37)),n=i("median",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("median(A, dim) is not yet supported")},"...":function(t){if(p(t))throw new TypeError("Scalar values expected in function median");return a(t)}});function a(t){try{var e=(t=f(t.valueOf())).length;if(0===e)throw new Error("Cannot calculate median of an empty array");if(e%2==0){for(var n=e/2-1,i=l(t,1+n),r=t[n],o=0;o<n;++o)0<s(t[o],r)&&(r=t[o]);return h(r,i)}var a=l(t,(e-1)/2);return c(a)}catch(t){throw u(t,"median")}}var c=i({"number | BigNumber | Complex | Unit":function(t){return t}}),h=i({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(t,e){return o(r(t,e),2)}});return n.toTex=void 0,n}},function(t,e,l){"use strict";var u=l(2).size,c=l(46),h=l(78),d=l(61);e.name="mean",e.factory=function(t,e,n,i){var r=n(l(14)),o=n(l(44)),a=n(l(37));return(i=i("mean",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(t,e){try{var n=h(t,e,r),i=Array.isArray(t)?u(t):t.size();return o(n,i[e])}catch(t){throw a(t,"mean")}},"...":function(t){if(d(t))throw new TypeError("Scalar values expected in function mean");return s(t)}})).toTex=void 0,i;function s(t){var n=0,i=0;if(c(t,function(e){try{n=r(n,e),i++}catch(t){throw a(t,"mean",e)}}),0===i)throw new Error("Cannot calculate mean of an empty array");return o(n,i)}}},function(t,e,l){"use strict";var u=l(46),c=l(78),h=l(61);e.name="min",e.factory=function(t,e,n,i){var r=n(l(40)),o=n(l(37));return(i=i("min",{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(t,e){return c(t,e.valueOf(),a)},"...":function(t){if(h(t))throw new TypeError("Scalar values expected in function min");return s(t)}})).toTex="\\min\\left(${args}\\right)",i;function a(t,e){try{return r(t,e)?t:e}catch(t){throw o(t,"min",e)}}function s(t){var n;if(u(t,function(e){try{isNaN(e)&&"number"==typeof e?n=NaN:void 0!==n&&!r(e,n)||(n=e)}catch(t){throw o(t,"min",e)}}),void 0===n)throw new Error("Cannot calculate min of an empty array");return n}}},function(t,e,r){"use strict";var f=r(46);e.name="var",e.factory=function(a,t,e,n){var s=e(r(17)),l=e(r(15)),u=e(r(21)),c=e(r(12)),h=e(r(77)),d=e(r(37));return(n=n("variance",{"Array | Matrix":function(t){return i(t,"unbiased")},"Array | Matrix, string":i,"...":function(t){return i(t,"unbiased")}})).toTex="\\mathrm{Var}\\left(${args}\\right)",n;function i(t,e){var n=0,i=0;if(0===t.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(f(t,function(e){try{n=s(n,e),i++}catch(t){throw d(t,"var",e)}}),0===i)throw new Error("Cannot calculate var of an empty array");var r=c(n,i),n=0;if(f(t,function(t){t=l(t,r);n=s(n,u(t,t))}),h(n))return n;switch(e){case"uncorrected":return c(n,i);case"biased":return c(n,i+1);case"unbiased":var o=a.isBigNumber(n)?new a.BigNumber(0):0;return 1===i?o:c(n,i-1);default:throw new Error('Unknown normalization "'+e+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}}},function(t,e,o){e.name="docs",e.path="expression",e.factory=function(t,e,n,i){var r={};return r.bignumber=o(353),r.boolean=o(354),r.complex=o(355),r.createUnit=o(356),r.fraction=o(357),r.index=o(358),r.matrix=o(359),r.number=o(360),r.sparse=o(361),r.splitUnit=o(362),r.string=o(363),r.unit=o(364),r.e=o(149),r.E=o(149),r.false=o(365),r.i=o(366),r[1/0]=o(367),r.LN2=o(368),r.LN10=o(369),r.LOG2E=o(370),r.LOG10E=o(371),r.NaN=o(372),r.null=o(373),r.pi=o(150),r.PI=o(150),r.phi=o(374),r.SQRT1_2=o(375),r.SQRT2=o(376),r.tau=o(377),r.true=o(378),r.version=o(379),r.speedOfLight={description:"Speed of light in vacuum",examples:["speedOfLight"]},r.gravitationConstant={description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},r.planckConstant={description:"Planck constant",examples:["planckConstant"]},r.reducedPlanckConstant={description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},r.magneticConstant={description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},r.electricConstant={description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},r.vacuumImpedance={description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},r.coulomb={description:"Coulomb's constant",examples:["coulomb"]},r.elementaryCharge={description:"Elementary charge",examples:["elementaryCharge"]},r.bohrMagneton={description:"Borh magneton",examples:["bohrMagneton"]},r.conductanceQuantum={description:"Conductance quantum",examples:["conductanceQuantum"]},r.inverseConductanceQuantum={description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},r.magneticFluxQuantum={description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},r.nuclearMagneton={description:"Nuclear magneton",examples:["nuclearMagneton"]},r.klitzing={description:"Von Klitzing constant",examples:["klitzing"]},r.bohrRadius={description:"Borh radius",examples:["bohrRadius"]},r.classicalElectronRadius={description:"Classical electron radius",examples:["classicalElectronRadius"]},r.electronMass={description:"Electron mass",examples:["electronMass"]},r.fermiCoupling={description:"Fermi coupling constant",examples:["fermiCoupling"]},r.fineStructure={description:"Fine-structure constant",examples:["fineStructure"]},r.hartreeEnergy={description:"Hartree energy",examples:["hartreeEnergy"]},r.protonMass={description:"Proton mass",examples:["protonMass"]},r.deuteronMass={description:"Deuteron Mass",examples:["deuteronMass"]},r.neutronMass={description:"Neutron mass",examples:["neutronMass"]},r.quantumOfCirculation={description:"Quantum of circulation",examples:["quantumOfCirculation"]},r.rydberg={description:"Rydberg constant",examples:["rydberg"]},r.thomsonCrossSection={description:"Thomson cross section",examples:["thomsonCrossSection"]},r.weakMixingAngle={description:"Weak mixing angle",examples:["weakMixingAngle"]},r.efimovFactor={description:"Efimov factor",examples:["efimovFactor"]},r.atomicMass={description:"Atomic mass constant",examples:["atomicMass"]},r.avogadro={description:"Avogadro's number",examples:["avogadro"]},r.boltzmann={description:"Boltzmann constant",examples:["boltzmann"]},r.faraday={description:"Faraday constant",examples:["faraday"]},r.firstRadiation={description:"First radiation constant",examples:["firstRadiation"]},r.loschmidt={description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},r.gasConstant={description:"Gas constant",examples:["gasConstant"]},r.molarPlanckConstant={description:"Molar Planck constant",examples:["molarPlanckConstant"]},r.molarVolume={description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},r.sackurTetrode={description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},r.secondRadiation={description:"Second radiation constant",examples:["secondRadiation"]},r.stefanBoltzmann={description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},r.wienDisplacement={description:"Wien displacement law constant",examples:["wienDisplacement"]},r.molarMass={description:"Molar mass constant",examples:["molarMass"]},r.molarMassC12={description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},r.gravity={description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},r.planckLength={description:"Planck length",examples:["planckLength"]},r.planckMass={description:"Planck mass",examples:["planckMass"]},r.planckTime={description:"Planck time",examples:["planckTime"]},r.planckCharge={description:"Planck charge",examples:["planckCharge"]},r.planckTemperature={description:"Planck temperature",examples:["planckTemperature"]},r.derivative=o(380),r.lsolve=o(381),r.lup=o(382),r.lusolve=o(383),r.simplify=o(384),r.rationalize=o(385),r.slu=o(386),r.usolve=o(387),r.qr=o(388),r.abs=o(389),r.add=o(390),r.cbrt=o(391),r.ceil=o(392),r.cube=o(393),r.divide=o(394),r.dotDivide=o(395),r.dotMultiply=o(396),r.dotPow=o(397),r.exp=o(398),r.expm=o(399),r.expm1=o(400),r.fix=o(401),r.floor=o(402),r.gcd=o(403),r.hypot=o(404),r.lcm=o(405),r.log=o(406),r.log2=o(407),r.log1p=o(408),r.log10=o(409),r.mod=o(410),r.multiply=o(411),r.norm=o(412),r.nthRoot=o(413),r.nthRoots=o(414),r.pow=o(415),r.round=o(416),r.sign=o(417),r.sqrt=o(418),r.sqrtm=o(419),r.square=o(420),r.subtract=o(421),r.unaryMinus=o(422),r.unaryPlus=o(423),r.xgcd=o(424),r.bitAnd=o(425),r.bitNot=o(426),r.bitOr=o(427),r.bitXor=o(428),r.leftShift=o(429),r.rightArithShift=o(430),r.rightLogShift=o(431),r.bellNumbers=o(432),r.catalan=o(433),r.composition=o(434),r.stirlingS2=o(435),r.config=o(436),r.import=o(437),r.typed=o(438),r.arg=o(439),r.conj=o(440),r.re=o(441),r.im=o(442),r.eval=o(443),r.help=o(444),r.distance=o(445),r.intersect=o(446),r.and=o(447),r.not=o(448),r.or=o(449),r.xor=o(450),r.concat=o(451),r.cross=o(452),r.ctranspose=o(453),r.det=o(454),r.diag=o(455),r.dot=o(456),r.getMatrixDataType=o(457),r.identity=o(458),r.filter=o(459),r.flatten=o(460),r.forEach=o(461),r.inv=o(462),r.kron=o(463),r.map=o(464),r.ones=o(465),r.partitionSelect=o(466),r.range=o(467),r.resize=o(468),r.reshape=o(469),r.size=o(470),r.sort=o(471),r.squeeze=o(472),r.subset=o(473),r.trace=o(474),r.transpose=o(475),r.zeros=o(476),r.combinations=o(477),r.factorial=o(478),r.gamma=o(479),r.kldivergence=o(480),r.multinomial=o(481),r.permutations=o(482),r.pickRandom=o(483),r.random=o(484),r.randomInt=o(485),r.compare=o(486),r.compareNatural=o(487),r.compareText=o(488),r.deepEqual=o(489),r.equal=o(490),r.equalText=o(491),r.larger=o(492),r.largerEq=o(493),r.smaller=o(494),r.smallerEq=o(495),r.unequal=o(496),r.setCartesian=o(497),r.setDifference=o(498),r.setDistinct=o(499),r.setIntersect=o(500),r.setIsSubset=o(501),r.setMultiplicity=o(502),r.setPowerset=o(503),r.setSize=o(504),r.setSymDifference=o(505),r.setUnion=o(506),r.erf=o(507),r.mad=o(508),r.max=o(509),r.mean=o(510),r.median=o(511),r.min=o(512),r.mode=o(513),r.prod=o(514),r.quantileSeq=o(515),r.std=o(516),r.sum=o(517),r.var=o(518),r.acos=o(519),r.acosh=o(520),r.acot=o(521),r.acoth=o(522),r.acsc=o(523),r.acsch=o(524),r.asec=o(525),r.asech=o(526),r.asin=o(527),r.asinh=o(528),r.atan=o(529),r.atanh=o(530),r.atan2=o(531),r.cos=o(532),r.cosh=o(533),r.cot=o(534),r.coth=o(535),r.csc=o(536),r.csch=o(537),r.sec=o(538),r.sech=o(539),r.sin=o(540),r.sinh=o(541),r.tan=o(542),r.tanh=o(543),r.to=o(544),r.clone=o(545),r.format=o(546),r.isNaN=o(547),r.isInteger=o(548),r.isNegative=o(549),r.isNumeric=o(550),r.isPositive=o(551),r.isPrime=o(552),r.isZero=o(553),r.typeof=o(554),r}},function(t,e){t.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},function(t,e){t.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},function(t,e,a){"use strict";e.name="parser",e.factory=function(t,e,n,i,r){var o=n(a(152));return i("parser",{"":function(){return new o(r)}})},e.math=!0},function(t,e,s){"use strict";var l=s(5).extend,u=s(13);e.name="Parser",e.path="expression",e.factory=function(t,e,n,i,r){var o=n(s(43));function a(){if(!(this instanceof a))throw new SyntaxError("Constructor must be called with the new operator");this.scope={}}return a.prototype.type="Parser",a.prototype.isParser=!0,a.prototype.parse=function(t){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},a.prototype.compile=function(t){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},a.prototype.eval=function(t){return o(t).compile().eval(this.scope)},a.prototype.get=function(t){return t in this.scope?u.getSafeProperty(this.scope,t):void 0},a.prototype.getAll=function(){return l({},this.scope)},a.prototype.set=function(t,e){return u.setSafeProperty(this.scope,t,e)},a.prototype.remove=function(t){delete this.scope[t]},a.prototype.clear=function(){for(var t in this.scope)this.scope.hasOwnProperty(t)&&delete this.scope[t]},a},e.math=!0},function(e,zt,jt){var Yt;!function(){"use strict";var c,D,o,a=9e15,p=1e9,g="0123456789abcdef",i="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",r="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",s={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-a,maxE:a,crypto:!1},x=!0,l="[DecimalError] ",f=l+"Invalid argument: ",u=l+"Precision limit exceeded",h=l+"crypto unavailable",N=Math.floor,m=Math.pow,d=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,y=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,v=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,_=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,L=1e7,k=7,b=i.length-1,w=r.length-1,M={name:"[object Decimal]"};function A(t){var e,n,i,r=t.length-1,o="",a=t[0];if(0<r){for(o+=a,e=1;e<r;e++)i=t[e]+"",(n=k-i.length)&&(o+=H(n)),o+=i;a=t[e],(n=k-(i=a+"").length)&&(o+=H(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function I(t,e,n){if(t!==~~t||t<e||n<t)throw Error(f+t)}function C(t,e,n,i){for(var r,o,a=t[0];10<=a;a/=10)--e;return--e<0?(e+=k,r=0):(r=Math.ceil((e+1)/k),e%=k),a=m(10,k-e),o=t[r]%a|0,null==i?e<3?(0==e?o=o/100|0:1==e&&(o=o/10|0),n<4&&99999==o||3<n&&49999==o||5e4==o||0==o):(n<4&&o+1==a||3<n&&o+1==a/2)&&(t[r+1]/a/100|0)==m(10,e-2)-1||(o==a/2||0==o)&&0==(t[r+1]/a/100|0):e<4?(0==e?o=o/1e3|0:1==e?o=o/100|0:2==e&&(o=o/10|0),(i||n<4)&&9999==o||!i&&3<n&&4999==o):((i||n<4)&&o+1==a||!i&&3<n&&o+1==a/2)&&(t[r+1]/a/1e3|0)==m(10,e-3)-1}function S(t,e,n){for(var i,r,o=[0],a=0,s=t.length;a<s;){for(r=o.length;r--;)o[r]*=e;for(o[0]+=g.indexOf(t.charAt(a++)),i=0;i<o.length;i++)o[i]>n-1&&(void 0===o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/n|0,o[i]%=n)}return o.reverse()}M.absoluteValue=M.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),z(t)},M.ceil=function(){return z(new this.constructor(this),this.e+1,2)},M.comparedTo=M.cmp=function(t){var e,n,i=this.d,r=(t=new this.constructor(t)).d,o=this.s,a=t.s;if(!i||!r)return o&&a?o!==a?o:i===r?0:!i^o<0?1:-1:NaN;if(!i[0]||!r[0])return i[0]?o:r[0]?-a:0;if(o!==a)return o;if(this.e!==t.e)return this.e>t.e^o<0?1:-1;for(e=0,n=(a=i.length)<(t=r.length)?a:t;e<n;++e)if(i[e]!==r[e])return i[e]>r[e]^o<0?1:-1;return a===t?0:t<a^o<0?1:-1},M.cosine=M.cos=function(){var t,e,n=this,i=n.constructor;return n.d?n.d[0]?(t=i.precision,e=i.rounding,i.precision=t+Math.max(n.e,n.sd())+k,i.rounding=1,n=function(t,e){var n,i=e.d.length;i=i<32?(n=Math.ceil(i/3),Math.pow(4,-n).toString()):(n=16,"2.3283064365386962890625e-10");t.precision+=n,e=q(t,1,e.times(i),new t(1));for(var r=n;r--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=n,e}(i,J(i,n)),i.precision=t,i.rounding=e,z(2==o||3==o?n.neg():n,t,e,!0)):new i(1):new i(NaN)},M.cubeRoot=M.cbrt=function(){var t,e,n,i,r,o,a,s,l,u,c=this,h=c.constructor;if(!c.isFinite()||c.isZero())return new h(c);for(x=!1,(o=c.s*Math.pow(c.s*c,1/3))&&Math.abs(o)!=1/0?i=new h(o.toString()):(n=A(c.d),(o=((t=c.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=Math.pow(n,1/3),t=N((t+1)/3)-(t%3==(t<0?-1:2)),(i=new h(n=o==1/0?"5e"+t:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=c.s),a=(t=h.precision)+3;;)if(u=(l=(s=i).times(s).times(s)).plus(c),i=T(u.plus(c).times(s),u.plus(l),a+2,1),A(s.d).slice(0,a)===(n=A(i.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(r||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(z(i,t+1,1),e=!i.times(i).times(i).eq(c));break}if(!r&&(z(s,t+1,0),s.times(s).times(s).eq(c))){i=s;break}a+=4,r=1}return x=!0,z(i,t,h.rounding,e)},M.decimalPlaces=M.dp=function(){var t,e=this.d,n=NaN;if(e){if(n=((t=e.length-1)-N(this.e/k))*k,t=e[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},M.dividedBy=M.div=function(t){return T(this,new this.constructor(t))},M.dividedToIntegerBy=M.divToInt=function(t){var e=this.constructor;return z(T(this,new e(t),0,1,1),e.precision,e.rounding)},M.equals=M.eq=function(t){return 0===this.cmp(t)},M.floor=function(){return z(new this.constructor(this),this.e+1,3)},M.greaterThan=M.gt=function(t){return 0<this.cmp(t)},M.greaterThanOrEqualTo=M.gte=function(t){t=this.cmp(t);return 1==t||0===t},M.hyperbolicCosine=M.cosh=function(){var t,e,n,i=(s=this).constructor,r=new i(1);if(!s.isFinite())return new i(s.s?1/0:NaN);if(s.isZero())return r;e=i.precision,n=i.rounding,i.precision=e+Math.max(s.e,s.sd())+4,i.rounding=1;for(var o,a=(a=s.d.length)<32?(t=Math.ceil(a/3),Math.pow(4,-t).toString()):(t=16,"2.3283064365386962890625e-10"),s=q(i,1,s.times(a),new i(1),!0),l=t,u=new i(8);l--;)o=s.times(s),s=r.minus(o.times(u.minus(o.times(u))));return z(s,i.precision=e,i.rounding=n,!0)},M.hyperbolicSine=M.sinh=function(){var t,e,n,i=(a=this).constructor;if(!a.isFinite()||a.isZero())return new i(a);if(t=i.precision,e=i.rounding,i.precision=t+Math.max(a.e,a.sd())+4,i.rounding=1,(n=a.d.length)<3)a=q(i,2,a,a,!0);else for(var r,o=16<(o=1.4*Math.sqrt(n))?16:0|o,a=q(i,2,a=a.times(Math.pow(5,-o)),a,!0),s=new i(5),l=new i(16),u=new i(20);o--;)r=a.times(a),a=a.times(s.plus(r.times(l.times(r).plus(u))));return z(a,i.precision=t,i.rounding=e,!0)},M.hyperbolicTangent=M.tanh=function(){var t,e,n=this.constructor;return this.isFinite()?this.isZero()?new n(this):(t=n.precision,e=n.rounding,n.precision=t+7,n.rounding=1,T(this.sinh(),this.cosh(),n.precision=t,n.rounding=e)):new n(this.s)},M.inverseCosine=M.acos=function(){var t=this,e=t.constructor,n=t.abs().cmp(1),i=e.precision,r=e.rounding;return-1!==n?0===n?t.isNeg()?B(e,i,r):new e(0):new e(NaN):t.isZero()?B(e,i+4,r).times(.5):(e.precision=i+6,e.rounding=1,t=t.asin(),n=B(e,i+4,r).times(.5),e.precision=i,e.rounding=r,n.minus(t))},M.inverseHyperbolicCosine=M.acosh=function(){var t,e,n=this,i=n.constructor;return n.lte(1)?new i(n.eq(1)?0:NaN):n.isFinite()?(t=i.precision,e=i.rounding,i.precision=t+Math.max(Math.abs(n.e),n.sd())+4,i.rounding=1,x=!1,n=n.times(n).minus(1).sqrt().plus(n),x=!0,i.precision=t,i.rounding=e,n.ln()):new i(n)},M.inverseHyperbolicSine=M.asinh=function(){var t,e,n=this,i=n.constructor;return!n.isFinite()||n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,i.rounding=1,x=!1,n=n.times(n).plus(1).sqrt().plus(n),x=!0,i.precision=t,i.rounding=e,n.ln())},M.inverseHyperbolicTangent=M.atanh=function(){var t,e,n,i=this,r=i.constructor;return i.isFinite()?0<=i.e?new r(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=r.precision,e=r.rounding,n=i.sd(),Math.max(n,t)<2*-i.e-1?z(new r(i),t,e,!0):(r.precision=n=n-i.e,i=T(i.plus(1),new r(1).minus(i),n+t,1),r.precision=t+4,r.rounding=1,i=i.ln(),r.precision=t,r.rounding=e,i.times(.5))):new r(NaN)},M.inverseSine=M.asin=function(){var t,e,n,i=this,r=i.constructor;return i.isZero()?new r(i):(t=i.abs().cmp(1),e=r.precision,n=r.rounding,-1!==t?0===t?((t=B(r,e+4,n).times(.5)).s=i.s,t):new r(NaN):(r.precision=e+6,r.rounding=1,i=i.div(new r(1).minus(i.times(i)).sqrt().plus(1)).atan(),r.precision=e,r.rounding=n,i.times(2)))},M.inverseTangent=M.atan=function(){var t,e,n,i,r,o,a,s,l,u=this,c=u.constructor,h=c.precision,d=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&h+4<=w)return(a=B(c,h+4,d).times(.25)).s=u.s,a}else{if(!u.s)return new c(NaN);if(h+4<=w)return(a=B(c,h+4,d).times(.5)).s=u.s,a}for(c.precision=s=h+10,c.rounding=1,t=n=Math.min(28,s/k+2|0);t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(x=!1,e=Math.ceil(s/k),i=1,l=u.times(u),a=new c(u),r=u;-1!==t;)if(r=r.times(l),o=a.minus(r.div(i+=2)),r=r.times(l),void 0!==(a=o.plus(r.div(i+=2))).d[e])for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),x=!0,z(a,c.precision=h,c.rounding=d,!0)},M.isFinite=function(){return!!this.d},M.isInteger=M.isInt=function(){return!!this.d&&N(this.e/k)>this.d.length-2},M.isNaN=function(){return!this.s},M.isNegative=M.isNeg=function(){return this.s<0},M.isPositive=M.isPos=function(){return 0<this.s},M.isZero=function(){return!!this.d&&0===this.d[0]},M.lessThan=M.lt=function(t){return this.cmp(t)<0},M.lessThanOrEqualTo=M.lte=function(t){return this.cmp(t)<1},M.logarithm=M.log=function(t){var e,n,i,r,o,a,s,l,u=this.constructor,c=u.precision,h=u.rounding;if(null==t)t=new u(10),e=!0;else{if(n=(t=new u(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new u(NaN);e=t.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new u(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(e)if(1<n.length)o=!0;else{for(r=n[0];r%10==0;)r/=10;o=1!==r}if(x=!1,a=Z(this,s=c+5),i=e?R(u,s+10):Z(t,s),C((l=T(a,i,s,1)).d,r=c,h))do{if(a=Z(this,s+=10),i=e?R(u,s+10):Z(t,s),l=T(a,i,s,1),!o){+A(l.d).slice(r+1,r+15)+1==1e14&&(l=z(l,c+1,0));break}}while(C(l.d,r+=10,h));return x=!0,z(l,c,h)},M.minus=M.sub=function(t){var e,n,i,r,o,a,s,l,u,c,h,d=this,f=d.constructor;if(t=new f(t),!d.d||!t.d)return d.s&&t.s?d.d?t.s=-t.s:t=new f(t.d||d.s!==t.s?d:NaN):t=new f(NaN),t;if(d.s!=t.s)return t.s=-t.s,d.plus(t);if(u=d.d,h=t.d,s=f.precision,l=f.rounding,!u[0]||!h[0]){if(h[0])t.s=-t.s;else{if(!u[0])return new f(3===l?-0:0);t=new f(d)}return x?z(t,s,l):t}if(n=N(t.e/k),d=N(d.e/k),u=u.slice(),o=d-n){for(a=(c=o<0)?(e=u,o=-o,h.length):(e=h,n=d,u.length),(i=Math.max(Math.ceil(s/k),a)+2)<o&&(o=i,e.length=1),e.reverse(),i=o;i--;)e.push(0);e.reverse()}else{for((c=(i=u.length)<(a=h.length))&&(a=i),i=0;i<a;i++)if(u[i]!=h[i]){c=u[i]<h[i];break}o=0}for(c&&(e=u,u=h,h=e,t.s=-t.s),a=u.length,i=h.length-a;0<i;--i)u[a++]=0;for(i=h.length;o<i;){if(u[--i]<h[i]){for(r=i;r&&0===u[--r];)u[r]=L-1;--u[r],u[i]+=L}u[i]-=h[i]}for(;0===u[--a];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(t.d=u,t.e=Y(u,n),x?z(t,s,l):t):new f(3===l?-0:0)},M.modulo=M.mod=function(t){var e,n=this.constructor;return t=new n(t),!this.d||!t.s||t.d&&!t.d[0]?new n(NaN):!t.d||this.d&&!this.d[0]?z(new n(this),n.precision,n.rounding):(x=!1,9==n.modulo?(e=T(this,t.abs(),0,3,1)).s*=t.s:e=T(this,t,0,n.modulo,1),e=e.times(t),x=!0,this.minus(e))},M.naturalExponential=M.exp=function(){return U(this)},M.naturalLogarithm=M.ln=function(){return Z(this)},M.negated=M.neg=function(){var t=new this.constructor(this);return t.s=-t.s,z(t)},M.plus=M.add=function(t){var e,n,i,r,o,a,s,l,u=this,c=u.constructor;if(t=new c(t),!u.d||!t.d)return u.s&&t.s?u.d||(t=new c(t.d||u.s===t.s?u:NaN)):t=new c(NaN),t;if(u.s!=t.s)return t.s=-t.s,u.minus(t);if(s=u.d,l=t.d,o=c.precision,a=c.rounding,!s[0]||!l[0])return l[0]||(t=new c(u)),x?z(t,o,a):t;if(c=N(u.e/k),u=N(t.e/k),s=s.slice(),i=c-u){for((r=(r=i<0?(n=s,i=-i,l.length):(n=l,u=c,s.length))<(c=Math.ceil(o/k))?c+1:r+1)<i&&(i=r,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((r=s.length)-(i=l.length)<0&&(i=r,n=l,l=s,s=n),e=0;i;)e=(s[--i]=s[i]+l[i]+e)/L|0,s[i]%=L;for(e&&(s.unshift(e),++u),r=s.length;0==s[--r];)s.pop();return t.d=s,t.e=Y(s,u),x?z(t,o,a):t},M.precision=M.sd=function(t){var e;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(f+t);return this.d?(e=F(this.d),t&&this.e+1>e&&(e=this.e+1)):e=NaN,e},M.round=function(){var t=this.constructor;return z(new t(this),this.e+1,t.rounding)},M.sine=M.sin=function(){var t,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+Math.max(n.e,n.sd())+k,i.rounding=1,n=function(t,e){var n,i=e.d.length;if(i<3)return q(t,2,e,e);n=16<(n=1.4*Math.sqrt(i))?16:0|n,e=e.times(Math.pow(5,-n)),e=q(t,2,e,e);for(var r,o=new t(5),a=new t(16),s=new t(20);n--;)r=e.times(e),e=e.times(o.plus(r.times(a.times(r).minus(s))));return e}(i,J(i,n)),i.precision=t,i.rounding=e,z(2<o?n.neg():n,t,e,!0)):new i(NaN)},M.squareRoot=M.sqrt=function(){var t,e,n,i,r,o,a=this.d,s=this.e,l=this.s,u=this.constructor;if(1!==l||!a||!a[0])return new u(!l||l<0&&(!a||a[0])?NaN:a?this:1/0);for(x=!1,i=0==(l=Math.sqrt(+this))||l==1/0?(((e=A(a)).length+s)%2==0&&(e+="0"),l=Math.sqrt(e),s=N((s+1)/2)-(s<0||s%2),new u(e=l==1/0?"1e"+s:(e=l.toExponential()).slice(0,e.indexOf("e")+1)+s)):new u(l.toString()),n=(s=u.precision)+3;;)if(i=(o=i).plus(T(this,o,n+2,1)).times(.5),A(o.d).slice(0,n)===(e=A(i.d)).slice(0,n)){if("9999"!=(e=e.slice(n-3,n+1))&&(r||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(z(i,s+1,1),t=!i.times(i).eq(this));break}if(!r&&(z(o,s+1,0),o.times(o).eq(this))){i=o;break}n+=4,r=1}return x=!0,z(i,s,u.rounding,t)},M.tangent=M.tan=function(){var t,e,n=this,i=n.constructor;return n.isFinite()?n.isZero()?new i(n):(t=i.precision,e=i.rounding,i.precision=t+10,i.rounding=1,(n=n.sin()).s=1,n=T(n,new i(1).minus(n.times(n)).sqrt(),t+10,0),i.precision=t,i.rounding=e,z(2==o||4==o?n.neg():n,t,e,!0)):new i(NaN)},M.times=M.mul=function(t){var e,n,i,r,o,a,s,l,u,c=this.constructor,h=this.d,d=(t=new c(t)).d;if(t.s*=this.s,!(h&&h[0]&&d&&d[0]))return new c(!t.s||h&&!h[0]&&!d||d&&!d[0]&&!h?NaN:h&&d?0*t.s:t.s/0);for(n=N(this.e/k)+N(t.e/k),(l=h.length)<(u=d.length)&&(o=h,h=d,d=o,a=l,l=u,u=a),o=[],i=a=l+u;i--;)o.push(0);for(i=u;0<=--i;){for(e=0,r=l+i;i<r;)s=o[r]+d[i]*h[r-i-1]+e,o[r--]=s%L|0,e=s/L|0;o[r]=(o[r]+e)%L|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=Y(o,n),x?z(t,c.precision,c.rounding):t},M.toBinary=function(t,e){return n(this,2,t,e)},M.toDecimalPlaces=M.toDP=function(t,e){var n=this.constructor,i=new n(this);return void 0===t?i:(I(t,0,p),void 0===e?e=n.rounding:I(e,0,8),z(i,t+i.e+1,e))},M.toExponential=function(t,e){var n=this,i=n.constructor,t=void 0===t?j(n,!0):(I(t,0,p),void 0===e?e=i.rounding:I(e,0,8),j(n=z(new i(n),t+1,e),!0,t+1));return n.isNeg()&&!n.isZero()?"-"+t:t},M.toFixed=function(t,e){var n=this.constructor,i=void 0===t?j(this):(I(t,0,p),void 0===e?e=n.rounding:I(e,0,8),j(i=z(new n(this),t+this.e+1,e),!1,t+i.e+1));return this.isNeg()&&!this.isZero()?"-"+i:i},M.toFraction=function(t){var e,n,i,r,o,a,s,l,u,c,h=this.d,d=this.constructor;if(!h)return new d(this);if(s=n=new d(1),i=a=new d(0),c=(e=new d(i)).e=F(h)-this.e-1,e.d[0]=m(10,(l=c%k)<0?k+l:l),null==t)t=0<c?e:s;else{if(!(o=new d(t)).isInt()||o.lt(s))throw Error(f+o);t=o.gt(e)?0<c?e:s:o}for(x=!1,o=new d(A(h)),l=d.precision,d.precision=c=h.length*k*2;u=T(o,e,0,1,1),1!=(r=n.plus(u.times(i))).cmp(t);)n=i,i=r,r=s,s=a.plus(u.times(r)),a=r,r=e,e=o.minus(u.times(r)),o=r;return r=T(t.minus(n),i,0,1,1),a=a.plus(r.times(s)),n=n.plus(r.times(i)),a.s=s.s=this.s,c=T(s,i,c,1).minus(this).abs().cmp(T(a,n,c,1).minus(this).abs())<1?[s,i]:[a,n],d.precision=l,x=!0,c},M.toHexadecimal=M.toHex=function(t,e){return n(this,16,t,e)},M.toNearest=function(t,e){var n=(i=this).constructor,i=new n(i);if(null==t){if(!i.d)return i;t=new n(1),e=n.rounding}else{if(t=new n(t),void 0===e?e=n.rounding:I(e,0,8),!i.d)return t.s?i:t;if(!t.d)return t.s&&(t.s=i.s),t}return t.d[0]?(x=!1,i=T(i,t,0,e,1).times(t),x=!0,z(i)):(t.s=i.s,i=t),i},M.toNumber=function(){return+this},M.toOctal=function(t,e){return n(this,8,t,e)},M.toPower=M.pow=function(t){var e,n,i,r,o,a,s=this,l=s.constructor,u=+(t=new l(t));if(!(s.d&&t.d&&s.d[0]&&t.d[0]))return new l(m(+s,u));if((s=new l(s)).eq(1))return s;if(i=l.precision,o=l.rounding,t.eq(1))return z(s,i,o);if((e=N(t.e/k))>=t.d.length-1&&(n=u<0?-u:u)<=9007199254740991)return r=W(l,s,n,i),t.s<0?new l(1).div(r):z(r,i,o);if((a=s.s)<0){if(e<t.d.length-1)return new l(NaN);if(0==(1&t.d[e])&&(a=1),0==s.e&&1==s.d[0]&&1==s.d.length)return s.s=a,s}return(e=0!=(n=m(+s,u))&&isFinite(n)?new l(n+"").e:N(u*(Math.log("0."+A(s.d))/Math.LN10+s.e+1)))>l.maxE+1||e<l.minE-1?new l(0<e?a/0:0):(x=!1,l.rounding=s.s=1,n=Math.min(12,(e+"").length),(r=(r=U(t.times(Z(s,i+n)),i)).d&&C((r=z(r,i+5,1)).d,i,o)&&+A((r=z(U(t.times(Z(s,(e=i+10)+n)),e),e+5,1)).d).slice(i+1,i+15)+1==1e14?z(r,i+1,0):r).s=a,x=!0,z(r,i,l.rounding=o))},M.toPrecision=function(t,e){var n=this,i=n.constructor,t=void 0===t?j(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(I(t,1,p),void 0===e?e=i.rounding:I(e,0,8),j(n=z(new i(n),t,e),t<=n.e||n.e<=i.toExpNeg,t));return n.isNeg()&&!n.isZero()?"-"+t:t},M.toSignificantDigits=M.toSD=function(t,e){var n=this.constructor;return void 0===t?(t=n.precision,e=n.rounding):(I(t,1,p),void 0===e?e=n.rounding:I(e,0,8)),z(new n(this),t,e)},M.toString=function(){var t=this.constructor,t=j(this,this.e<=t.toExpNeg||this.e>=t.toExpPos);return this.isNeg()&&!this.isZero()?"-"+t:t},M.truncated=M.trunc=function(){return z(new this.constructor(this),this.e+1,1)},M.valueOf=M.toJSON=function(){var t=this.constructor,t=j(this,this.e<=t.toExpNeg||this.e>=t.toExpPos);return this.isNeg()?"-"+t:t};var T=function(t,e,n,i,r,o){var a,s,l,u,c,h,d,f,p,g,m,y,v,x,_,b,w,M,A,I=t.constructor,C=t.s==e.s?1:-1,S=t.d,T=e.d;if(!(S&&S[0]&&T&&T[0]))return new I(t.s&&e.s&&(S?!T||S[0]!=T[0]:T)?S&&0==S[0]||!T?0*C:C/0:NaN);for(s=o?(c=1,t.e-e.e):(o=L,N(t.e/(c=k))-N(e.e/c)),M=T.length,b=S.length,p=(C=new I(C)).d=[],l=0;T[l]==(S[l]||0);l++);if(T[l]>(S[l]||0)&&s--,null==n?(v=n=I.precision,i=I.rounding):v=r?n+(t.e-e.e)+1:n,v<0)p.push(1),h=!0;else{if(v=v/c+2|0,l=0,1==M){for(T=T[u=0],v++;(l<b||u)&&v--;l++)x=u*o+(S[l]||0),p[l]=x/T|0,u=x%T|0;h=u||l<b}else{for(1<(u=o/(T[0]+1)|0)&&(T=E(T,u,o),S=E(S,u,o),M=T.length,b=S.length),_=M,m=(g=S.slice(0,M)).length;m<M;)g[m++]=0;for((A=T.slice()).unshift(0),w=T[0],T[1]>=o/2&&++w;u=0,(a=O(T,g,M,m))<0?(y=g[0],1<(u=(y=M!=m?y*o+(g[1]||0):y)/w|0)?1==(a=O(d=E(T,u=o<=u?o-1:u,o),g,f=d.length,m=g.length))&&(u--,P(d,M<f?A:T,f,o)):(0==u&&(a=u=1),d=T.slice()),(f=d.length)<m&&d.unshift(0),P(g,d,m,o),-1==a&&(a=O(T,g,M,m=g.length))<1&&(u++,P(g,M<m?A:T,m,o)),m=g.length):0===a&&(u++,g=[0]),p[l++]=u,a&&g[0]?g[m++]=S[_]||0:(g=[S[_]],m=1),(_++<b||void 0!==g[0])&&v--;);h=void 0!==g[0]}p[0]||p.shift()}if(1==c)C.e=s,D=h;else{for(l=1,u=p[0];10<=u;u/=10)l++;C.e=l+s*c-1,z(C,r?n+C.e+1:n,i,h)}return C};function E(t,e,n){var i,r=0,o=t.length;for(t=t.slice();o--;)i=t[o]*e+r,t[o]=i%n|0,r=i/n|0;return r&&t.unshift(r),t}function O(t,e,n,i){var r,o;if(n!=i)o=i<n?1:-1;else for(r=o=0;r<n;r++)if(t[r]!=e[r]){o=t[r]>e[r]?1:-1;break}return o}function P(t,e,n,i){for(var r=0;n--;)t[n]-=r,r=t[n]<e[n]?1:0,t[n]=r*i+t[n]-e[n];for(;!t[0]&&1<t.length;)t.shift()}function z(t,e,n,i){var r,o,a,s,l,u,c,h,d=t.constructor;t:if(null!=e){if(!(c=t.d))return t;for(r=1,s=c[0];10<=s;s/=10)r++;if((o=e-r)<0)o+=k,a=e,l=(u=c[h=0])/m(10,r-a-1)%10|0;else if(h=Math.ceil((o+1)/k),(s=c.length)<=h){if(!i)break t;for(;s++<=h;)c.push(0);u=l=0,a=(o%=k)-k+(r=1)}else{for(u=s=c[h],r=1;10<=s;s/=10)r++;l=(a=(o%=k)-k+r)<0?0:u/m(10,r-a-1)%10|0}if(i=i||e<0||void 0!==c[h+1]||(a<0?u:u%m(10,r-a-1)),l=n<4?(l||i)&&(0==n||n==(t.s<0?3:2)):5<l||5==l&&(4==n||i||6==n&&(0<o?0<a?u/m(10,r-a):0:c[h-1])%10&1||n==(t.s<0?8:7)),e<1||!c[0])return c.length=0,l?(e-=t.e+1,c[0]=m(10,(k-e%k)%k),t.e=-e||0):c[0]=t.e=0,t;if(0==o?(c.length=h,s=1,h--):(c.length=h+1,s=m(10,k-o),c[h]=0<a?(u/m(10,r-a)%m(10,a)|0)*s:0),l)for(;;){if(0==h){for(o=1,a=c[0];10<=a;a/=10)o++;for(a=c[0]+=s,s=1;10<=a;a/=10)s++;o!=s&&(t.e++,c[0]==L&&(c[0]=1));break}if(c[h]+=s,c[h]!=L)break;c[h--]=0,s=1}for(o=c.length;0===c[--o];)c.pop()}return x&&(t.e>d.maxE?(t.d=null,t.e=NaN):t.e<d.minE&&(t.e=0,t.d=[0])),t}function j(t,e,n){if(!t.isFinite())return V(t);var i,r=t.e,o=A(t.d),a=o.length;return e?(n&&0<(i=n-a)?o=o.charAt(0)+"."+o.slice(1)+H(i):1<a&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):r<0?(o="0."+H(-r-1)+o,n&&0<(i=n-a)&&(o+=H(i))):a<=r?(o+=H(r+1-a),n&&0<(i=n-r-1)&&(o=o+"."+H(i))):((i=r+1)<a&&(o=o.slice(0,i)+"."+o.slice(i)),n&&0<(i=n-a)&&(r+1===a&&(o+="."),o+=H(i))),o}function Y(t,e){var n=t[0];for(e*=k;10<=n;n/=10)e++;return e}function R(t,e,n){if(b<e)throw x=!0,n&&(t.precision=n),Error(u);return z(new t(i),e,1,!0)}function B(t,e,n){if(w<e)throw Error(u);return z(new t(r),e,n,!0)}function F(t){var e=t.length-1,n=e*k+1;if(e=t[e]){for(;e%10==0;e/=10)n--;for(e=t[0];10<=e;e/=10)n++}return n}function H(t){for(var e="";t--;)e+="0";return e}function W(t,e,n,i){var r,o=new t(1),a=Math.ceil(i/k+4);for(x=!1;;){if(n%2&&$((o=o.times(e)).d,a)&&(r=!0),0===(n=N(n/2))){n=o.d.length-1,r&&0===o.d[n]&&++o.d[n];break}$((e=e.times(e)).d,a)}return x=!0,o}function G(t){return 1&t.d[t.d.length-1]}function t(t,e,n){for(var i,r=new t(e[0]),o=0;++o<e.length;){if(!(i=new t(e[o])).s){r=i;break}r[n](i)&&(r=i)}return r}function U(t,e){var n,i,r,o,a,s,l,u=0,c=0,h=0,d=t.constructor,f=d.rounding,p=d.precision;if(!t.d||!t.d[0]||17<t.e)return new d(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(l=null==e?(x=!1,p):e,s=new d(.03125);-2<t.e;)t=t.times(s),h+=5;for(l+=i=Math.log(m(2,h))/Math.LN10*2+5|0,n=o=a=new d(1),d.precision=l;;){if(o=z(o.times(t),l,1),n=n.times(++c),A((s=a.plus(T(o,n,l,1))).d).slice(0,l)===A(a.d).slice(0,l)){for(r=h;r--;)a=z(a.times(a),l,1);if(null!=e)return d.precision=p,a;if(!(u<3&&C(a.d,l-i,f,u)))return z(a,d.precision=p,f,x=!0);d.precision=l+=10,n=o=s=new d(1),c=0,u++}a=s}}function Z(t,e){var n,i,r,o,a,s,l,u,c,h,d,f=1,p=t,g=p.d,m=p.constructor,y=m.rounding,v=m.precision;if(p.s<0||!g||!g[0]||!p.e&&1==g[0]&&1==g.length)return new m(g&&!g[0]?-1/0:1!=p.s?NaN:g?0:p);if(c=null==e?(x=!1,v):e,m.precision=c+=10,i=(n=A(g)).charAt(0),!(Math.abs(o=p.e)<15e14))return u=R(m,c+2,v).times(o+""),p=Z(new m(i+"."+n.slice(1)),c-10).plus(u),m.precision=v,null==e?z(p,v,y,x=!0):p;for(;i<7&&1!=i||1==i&&3<n.charAt(1);)i=(n=A((p=p.times(t)).d)).charAt(0),f++;for(o=p.e,1<i?(p=new m("0."+n),o++):p=new m(i+"."+n.slice(1)),l=a=p=T((h=p).minus(1),p.plus(1),c,1),d=z(p.times(p),c,1),r=3;;){if(a=z(a.times(d),c,1),A((u=l.plus(T(a,new m(r),c,1))).d).slice(0,c)===A(l.d).slice(0,c)){if(l=l.times(2),0!==o&&(l=l.plus(R(m,c+2,v).times(o+""))),l=T(l,new m(f),c,1),null!=e)return m.precision=v,l;if(!C(l.d,c-10,y,s))return z(l,m.precision=v,y,x=!0);m.precision=c+=10,u=a=p=T(h.minus(1),h.plus(1),c,1),d=z(p.times(p),c,1),r=s=1}l=u,r+=2}}function V(t){return String(t.s*t.s/0)}function X(t,e){var n,i,r;for(0<(i=(e=-1<(n=e.indexOf("."))?e.replace(".",""):e).search(/e/i))?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;48===e.charCodeAt(i);i++);for(r=e.length;48===e.charCodeAt(r-1);--r);if(e=e.slice(i,r)){if(r-=i,t.e=n=n-i-1,t.d=[],i=(n+1)%k,n<0&&(i+=k),i<r){for(i&&t.d.push(+e.slice(0,i)),r-=k;i<r;)t.d.push(+e.slice(i,i+=k));e=e.slice(i),i=k-e.length}else i-=r;for(;i--;)e+="0";t.d.push(+e),x&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function q(t,e,n,i,r){var o,a,s,l,u=t.precision,c=Math.ceil(u/k);for(x=!1,l=n.times(n),s=new t(i);;){if(a=T(s.times(l),new t(e++*e++),u,1),s=r?i.plus(a):i.minus(a),i=T(a.times(l),new t(e++*e++),u,1),void 0!==(a=s.plus(i)).d[c]){for(o=c;a.d[o]===s.d[o]&&o--;);if(-1==o)break}o=s,s=i,i=a,a=o,0}return x=!0,a.d.length=c+1,a}function J(t,e){var n=e.s<0,i=B(t,t.precision,1),r=i.times(.5);if((e=e.abs()).lte(r))return o=n?4:1,e;if((t=e.divToInt(i)).isZero())o=n?3:2;else{if((e=e.minus(t.times(i))).lte(r))return o=G(t)?n?2:3:n?4:1,e;o=G(t)?n?1:4:n?3:2}return e.minus(i).abs()}function n(t,e,n,i){var r,o,a,s,l,u,c,h,d=t.constructor,f=void 0!==n;if(f?(I(n,1,p),void 0===i?i=d.rounding:I(i,0,8)):(n=d.precision,i=d.rounding),t.isFinite()){for(f?(r=2,16==e?n=4*n-3:8==e&&(n=3*n-2)):r=e,0<=(a=(u=j(t)).indexOf("."))&&(u=u.replace(".",""),(h=new d(1)).e=u.length-a,h.d=S(j(h),10,r),h.e=h.d.length),o=s=(c=S(u,10,r)).length;0==c[--s];)c.pop();if(c[0]){if(a<0?o--:((t=new d(t)).d=c,t.e=o,c=(t=T(t,h,n,i,0,r)).d,o=t.e,l=D),a=c[n],h=r/2,l=l||void 0!==c[n+1],l=i<4?(void 0!==a||l)&&(0===i||i===(t.s<0?3:2)):h<a||a===h&&(4===i||l||6===i&&1&c[n-1]||i===(t.s<0?8:7)),c.length=n,l)for(;++c[--n]>r-1;)c[n]=0,n||(++o,c.unshift(1));for(s=c.length;!c[s-1];--s);for(a=0,u="";a<s;a++)u+=g.charAt(c[a]);if(f){if(1<s)if(16==e||8==e){for(a=16==e?4:3,--s;s%a;s++)u+="0";for(s=(c=S(u,r,e)).length;!c[s-1];--s);for(a=1,u="1.";a<s;a++)u+=g.charAt(c[a])}else u=u.charAt(0)+"."+u.slice(1);u=u+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)u="0"+u;u="0."+u}else if(++o>s)for(o-=s;o--;)u+="0";else o<s&&(u=u.slice(0,o)+"."+u.slice(o))}else u=f?"0p+0":"0";u=(16==e?"0x":2==e?"0b":8==e?"0o":"")+u}else u=V(t);return t.s<0?"-"+u:u}function $(t,e){return t.length>e&&(t.length=e,1)}function Q(t){return new this(t).abs()}function K(t){return new this(t).acos()}function tt(t){return new this(t).acosh()}function et(t,e){return new this(t).plus(e)}function nt(t){return new this(t).asin()}function it(t){return new this(t).asinh()}function rt(t){return new this(t).atan()}function ot(t){return new this(t).atanh()}function at(t,e){t=new this(t),e=new this(e);var n,i=this.precision,r=this.rounding,o=i+4;return t.s&&e.s?t.d||e.d?!e.d||t.isZero()?(n=e.s<0?B(this,i,r):new this(0)).s=t.s:!t.d||e.isZero()?(n=B(this,o,1).times(.5)).s=t.s:n=e.s<0?(this.precision=o,this.rounding=1,n=this.atan(T(t,e,o,1)),e=B(this,o,1),this.precision=i,this.rounding=r,t.s<0?n.minus(e):n.plus(e)):this.atan(T(t,e,o,1)):(n=B(this,o,1).times(0<e.s?.25:.75)).s=t.s:n=new this(NaN),n}function st(t){return new this(t).cbrt()}function lt(t){return z(t=new this(t),t.e+1,2)}function ut(t){if(!t||"object"!=typeof t)throw Error(l+"Object expected");for(var e,n,i=!0===t.defaults,r=["precision",1,p,"rounding",0,8,"toExpNeg",-a,0,"toExpPos",0,a,"maxE",0,a,"minE",-a,0,"modulo",0,9],o=0;o<r.length;o+=3)if(e=r[o],i&&(this[e]=s[e]),void 0!==(n=t[e])){if(!(N(n)===n&&r[o+1]<=n&&n<=r[o+2]))throw Error(f+e+": "+n);this[e]=n}if(e="crypto",i&&(this[e]=s[e]),void 0!==(n=t[e])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(f+e+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(h);this[e]=!0}else this[e]=!1}return this}function ct(t){return new this(t).cos()}function ht(t){return new this(t).cosh()}function dt(t,e){return new this(t).div(e)}function ft(t){return new this(t).exp()}function pt(t){return z(t=new this(t),t.e+1,3)}function gt(){var t,e,n=new this(0);for(x=!1,t=0;t<arguments.length;)if((e=new this(arguments[t++])).d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return x=!0,new this(1/0);n=e}return x=!0,n.sqrt()}function mt(t){return t instanceof c||t&&"[object Decimal]"===t.name||!1}function yt(t){return new this(t).ln()}function vt(t,e){return new this(t).log(e)}function xt(t){return new this(t).log(2)}function _t(t){return new this(t).log(10)}function bt(){return t(this,arguments,"lt")}function wt(){return t(this,arguments,"gt")}function Mt(t,e){return new this(t).mod(e)}function At(t,e){return new this(t).mul(e)}function It(t,e){return new this(t).pow(e)}function Ct(t){var e,n,i,r,o=0,a=new this(1),s=[];if(void 0===t?t=this.precision:I(t,1,p),i=Math.ceil(t/k),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(i));o<i;)429e7<=(r=e[o])?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=r%1e7;else{if(!crypto.randomBytes)throw Error(h);for(e=crypto.randomBytes(i*=4);o<i;)214e7<=(r=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))?crypto.randomBytes(4).copy(e,o):(s.push(r%1e7),o+=4);o=i/4}else for(;o<i;)s[o++]=1e7*Math.random()|0;for(i=s[--o],t%=k,i&&t&&(r=m(10,k-t),s[o]=(i/r|0)*r);0===s[o];o--)s.pop();if(o<0)s=[n=0];else{for(n=-1;0===s[0];n-=k)s.shift();for(i=1,r=s[0];10<=r;r/=10)i++;i<k&&(n-=k-i)}return a.e=n,a.d=s,a}function St(t){return z(t=new this(t),t.e+1,this.rounding)}function Tt(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function Dt(t){return new this(t).sin()}function Nt(t){return new this(t).sinh()}function Lt(t){return new this(t).sqrt()}function kt(t,e){return new this(t).sub(e)}function Et(t){return new this(t).tan()}function Ot(t){return new this(t).tanh()}function Pt(t){return z(t=new this(t),t.e+1,1)}(c=function t(e){var n,i,r;function o(t){var e,n,i,r=this;if(!(r instanceof o))return new o(t);if(t instanceof(r.constructor=o))return r.s=t.s,r.e=t.e,void(r.d=(t=t.d)?t.slice():t);if("number"==(i=typeof t)){if(0===t)return r.s=1/t<0?-1:1,r.e=0,void(r.d=[0]);if(t<0?(t=-t,r.s=-1):r.s=1,t===~~t&&t<1e7){for(e=0,n=t;10<=n;n/=10)e++;return r.e=e,void(r.d=[t])}return 0*t!=0?(t||(r.s=NaN),r.e=NaN,void(r.d=null)):X(r,t.toString())}if("string"!=i)throw Error(f+t);return 45===t.charCodeAt(0)?(t=t.slice(1),r.s=-1):r.s=1,(_.test(t)?X:function(t,e){var n,i,r,o,a,s,l,u;if("Infinity"===e||"NaN"===e)return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(y.test(e))u=16,e=e.toLowerCase();else if(d.test(e))u=2;else{if(!v.test(e))throw Error(f+e);u=8}for(r=(e=0<(r=e.search(/p/i))?(s=+e.slice(r+1),e.substring(2,r)):e.slice(2)).indexOf("."),n=t.constructor,(o=0<=r)&&(r=(a=(e=e.replace(".","")).length)-r,i=W(n,new n(u),r,2*r)),r=u=(l=S(e,u,L)).length-1;0===l[r];--r)l.pop();return r<0?new n(0*t.s):(t.e=Y(l,u),t.d=l,x=!1,o&&(t=T(t,i,4*a)),s&&(t=t.times((Math.abs(s)<54?Math:c).pow(2,s))),x=!0,t)})(r,t)}if(o.prototype=M,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=ut,o.clone=t,o.isDecimal=mt,o.abs=Q,o.acos=K,o.acosh=tt,o.add=et,o.asin=nt,o.asinh=it,o.atan=rt,o.atanh=ot,o.atan2=at,o.cbrt=st,o.ceil=lt,o.cos=ct,o.cosh=ht,o.div=dt,o.exp=ft,o.floor=pt,o.hypot=gt,o.ln=yt,o.log=vt,o.log10=_t,o.log2=xt,o.max=bt,o.min=wt,o.mod=Mt,o.mul=At,o.pow=It,o.random=Ct,o.round=St,o.sign=Tt,o.sin=Dt,o.sinh=Nt,o.sqrt=Lt,o.sub=kt,o.tan=Et,o.tanh=Ot,o.trunc=Pt,(e=void 0===e?{}:e)&&!0!==e.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<r.length;)e.hasOwnProperty(i=r[n++])||(e[i]=this[i]);return o.config(e),o}(s)).default=c.Decimal=c,i=new c(i),r=new c(r),void 0===(Yt=function(){return c}.call(zt,jt,zt,e))||(e.exports=Yt)}()},function(t,e,n){"use strict";var i=n(155);t.exports=function t(e){e=i.create(e);return e.create=t,e.import(n(161)),e}()},function(t,e,n){"use strict";n(156);var l=n(5).isFactory,u=n(98),c=n(99),h=n(159),d=n(160);e.create=function(t){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var i=[],r=[],o=c.mixin({});o.type={},o.expression={transform:{},mathWithTransform:{}},o.typed=u.create(o.type);var a={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function s(t){if(!l(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var e,n=i.indexOf(t);return-1===n?(e=!0===t.math?t.factory(o.type,a,s,o.typed,o):t.factory(o.type,a,s,o.typed),i.push(t),r.push(e)):e=r[n],e}return o.import=s(h),o.config=s(d),o.expression.mathWithTransform.config=o.config,t&&o.config(t),o}},function(t,e){Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isNaN=Number.isNaN||function(t){return t!=t}},function(t,e,n){"use strict";var i;void 0===(i="function"==typeof(i=function(){function O(){return true}function nt(){return false}function it(){return undefined}function P(){var t=[{name:"number",test:function(t){return typeof t==="number"}},{name:"string",test:function(t){return typeof t==="string"}},{name:"boolean",test:function(t){return typeof t==="boolean"}},{name:"Function",test:function(t){return typeof t==="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return typeof t==="object"&&t.constructor===Object}},{name:"null",test:function(t){return t===null}},{name:"undefined",test:function(t){return t===undefined}}];var i={name:"any",test:O};var e=[];var n=[];var F={types:t,conversions:n,ignore:e};function l(e){var t=tt(F.types,function(t){return t.name===e});if(t)return t;if(e==="any")return i;var n=tt(F.types,function(t){return t.name.toLowerCase()===e.toLowerCase()});throw new TypeError('Unknown type "'+e+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function u(t){if(t===i)return 999;return F.types.indexOf(t)}function d(e){var t=tt(F.types,function(t){return t.test(e)});if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+e)}function r(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if(typeof e==="string"){n=e.split(",");for(var i=0;i<n.length;i++)n[i]=n[i].trim()}else if(Array.isArray(e))n=e;else throw new TypeError("String array or a comma separated string expected");var r=n.join(",");var o=t.signatures[r];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")}function o(t,e){var n=d(t);if(e===n)return t;for(var i=0;i<F.conversions.length;i++){var r=F.conversions[i];if(r.from===n&&r.to===e)return r.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)}function H(t){return t.map(function(t){var e=t.types.map(h);return(t.restParam?"...":"")+e.join("|")}).join(",")}function a(t,n){var e=t.indexOf("...")===0;var i=!e?t:t.length>3?t.slice(3):"any";var r=i.split("|").map(M).filter(A).filter(w);var o=x(n,r);var a=r.map(function(t){var e=l(t);return{name:t,typeIndex:u(e),test:e.test,conversion:null,conversionIndex:-1}});var s=o.map(function(t){var e=l(t.from);return{name:t.from,typeIndex:u(e),test:e.test,conversion:t,conversionIndex:n.indexOf(t)}});return{types:a.concat(s),restParam:e}}function W(t,e,r){var n=[];if(t.trim()!=="")n=t.split(",").map(M).map(function(t,e,n){var i=a(t,r);if(i.restParam&&e!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+t+'": '+"only allowed for the last parameter");return i});if(n.some(I))return null;return{params:n,fn:e}}function G(t){var e=S(t);return e?e.restParam:false}function s(t){return t.types.some(function(t){return t.conversion!=null})}function U(t){if(!t||t.types.length===0)return O;else if(t.types.length===1)return l(t.types[0].name).test;else if(t.types.length===2){var n=l(t.types[0].name).test;var i=l(t.types[1].name).test;return function t(e){return n(e)||i(e)}}else{var r=t.types.map(function(t){return l(t.name).test});return function t(e){for(var n=0;n<r.length;n++)if(r[n](e))return true;return false}}}function Z(t){var i,n,r;if(G(t)){i=C(t).map(U);var o=i.length;var a=U(S(t));var s=function(t){for(var e=o;e<t.length;e++)if(!a(t[e]))return false;return true};return function t(e){for(var n=0;n<i.length;n++)if(!i[n](e[n]))return false;return s(e)&&e.length>=o+1}}else if(t.length===0)return function t(e){return e.length===0};else if(t.length===1){n=U(t[0]);return function t(e){return n(e[0])&&e.length===1}}else if(t.length===2){n=U(t[0]);r=U(t[1]);return function t(e){return n(e[0])&&r(e[1])&&e.length===2}}else{i=t.map(U);return function t(e){for(var n=0;n<i.length;n++)if(!i[n](e[n]))return false;return e.length===i.length}}}function f(t,e){return e<t.params.length?t.params[e]:G(t.params)?S(t.params):null}function c(t,e,n){var i=f(t,e);var r=i?n?i.types.filter(p):i.types:[];return r.map(h)}function h(t){return t.name}function p(t){return t.conversion===null||t.conversion===undefined}function g(t,e){var n=L(et(t,function(t){return c(t,e,false)}));return n.indexOf("any")!==-1?["any"]:n}function V(t,n,e){var i,r;var o=t||"unnamed";var a=e;var s;for(s=0;s<n.length;s++){var l=a.filter(function(t){var e=U(f(t,s));return(s<t.params.length||G(t.params))&&e(n[s])});if(l.length===0){r=g(a,s);if(r.length>0){var u=d(n[s]);i=new TypeError("Unexpected type of argument in function "+o+" (expected: "+r.join(" or ")+", actual: "+u+", index: "+s+")");i.data={category:"wrongType",fn:o,index:s,actual:u,expected:r};return i}}else a=l}var c=a.map(function(t){return G(t.params)?Infinity:t.params.length});if(n.length<Math.min.apply(null,c)){r=g(a,s);i=new TypeError("Too few arguments in function "+o+" (expected: "+r.join(" or ")+", index: "+n.length+")");i.data={category:"tooFewArgs",fn:o,index:n.length,expected:r};return i}var h=Math.max.apply(null,c);if(n.length>h){i=new TypeError("Too many arguments in function "+o+" (expected: "+h+", actual: "+n.length+")");i.data={category:"tooManyArgs",fn:o,index:n.length,expectedLength:h};return i}i=new TypeError('Arguments of type "'+n.join(", ")+'" do not match any of the defined signatures of function '+o+".");i.data={category:"mismatch",actual:n.map(d)};return i}function m(t){var e=999;for(var n=0;n<t.types.length;n++)if(p(t.types[n]))e=Math.min(e,t.types[n].typeIndex);return e}function y(t){var e=999;for(var n=0;n<t.types.length;n++)if(!p(t.types[n]))e=Math.min(e,t.types[n].conversionIndex);return e}function v(t,e){var n;n=t.restParam-e.restParam;if(n!==0)return n;n=s(t)-s(e);if(n!==0)return n;n=m(t)-m(e);if(n!==0)return n;return y(t)-y(e)}function X(t,e){var n=Math.min(t.params.length,e.params.length);var i;var r;r=t.params.some(s)-e.params.some(s);if(r!==0)return r;for(i=0;i<n;i++){r=s(t.params[i])-s(e.params[i]);if(r!==0)return r}for(i=0;i<n;i++){r=v(t.params[i],e.params[i]);if(r!==0)return r}return t.params.length-e.params.length}function x(t,e){var n={};t.forEach(function(t){if(e.indexOf(t.from)===-1&&e.indexOf(t.to)!==-1&&!n[t.from])n[t.from]=t});return Object.keys(n).map(function(t){return n[t]})}function q(t,r){var e=r;if(t.some(s)){var o=G(t);var a=t.map(_);e=function t(){var e=[];var n=o?arguments.length-1:arguments.length;for(var i=0;i<n;i++)e[i]=a[i](arguments[i]);if(o)e[n]=arguments[n].map(a[n]);return r.apply(null,e)}}var n=e;if(G(t)){var i=t.length-1;n=function t(){return e.apply(null,T(arguments,0,i).concat([T(arguments,i)]))}}return n}function _(t){var n,i,r,o;var a=[];var s=[];t.types.forEach(function(t){if(t.conversion){a.push(l(t.conversion.from).test);s.push(t.conversion.convert)}});switch(s.length){case 0:return function t(e){return e};case 1:n=a[0];r=s[0];return function t(e){if(n(e))return r(e);return e};case 2:n=a[0];i=a[1];r=s[0];o=s[1];return function t(e){if(n(e))return r(e);if(i(e))return o(e);return e};default:return function t(e){for(var n=0;n<s.length;n++)if(a[n](e))return s[n](e);return e}}}function J(t){var n={};t.forEach(function(e){if(!e.params.some(s))$(e.params,true).forEach(function(t){n[H(t)]=e.fn})});return n}function $(t,l){function u(n,e,i){if(e<n.length){var t=n[e];var r=l?t.types.filter(p):t.types;var o;if(t.restParam){var a=r.filter(p);o=a.length<r.length?[a,r]:[r]}else o=r.map(function(t){return[t]});return et(o,function(t){return u(n,e+1,i.concat([t]))})}else{var s=i.map(function(t,e){return{types:t,restParam:e===n.length-1&&G(n)}});return[s]}}return u(t,0,[])}function Q(t,e){var n=Math.max(t.params.length,e.params.length);for(var i=0;i<n;i++){var r=c(t,i,true);var o=c(e,i,true);if(!N(r,o))return false}var a=t.params.length;var s=e.params.length;var l=G(t.params);var u=G(e.params);return l?u?a===s:s>=a:u?a>=s:a===s}function b(n,e){if(Object.keys(e).length===0)throw new SyntaxError("No signatures provided");var i=[];Object.keys(e).map(function(t){return W(t,e[t],F.conversions)}).filter(K).forEach(function(e){var t=tt(i,function(t){return Q(t,e)});if(t)throw new TypeError('Conflicting signatures "'+H(t.params)+'" and "'+H(e.params)+'".');i.push(e)});var r=et(i,function(e){var t=e?$(e.params,false):[];return t.map(function(t){return{params:t,fn:e.fn}})}).filter(K);r.sort(X);var t=r[0]&&r[0].params.length<=2&&!G(r[0].params);var o=r[1]&&r[1].params.length<=2&&!G(r[1].params);var a=r[2]&&r[2].params.length<=2&&!G(r[2].params);var s=r[3]&&r[3].params.length<=2&&!G(r[3].params);var l=r[4]&&r[4].params.length<=2&&!G(r[4].params);var u=r[5]&&r[5].params.length<=2&&!G(r[5].params);var c=t&&o&&a&&s&&l&&u;var h=r.map(function(t){return Z(t.params)});var d=t?U(r[0].params[0]):nt;var f=o?U(r[1].params[0]):nt;var p=a?U(r[2].params[0]):nt;var g=s?U(r[3].params[0]):nt;var m=l?U(r[4].params[0]):nt;var y=u?U(r[5].params[0]):nt;var v=t?U(r[0].params[1]):nt;var x=o?U(r[1].params[1]):nt;var _=a?U(r[2].params[1]):nt;var b=s?U(r[3].params[1]):nt;var w=l?U(r[4].params[1]):nt;var M=u?U(r[5].params[1]):nt;var A=r.map(function(t){return q(t.params,t.fn)});var I=t?A[0]:it;var C=o?A[1]:it;var S=a?A[2]:it;var T=s?A[3]:it;var D=l?A[4]:it;var N=u?A[5]:it;var L=t?r[0].params.length:-1;var k=o?r[1].params.length:-1;var E=a?r[2].params.length:-1;var O=s?r[3].params.length:-1;var P=l?r[4].params.length:-1;var z=u?r[5].params.length:-1;var j=c?6:0;var Y=r.length;var R=function t(){"use strict";for(var e=j;e<Y;e++)if(h[e](arguments))return A[e].apply(null,arguments);throw V(n,arguments,r)};var B=function t(e,n){"use strict";if(arguments.length===L&&d(e)&&v(n))return I.apply(null,arguments);if(arguments.length===k&&f(e)&&x(n))return C.apply(null,arguments);if(arguments.length===E&&p(e)&&_(n))return S.apply(null,arguments);if(arguments.length===O&&g(e)&&b(n))return T.apply(null,arguments);if(arguments.length===P&&m(e)&&w(n))return D.apply(null,arguments);if(arguments.length===z&&y(e)&&M(n))return N.apply(null,arguments);return R.apply(null,arguments)};try{Object.defineProperty(B,"name",{value:n})}catch(t){}B.signatures=J(r);return B}function w(t){return F.ignore.indexOf(t)===-1}function M(t){return t.trim()}function A(t){return!!t}function K(t){return t!==null}function I(t){return t.types.length===0}function C(t){return t.slice(0,t.length-1)}function S(t){return t[t.length-1]}function T(t,e,n){return Array.prototype.slice.call(t,e,n)}function D(t,e){return t.indexOf(e)!==-1}function N(t,e){for(var n=0;n<t.length;n++)if(D(e,t[n]))return true;return false}function tt(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return t[n];return undefined}function L(t){var e={};for(var n=0;n<t.length;n++)e[t[n]]=true;return Object.keys(e)}function et(t,e){return Array.prototype.concat.apply([],t.map(e))}function k(t){var e="";for(var n=0;n<t.length;n++){var i=t[n];if((typeof i.signatures==="object"||typeof i.signature==="string")&&i.name!=="")if(e==="")e=i.name;else if(e!==i.name){var r=new Error("Function names do not match (expected: "+e+", actual: "+i.name+")");r.data={actual:i.name,expected:e};throw r}}return e}function E(t){var n;var i={};function e(t,e){if(i.hasOwnProperty(t)&&e!==i[t]){n=new Error('Signature "'+t+'" is defined twice');n.data={signature:t};throw n}}for(var r=0;r<t.length;r++){var o=t[r];if(typeof o.signatures==="object"){for(var a in o.signatures)if(o.signatures.hasOwnProperty(a)){e(a,o.signatures[a]);i[a]=o.signatures[a]}}else if(typeof o.signature==="string"){e(o.signature,o);i[o.signature]=o}else{n=new TypeError("Function is no typed-function (index: "+r+")");n.data={index:r};throw n}}return i}F=b("typed",{"string, Object":b,Object:function(t){var e=[];for(var n in t)if(t.hasOwnProperty(n))e.push(t[n]);var i=k(e);return b(i,t)},"...Function":function(t){return b(k(t),E(t))},"string, ...Function":function(t,e){return b(t,E(e))}});F.create=P;F.types=t;F.conversions=n;F.ignore=e;F.convert=o;F.find=r;F.addType=function(t,e){if(!t||typeof t.name!=="string"||typeof t.test!=="function")throw new TypeError("Object with properties {name: string, test: function} expected");if(e!==false)for(var n=0;n<F.types.length;n++)if(F.types[n].name==="Object"){F.types.splice(n,0,t);return}F.types.push(t)};F.addConversion=function(t){if(!t||typeof t.from!=="string"||typeof t.to!=="string"||typeof t.convert!=="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");F.conversions.push(t)};return F}return P()})?i.apply(e,[]):i)||(t.exports=i)},function(t,e){function n(){}n.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function r(){i.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,r=n.length;i<r;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],r=[];if(i&&e)for(var o=0,a=i.length;o<a;o++)i[o].fn!==e&&i[o].fn._!==e&&r.push(i[o]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},function(t,e,n){"use strict";function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var y=n(5).lazy,v=n(5).isFactory,x=n(5).traverse,_=n(56);e.math=!0,e.name="import",e.factory=function(s,t,l,u,c){function h(t,e){e&&"function"==typeof e.transform?(c.expression.transform[t]=e.transform,n(t)&&(c.expression.mathWithTransform[t]=e.transform)):(delete c.expression.transform[t],n(t)&&(c.expression.mathWithTransform[t]=e))}function d(t){delete c.expression.transform[t],n(t)?c.expression.mathWithTransform[t]=c[t]:delete c.expression.mathWithTransform[t]}function f(e,n){var i,t,r,o,a;"string"==typeof e.name?(t=(i=e.name)in c.expression.transform,r=e.path?x(c,e.path):c,o=r.hasOwnProperty(i)?r[i]:void 0,!(a=function(){var t=l(e);if(t&&"function"==typeof t.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(p(o)&&p(t))return t=!n.override?u(o,t):t;if(void 0===o||n.override)return t;if(!n.silent)throw new Error('Cannot import "'+i+'": already exists')})!==e.lazy?(y(r,i,a),t?d(i):"expression.transform"!==e.path&&!g(e)||y(c.expression.mathWithTransform,i,a)):(r[i]=a(),t?d(i):"expression.transform"!==e.path&&!g(e)||(c.expression.mathWithTransform[i]=a())),c.emit("import",i,a,e.path)):l(e)}function p(t){return"function"==typeof t&&"object"===m(t.signatures)}function n(t){return!e.hasOwnProperty(t)}function g(t){return void 0===t.path&&!e.hasOwnProperty(t.name)}var e={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return function e(t,n){var i,r,o=arguments.length;if(1!==o&&2!==o)throw new _("import",o,1,2);if(n=n||{},v(t))f(t,n);else if(Array.isArray(t))t.forEach(function(t){e(t,n)});else if("object"===m(t))for(var a in t)t.hasOwnProperty(a)&&(i=t[a],"function"==typeof(r=i)||"number"==typeof r||"string"==typeof r||"boolean"==typeof r||null===r||r&&s.isUnit(r)||r&&s.isComplex(r)||r&&s.isBigNumber(r)||r&&s.isFraction(r)||r&&s.isMatrix(r)||r&&Array.isArray(r)?function(t,e,n){if(n.wrap&&"function"==typeof e&&(e=function(r){function t(){for(var t=[],e=0,n=arguments.length;e<n;e++){var i=arguments[e];t[e]=i&&i.valueOf()}return r.apply(c,t)}return r.transform&&(t.transform=r.transform),t}(e)),p(c[t])&&p(e))e=n.override?u(t,e.signatures):u(c[t],e),c[t]=e,h(t,e),c.emit("import",t,function(){return e});else if(void 0===c[t]||n.override)c[t]=e,h(t,e),c.emit("import",t,function(){return e});else if(!n.silent)throw new Error('Cannot import "'+t+'": already exists')}(a,i,n):v(t)?f(t,n):e(i,n));else if(!n.silent)throw new TypeError("Factory, Object, or Array expected")}},e.lazy=!0},function(t,e,n){"use strict";var l=n(5);function u(t,e,n){var i;void 0!==t[e]&&(i=t[e],-1===n.indexOf(i))&&(i=t[e],-1!==(i=n.map(function(t){return t.toLowerCase()}).indexOf(i.toLowerCase()))?(console.warn('Warning: Wrong casing for configuration option "'+e+'", should be "'+n[i]+'" instead of "'+t[e]+'".'),t[e]=n[i]):console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+n.map(JSON.stringify).join(", ")+"."))}e.name="config",e.math=!0,e.factory=function(t,i,e,n,r){var o=["Matrix","Array"],a=["number","BigNumber","Fraction"];function s(t){if(t){var e=l.map(i,l.clone);u(t,"matrix",o),u(t,"number",a),l.deepExtend(i,t);var n=l.map(i,l.clone),t=l.map(t,l.clone);return r.emit("config",n,e,t),n}return l.map(i,l.clone)}return s.MATRIX=o,s.NUMBER=a,s}},function(t,e,n){t.exports=[n(162),n(193),n(195),n(352),n(574),n(576)]},function(t,e,n){"use strict";t.exports=[n(163),n(165),n(166),n(170),n(174),n(177),n(64),n(65),n(185),n(186),n(187)]},function(t,e,n){"use strict";t.exports=[n(164),n(100)]},function(t,e,n){"use strict";n.r(e),n.d(e,"factory",function(){return i}),n.d(e,"name",function(){return r}),n.d(e,"path",function(){return o}),n.d(e,"math",function(){return s});var e=n(153),a=n.n(e);function i(t,e,n,i,r){var o=a.a.clone({precision:e.precision});return o.prototype.type="BigNumber",o.prototype.isBigNumber=!0,o.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},o.fromJSON=function(t){return new o(t.value)},r.on("config",function(t,e){t.precision!==e.precision&&o.config({precision:t.precision})}),o}var r="BigNumber",o="type",s=!0},function(t,e,n){"use strict";var o=n(0);e.name="boolean",e.factory=function(t,e,n,i){var r=i("bool",{"":function(){return!1},boolean:function(t){return t},number:function(t){return!!t},null:function(t){return!1},BigNumber:function(t){return!t.isZero()},string:function(t){var e=t.toLowerCase();if("true"===e)return!0;if("false"===e)return!1;e=Number(t);if(""!==t&&!isNaN(e))return!!e;throw new Error('Cannot convert "'+t+'" to a boolean')},"Array | Matrix":function(t){return o(t,r)}});return r}},function(t,e,n){"use strict";t.exports=[n(167),n(169)]},function(t,e,n){"use strict";var l=n(9).format,u=n(5).lazy;e.name="Chain",e.path="type",e.factory=function(e,t,n,i,r){function o(t){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");e.isChain(t)?this.value=t.value:this.value=t}function a(t,e){"function"==typeof e&&(o.prototype[t]=s(e))}function s(n){return function(){for(var t=[this.value],e=0;e<arguments.length;e++)t[e+1]=arguments[e];return new o(n.apply(n,t))}}return o.prototype.type="Chain",o.prototype.isChain=!0,o.prototype.done=function(){return this.value},o.prototype.valueOf=function(){return this.value},o.prototype.toString=function(){return l(this.value)},o.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},o.fromJSON=function(t){return new o(t.value)},(o.createProxy=function(t,e){if("string"==typeof t)a(t,e);else for(var n in t)t.hasOwnProperty(n)&&a(n,t[n])})(r),r.on("import",function(t,e,n){var i;void 0===n&&(i=e,u(o.prototype,t,function(){var t=i();if("function"==typeof t)return s(t)}))}),o},e.math=!0,e.lazy=!1},function(t,s,e){"use strict";var l=e(5);s.format=function(t,e){if("function"==typeof e)return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n,i="auto";switch(void 0!==e&&(e.notation&&(i=e.notation),"number"==typeof e?n=e:e.precision&&(n=e.precision)),i){case"fixed":return s.toFixed(t,n);case"exponential":return s.toExponential(t,n);case"auto":if(e&&e.exponential&&(void 0!==e.exponential.lower||void 0!==e.exponential.upper)){var r=l.map(e,function(t){return t});return(r.exponential=void 0)!==e.exponential.lower&&(r.lowerExp=Math.round(Math.log(e.exponential.lower)/Math.LN10)),void 0!==e.exponential.upper&&(r.upperExp=Math.round(Math.log(e.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(e)+" with "+JSON.stringify(r)),s.format(t,r)}var o=e&&void 0!==e.lowerExp?e.lowerExp:-3,a=e&&void 0!==e.upperExp?e.upperExp:5;if(t.isZero())return"0";r=t.abs().logarithm();return(r.gte(o)&&r.lt(a)?t.toSignificantDigits(n).toFixed():s.toExponential(t,n)).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},s.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},s.toFixed=function(t,e){return t.toFixed(e)}},function(t,e,n){"use strict";e.name="chain",e.factory=function(e,t,n,i){return i("chain",{"":function(){return new e.Chain},any:function(t){return new e.Chain(t)}})}},function(t,e,n){"use strict";t.exports=[n(80),n(172)]},function(t,e,n){var o;!function(){"use strict";function i(t){return.5*(Math.exp(t)+Math.exp(-t))}function r(t){return.5*(Math.exp(t)-Math.exp(-t))}var l=function(){throw SyntaxError("Invalid Param")};function a(t,e){var n=Math.abs(t),i=Math.abs(e);return 0===t?Math.log(i):0===e?Math.log(n):n<3e3&&i<3e3?.5*Math.log(t*t+e*e):Math.log(t/Math.cos(Math.atan2(e,t)))}function n(t,e){var n={re:0,im:0};if(null==t)n.re=n.im=0;else if(void 0!==e)n.re=t,n.im=e;else switch(typeof t){case"object":if("im"in t&&"re"in t)n.re=t.re,n.im=t.im;else if("abs"in t&&"arg"in t){if(!Number.isFinite(t.abs)&&Number.isFinite(t.arg))return u.INFINITY;n.re=t.abs*Math.cos(t.arg),n.im=t.abs*Math.sin(t.arg)}else if("r"in t&&"phi"in t){if(!Number.isFinite(t.r)&&Number.isFinite(t.phi))return u.INFINITY;n.re=t.r*Math.cos(t.phi),n.im=t.r*Math.sin(t.phi)}else 2===t.length?(n.re=t[0],n.im=t[1]):l();break;case"string":n.im=n.re=0;var i=t.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),r=1,o=0;null===i&&l();for(var a=0;a<i.length;a++){var s=i[a];" "===s||"\t"===s||"\n"===s||("+"===s?r++:"-"===s?o++:r=o=("i"===s||"I"===s?(r+o===0&&l()," "===i[a+1]||isNaN(i[a+1])?n.im+=parseFloat((o%2?"-":"")+"1"):(n.im+=parseFloat((o%2?"-":"")+i[a+1]),a++)):(r+o!==0&&!isNaN(s)||l(),"i"===i[a+1]||"I"===i[a+1]?(n.im+=parseFloat((o%2?"-":"")+s),a++):n.re+=parseFloat((o%2?"-":"")+s)),0))}0<r+o&&l();break;case"number":n.im=0,n.re=t;break;default:l()}return isNaN(n.re)||isNaN(n.im),n}function u(t,e){if(!(this instanceof u))return new u(t,e);e=n(t,e);this.re=e.re,this.im=e.im}u.prototype={re:0,im:0,sign:function(){var t=this.abs();return new u(this.re/t,this.im/t)},add:function(t,e){e=new u(t,e);return this.isInfinite()&&e.isInfinite()?u.NAN:this.isInfinite()||e.isInfinite()?u.INFINITY:new u(this.re+e.re,this.im+e.im)},sub:function(t,e){e=new u(t,e);return this.isInfinite()&&e.isInfinite()?u.NAN:this.isInfinite()||e.isInfinite()?u.INFINITY:new u(this.re-e.re,this.im-e.im)},mul:function(t,e){e=new u(t,e);return this.isInfinite()&&e.isZero()||this.isZero()&&e.isInfinite()?u.NAN:this.isInfinite()||e.isInfinite()?u.INFINITY:0===e.im&&0===this.im?new u(this.re*e.re,0):new u(this.re*e.re-this.im*e.im,this.re*e.im+this.im*e.re)},div:function(t,e){var n=new u(t,e);if(this.isZero()&&n.isZero()||this.isInfinite()&&n.isInfinite())return u.NAN;if(this.isInfinite()||n.isZero())return u.INFINITY;if(this.isZero()||n.isInfinite())return u.ZERO;t=this.re,e=this.im;var i,r,o=n.re,n=n.im;return 0===n?new u(t/o,e/o):Math.abs(o)<Math.abs(n)?new u((t*(r=o/n)+e)/(i=o*r+n),(e*r-t)/i):new u((t+e*(r=n/o))/(i=n*r+o),(e-t*r)/i)},pow:function(t,e){var n=new u(t,e);if(t=this.re,e=this.im,n.isZero())return u.ONE;if(0===n.im){if(0===e&&0<=t)return new u(Math.pow(t,n.re),0);if(0===t)switch((n.re%4+4)%4){case 0:return new u(Math.pow(e,n.re),0);case 1:return new u(0,Math.pow(e,n.re));case 2:return new u(-Math.pow(e,n.re),0);case 3:return new u(0,-Math.pow(e,n.re))}}if(0===t&&0===e&&0<n.re&&0<=n.im)return u.ZERO;var i=Math.atan2(e,t),r=a(t,e);return t=Math.exp(n.re*r-n.im*i),e=n.im*r+n.re*i,new u(t*Math.cos(e),t*Math.sin(e))},sqrt:function(){var t,e=this.re,n=this.im,i=this.abs();if(0<=e){if(0===n)return new u(Math.sqrt(e),0);t=.5*Math.sqrt(2*(i+e))}else t=Math.abs(n)/Math.sqrt(2*(i-e));return e=e<=0?.5*Math.sqrt(2*(i-e)):Math.abs(n)/Math.sqrt(2*(i+e)),new u(t,n<0?-e:e)},exp:function(){var t=Math.exp(this.re);return this.im,new u(t*Math.cos(this.im),t*Math.sin(this.im))},expm1:function(){var t=this.re,e=this.im;return new u(Math.expm1(t)*Math.cos(e)+function(t){var e=Math.PI/4;if(t<-e||e<t)return Math.cos(t)-1;t*=t;return t*(t*(1/24+t*(-1/720+t*(1/40320+t*(-1/3628800+t*(1/4790014600+t*(-1/87178291200+1/20922789888e3*t))))))-.5)}(e),Math.exp(t)*Math.sin(e))},log:function(){var t=this.re,e=this.im;return new u(a(t,e),Math.atan2(e,t))},abs:function(){return t=this.re,e=this.im,n=Math.abs(t),i=Math.abs(e),n<3e3&&i<3e3?Math.sqrt(n*n+i*i):(i=n<i?(n=i,t/e):e/t,n*Math.sqrt(1+i*i));var t,e,n,i},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var t=this.re,e=this.im;return new u(Math.sin(t)*i(e),Math.cos(t)*r(e))},cos:function(){var t=this.re,e=this.im;return new u(Math.cos(t)*i(e),-Math.sin(t)*r(e))},tan:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)+i(e);return new u(Math.sin(t)/n,r(e)/n)},cot:function(){var t=2*this.re,e=2*this.im,n=Math.cos(t)-i(e);return new u(-Math.sin(t)/n,r(e)/n)},sec:function(){var t=this.re,e=this.im,n=.5*i(2*e)+.5*Math.cos(2*t);return new u(Math.cos(t)*i(e)/n,Math.sin(t)*r(e)/n)},csc:function(){var t=this.re,e=this.im,n=.5*i(2*e)-.5*Math.cos(2*t);return new u(Math.sin(t)*i(e)/n,-Math.cos(t)*r(e)/n)},asin:function(){var t=this.re,e=this.im,n=new u(e*e-t*t+1,-2*t*e).sqrt(),t=new u(n.re-e,n.im+t).log();return new u(t.im,-t.re)},acos:function(){var t=this.re,e=this.im,n=new u(e*e-t*t+1,-2*t*e).sqrt(),t=new u(n.re-e,n.im+t).log();return new u(Math.PI/2-t.im,t.re)},atan:function(){var t=this.re,e=this.im;if(0===t){if(1===e)return new u(0,1/0);if(-1===e)return new u(0,-1/0)}var n=t*t+(1-e)*(1-e),n=new u((1-e*e-t*t)/n,-2*t/n).log();return new u(-.5*n.im,.5*n.re)},acot:function(){var t=this.re,e=this.im;if(0===e)return new u(Math.atan2(1,t),0);var n=t*t+e*e;return(0!=n?new u(t/n,-e/n):new u(0!==t?t/0:0,0!==e?-e/0:0)).atan()},asec:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(0,1/0);var n=t*t+e*e;return(0!=n?new u(t/n,-e/n):new u(0!==t?t/0:0,0!==e?-e/0:0)).acos()},acsc:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(Math.PI/2,1/0);var n=t*t+e*e;return(0!=n?new u(t/n,-e/n):new u(0!==t?t/0:0,0!==e?-e/0:0)).asin()},sinh:function(){var t=this.re,e=this.im;return new u(r(t)*Math.cos(e),i(t)*Math.sin(e))},cosh:function(){var t=this.re,e=this.im;return new u(i(t)*Math.cos(e),r(t)*Math.sin(e))},tanh:function(){var t=2*this.re,e=2*this.im,n=i(t)+Math.cos(e);return new u(r(t)/n,Math.sin(e)/n)},coth:function(){var t=2*this.re,e=2*this.im,n=i(t)-Math.cos(e);return new u(r(t)/n,-Math.sin(e)/n)},csch:function(){var t=this.re,e=this.im,n=Math.cos(2*e)-i(2*t);return new u(-2*r(t)*Math.cos(e)/n,2*i(t)*Math.sin(e)/n)},sech:function(){var t=this.re,e=this.im,n=Math.cos(2*e)+i(2*t);return new u(2*i(t)*Math.cos(e)/n,-2*r(t)*Math.sin(e)/n)},asinh:function(){var t=this.im;this.im=-this.re,this.re=t;var e=this.asin();return this.re=-this.im,this.im=t,t=e.re,e.re=-e.im,e.im=t,e},acosh:function(){var t,e=this.acos();return e.im<=0?(t=e.re,e.re=-e.im,e.im=t):(t=e.im,e.im=-e.re,e.re=t),e},atanh:function(){var t=this.re,e=this.im,n=1<t&&0===e,i=1-t,r=1+t,o=i*i+e*e,t=0!=o?new u((r*i-e*e)/o,(e*i+r*e)/o):new u(-1!==t?t/0:0,0!==e?e/0:0),e=t.re;return t.re=a(t.re,t.im)/2,t.im=Math.atan2(t.im,e)/2,n&&(t.im=-t.im),t},acoth:function(){var t=this.re,e=this.im;if(0===t&&0===e)return new u(0,Math.PI/2);var n=t*t+e*e;return(0!=n?new u(t/n,-e/n):new u(0!==t?t/0:0,0!==e?-e/0:0)).atanh()},acsch:function(){var t=this.re,e=this.im;if(0===e)return new u(0!==t?Math.log(t+Math.sqrt(t*t+1)):1/0,0);var n=t*t+e*e;return(0!=n?new u(t/n,-e/n):new u(0!==t?t/0:0,0!==e?-e/0:0)).asinh()},asech:function(){var t=this.re,e=this.im;if(this.isZero())return u.INFINITY;var n=t*t+e*e;return(0!=n?new u(t/n,-e/n):new u(0!==t?t/0:0,0!==e?-e/0:0)).acosh()},inverse:function(){if(this.isZero())return u.INFINITY;if(this.isInfinite())return u.ZERO;var t=this.re,e=this.im,n=t*t+e*e;return new u(t/n,-e/n)},conjugate:function(){return new u(this.re,-this.im)},neg:function(){return new u(-this.re,-this.im)},ceil:function(t){return t=Math.pow(10,t||0),new u(Math.ceil(this.re*t)/t,Math.ceil(this.im*t)/t)},floor:function(t){return t=Math.pow(10,t||0),new u(Math.floor(this.re*t)/t,Math.floor(this.im*t)/t)},round:function(t){return t=Math.pow(10,t||0),new u(Math.round(this.re*t)/t,Math.round(this.im*t)/t)},equals:function(t,e){e=new u(t,e);return Math.abs(e.re-this.re)<=u.EPSILON&&Math.abs(e.im-this.im)<=u.EPSILON},clone:function(){return new u(this.re,this.im)},toString:function(){var t=this.re,e=this.im,n="";return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==t&&(n+=t),0!==e&&(0!==t?n+=e<0?" - ":" + ":e<0&&(n+="-"),1!==(e=Math.abs(e))&&(n+=e),n+="i"),n||"0")},toVector:function(){return[this.re,this.im]},valueOf:function(){return 0===this.im?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return!(0!==this.re&&-0!==this.re||0!==this.im&&-0!==this.im)},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},u.ZERO=new u(0,0),u.ONE=new u(1,0),u.I=new u(0,1),u.PI=new u(Math.PI,0),u.E=new u(Math.E,0),u.INFINITY=new u(1/0,1/0),u.NAN=new u(NaN,NaN),u.EPSILON=1e-16,void 0===(o=function(){return u}.apply(e,[]))||(t.exports=o)}()},function(t,e,a){"use strict";var s=a(0);e.name="complex",e.factory=function(n,t,e,i){var r=a(4),o=i("complex",{"":function(){return n.Complex.ZERO},number:function(t){return new n.Complex(t,0)},"number, number":function(t,e){return new n.Complex(t,e)},"BigNumber, BigNumber":function(t,e){return new n.Complex(t.toNumber(),e.toNumber())},Complex:function(t){return t.clone()},string:function(t){return n.Complex(t)},null:function(t){return n.Complex(0)},Object:function(t){if("re"in t&&"im"in t)return new n.Complex(t.re,t.im);if("r"in t&&"phi"in t||"abs"in t&&"arg"in t)return new n.Complex(t);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(t){return s(t,o)}});return o.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(r.symbols.i,"\\cdot\\left(${args[1]}\\right)\\right)")},o}},function(t,e,n){"use strict";function s(t,e){return l({},t,e)}var l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},u={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},c={"":"\\--","":"\\---"," ":"~","\t":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"};t.exports=function(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=e.preserveFormatting,n=void 0!==n&&n,e=e.escapeMapFn,e=void 0===e?s:e,i=String(t),r="",o=e(l({},u),n?l({},c):{}),a=Object.keys(o);i;)!function(){var n=!1;a.forEach(function(t,e){n||i.length>=t.length&&i.slice(0,t.length)===t&&(r+=o[a[e]],i=i.slice(t.length,i.length),n=!0)}),n||(r+=i.slice(0,1),i=i.slice(1,i.length))}();return r}},function(t,e,n){"use strict";t.exports=[n(175),n(81)]},function(t,e,n){"use strict";var r=n(176);r.prototype.type="Fraction",r.prototype.isFraction=!0,r.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},r.fromJSON=function(t){return new r(t)},e.name="Fraction",e.path="type",e.factory=function(t,e,n,i){return r}},function(i,r,t){var o;!function(){"use strict";var g={s:1,n:0,d:1};function t(e){function t(){var t=Error.apply(this,arguments);t.name=this.name=e,this.stack=t.stack,this.message=t.message}function n(){}return n.prototype=Error.prototype,t.prototype=new n,t}var m=u.DivisionByZero=t("DivisionByZero"),e=u.InvalidParameter=t("InvalidParameter");function y(t,e){return isNaN(t=parseInt(t,10))&&v(),t*e}function v(){throw new e}var n=function(t,e){var n,i=0,r=1,o=1,a=0,s=0,l=0,u=1,c=1,h=0,d=1,f=1,p=1;if(null!=t)if(void 0!==e)o=(i=t)*(r=e);else switch(typeof t){case"object":"d"in t&&"n"in t?(i=t.n,r=t.d,"s"in t&&(i*=t.s)):0 in t?(i=t[0],1 in t&&(r=t[1])):v(),o=i*r;break;case"number":if((t=t<0?-(o=t):t)%1==0)i=t;else if(0<t){for(1<=t&&(t/=c=Math.pow(10,Math.floor(1+Math.log(t)/Math.LN10)));d<=1e7&&p<=1e7;){if(t===(n=(h+f)/(d+p))){r=d+p<=1e7?(i=h+f,d+p):d<p?(i=f,p):(i=h,d);break}n<t?(h+=f,d+=p):(f+=h,p+=d),r=1e7<d?(i=f,p):(i=h,d)}i*=c}else(isNaN(t)||isNaN(e))&&(r=i=NaN);break;case"string":if(null===(d=t.match(/\d+|./g))&&v(),"-"===d[h]?(o=-1,h++):"+"===d[h]&&h++,d.length===h+1?s=y(d[h++],o):"."===d[h+1]||"."===d[h]?("."!==d[h]&&(a=y(d[h++],o)),(++h+1===d.length||"("===d[h+1]&&")"===d[h+3]||"'"===d[h+1]&&"'"===d[h+3])&&(s=y(d[h],o),u=Math.pow(10,d[h].length),h++),("("===d[h]&&")"===d[h+2]||"'"===d[h]&&"'"===d[h+2])&&(l=y(d[h+1],o),c=Math.pow(10,d[h+1].length)-1,h+=3)):"/"===d[h+1]||":"===d[h+1]?(s=y(d[h],o),u=y(d[h+2],1),h+=3):"/"===d[h+3]&&" "===d[h+1]&&(a=y(d[h],o),s=y(d[h+2],o),u=y(d[h+4],1),h+=5),d.length<=h){o=i=l+(r=u*c)*a+c*s;break}default:v()}if(0===r)throw new m;g.s=o<0?-1:1,g.n=Math.abs(i),g.d=Math.abs(r)};function s(t,e,n){for(var i=1,r=function(t,e,n){for(var i=1;0<e;t=t*t%n,e>>=1)1&e&&(i=i*t%n);return i}(10,n,e),o=0;o<300;o++){if(i===r)return o;i=10*i%e,r=10*r%e}return 0}function l(t,e){if(!t)return e;if(!e)return t;for(;;){if(!(t%=e))return e;if(!(e%=t))return t}}function u(t,e){if(!(this instanceof u))return new u(t,e);n(t,e),t=u.REDUCE?l(g.d,g.n):1,this.s=g.s,this.n=g.n/t,this.d=g.d/t}u.REDUCE=1,u.prototype={s:1,n:0,d:1,abs:function(){return new u(this.n,this.d)},neg:function(){return new u(-this.s*this.n,this.d)},add:function(t,e){return n(t,e),new u(this.s*this.n*g.d+g.s*this.d*g.n,this.d*g.d)},sub:function(t,e){return n(t,e),new u(this.s*this.n*g.d-g.s*this.d*g.n,this.d*g.d)},mul:function(t,e){return n(t,e),new u(this.s*g.s*this.n*g.n,this.d*g.d)},div:function(t,e){return n(t,e),new u(this.s*g.s*this.n*g.d,this.d*g.n)},clone:function(){return new u(this)},mod:function(t,e){return isNaN(this.n)||isNaN(this.d)?new u(NaN):void 0===t?new u(this.s*this.n%this.d,1):(n(t,e),0===g.n&&0===this.d&&u(0,0),new u(this.s*(g.d*this.n)%(g.n*this.d),g.d*this.d))},gcd:function(t,e){return n(t,e),new u(l(g.n,this.n)*l(g.d,this.d),g.d*this.d)},lcm:function(t,e){return n(t,e),0===g.n&&0===this.n?new u:new u(g.n*this.n,l(g.n,this.n)*l(g.d,this.d))},ceil:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.ceil(t*this.s*this.n/this.d),t)},floor:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.floor(t*this.s*this.n/this.d),t)},round:function(t){return t=Math.pow(10,t||0),isNaN(this.n)||isNaN(this.d)?new u(NaN):new u(Math.round(t*this.s*this.n/this.d),t)},inverse:function(){return new u(this.s*this.d,this.n)},pow:function(t){return t<0?new u(Math.pow(this.s*this.d,-t),Math.pow(this.n,-t)):new u(Math.pow(this.s*this.n,t),Math.pow(this.d,t))},equals:function(t,e){return n(t,e),this.s*this.n*g.d==g.s*g.n*this.d},compare:function(t,e){n(t,e);e=this.s*this.n*g.d-g.s*g.n*this.d;return(0<e)-(e<0)},simplify:function(t){if(isNaN(this.n)||isNaN(this.d))return this;var e=this.abs().toContinued();t=t||.001;for(var n=0;n<e.length;n++){var i=function t(e){return 1===e.length?new u(e[0]):t(e.slice(1)).inverse().add(e[0])}(e.slice(0,n+1));if(i.sub(this.abs()).abs().valueOf()<t)return i.mul(this.s)}return this},divisible:function(t,e){return n(t,e),!(!(g.n*this.d)||this.n*g.d%(g.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(t){var e,n="",i=this.n,r=this.d;return this.s<0&&(n+="-"),1===r?n+=i:(t&&0<(e=Math.floor(i/r))&&(n+=e,n+=" ",i%=r),n+=i,n+="/",n+=r),n},toLatex:function(t){var e,n="",i=this.n,r=this.d;return this.s<0&&(n+="-"),1===r?n+=i:(t&&0<(e=Math.floor(i/r))&&(n+=e,i%=r),n+="\\frac{",n+=i,n+="}{",n+=r,n+="}"),n},toContinued:function(){var t,e=this.n,n=this.d,i=[];if(isNaN(this.n)||isNaN(this.d))return i;for(;i.push(Math.floor(e/n)),t=e%n,e=n,n=t,1!==e;);return i},toString:function(t){var e=this.n,n=this.d;if(isNaN(e)||isNaN(n))return"NaN";u.REDUCE||(e/=r=l(e,n),n/=r),t=t||15;var i=function(t){for(;t%2==0;t/=2);for(;t%5==0;t/=5);if(1===t)return 0;for(var e=10%t,n=1;1!==e;n++)if(e=10*e%t,2e3<n)return 0;return n}(n),r=s(0,n,i),o=-1===this.s?"-":"";if(o+=e/n|0,e%=n,(e*=10)&&(o+="."),i){for(var a=r;a--;)o+=e/n|0,e%=n,e*=10;o+="(";for(a=i;a--;)o+=e/n|0,e%=n,e*=10;o+=")"}else for(a=t;e&&a--;)o+=e/n|0,e%=n,e*=10;return o}},void 0===(o=function(){return u}.apply(r,[]))||(i.exports=o)}()},function(t,e,n){"use strict";t.exports=[n(82),n(48),n(179),n(180),n(181),n(182),n(28),n(101),n(183),n(1),n(184),n(63)]},function(t,e,n){"use strict";e.isBoolean=function(t){return"boolean"==typeof t}},function(t,e,a){"use strict";var s=a(30),x=a(8),_=s.array,A=s.object,I=s.string,C=s.number,S=Array.isArray,T=C.isNumber,D=C.isInteger,N=I.isString,L=_.validateIndex;e.name="SparseMatrix",e.path="type",e.factory=function(v,t,e,b){var n=e(a(82)),w=e(a(11)),i=e(a(63));function M(t,e){if(!(this instanceof M))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!N(e))throw new Error("Invalid datatype: "+e);if(v.isMatrix(t))n=this,r=e,"SparseMatrix"===(i=t).type?(n._values=i._values?A.clone(i._values):void 0,n._index=A.clone(i._index),n._ptr=A.clone(i._ptr),n._size=A.clone(i._size),n._datatype=r||i._datatype):o(n,i.valueOf(),r||i._datatype);else if(t&&S(t.index)&&S(t.ptr)&&S(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(S(t))o(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+s.types.type(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}var n,i,r}function o(t,e,n){t._values=[],t._index=[],t._ptr=[],t._datatype=n;var i=e.length,r=0,o=w,a=0;if(N(n)&&(o=b.find(w,[n,n])||w,a=b.convert(0,n)),0<i){var s=0;do{t._ptr.push(t._index.length);for(var l=0;l<i;l++){var u,c=e[l];S(c)?(0===s&&r<c.length&&(r=c.length),s<c.length&&(o(u=c[s],a)||(t._values.push(u),t._index.push(l)))):(0===s&&r<1&&(r=1),o(c,a)||(t._values.push(c),t._index.push(l)))}}while(++s<r)}t._ptr.push(t._index.length),t._size=[i,r]}function m(t,e,n,i){if(n-e==0)return n;for(var r=e;r<n;r++)if(i[r]===t)return r;return e}function y(t,e,n,i,r,o,a){r.splice(t,0,i),o.splice(t,0,e);for(var s=n+1;s<a.length;s++)a[s]++}function l(t,e,n,i){var r=i||0,o=w,i=0;N(t._datatype)&&(o=b.find(w,[t._datatype,t._datatype])||w,i=b.convert(0,t._datatype),r=b.convert(r,t._datatype));var a=!o(r,i),s=t._size[0],l=t._size[1];if(l<n){for(c=l;c<n;c++)if(t._ptr[c]=t._values.length,a)for(f=0;f<s;f++)t._values.push(r),t._index.push(f);t._ptr[n]=t._values.length}else n<l&&(t._ptr.splice(n+1,l-n),t._values.splice(t._ptr[n],t._values.length),t._index.splice(t._ptr[n],t._index.length));if(l=n,s<e){if(a){for(var u=0,c=0;c<l;c++){t._ptr[c]=t._ptr[c]+u;for(var h=t._ptr[c+1]+u,d=0,f=s;f<e;f++,d++)t._values.splice(h+d,0,r),t._index.splice(h+d,0,f),u++}t._ptr[l]=t._values.length}}else if(e<s){var p=0;for(c=0;c<l;c++){t._ptr[c]=t._ptr[c]-p;var g=t._ptr[c],m=t._ptr[c+1]-p;for(h=g;h<m;h++)e-1<(f=t._index[h])&&(t._values.splice(h,1),t._index.splice(h,1),p++)}t._ptr[c]=t._values.length}return t._size[0]=e,t._size[1]=n,t}function r(t,e,n,i,r){for(var o,a=i[0],s=i[1],l=[],u=0;u<a;u++)for(l[u]=[],o=0;o<s;o++)l[u][o]=0;for(o=0;o<s;o++)for(var c=n[o],h=n[o+1],d=c;d<h;d++)l[u=e[d]][o]=t?r?A.clone(t[d]):t[d]:1;return l}return(M.prototype=new n).type="SparseMatrix",M.prototype.isSparseMatrix=!0,M.prototype.getDataType=function(){return i(this._values)},M.prototype.storage=function(){return"sparse"},M.prototype.datatype=function(){return this._datatype},M.prototype.create=function(t,e){return new M(t,e)},M.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},M.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(t,e){if(!v.isIndex(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n,i,r,o,a=e.size();if(a.length!==t._size.length)throw new x(a.length,t._size.length);var s=e.min(),l=e.max();for(n=0,i=t._size.length;n<i;n++)L(s[n],t._size[n]),L(l[n],t._size[n]);var u=t._values,c=t._index,h=t._ptr,d=e.dimension(0),e=e.dimension(1),f=[],p=[];d.forEach(function(t,e){p[t]=e[0],f[t]=!0});var g=u?[]:void 0,m=[],y=[];return e.forEach(function(t){for(y.push(m.length),r=h[t],o=h[t+1];r<o;r++)n=c[r],!0===f[n]&&(m.push(p[n]),g&&g.push(u[r]))}),y.push(m.length),new M({values:g,index:m,ptr:y,size:a,datatype:t._datatype})}(this,t);case 2:case 3:return function(t,e,n,i){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var r,o=e.size(),a=e.isScalar();v.isMatrix(n)?(r=n.size(),n=n.toArray()):r=_.size(n);if(a){if(0!==r.length)throw new TypeError("Scalar expected");t.set(e.min(),n,i)}else{if(1!==o.length&&2!==o.length)throw new x(o.length,t._size.length,"<");if(r.length<o.length){for(var s=0,l=0;1===o[s]&&1===r[s];)s++;for(;1===o[s];)l++,s++;n=_.unsqueeze(n,o.length,l,r)}if(!A.deepEqual(o,r))throw new x(o,r,">");for(var u=e.min()[0],c=e.min()[1],h=r[0],d=r[1],f=0;f<h;f++)for(var p=0;p<d;p++){var g=n[f][p];t.set([f+u,p+c],g,i)}}return t}(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},M.prototype.get=function(t){if(!S(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new x(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];L(e,this._size[0]),L(n,this._size[1]);t=m(e,this._ptr[n],this._ptr[n+1],this._index);return t<this._ptr[n+1]&&this._index[t]===e?this._values[t]:0},M.prototype.set=function(t,e,n){if(!S(t))throw new TypeError("Array expected");if(t.length!==this._size.length)throw new x(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var i=t[0],r=t[1],o=this._size[0],a=this._size[1],s=w,t=0;N(this._datatype)&&(s=b.find(w,[this._datatype,this._datatype])||w,t=b.convert(0,this._datatype)),(o-1<i||a-1<r)&&(l(this,Math.max(i+1,o),Math.max(r+1,a),n),o=this._size[0],a=this._size[1]),L(i,o),L(r,a);a=m(i,this._ptr[r],this._ptr[r+1],this._index);return a<this._ptr[r+1]&&this._index[a]===i?s(e,t)?function(t,e,n,i,r){n.splice(t,1),i.splice(t,1);for(var o=e+1;o<r.length;o++)r[o]--}(a,r,this._values,this._index,this._ptr):this._values[a]=e:y(a,i,r,e,this._values,this._index,this._ptr),this},M.prototype.resize=function(e,t,n){if(!S(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");return e.forEach(function(t){if(!C.isNumber(t)||!C.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+I.format(e)+")")}),l(n?this.clone():this,e[0],e[1],t)},M.prototype.reshape=function(e,t){if(!S(e))throw new TypeError("Array expected");if(2!==e.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(e.forEach(function(t){if(!C.isNumber(t)||!C.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+I.format(e)+")")}),this._size[0]*this._size[1]!=e[0]*e[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var n=t?this.clone():this;if(this._size[0]===e[0]&&this._size[1]===e[1])return n;for(var i=[],r=0;r<n._ptr.length;r++)for(var o=0;o<n._ptr[r+1]-n._ptr[r];o++)i.push(r);for(var a=n._values.slice(),s=n._index.slice(),l=0;l<n._index.length;l++){var u=s[l],c=i[l],c=u*n._size[1]+c;i[l]=c%e[1],s[l]=Math.floor(c/e[1])}n._values.length=0,n._index.length=0,n._ptr.length=e[1]+1,n._size=e.slice();for(var h=0;h<n._ptr.length;h++)n._ptr[h]=0;for(var d=0;d<a.length;d++){var f=s[d],p=i[d],g=a[d];y(m(f,n._ptr[p],n._ptr[p+1],n._index),f,p,g,n._values,n._index,n._ptr)}return n},M.prototype.clone=function(){return new M({values:this._values?A.clone(this._values):void 0,index:A.clone(this._index),ptr:A.clone(this._ptr),size:A.clone(this._size),datatype:this._datatype})},M.prototype.size=function(){return this._size.slice(0)},M.prototype.map=function(i,t){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var r=this;return function(t,e,n,i,r,o,a){var s=[],l=[],u=[],c=w,h=0;N(t._datatype)&&(c=b.find(w,[t._datatype,t._datatype])||w,h=b.convert(0,t._datatype));for(var d=function(t,e,n){t=o(t,e,n),c(t,h)||(s.push(t),l.push(e))},f=i;f<=r;f++){u.push(s.length);for(var p=t._ptr[f],g=t._ptr[f+1],m=e,y=p;y<g;y++){var v=t._index[y];if(e<=v&&v<=n){if(!a)for(var x=m;x<v;x++)d(0,x-e,f-i);d(t._values[y],v-e,f-i)}m=v+1}if(!a)for(var _=m;_<=n;_++)d(0,_-e,f-i)}return u.push(s.length),new M({values:s,index:l,ptr:u,size:[n-e+1,r-i+1]})}(this,0,this._size[0]-1,0,this._size[1]-1,function(t,e,n){return i(t,[e,n],r)},t)},M.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this._size[0],i=this._size[1],r=0;r<i;r++){for(var o=this._ptr[r],a=this._ptr[r+1],s=0,l=o;l<a;l++){var u=this._index[l];if(!e)for(var c=s;c<u;c++)t(0,[c,r],this);t(this._values[l],[u,r],this),s=u+1}if(!e)for(var h=s;h<n;h++)t(0,[h,r],this)}},M.prototype.toArray=function(){return r(this._values,this._index,this._ptr,this._size,!0)},M.prototype.valueOf=function(){return r(this._values,this._index,this._ptr,this._size,!1)},M.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],i=this.density(),r="Sparse Matrix ["+I.format(e,t)+" x "+I.format(n,t)+"] density: "+I.format(i,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],s=this._ptr[o+1],l=a;l<s;l++){var u=this._index[l];r+="\n    ("+I.format(u,t)+", "+I.format(o,t)+") ==> "+(this._values?I.format(this._values[l],t):"X")}return r},M.prototype.toString=function(){return I.format(this.toArray())},M.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},M.prototype.diagonal=function(t){if(t){if(v.isBigNumber(t)&&(t=t.toNumber()),!T(t)||!D(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=0<t?t:0,n=t<0?-t:0,t=this._size[0],i=this._size[1],r=Math.min(t-n,i-e),o=[],a=[],t=[];t[0]=0;for(var s=e;s<i&&o.length<r;s++)for(var l=this._ptr[s],u=this._ptr[s+1],c=l;c<u;c++){var h=this._index[c];if(h===s-e+n){o.push(this._values[c]),a[o.length-1]=h-n;break}}return t.push(o.length),new M({values:o,index:a,ptr:t,size:[r,1]})},M.fromJSON=function(t){return new M(t)},M.diagonal=function(t,e,n,i,r){if(!S(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(v.isBigNumber(t)&&(t=t.toNumber()),!T(t)||!D(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){if(v.isBigNumber(n)&&(n=n.toNumber()),!T(n)||!D(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o=w,a=0;N(r)&&(o=b.find(w,[r,r])||w,a=b.convert(0,r));var s,l=0<n?n:0,u=n<0?-n:0,n=t[0],c=t[1],h=Math.min(n-u,c-l);if(S(e)){if(e.length!==h)throw new Error("Invalid value array length");s=function(t){return e[t]}}else if(v.isMatrix(e)){t=e.size();if(1!==t.length||t[0]!==h)throw new Error("Invalid matrix length");s=function(t){return e.get([t])}}else s=function(){return e};for(var d=[],f=[],p=[],g=0;g<c;g++){p.push(d.length);var m,y=g-l;0<=y&&y<h&&(o(m=s(y),a)||(f.push(y+u),d.push(m)))}return p.push(d.length),new M({values:d,index:f,ptr:p,size:[n,c]})},M.prototype.swapRows=function(t,e){if(!(T(t)&&D(t)&&T(e)&&D(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return L(t,this._size[0]),L(e,this._size[0]),M._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},M._forEachRow=function(t,e,n,i,r){for(var o=i[t],a=i[t+1],s=o;s<a;s++)r(n[s],e[s])},M._swapRows=function(t,e,n,i,r,o){for(var a=0;a<n;a++){var s,l=o[a],u=o[a+1],c=m(t,l,u,r),l=m(e,l,u,r);c<u&&l<u&&r[c]===t&&r[l]===e?i&&(s=i[c],i[c]=i[l],i[l]=s):c<u&&r[c]===t&&(u<=l||r[l]!==e)?(s=i?i[c]:void 0,r.splice(l,0,e),i&&i.splice(l,0,s),r.splice(l<=c?c+1:c,1),i&&i.splice(l<=c?c+1:c,1)):l<u&&r[l]===e&&(u<=c||r[c]!==t)&&(u=i?i[l]:void 0,r.splice(c,0,t),i&&i.splice(c,0,u),r.splice(c<=l?l+1:l,1),i&&i.splice(c<=l?l+1:l,1))}},v.Matrix._storage.sparse=M},e.lazy=!1},function(t,e,o){"use strict";e.name="Spa",e.path="type",e.factory=function(t,e,n){var i=n(o(14)),u=n(o(11));function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new t.FibonacciHeap}return r.prototype.type="Spa",r.prototype.isSpa=!0,r.prototype.set=function(t,e){this._values[t]?this._values[t].value=e:(e=this._heap.insert(t,e),this._values[t]=e)},r.prototype.get=function(t){t=this._values[t];return t?t.value:0},r.prototype.accumulate=function(t,e){var n=this._values[t];n?n.value=i(n.value,e):(n=this._heap.insert(t,e),this._values[t]=n)},r.prototype.forEach=function(t,e,n){var i=this._heap,r=this._values,o=[];for((s=i.extractMinimum())&&o.push(s);s&&s.key<=e;)s.key>=t&&(u(s.value,0)||n(s.key,s.value,this)),(s=i.extractMinimum())&&o.push(s);for(var a=0;a<o.length;a++){var s,l=o[a];r[(s=i.insert(l.key,l.value)).key]=s}},r.prototype.swap=function(t,e){var n=this._values[t],i=this._values[e];!n&&i?(n=this._heap.insert(t,i.value),this._heap.remove(i),this._values[t]=n,this._values[e]=void 0):n&&!i?(i=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=i,this._values[t]=void 0):n&&i&&(t=n.value,n.value=i.value,i.value=t)},r}},function(t,e,a){"use strict";e.name="FibonacciHeap",e.path="type",e.factory=function(t,e,n,i){var h=n(a(40)),d=n(a(33)),f=1/Math.log((1+Math.sqrt(5))/2);function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}function o(t,e,n){e.left.right=e.right,e.right.left=e.left,n.degree--,n.child===e&&(n.child=e.right),0===n.degree&&(n.child=null),e.left=t,e.right=t.right,((t.right=e).right.left=e).parent=null,e.mark=!1}r.prototype.type="FibonacciHeap",r.prototype.isFibonacciHeap=!0,r.prototype.insert=function(t,e){var n={key:t,value:e,degree:0};return this._minimum?(e=this._minimum,n.left=e,n.right=e.right,(e.right=n).right.left=n,h(t,e.key)&&(this._minimum=n)):((n.left=n).right=n,this._minimum=n),this._size++,n},r.prototype.size=function(){return this._size},r.prototype.clear=function(){this._minimum=null,this._size=0},r.prototype.isEmpty=function(){return 0===this._size},r.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var e=this._minimum,n=t.degree,i=t.child;0<n;){var r=i.right;i.left.right=i.right,i.right.left=i.left,i.left=e,i.right=e.right,((e.right=i).right.left=i).parent=null,i=r,n--}return t.left.right=t.right,t.right.left=t.left,e=t===t.right?null:function(t,e){var n,i=Math.floor(Math.log(e)*f)+1,r=new Array(i),o=0,a=t;if(a)for(o++,a=a.right;a!==t;)o++,a=a.right;for(;0<o;){for(var s,l=a.degree,u=a.right;;){if(!(n=r[l]))break;d(a.key,n.key)&&(s=n,n=a,a=s),p(n,a),r[l]=null,l++}r[l]=a,a=u,o--}t=null;for(var c=0;c<i;c++)(n=r[c])&&(t?(n.left.right=n.right,n.right.left=n.left,n.left=t,n.right=t.right,(t.right=n).right.left=n,h(n.key,t.key)&&(t=n)):t=n);return t}(e=t.right,this._size),this._size--,this._minimum=e,t},r.prototype.remove=function(t){this._minimum=function(t,e,n){e.key=n;n=e.parent;n&&h(e.key,n.key)&&(o(t,e,n),function t(e,n){var i=n.parent;if(!i)return;n.mark?(o(e,n,i),t(i)):n.mark=!0}(t,n));h(e.key,t.key)&&(t=e);return t}(this._minimum,t,-1),this.extractMinimum()};var p=function(t,e){t.left.right=t.right,t.right.left=t.left,(t.parent=e).child?(t.left=e.child,t.right=e.child.right,(e.child.right=t).right.left=t):((e.child=t).right=t).left=t,e.degree++,t.mark=!1};return r}},function(t,e,a){"use strict";var s=a(30),n=s.string,l=s.object,u=Array.isArray,c=n.isString;e.name="ImmutableDenseMatrix",e.path="type",e.factory=function(i,t,e){var r=e(a(48)),n=e(a(40));function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!c(e))throw new Error("Invalid datatype: "+e);if(i.isMatrix(t)||u(t)){var n=new r(t,e);this._data=n._data,this._size=n._size,this._datatype=n._datatype,this._min=null,this._max=null}else if(t&&u(t.data)&&u(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min=void 0!==t.min?t.min:null,this._max=void 0!==t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+s.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}return(o.prototype=new r).type="ImmutableDenseMatrix",o.prototype.isImmutableDenseMatrix=!0,o.prototype.subset=function(t){switch(arguments.length){case 1:var e=r.prototype.subset.call(this,t);return i.isMatrix(e)?new o({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},o.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},o.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},o.prototype.clone=function(){return new o({data:l.clone(this._data),size:l.clone(this._size),datatype:this._datatype})},o.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},o.fromJSON=function(t){return new o(t)},o.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},o.prototype.min=function(){var e;return null===this._min&&(e=null,this.forEach(function(t){null!==e&&!n(t,e)||(e=t)}),this._min=null!==e?e:void 0),this._min},o.prototype.max=function(){var e;return null===this._max&&(e=null,this.forEach(function(t){null!==e&&!n(e,t)||(e=t)}),this._max=null!==e?e:void 0),this._max},o}},function(t,e,n){"use strict";e.name="index",e.factory=function(n,t,e,i){return i("index",{"...number | string | BigNumber | Range | Array | Matrix":function(t){var e=t.map(function(t){return n.isBigNumber(t)?t.toNumber():Array.isArray(t)||n.isMatrix(t)?t.map(function(t){return n.isBigNumber(t)?t.toNumber():t}):t}),t=new n.Index;return n.Index.apply(t,e),t}})}},function(t,e,n){"use strict";e.name="sparse",e.factory=function(t,e,n,i){var r=t.SparseMatrix;return(i=i("sparse",{"":function(){return new r([])},string:function(t){return new r([],t)},"Array | Matrix":function(t){return new r(t)},"Array | Matrix, string":function(t,e){return new r(t,e)}})).toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},i}},function(t,e,n){"use strict";t.exports=[n(102)]},function(t,e,n){"use strict";var o=n(0),a=n(3);e.name="string",e.factory=function(t,e,n,i){var r=i("string",{"":function(){return""},number:a.format,null:function(t){return"null"},boolean:function(t){return t+""},string:function(t){return t},"Array | Matrix":function(t){return o(t,r)},any:function(t){return String(t)}});return r.toTex={0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";t.exports=[n(188),n(189),n(190),n(191),n(192)]},function(t,e,X){"use strict";function q(t){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var J=X(9).endsWith,$=X(5).clone,Q=X(103);e.name="Unit",e.path="type",e.factory=function(g,m,t,e,n){var y,v,x,l=t(X(17)),u=t(X(15)),c=t(X(21)),h=t(X(12)),d=t(X(41)),f=t(X(23)),p=t(X(104)),_=t(X(105)),b=t(X(50)),i=t(X(51)),o=t(X(106)),w=t(X(24)),r=t(X(64)),t=t(X(80));function M(t,e){if(!(this instanceof M))throw new Error("Constructor must be called with the new operator");if(null!=t&&!i(t)&&!g.isComplex(t))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(void 0!==e&&("string"!=typeof e||""===e))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!==e){e=M.parse(e);this.units=e.units,this.dimensions=e.dimensions}else{this.units=[{unit:z,prefix:k.NONE,power:0}],this.dimensions=[];for(var n=0;n<O.length;n++)this.dimensions[n]=0}this.value=null!=t?this._normalize(t):null,this.fixPrefix=!1,this.skipAutomaticSimplification=!0}function A(){for(;" "===x||"\t"===x;)I()}function a(t){return"0"<=t&&t<="9"}function I(){v++,x=y.charAt(v)}function s(t){v=t,x=y.charAt(v)}function C(){var t="",e=v;if("+"===x?I():"-"===x&&(t+=x,I()),!("0"<=(n=x)&&n<="9"||"."===n))return s(e),null;if("."===x){if(t+=x,I(),!a(x))return s(e),null}else{for(;a(x);)t+=x,I();"."===x&&(t+=x,I())}for(;a(x);)t+=x,I();if("E"===x||"e"===x){var n="",e=v;if(n+=x,I(),"+"!==x&&"-"!==x||(n+=x,I()),!a(x))return s(e),t;for(t+=n;a(x);)t+=x,I()}return t}function S(t){return x===t&&(I(),t)}function T(t){if(j.hasOwnProperty(t)){var e=j[t];return{unit:e,prefix:e.prefixes[""]}}for(var n in j)if(j.hasOwnProperty(n)&&J(t,n)){var i=j[n],n=t.length-n.length,n=t.substring(0,n),n=i.prefixes.hasOwnProperty(n)?i.prefixes[n]:void 0;if(void 0!==n)return{unit:i,prefix:n}}return null}function D(t){return t.equalBase(P.NONE)&&null!==t.value&&!m.predictable?t.value:t}M.prototype.type="Unit",M.prototype.isUnit=!0,M.parse=function(t,e){if(e=e||{},v=-1,x="","string"!=typeof(y=t))throw new TypeError("Invalid argument in Unit.parse, string expected");var n=new M,i=1,r=!(n.units=[]);I(),A();var o=C(),a=null;o&&(a="BigNumber"===m.number?new g.BigNumber(o):"Fraction"===m.number?new g.Fraction(o):parseFloat(o),A(),S("*")?(i=1,r=!0):S("/")&&(i=-1,r=!0));for(var s=[],l=1;;){for(A();"("===x;)s.push(i),l*=i,i=1,I(),A();var u=void 0;if(!x)break;var c=x;if(null===(u=function(){for(var t="",e=y.charCodeAt(v);48<=e&&e<=57||65<=e&&e<=90||97<=e&&e<=122;)t+=x,I(),e=y.charCodeAt(v);return(65<=(e=t.charCodeAt(0))&&e<=90||97<=e&&e<=122)&&t||null}()))throw new SyntaxError('Unexpected "'+c+'" in "'+y+'" at index '+v.toString());var h=T(u);if(null===h)throw new SyntaxError('Unit "'+u+'" not found.');var d=i*l;if(A(),S("^")){A();var f=C();if(null===f)throw new SyntaxError('In "'+t+'", "^" must be followed by a floating-point number');d*=f}n.units.push({unit:h.unit,prefix:h.prefix,power:d});for(var p=0;p<O.length;p++)n.dimensions[p]+=(h.unit.dimensions[p]||0)*d;for(A();")"===x;){if(0===s.length)throw new SyntaxError('Unmatched ")" in "'+y+'" at index '+v.toString());l/=s.pop(),I(),A()}r=!1,S("*")?(i=1,r=!0):S("/")?(i=-1,r=!0):i=1,h.unit.base&&(f=h.unit.base.key,B.auto[f]={unit:h.unit,prefix:h.prefix})}if(A(),x)throw new SyntaxError('Could not parse: "'+t+'"');if(r)throw new SyntaxError('Trailing characters: "'+t+'"');if(0!==s.length)throw new SyntaxError('Unmatched "(" in "'+y+'"');if(0===n.units.length&&!e.allowNoUnits)throw new SyntaxError('"'+t+'" contains no units');return n.value=void 0!==a?n._normalize(a):null,n},M.prototype.clone=function(){var t=new M;t.fixPrefix=this.fixPrefix,t.skipAutomaticSimplification=this.skipAutomaticSimplification,t.value=$(this.value),t.dimensions=this.dimensions.slice(0),t.units=[];for(var e=0;e<this.units.length;e++)for(var n in t.units[e]={},this.units[e])this.units[e].hasOwnProperty(n)&&(t.units[e][n]=this.units[e][n]);return t},M.prototype._isDerived=function(){return 0!==this.units.length&&(1<this.units.length||1e-15<Math.abs(this.units[0].power-1))},M.prototype._normalize=function(t){var e,n,i,r;if(null==t||0===this.units.length)return t;if(this._isDerived()){for(var o=t,a=M._getNumberConverter(w(t)),s=0;s<this.units.length;s++)e=a(this.units[s].unit.value),r=a(this.units[s].prefix.value),i=a(this.units[s].power),o=c(o,d(c(e,r),i));return o}return e=(a=M._getNumberConverter(w(t)))(this.units[0].unit.value),n=a(this.units[0].unit.offset),r=a(this.units[0].prefix.value),c(l(t,n),c(e,r))},M.prototype._denormalize=function(t,e){var n,i,r,o;if(null==t||0===this.units.length)return t;if(this._isDerived()){for(var a=t,s=M._getNumberConverter(w(t)),l=0;l<this.units.length;l++)n=s(this.units[l].unit.value),o=s(this.units[l].prefix.value),r=s(this.units[l].power),a=h(a,d(c(n,o),r));return a}return n=(s=M._getNumberConverter(w(t)))(this.units[0].unit.value),o=s(this.units[0].prefix.value),i=s(this.units[0].unit.offset),u(h(h(t,n),null==e?o:e),i)},M.isValuelessUnit=function(t){return null!==T(t)},M.prototype.hasBase=function(t){if(!(t="string"==typeof t?P[t]:t))return!1;for(var e=0;e<O.length;e++)if(1e-12<Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0)))return!1;return!0},M.prototype.equalBase=function(t){for(var e=0;e<O.length;e++)if(1e-12<Math.abs((this.dimensions[e]||0)-(t.dimensions[e]||0)))return!1;return!0},M.prototype.equals=function(t){return this.equalBase(t)&&b(this.value,t.value)},M.prototype.multiply=function(t){for(var e=this.clone(),n=0;n<O.length;n++)e.dimensions[n]=(this.dimensions[n]||0)+(t.dimensions[n]||0);for(var i,r,o=0;o<t.units.length;o++){var a,s={};for(a in t.units[o])s[a]=t.units[o][a];e.units.push(s)}return null!==this.value||null!==t.value?(i=null===this.value?this._normalize(1):this.value,r=null===t.value?t._normalize(1):t.value,e.value=c(i,r)):e.value=null,e.skipAutomaticSimplification=!1,D(e)},M.prototype.divide=function(t){for(var e=this.clone(),n=0;n<O.length;n++)e.dimensions[n]=(this.dimensions[n]||0)-(t.dimensions[n]||0);for(var i,r,o=0;o<t.units.length;o++){var a,s={};for(a in t.units[o])s[a]=t.units[o][a];s.power=-s.power,e.units.push(s)}return null!==this.value||null!==t.value?(i=null===this.value?this._normalize(1):this.value,r=null===t.value?t._normalize(1):t.value,e.value=h(i,r)):e.value=null,e.skipAutomaticSimplification=!1,D(e)},M.prototype.pow=function(t){for(var e=this.clone(),n=0;n<O.length;n++)e.dimensions[n]=(this.dimensions[n]||0)*t;for(var i=0;i<e.units.length;i++)e.units[i].power*=t;return null!==e.value?e.value=d(e.value,t):e.value=null,e.skipAutomaticSimplification=!1,D(e)},M.prototype.abs=function(){var t,e=this.clone();for(t in e.value=null!==e.value?f(e.value):null,e.units)"VA"!==e.units[t].unit.name&&"VAR"!==e.units[t].unit.name||(e.units[t].unit=j.W);return e},M.prototype.to=function(t){var e,n=null===this.value?this._normalize(1):this.value;if("string"==typeof t){if(e=M.parse(t),!this.equalBase(e))throw new Error("Units do not match ('".concat(e.toString(),"' != '").concat(this.toString(),"')"));if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return e.value=$(n),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}if(g.isUnit(t)){if(!this.equalBase(t))throw new Error("Units do not match ('".concat(t.toString(),"' != '").concat(this.toString(),"')"));if(null!==t.value)throw new Error("Cannot convert to a unit with a value");return(e=t.clone()).value=$(n),e.fixPrefix=!0,e.skipAutomaticSimplification=!0,e}throw new Error("String or Unit expected as parameter")},M.prototype.toNumber=function(t){return r(this.toNumeric(t))},M.prototype.toNumeric=function(t){t=t?this.to(t):this.clone();return t._isDerived()?t._denormalize(t.value):t._denormalize(t.value,t.units[0].prefix.value)},M.prototype.toString=function(){return this.format()},M.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},M.fromJSON=function(t){var e=new M(t.value,t.unit);return e.fixPrefix=t.fixPrefix||!1,e},M.prototype.valueOf=M.prototype.toString,M.prototype.simplify=function(){var t,e,n,i=this.clone(),r=[];for(e in W)if(i.hasBase(P[e])){t=e;break}if("NONE"===t)i.units=[];else if(n=t&&W.hasOwnProperty(t)?W[t]:n)i.units=[{unit:n.unit,prefix:n.prefix,power:1}];else{for(var o=!1,a=0;a<O.length;a++){var s=O[a];1e-12<Math.abs(i.dimensions[a]||0)&&(W.hasOwnProperty(s)?r.push({unit:W[s].unit,prefix:W[s].prefix,power:i.dimensions[a]||0}):o=!0)}r.length<i.units.length&&!o&&(i.units=r)}return i},M.prototype.toSI=function(){for(var t=this.clone(),e=[],n=0;n<O.length;n++){var i=O[n];if(1e-12<Math.abs(t.dimensions[n]||0)){if(!B.si.hasOwnProperty(i))throw new Error("Cannot express custom unit "+i+" in SI units");e.push({unit:B.si[i].unit,prefix:B.si[i].prefix,power:t.dimensions[n]||0})}}return t.units=e,t.fixPrefix=!0,t.skipAutomaticSimplification=!0,t},M.prototype.formatUnits=function(){for(var t="",e="",n=0,i=0,r=0;r<this.units.length;r++)0<this.units[r].power?(n++,t+=" "+this.units[r].prefix.name+this.units[r].unit.name,1e-15<Math.abs(this.units[r].power-1)&&(t+="^"+this.units[r].power)):this.units[r].power<0&&i++;if(0<i)for(var o=0;o<this.units.length;o++)this.units[o].power<0&&(0<n?(e+=" "+this.units[o].prefix.name+this.units[o].unit.name,1e-15<Math.abs(this.units[o].power+1)&&(e+="^"+-this.units[o].power)):(e+=" "+this.units[o].prefix.name+this.units[o].unit.name,e+="^"+this.units[o].power));var t=t.substr(1),e=e.substr(1),a=t=1<n&&0<i?"("+t+")":t;return 0<n&&0<i&&(a+=" / "),a+=e=1<i&&0<n?"("+e+")":e},M.prototype.format=function(t){var e,n=this.skipAutomaticSimplification||null===this.value?this.clone():this.simplify(),i=!1;for(e in void 0!==n.value&&null!==n.value&&g.isComplex(n.value)&&(i=Math.abs(n.value.re)<1e-14),n.units)n.units[e].unit&&("VA"===n.units[e].unit.name&&i?n.units[e].unit=j.VAR:"VAR"!==n.units[e].unit.name||i||(n.units[e].unit=j.VA));1!==n.units.length||n.fixPrefix||Math.abs(n.units[0].power-Math.round(n.units[0].power))<1e-14&&(n.units[0].prefix=n._bestPrefix());var r=n._denormalize(n.value),r=null!==n.value?o(r,t||{}):"",t=n.formatUnits();return n.value&&g.isComplex(n.value)&&(r="("+r+")"),0<t.length&&0<r.length&&(r+=" "),r+=t},M.prototype._bestPrefix=function(){if(1!==this.units.length)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(1e-14<=Math.abs(this.units[0].power-Math.round(this.units[0].power)))throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var t=null!==this.value?f(this.value):0,e=f(this.units[0].unit.value),n=this.units[0].prefix;if(0===t)return n;var i=this.units[0].power;if(-2.200001<(s=Math.log(t/Math.pow(n.value*e,i))/Math.LN10-1.2)&&s<1.800001)return n;var r,o,a,s=Math.abs(s),l=this.units[0].unit.prefixes;for(r in l)l.hasOwnProperty(r)&&(!(o=l[r]).scientific||((a=Math.abs(Math.log(t/Math.pow(o.value*e,i))/Math.LN10-1.2))<s||a===s&&o.name.length<n.name.length)&&(n=o,s=a));return n};var N,L,k={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!(M.prototype.splitUnit=function(t){for(var e=this.clone(),n=[],i=0;i<t.length&&(e=e.to(t[i]),i!==t.length-1);i++){var r=e.toNumeric(),o=_(r),o=new M(b(o,r)?o:p(e.toNumeric()),t[i].toString());n.push(o),e=u(e,o)}for(var a=0,s=0;s<n.length;s++)a=l(a,n[s].value);return b(a,this.value)&&(e.value=0),n.push(e),n})},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}},SHORTLONG:{}};for(N in k.SHORT)k.SHORT.hasOwnProperty(N)&&(k.SHORTLONG[N]=k.SHORT[N]);for(L in k.LONG)k.LONG.hasOwnProperty(L)&&(k.SHORTLONG[L]=k.LONG[L]);var E,O=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],P={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(E in P)P[E].key=E;var z={name:"",base:{},value:1,offset:0,dimensions:O.map(function(t){return 0})},j={meter:{name:"meter",base:P.LENGTH,prefixes:k.LONG,value:1,offset:0},inch:{name:"inch",base:P.LENGTH,prefixes:k.NONE,value:.0254,offset:0},foot:{name:"foot",base:P.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yard:{name:"yard",base:P.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mile:{name:"mile",base:P.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},link:{name:"link",base:P.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rod:{name:"rod",base:P.LENGTH,prefixes:k.NONE,value:5.0292,offset:0},chain:{name:"chain",base:P.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:P.LENGTH,prefixes:k.NONE,value:1e-10,offset:0},m:{name:"m",base:P.LENGTH,prefixes:k.SHORT,value:1,offset:0},in:{name:"in",base:P.LENGTH,prefixes:k.NONE,value:.0254,offset:0},ft:{name:"ft",base:P.LENGTH,prefixes:k.NONE,value:.3048,offset:0},yd:{name:"yd",base:P.LENGTH,prefixes:k.NONE,value:.9144,offset:0},mi:{name:"mi",base:P.LENGTH,prefixes:k.NONE,value:1609.344,offset:0},li:{name:"li",base:P.LENGTH,prefixes:k.NONE,value:.201168,offset:0},rd:{name:"rd",base:P.LENGTH,prefixes:k.NONE,value:5.02921,offset:0},ch:{name:"ch",base:P.LENGTH,prefixes:k.NONE,value:20.1168,offset:0},mil:{name:"mil",base:P.LENGTH,prefixes:k.NONE,value:254e-7,offset:0},m2:{name:"m2",base:P.SURFACE,prefixes:k.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:P.SURFACE,prefixes:k.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:P.SURFACE,prefixes:k.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:P.SURFACE,prefixes:k.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:P.SURFACE,prefixes:k.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:P.SURFACE,prefixes:k.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:P.SURFACE,prefixes:k.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:P.SURFACE,prefixes:k.NONE,value:6.4516e-10,offset:0},acre:{name:"acre",base:P.SURFACE,prefixes:k.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:P.SURFACE,prefixes:k.NONE,value:1e4,offset:0},m3:{name:"m3",base:P.VOLUME,prefixes:k.CUBIC,value:1,offset:0},L:{name:"L",base:P.VOLUME,prefixes:k.SHORT,value:.001,offset:0},l:{name:"l",base:P.VOLUME,prefixes:k.SHORT,value:.001,offset:0},litre:{name:"litre",base:P.VOLUME,prefixes:k.LONG,value:.001,offset:0},cuin:{name:"cuin",base:P.VOLUME,prefixes:k.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:P.VOLUME,prefixes:k.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:P.VOLUME,prefixes:k.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:P.VOLUME,prefixes:k.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:P.VOLUME,prefixes:k.NONE,value:15e-6,offset:0},drop:{name:"drop",base:P.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:P.VOLUME,prefixes:k.NONE,value:5e-8,offset:0},minim:{name:"minim",base:P.VOLUME,prefixes:k.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:P.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:P.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:P.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:P.VOLUME,prefixes:k.NONE,value:1e-6,offset:0},cup:{name:"cup",base:P.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:P.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:P.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:P.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:P.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:P.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:P.VOLUME,prefixes:k.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:P.VOLUME,prefixes:k.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:P.VOLUME,prefixes:k.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:P.VOLUME,prefixes:k.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:P.VOLUME,prefixes:k.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:P.VOLUME,prefixes:k.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:P.VOLUME,prefixes:k.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:P.VOLUME,prefixes:k.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:P.VOLUME,prefixes:k.NONE,value:.1173478,offset:0},obl:{name:"obl",base:P.VOLUME,prefixes:k.NONE,value:.1589873,offset:0},g:{name:"g",base:P.MASS,prefixes:k.SHORT,value:.001,offset:0},gram:{name:"gram",base:P.MASS,prefixes:k.LONG,value:.001,offset:0},ton:{name:"ton",base:P.MASS,prefixes:k.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:P.MASS,prefixes:k.SHORT,value:1e3,offset:0},grain:{name:"grain",base:P.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:P.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:P.MASS,prefixes:k.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:P.MASS,prefixes:k.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:P.MASS,prefixes:k.NONE,value:45.359237,offset:0},stick:{name:"stick",base:P.MASS,prefixes:k.NONE,value:.115,offset:0},stone:{name:"stone",base:P.MASS,prefixes:k.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:P.MASS,prefixes:k.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:P.MASS,prefixes:k.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:P.MASS,prefixes:k.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:P.MASS,prefixes:k.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:P.MASS,prefixes:k.NONE,value:45.359237,offset:0},s:{name:"s",base:P.TIME,prefixes:k.SHORT,value:1,offset:0},min:{name:"min",base:P.TIME,prefixes:k.NONE,value:60,offset:0},h:{name:"h",base:P.TIME,prefixes:k.NONE,value:3600,offset:0},second:{name:"second",base:P.TIME,prefixes:k.LONG,value:1,offset:0},sec:{name:"sec",base:P.TIME,prefixes:k.LONG,value:1,offset:0},minute:{name:"minute",base:P.TIME,prefixes:k.NONE,value:60,offset:0},hour:{name:"hour",base:P.TIME,prefixes:k.NONE,value:3600,offset:0},day:{name:"day",base:P.TIME,prefixes:k.NONE,value:86400,offset:0},week:{name:"week",base:P.TIME,prefixes:k.NONE,value:604800,offset:0},month:{name:"month",base:P.TIME,prefixes:k.NONE,value:2629800,offset:0},year:{name:"year",base:P.TIME,prefixes:k.NONE,value:31557600,offset:0},decade:{name:"decade",base:P.TIME,prefixes:k.NONE,value:315576e3,offset:0},century:{name:"century",base:P.TIME,prefixes:k.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:P.TIME,prefixes:k.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:P.FREQUENCY,prefixes:k.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:P.FREQUENCY,prefixes:k.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:P.ANGLE,prefixes:k.SHORT,value:1,offset:0},radian:{name:"radian",base:P.ANGLE,prefixes:k.LONG,value:1,offset:0},deg:{name:"deg",base:P.ANGLE,prefixes:k.SHORT,value:null,offset:0},degree:{name:"degree",base:P.ANGLE,prefixes:k.LONG,value:null,offset:0},grad:{name:"grad",base:P.ANGLE,prefixes:k.SHORT,value:null,offset:0},gradian:{name:"gradian",base:P.ANGLE,prefixes:k.LONG,value:null,offset:0},cycle:{name:"cycle",base:P.ANGLE,prefixes:k.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:P.ANGLE,prefixes:k.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:P.ANGLE,prefixes:k.NONE,value:null,offset:0},A:{name:"A",base:P.CURRENT,prefixes:k.SHORT,value:1,offset:0},ampere:{name:"ampere",base:P.CURRENT,prefixes:k.LONG,value:1,offset:0},K:{name:"K",base:P.TEMPERATURE,prefixes:k.NONE,value:1,offset:0},degC:{name:"degC",base:P.TEMPERATURE,prefixes:k.NONE,value:1,offset:273.15},degF:{name:"degF",base:P.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:P.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:P.TEMPERATURE,prefixes:k.NONE,value:1,offset:0},celsius:{name:"celsius",base:P.TEMPERATURE,prefixes:k.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:P.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:P.TEMPERATURE,prefixes:k.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:P.AMOUNT_OF_SUBSTANCE,prefixes:k.SHORT,value:1,offset:0},mole:{name:"mole",base:P.AMOUNT_OF_SUBSTANCE,prefixes:k.LONG,value:1,offset:0},cd:{name:"cd",base:P.LUMINOUS_INTENSITY,prefixes:k.NONE,value:1,offset:0},candela:{name:"candela",base:P.LUMINOUS_INTENSITY,prefixes:k.NONE,value:1,offset:0},N:{name:"N",base:P.FORCE,prefixes:k.SHORT,value:1,offset:0},newton:{name:"newton",base:P.FORCE,prefixes:k.LONG,value:1,offset:0},dyn:{name:"dyn",base:P.FORCE,prefixes:k.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:P.FORCE,prefixes:k.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:P.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:P.FORCE,prefixes:k.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:P.FORCE,prefixes:k.LONG,value:4448.2216,offset:0},J:{name:"J",base:P.ENERGY,prefixes:k.SHORT,value:1,offset:0},joule:{name:"joule",base:P.ENERGY,prefixes:k.SHORT,value:1,offset:0},erg:{name:"erg",base:P.ENERGY,prefixes:k.NONE,value:1e-7,offset:0},Wh:{name:"Wh",base:P.ENERGY,prefixes:k.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:P.ENERGY,prefixes:k.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:P.ENERGY,prefixes:k.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:P.ENERGY,prefixes:k.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:P.POWER,prefixes:k.SHORT,value:1,offset:0},watt:{name:"watt",base:P.POWER,prefixes:k.LONG,value:1,offset:0},hp:{name:"hp",base:P.POWER,prefixes:k.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:P.POWER,prefixes:k.SHORT,value:t.I,offset:0},VA:{name:"VA",base:P.POWER,prefixes:k.SHORT,value:1,offset:0},Pa:{name:"Pa",base:P.PRESSURE,prefixes:k.SHORT,value:1,offset:0},psi:{name:"psi",base:P.PRESSURE,prefixes:k.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:P.PRESSURE,prefixes:k.NONE,value:101325,offset:0},bar:{name:"bar",base:P.PRESSURE,prefixes:k.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:P.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:P.PRESSURE,prefixes:k.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:P.PRESSURE,prefixes:k.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:P.PRESSURE,prefixes:k.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:P.ELECTRIC_CHARGE,prefixes:k.LONG,value:1,offset:0},C:{name:"C",base:P.ELECTRIC_CHARGE,prefixes:k.SHORT,value:1,offset:0},farad:{name:"farad",base:P.ELECTRIC_CAPACITANCE,prefixes:k.LONG,value:1,offset:0},F:{name:"F",base:P.ELECTRIC_CAPACITANCE,prefixes:k.SHORT,value:1,offset:0},volt:{name:"volt",base:P.ELECTRIC_POTENTIAL,prefixes:k.LONG,value:1,offset:0},V:{name:"V",base:P.ELECTRIC_POTENTIAL,prefixes:k.SHORT,value:1,offset:0},ohm:{name:"ohm",base:P.ELECTRIC_RESISTANCE,prefixes:k.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:P.ELECTRIC_INDUCTANCE,prefixes:k.LONG,value:1,offset:0},H:{name:"H",base:P.ELECTRIC_INDUCTANCE,prefixes:k.SHORT,value:1,offset:0},siemens:{name:"siemens",base:P.ELECTRIC_CONDUCTANCE,prefixes:k.LONG,value:1,offset:0},S:{name:"S",base:P.ELECTRIC_CONDUCTANCE,prefixes:k.SHORT,value:1,offset:0},weber:{name:"weber",base:P.MAGNETIC_FLUX,prefixes:k.LONG,value:1,offset:0},Wb:{name:"Wb",base:P.MAGNETIC_FLUX,prefixes:k.SHORT,value:1,offset:0},tesla:{name:"tesla",base:P.MAGNETIC_FLUX_DENSITY,prefixes:k.LONG,value:1,offset:0},T:{name:"T",base:P.MAGNETIC_FLUX_DENSITY,prefixes:k.SHORT,value:1,offset:0},b:{name:"b",base:P.BIT,prefixes:k.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:P.BIT,prefixes:k.BINARY_LONG,value:1,offset:0},B:{name:"B",base:P.BIT,prefixes:k.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:P.BIT,prefixes:k.BINARY_LONG,value:8,offset:0}},Y={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole"};function R(t){"BigNumber"===t.number?(t=Q.pi(g.BigNumber),j.rad.value=new g.BigNumber(1),j.deg.value=t.div(180),j.grad.value=t.div(200),j.cycle.value=t.times(2),j.arcsec.value=t.div(648e3),j.arcmin.value=t.div(10800)):(j.rad.value=1,j.deg.value=Math.PI/180,j.grad.value=Math.PI/200,j.cycle.value=2*Math.PI,j.arcsec.value=Math.PI/648e3,j.arcmin.value=Math.PI/10800),j.radian.value=j.rad.value,j.degree.value=j.deg.value,j.gradian.value=j.grad.value}R(m),n.on("config",function(t,e){t.number!==e.number&&R(t)});var B={si:{NONE:{unit:z,prefix:k.NONE[""]},LENGTH:{unit:j.m,prefix:k.SHORT[""]},MASS:{unit:j.g,prefix:k.SHORT.k},TIME:{unit:j.s,prefix:k.SHORT[""]},CURRENT:{unit:j.A,prefix:k.SHORT[""]},TEMPERATURE:{unit:j.K,prefix:k.SHORT[""]},LUMINOUS_INTENSITY:{unit:j.cd,prefix:k.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:j.mol,prefix:k.SHORT[""]},ANGLE:{unit:j.rad,prefix:k.SHORT[""]},BIT:{unit:j.bit,prefix:k.SHORT[""]},FORCE:{unit:j.N,prefix:k.SHORT[""]},ENERGY:{unit:j.J,prefix:k.SHORT[""]},POWER:{unit:j.W,prefix:k.SHORT[""]},PRESSURE:{unit:j.Pa,prefix:k.SHORT[""]},ELECTRIC_CHARGE:{unit:j.C,prefix:k.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:j.F,prefix:k.SHORT[""]},ELECTRIC_POTENTIAL:{unit:j.V,prefix:k.SHORT[""]},ELECTRIC_RESISTANCE:{unit:j.ohm,prefix:k.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:j.H,prefix:k.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:j.S,prefix:k.SHORT[""]},MAGNETIC_FLUX:{unit:j.Wb,prefix:k.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:j.T,prefix:k.SHORT[""]},FREQUENCY:{unit:j.Hz,prefix:k.SHORT[""]}}};B.cgs=JSON.parse(JSON.stringify(B.si)),B.cgs.LENGTH={unit:j.m,prefix:k.SHORT.c},B.cgs.MASS={unit:j.g,prefix:k.SHORT[""]},B.cgs.FORCE={unit:j.dyn,prefix:k.SHORT[""]},B.cgs.ENERGY={unit:j.erg,prefix:k.NONE[""]},B.us=JSON.parse(JSON.stringify(B.si)),B.us.LENGTH={unit:j.ft,prefix:k.NONE[""]},B.us.MASS={unit:j.lbm,prefix:k.NONE[""]},B.us.TEMPERATURE={unit:j.degF,prefix:k.NONE[""]},B.us.FORCE={unit:j.lbf,prefix:k.NONE[""]},B.us.ENERGY={unit:j.BTU,prefix:k.BTU[""]},B.us.POWER={unit:j.hp,prefix:k.NONE[""]},B.us.PRESSURE={unit:j.psi,prefix:k.NONE[""]},B.auto=JSON.parse(JSON.stringify(B.si));var F,H,W=B.auto;for(F in M.setUnitSystem=function(t){if(!B.hasOwnProperty(t))throw new Error("Unit system "+t+" does not exist. Choices are: "+Object.keys(B).join(", "));W=B[t]},M.getUnitSystem=function(){for(var t in B)if(B[t]===W)return t},M.typeConverters={BigNumber:function(t){return new g.BigNumber(t+"")},Fraction:function(t){return new g.Fraction(t)},Complex:function(t){return t},number:function(t){return t}},M._getNumberConverter=function(t){if(!M.typeConverters[t])throw new TypeError('Unsupported type "'+t+'"');return M.typeConverters[t]},j){var G=j[F];G.dimensions=G.base.dimensions}for(H in Y)if(Y.hasOwnProperty(H)){var U,Z=j[Y[H]],V={};for(U in Z)Z.hasOwnProperty(U)&&(V[U]=Z[U]);V.name=H,j[H]=V}return M.createUnit=function(t,e){if("object"!==q(t))throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(e&&e.override)for(var n in t)if(t.hasOwnProperty(n)&&M.deleteUnit(n),t[n].aliases)for(var i=0;i<t[n].aliases.length;i++)M.deleteUnit(t[n].aliases[i]);var r,o;for(o in t)t.hasOwnProperty(o)&&(r=M.createUnitSingle(o,t[o]));return r},M.createUnitSingle=function(e,t,n){if(null==t&&(t={}),"string"!=typeof e)throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(j.hasOwnProperty(e))throw new Error('Cannot create unit "'+e+'": a unit with that name already exists');!function(t){for(var e=0;e<t.length;e++){var n=t.charAt(e),i=function(t){return/^[a-zA-Z]$/.test(t)};if(0===e&&!i(n))throw new Error('Invalid unit name (must begin with alpha character): "'+t+'"');if(0<e&&!(i(n)||"0"<=(n=n)&&n<="9"))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+t+'"')}}(e);var i,r=null,o=[],a=0;if(t&&"Unit"===t.type)r=t.clone();else if("string"==typeof t)""!==t&&(i=t);else{if("object"!==q(t))throw new TypeError('Cannot create unit "'+e+'" from "'+t.toString()+'": expecting "string" or "Unit" or "Object"');i=t.definition,l=t.prefixes,a=t.offset,t.aliases&&(o=t.aliases.valueOf())}if(o)for(var s=0;s<o.length;s++)if(j.hasOwnProperty(o[s]))throw new Error('Cannot create alias "'+o[s]+'": a unit with that name already exists');if(i&&"string"==typeof i&&!r)try{r=M.parse(i,{allowNoUnits:!0})}catch(t){throw t.message='Could not create unit "'+e+'" from "'+i+'": '+t.message,t}else i&&"Unit"===i.type&&(r=i.clone());var o=o||[],a=a||0,l=l&&l.toUpperCase&&k[l.toUpperCase()]||k.NONE,u={};if(r){var c,u={name:e,value:r.value,dimensions:r.dimensions.slice(0),prefixes:l,offset:a},h=!1;for(c in P)if(P.hasOwnProperty(c)){for(var d=!0,f=0;f<O.length;f++)if(1e-12<Math.abs((u.dimensions[f]||0)-(P[c].dimensions[f]||0))){d=!1;break}if(d){h=!0,u.base=P[c];break}}h||(g=e+"_STUFF",(r={dimensions:r.dimensions.slice(0)}).key=g,P[g]=r,W[g]={unit:u,prefix:k.NONE[""]},u.base=P[g])}else{var p,g=e+"_STUFF";if(0<=O.indexOf(g))throw new Error('Cannot create new base unit "'+e+'": a base unit with that name already exists (and cannot be overridden)');for(p in O.push(g),P)P.hasOwnProperty(p)&&(P[p].dimensions[O.length-1]=0);for(var m={dimensions:[]},y=0;y<O.length;y++)m.dimensions[y]=0;m.dimensions[O.length-1]=1,m.key=g,P[g]=m,u={name:e,value:1,dimensions:P[g].dimensions.slice(0),prefixes:l,offset:a,base:P[g]},W[g]={unit:u,prefix:k.NONE[""]}}M.UNITS[e]=u;for(var v=0;v<o.length;v++){var x,_=o[v],b={};for(x in u)u.hasOwnProperty(x)&&(b[x]=u[x]);b.name=_,M.UNITS[_]=b}return new M(null,e)},M.deleteUnit=function(t){delete M.UNITS[t]},M.PREFIXES=k,M.BASE_DIMENSIONS=O,M.BASE_UNITS=P,M.UNIT_SYSTEMS=B,M.UNITS=j,M},e.math=!0},function(t,e,n){"use strict";var o=n(0);e.name="unit",e.factory=function(n,t,e,i){var r=i("unit",{Unit:function(t){return t.clone()},string:function(t){return n.Unit.isValuelessUnit(t)?new n.Unit(null,t):n.Unit.parse(t,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string":function(t,e){return new n.Unit(t,e)},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},r}},function(t,e,n){"use strict";e.name="createUnit",e.factory=function(r,t,e,n){return n("createUnit",{"Object, Object":function(t,e){return r.Unit.createUnit(t,e)},Object:function(t){return r.Unit.createUnit(t,{})},"string, Unit | string | Object, Object":function(t,e,n){var i={};return i[t]=e,r.Unit.createUnit(i,n)},"string, Unit | string | Object":function(t,e){var n={};return n[t]=e,r.Unit.createUnit(n,{})},string:function(t){var e={};return e[t]={},r.Unit.createUnit(e,{})}})}},function(t,e,n){"use strict";e.name="splitUnit",e.factory=function(t,e,n,i){return i("splitUnit",{"Unit, Array":function(t,e){return t.splitUnit(e)}})}},function(t,e,n){"use strict";var i=n(5).lazy;function a(t,e,n){i(t,e,n),i(t.expression.mathWithTransform,e,n)}e.factory=function(e,t,n,i,r){function o(t){t=e.Unit.parse(t);return t.fixPrefix=!0,t}a(r,"speedOfLight",function(){return o("299792458 m s^-1")}),a(r,"gravitationConstant",function(){return o("6.6738480e-11 m^3 kg^-1 s^-2")}),a(r,"planckConstant",function(){return o("6.626069311e-34 J s")}),a(r,"reducedPlanckConstant",function(){return o("1.05457172647e-34 J s")}),a(r,"magneticConstant",function(){return o("1.2566370614e-6 N A^-2")}),a(r,"electricConstant",function(){return o("8.854187817e-12 F m^-1")}),a(r,"vacuumImpedance",function(){return o("376.730313461 ohm")}),a(r,"coulomb",function(){return o("8.9875517873681764e9 N m^2 C^-2")}),a(r,"elementaryCharge",function(){return o("1.60217656535e-19 C")}),a(r,"bohrMagneton",function(){return o("9.2740096820e-24 J T^-1")}),a(r,"conductanceQuantum",function(){return o("7.748091734625e-5 S")}),a(r,"inverseConductanceQuantum",function(){return o("12906.403721742 ohm")}),a(r,"magneticFluxQuantum",function(){return o("2.06783375846e-15 Wb")}),a(r,"nuclearMagneton",function(){return o("5.0507835311e-27 J T^-1")}),a(r,"klitzing",function(){return o("25812.807443484 ohm")}),a(r,"bohrRadius",function(){return o("5.291772109217e-11 m")}),a(r,"classicalElectronRadius",function(){return o("2.817940326727e-15 m")}),a(r,"electronMass",function(){return o("9.1093829140e-31 kg")}),a(r,"fermiCoupling",function(){return o("1.1663645e-5 GeV^-2")}),a(r,"fineStructure",function(){return.007297352569824}),a(r,"hartreeEnergy",function(){return o("4.3597443419e-18 J")}),a(r,"protonMass",function(){return o("1.67262177774e-27 kg")}),a(r,"deuteronMass",function(){return o("3.3435830926e-27 kg")}),a(r,"neutronMass",function(){return o("1.6749271613e-27 kg")}),a(r,"quantumOfCirculation",function(){return o("3.636947552024e-4 m^2 s^-1")}),a(r,"rydberg",function(){return o("10973731.56853955 m^-1")}),a(r,"thomsonCrossSection",function(){return o("6.65245873413e-29 m^2")}),a(r,"weakMixingAngle",function(){return.222321}),a(r,"efimovFactor",function(){return 22.7}),a(r,"atomicMass",function(){return o("1.66053892173e-27 kg")}),a(r,"avogadro",function(){return o("6.0221412927e23 mol^-1")}),a(r,"boltzmann",function(){return o("1.380648813e-23 J K^-1")}),a(r,"faraday",function(){return o("96485.336521 C mol^-1")}),a(r,"firstRadiation",function(){return o("3.7417715317e-16 W m^2")}),a(r,"loschmidt",function(){return o("2.686780524e25 m^-3")}),a(r,"gasConstant",function(){return o("8.314462175 J K^-1 mol^-1")}),a(r,"molarPlanckConstant",function(){return o("3.990312717628e-10 J s mol^-1")}),a(r,"molarVolume",function(){return o("2.241396820e-10 m^3 mol^-1")}),a(r,"sackurTetrode",function(){return-1.164870823}),a(r,"secondRadiation",function(){return o("1.438777013e-2 m K")}),a(r,"stefanBoltzmann",function(){return o("5.67037321e-8 W m^-2 K^-4")}),a(r,"wienDisplacement",function(){return o("2.897772126e-3 m K")}),a(r,"molarMass",function(){return o("1e-3 kg mol^-1")}),a(r,"molarMassC12",function(){return o("1.2e-2 kg mol^-1")}),a(r,"gravity",function(){return o("9.80665 m s^-2")}),a(r,"planckLength",function(){return o("1.61619997e-35 m")}),a(r,"planckMass",function(){return o("2.1765113e-8 kg")}),a(r,"planckTime",function(){return o("5.3910632e-44 s")}),a(r,"planckCharge",function(){return o("1.87554595641e-18 C")}),a(r,"planckTemperature",function(){return o("1.41683385e+32 K")})},e.lazy=!1,e.math=!0},function(t,e,l){"use strict";var i=l(5),u=l(103);function c(t,e,n){t[e]=n,t.expression.mathWithTransform[e]=n}function h(t,e,n){i.lazy(t,e,n),i.lazy(t.expression.mathWithTransform,e,n)}e.factory=function n(i,r,o,a,s){s.on("config",function(t,e){t.number!==e.number&&n(i,r,o,a,s)}),c(s,"true",!0),c(s,"false",!1),c(s,"null",null),c(s,"uninitialized","Error: Constant uninitialized is removed since v4.0.0. Use null instead"),"BigNumber"===r.number?(c(s,"Infinity",new i.BigNumber(1/0)),c(s,"NaN",new i.BigNumber(NaN)),h(s,"pi",function(){return u.pi(i.BigNumber)}),h(s,"tau",function(){return u.tau(i.BigNumber)}),h(s,"e",function(){return u.e(i.BigNumber)}),h(s,"phi",function(){return u.phi(i.BigNumber)}),h(s,"E",function(){return s.e}),h(s,"LN2",function(){return new i.BigNumber(2).ln()}),h(s,"LN10",function(){return new i.BigNumber(10).ln()}),h(s,"LOG2E",function(){return new i.BigNumber(1).div(new i.BigNumber(2).ln())}),h(s,"LOG10E",function(){return new i.BigNumber(1).div(new i.BigNumber(10).ln())}),h(s,"PI",function(){return s.pi}),h(s,"SQRT1_2",function(){return new i.BigNumber("0.5").sqrt()}),h(s,"SQRT2",function(){return new i.BigNumber(2).sqrt()})):(c(s,"Infinity",1/0),c(s,"NaN",NaN),c(s,"pi",Math.PI),c(s,"tau",2*Math.PI),c(s,"e",Math.E),c(s,"phi",1.618033988749895),c(s,"E",s.e),c(s,"LN2",Math.LN2),c(s,"LN10",Math.LN10),c(s,"LOG2E",Math.LOG2E),c(s,"LOG10E",Math.LOG10E),c(s,"PI",s.pi),c(s,"SQRT1_2",Math.SQRT1_2),c(s,"SQRT2",Math.SQRT2)),i.Complex&&c(s,"i",i.Complex.I),c(s,"version",l(194))},e.lazy=!1,e.math=!0},function(t,e){t.exports="5.4.1"},function(t,e,n){"use strict";t.exports=[n(196),n(217),n(240),n(253),n(257),n(261),n(264),n(268),n(288),n(298),n(302),n(310),n(312),n(318),n(320),n(346),n(348)]},function(t,e,n){"use strict";t.exports=[n(197),n(84),n(200),n(201),n(85),n(126),n(131),n(215),n(132)]},function(t,e,_){"use strict";e.name="derivative",e.factory=function(a,n,t,e){var i=t(_(43)),r=t(_(84)),s=t(_(50)),l=t(_(59)),o=t(_(24)),u=t(_(65)),c=t(_(57)),h=t(_(68)),d=t(_(58)),f=t(_(67)),p=t(_(53)),g=e("derivative",{"Node, SymbolNode, Object":function(t,e,n){var i={};y(i,t,e.name);i=v(t,i);return n.simplify?r(i):i},"Node, SymbolNode":function(t,e){return g(t,e,{simplify:!0})},"string, SymbolNode":function(t,e){return g(i(t),e)},"string, SymbolNode, Object":function(t,e,n){return g(i(t),e,n)},"string, string":function(t,e){return g(i(t),i(e))},"string, string, Object":function(t,e,n){return g(i(t),i(e),n)},"Node, string":function(t,e){return g(t,i(e))},"Node, string, Object":function(t,e,n){return g(t,i(e),n)}});g._simplify=!0,g.toTex=function(t){return m.apply(null,t.args)};var m=e("_derivTex",{"Node, SymbolNode":function(t,e){return a.isConstantNode(t)&&"string"===o(t.value)?m(i(t.value).toString(),e.toString(),1):m(t.toString(),e.toString(),1)},"Node, ConstantNode":function(t,e){if("string"===o(e.value))return m(t,i(e.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(t,e,n){return m(t.toString(),e.name,n.value)},"string, string, number":function(t,e,n){n=1===n?"{d\\over d"+e+"}":"{d^{"+n+"}\\over d"+e+"^{"+n+"}}";return n+"\\left[".concat(t,"\\right]")}}),y=e("constTag",{"Object, ConstantNode, string":function(t,e){return t[e]=!0},"Object, SymbolNode, string":function(t,e,n){return e.name!==n&&(t[e]=!0)},"Object, ParenthesisNode, string":function(t,e,n){return y(t,e.content,n)},"Object, FunctionAssignmentNode, string":function(t,e,n){return-1===e.params.indexOf(n)?t[e]=!0:y(t,e.expr,n)},"Object, FunctionNode | OperatorNode, string":function(t,e,n){if(0<e.args.length){for(var i=y(t,e.args[0],n),r=1;r<e.args.length;++r)i=y(t,e.args[r],n)&&i;if(i)return t[e]=!0}return!1}}),v=e("_derivative",{"ConstantNode, Object":function(t){return x(0)},"SymbolNode, Object":function(t,e){return void 0!==e[t]?x(0):x(1)},"ParenthesisNode, Object":function(t,e){return new f(v(t.content,e))},"FunctionAssignmentNode, Object":function(t,e){return void 0!==e[t]?x(0):v(t.expr,e)},"FunctionNode, Object":function(t,e){if(1!==t.args.length&&function(t){if("log"!==t.name&&"nthRoot"!==t.name||2!==t.args.length){for(var e=0;e<t.args.length;++e)t.args[e]=x(0);throw t.compile().eval(),new Error("Expected TypeError, but none found")}}(t),void 0!==e[t])return x(0);var n,i,r,o=t.args[0],a=!1,s=!1;switch(t.name){case"cbrt":a=!0,i=new d("*","multiply",[x(3),new d("^","pow",[o,new d("/","divide",[x(2),x(3)])])]);break;case"sqrt":case"nthRoot":if(1===t.args.length)a=!0,i=new d("*","multiply",[x(2),new h("sqrt",[o])]);else if(2===t.args.length)return e[n=new d("/","divide",[x(1),t.args[1]])]=e[t.args[1]],v(new d("^","pow",[o,n]),e);break;case"log10":n=x(10);case"log":if(n||1!==t.args.length){if(1===t.args.length&&n||2===t.args.length&&void 0!==e[t.args[1]])i=new d("*","multiply",[o.clone(),new h("log",[n||t.args[1]])]),a=!0;else if(2===t.args.length)return v(new d("/","divide",[new h("log",[o]),new h("log",[t.args[1]])]),e)}else i=o.clone(),a=!0;break;case"exp":i=new h("exp",[o.clone()]);break;case"sin":i=new h("cos",[o.clone()]);break;case"cos":i=new d("-","unaryMinus",[new h("sin",[o.clone()])]);break;case"tan":i=new d("^","pow",[new h("sec",[o.clone()]),x(2)]);break;case"sec":i=new d("*","multiply",[t,new h("tan",[o.clone()])]);break;case"csc":s=!0,i=new d("*","multiply",[t,new h("cot",[o.clone()])]);break;case"cot":s=!0,i=new d("^","pow",[new h("csc",[o.clone()]),x(2)]);break;case"asin":a=!0,i=new h("sqrt",[new d("-","subtract",[x(1),new d("^","pow",[o.clone(),x(2)])])]);break;case"acos":s=a=!0,i=new h("sqrt",[new d("-","subtract",[x(1),new d("^","pow",[o.clone(),x(2)])])]);break;case"atan":a=!0,i=new d("+","add",[new d("^","pow",[o.clone(),x(2)]),x(1)]);break;case"asec":a=!0,i=new d("*","multiply",[new h("abs",[o.clone()]),new h("sqrt",[new d("-","subtract",[new d("^","pow",[o.clone(),x(2)]),x(1)])])]);break;case"acsc":s=a=!0,i=new d("*","multiply",[new h("abs",[o.clone()]),new h("sqrt",[new d("-","subtract",[new d("^","pow",[o.clone(),x(2)]),x(1)])])]);break;case"acot":s=a=!0,i=new d("+","add",[new d("^","pow",[o.clone(),x(2)]),x(1)]);break;case"sinh":i=new h("cosh",[o.clone()]);break;case"cosh":i=new h("sinh",[o.clone()]);break;case"tanh":i=new d("^","pow",[new h("sech",[o.clone()]),x(2)]);break;case"sech":s=!0,i=new d("*","multiply",[t,new h("tanh",[o.clone()])]);break;case"csch":s=!0,i=new d("*","multiply",[t,new h("coth",[o.clone()])]);break;case"coth":s=!0,i=new d("^","pow",[new h("csch",[o.clone()]),x(2)]);break;case"asinh":a=!0,i=new h("sqrt",[new d("+","add",[new d("^","pow",[o.clone(),x(2)]),x(1)])]);break;case"acosh":a=!0,i=new h("sqrt",[new d("-","subtract",[new d("^","pow",[o.clone(),x(2)]),x(1)])]);break;case"atanh":a=!0,i=new d("-","subtract",[x(1),new d("^","pow",[o.clone(),x(2)])]);break;case"asech":s=a=!0,i=new d("*","multiply",[o.clone(),new h("sqrt",[new d("-","subtract",[x(1),new d("^","pow",[o.clone(),x(2)])])])]);break;case"acsch":s=a=!0,i=new d("*","multiply",[new h("abs",[o.clone()]),new h("sqrt",[new d("+","add",[new d("^","pow",[o.clone(),x(2)]),x(1)])])]);break;case"acoth":s=a=!0,i=new d("-","subtract",[x(1),new d("^","pow",[o.clone(),x(2)])]);break;case"abs":i=new d("/","divide",[new h(new p("abs"),[o.clone()]),o.clone()]);break;default:throw new Error('Function "'+t.name+'" is not supported by derivative, or a wrong number of arguments is passed')}var l=a?(r="/","divide"):(r="*","multiply"),u=v(o,e);return s&&(u=new d("-","unaryMinus",[u])),new d(r,l,[u,i])},"OperatorNode, Object":function(t,n){if(void 0!==n[t])return x(0);if("+"===t.op)return new d(t.op,t.fn,t.args.map(function(t){return v(t,n)}));if("-"===t.op){if(t.isUnary())return new d(t.op,t.fn,[v(t.args[0],n)]);if(t.isBinary())return new d(t.op,t.fn,[v(t.args[0],n),v(t.args[1],n)])}if("*"===t.op){var e=t.args.filter(function(t){return void 0!==n[t]});if(0<e.length){var i=t.args.filter(function(t){return void 0===n[t]}),i=1===i.length?i[0]:new d("*","multiply",i),i=e.concat(v(i,n));return new d("*","multiply",i)}return new d("+","add",t.args.map(function(e){return new d("*","multiply",t.args.map(function(t){return t===e?v(t,n):t.clone()}))}))}if("/"===t.op&&t.isBinary()){var r=t.args[0],o=t.args[1];return void 0!==n[o]?new d("/","divide",[v(r,n),o]):void 0!==n[r]?new d("*","multiply",[new d("-","unaryMinus",[r]),new d("/","divide",[v(o,n),new d("^","pow",[o.clone(),x(2)])])]):new d("/","divide",[new d("-","subtract",[new d("*","multiply",[v(r,n),o.clone()]),new d("*","multiply",[r.clone(),v(o,n)])]),new d("^","pow",[o.clone(),x(2)])])}if("^"===t.op&&t.isBinary()){i=t.args[0],r=t.args[1];if(void 0!==n[i])return a.isConstantNode(i)&&(l(i.value)||s(i.value,1))?x(0):new d("*","multiply",[t,new d("*","multiply",[new h("log",[i.clone()]),v(r.clone(),n)])]);if(void 0===n[r])return new d("*","multiply",[new d("^","pow",[i.clone(),r.clone()]),new d("+","add",[new d("*","multiply",[v(i,n),new d("/","divide",[r.clone(),i.clone()])]),new d("*","multiply",[v(r,n),new h("log",[i.clone()])])])]);if(a.isConstantNode(r)){if(l(r.value))return x(0);if(s(r.value,1))return v(i,n)}o=new d("^","pow",[i.clone(),new d("-","subtract",[r,x(1)])]);return new d("*","multiply",[r.clone(),new d("*","multiply",[v(i,n),o])])}throw new Error('Operator "'+t.op+'" is not supported by derivative, or a wrong number of arguments is passed')}});function x(t,e){return new c(u(t,e||n.number))}return g}},function(t,e,a){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l=a(35).transform,u=a(13).setSafeProperty;e.factory=function(t,e,n,i){var r=n(a(22)),o=n(a(1));return function(t,e,n){try{if(Array.isArray(t))return o(t).subset(e,n).valueOf();if(t&&"function"==typeof t.subset)return t.subset(e,n);if("string"==typeof t)return r(t,e,n);if("object"!==s(t))throw new TypeError("Cannot apply index: unsupported type of object");if(!e.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return u(t,e.getObjectProperty(),n),t}catch(t){throw l(t)}}}},function(t,e,n){"use strict";e.math=!0,e.name="resolve",e.path="algebra.simplify",e.factory=function(o,t,e,n,a){var s=a.expression.node.Node,l=a.expression.node.OperatorNode,u=a.expression.node.FunctionNode,c=a.expression.node.ParenthesisNode;return function e(t,n){if(!n)return t;if(o.isSymbolNode(t)){var i=n[t.name];if(i instanceof s)return e(i,n);if("number"==typeof i)return a.parse(String(i))}else{if(o.isOperatorNode(t)){var r=t.args.map(function(t){return e(t,n)});return new l(t.op,t.fn,r,t.implicit)}if(o.isParenthesisNode(t))return new c(e(t.content,n));if(o.isFunctionNode(t))return r=t.args.map(function(t){return e(t,n)}),new u(t.name,r)}return t}}},function(t,e,a){"use strict";e.name="rationalize",e.factory=function(t,e,n,i){var d=n(a(84)),f=n(a(121)),p=n(a(119)),r=n(a(123)),g=a(3),m=n(a(57)),y=n(a(58)),v=n(a(53)),o=i("rationalize",{string:function(t){return o(r(t),{},!1)},"string, boolean":function(t,e){return o(r(t),{},e)},"string, Object":function(t,e){return o(r(t),e,!1)},"string, Object, boolean":function(t,e,n){return o(r(t),e,n)},Node:function(t){return o(t,{},!1)},"Node, boolean":function(t,e){return o(t,{},e)},"Node, Object":function(t,e){return o(t,e,!1)},"Node, Object, boolean":function(t,e,n){var i,r,o=((h={}).firstRules=(a=[f,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},p,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}]).concat(s=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],i=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}]),h.distrDivRules=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],h.sucDivRules=i,h.firstRulesAgain=a.concat(s),h.finalRules=[f,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},p,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],h),a=function(t,e,n,i){var a=[],e=d(t,i,e,{exactFractions:!1}),s="+-*"+((n=!!n)?"/":"");!function t(e){var n=e.type;{if("FunctionNode"===n)throw new Error("There is an unsolved function call");if("OperatorNode"===n)if("^"===e.op){if("ConstantNode"!==(e="unaryMinus"===e.args[1].fn?e.args[0]:e).args[1].type||!g.isInteger(parseFloat(e.args[1].value)))throw new Error("There is a non-integer exponent");t(e.args[0])}else{if(-1===s.indexOf(e.op))throw new Error("Operator "+e.op+" invalid in polynomial expression");for(var i=0;i<e.args.length;i++)t(e.args[i])}else if("SymbolNode"===n){var r=e.name,o=a.indexOf(r);-1===o&&a.push(r)}else if("ParenthesisNode"===n)t(e.content);else if("ConstantNode"!==n)throw new Error("type "+n+" is not allowed in polynomial expression")}}(e);n={};return n.expression=e,n.variables=a,n}(t,e,!0,o.firstRules),s=a.variables.length;if(t=a.expression,1<=s){t=function t(e,n,i){var r=e.type;var o=1<arguments.length;{var a,s;"OperatorNode"===r&&e.isBinary()&&(a=!1,"^"===e.op&&("ParenthesisNode"!==e.args[0].type&&"OperatorNode"!==e.args[0].type||"ConstantNode"!==e.args[1].type||(s=parseFloat(e.args[1].value),a=2<=s&&g.isInteger(s))),a&&(e=2<s?(a=e.args[0],s=new y("^","pow",[e.args[0].cloneDeep(),new m(s-1)]),new y("*","multiply",[a,s])):new y("*","multiply",[e.args[0],e.args[0].cloneDeep()]),o&&("content"===i?n.content=e:n.args[i]=e)))}if("ParenthesisNode"===r)t(e.content,e,"content");else if("ConstantNode"!==r&&"SymbolNode"!==r)for(var l=0;l<e.args.length;l++)t(e.args[l],e,l);if(!o)return e}(t);var l,u=!0,c=!1;for(t=d(t,o.firstRules,{},{exactFractions:!1});;){if(l=u?o.distrDivRules:o.sucDivRules,u=!u,(l=(t=d(t,l)).toString())===r)break;c=!0,r=l}c&&(t=d(t,o.firstRulesAgain,{},{exactFractions:!1})),t=d(t,o.finalRules,{},{exactFractions:!1})}var h=[],e={};return"OperatorNode"===t.type&&t.isBinary()&&"/"===t.op?(1===s&&(t.args[0]=x(t.args[0],h),t.args[1]=x(t.args[1])),n&&(e.numerator=t.args[0],e.denominator=t.args[1])):(1===s&&(t=x(t,h)),n&&(e.numerator=t,e.denominator=null)),n?(e.coefficients=h,e.variables=a.variables,e.expression=t,e):t}});function x(t,l){var e={cte:1,oper:"+",fire:""},u=(l=void 0===l?[]:l)[0]=0,c="";!function t(e,n,i){var r=e.type;{if("FunctionNode"===r)throw new Error("There is an unsolved function call");if("OperatorNode"===r){if(-1==="+-*^".indexOf(e.op))throw new Error("Operator "+e.op+" invalid");if(null!==n){if(("unaryMinus"===e.fn||"pow"===e.fn)&&"add"!==n.fn&&"subtract"!==n.fn&&"multiply"!==n.fn)throw new Error("Invalid "+e.op+" placing");if(("subtract"===e.fn||"add"===e.fn||"multiply"===e.fn)&&"add"!==n.fn&&"subtract"!==n.fn)throw new Error("Invalid "+e.op+" placing");if(("subtract"===e.fn||"add"===e.fn||"unaryMinus"===e.fn)&&0!==i.noFil)throw new Error("Invalid "+e.op+" placing")}"^"!==e.op&&"*"!==e.op||(i.fire=e.op);for(var o=0;o<e.args.length;o++)"unaryMinus"===e.fn&&(i.oper="-"),"+"!==e.op&&"subtract"!==e.fn||(i.fire="",i.cte=1,i.oper=0===o?"+":e.op),i.noFil=o,t(e.args[o],e,i)}else if("SymbolNode"===r){if(e.name!==c&&""!==c)throw new Error("There is more than one variable");if(c=e.name,null!==n){if("^"===n.op&&0!==i.noFil)throw new Error("In power the variable should be the first parameter");if("*"===n.op&&1!==i.noFil)throw new Error("In multiply the variable should be the second parameter");""!==i.fire&&"*"!==i.fire||(u<1&&(l[1]=0),l[1]+=i.cte*("+"===i.oper?1:-1),u=Math.max(1,u))}else l[1]=1}else{if("ConstantNode"!==r)throw new Error("Type "+r+" is not allowed");var a=parseFloat(e.value);if(null!==n){if("^"===n.op){if(1!==i.noFil)throw new Error("Constant cannot be powered");if(!g.isInteger(a)||a<=0)throw new Error("Non-integer exponent is not allowed");for(var s=u+1;s<a;s++)l[s]=0;return u<a&&(l[a]=0),l[a]+=i.cte*("+"===i.oper?1:-1),void(u=Math.max(a,u))}i.cte=a,""===i.fire&&(l[0]+=i.cte*("+"===i.oper?1:-1))}else l[0]=a}}}(t,null,e);for(var n,i,r,o,a,s=!0,h=u=l.length-1;0<=h;h--)0!==l[h]&&(i=new m(s?l[h]:Math.abs(l[h])),r=l[h]<0?"-":"+",0<h&&(a=new v(c),1<h&&(o=new m(h),a=new y("^","pow",[a,o])),i=-1===l[h]&&s?new y("-","unaryMinus",[a]):1===Math.abs(l[h])?a:new y("*","multiply",[i,a])),n=s?i:"+"==r?new y("+","add",[n,i]):new y("-","subtract",[n,i]),s=!1);return s?new m(0):n}return o}},function(t,e,a){"use strict";e.name="qr",e.factory=function(t,e,n,i){var r=n(a(1)),y=n(a(42)),v=n(a(49)),x=n(a(59)),_=n(a(124)),b=n(a(125)),w=n(a(45)),M=n(a(70)),A=n(a(34)),I=n(a(17)),C=n(a(12)),S=n(a(21)),T=n(a(15));function o(t){for(var e=t._size[0],n=t._size[1],i=v([e],"dense"),r=i._data,t=t.clone(),o=t._data,a=y([e],""),s=0;s<Math.min(n,e);++s){var l=o[s][s],u=A(b(l)),c=M(u),h=0;for(f=s;f<e;f++)h=I(h,S(o[f][s],M(o[f][s])));u=S(u,w(h));if(!x(u)){for(var d=T(l,u),f=s+(a[s]=1);f<e;f++)a[f]=C(o[f][s],d);for(var p=A(M(C(d,u))),g=void 0,m=s;m<n;m++){for(g=0,f=s;f<e;f++)g=I(g,S(M(a[f]),o[f][m]));for(g=S(g,p),f=s;f<e;f++)o[f][m]=S(T(o[f][m],S(a[f],g)),c)}for(f=0;f<e;f++){for(g=0,m=s;m<e;m++)g=I(g,S(r[f][m],a[m]));for(g=S(g,p),m=s;m<e;++m)r[f][m]=C(T(r[f][m],S(g,M(a[m]))),c)}}}for(f=0;f<e;++f)for(m=0;m<f&&m<n;++m){if(_(0,C(o[f][m],1e5)))throw new Error("math.qr(): unknown error - R is not lower triangular (element ("+f+", "+m+")  = "+o[f][m]+")");o[f][m]=S(o[f][m],0)}return{Q:i,R:t,toString:function(){return"Q: "+this.Q.toString()+"\nR: "+this.R.toString()}}}return i("qr",{DenseMatrix:o,SparseMatrix:function(t){throw new Error("qr not implemented for sparse matrices yet")},Array:function(t){t=o(r(t));return{Q:t.Q.valueOf(),R:t.R.valueOf()}}})}},function(t,e,i){"use strict";e.name="csSqr",e.path="algebra.sparse",e.factory=function(t,e,n){var s=n(i(203)),l=n(i(205)),u=n(i(206)),c=n(i(207)),h=n(i(208));return function(t,e,n){var i,r=e._ptr,o=e._size[1],a={};if(a.q=s(t,e),t&&!a.q)return null;if(n){t=t?l(e,null,a.q,0):e;a.parent=u(t,1);e=c(a.parent,o);if(a.cp=h(t,a.parent,e,1),t&&a.parent&&a.cp&&function(t,e){var n=t._ptr,i=t._index,t=t._size,r=t[0],o=t[1];e.pinv=[],e.leftmost=[];var a,s,l,u,c,h=e.parent,d=e.pinv,f=e.leftmost,p=[],g=r,m=r+o,y=r+2*o;for(s=0;s<o;s++)p[g+s]=-1,p[m+s]=-1,p[y+s]=0;for(a=0;a<r;a++)f[a]=-1;for(s=o-1;0<=s;s--)for(u=n[s],c=n[s+1],l=u;l<c;l++)f[i[l]]=s;for(a=r-1;0<=a;a--)(d[a]=-1)!==(s=f[a])&&(0==p[y+s]++&&(p[m+s]=a),p[0+a]=p[g+s],p[g+s]=a);for(e.lnz=0,e.m2=r,s=0;s<o;s++){var v;a=p[g+s],e.lnz++,a<0&&(a=e.m2++),d[a]=s,--y[s]<=0||(e.lnz+=p[y+s],-1!==(v=h[s])&&(0===p[y+v]&&(p[m+v]=p[m+s]),p[0+p[m+s]]=p[g+v],p[g+v]=p[0+a],p[y+v]+=p[y+s]))}for(a=0;a<r;a++)d[a]<0&&(d[a]=s++);return!0}(t,a))for(i=a.unz=0;i<o;i++)a.unz+=a.cp[i]}else a.unz=4*r[o]+o,a.lnz=a.unz;return a}}},function(t,e,i){"use strict";e.name="csAmd",e.path="algebra.sparse",e.factory=function(t,e,n){var $=n(i(86)),Q=n(i(204)),K=n(i(127)),tt=n(i(14)),et=n(i(10)),nt=n(i(71));function it(t,e,n,i,r){if(t<2||t+e<0){for(var o=0;o<r;o++)0!==n[i+o]&&(n[i+o]=1);t=2}return t}function rt(t,e){return t!==e}return function(t,e){if(!e||t<=0||3<t)return null;var n=e._size,i=n[0],r=n[1],o=0,n=Math.max(16,10*Math.sqrt(r)),i=function(t,e,n,i,r){var o=nt(e);if(1===t&&i===n)return tt(e,o);if(2!==t)return et(o,e);for(var a=o._index,s=o._ptr,l=0,u=0;u<n;u++){var c=s[u];if(s[u]=l,!(s[u+1]-c>r))for(var h=s[u+1];c<h;c++)a[l++]=a[c]}return s[n]=l,e=nt(o),et(o,e)}(t,e,i,r,n=Math.min(r-2,n));Q(i,rt,null);for(var a,s,l,u,c,h,d,f,p,g,m,y=i._index,v=i._ptr,x=v[r],_=[],b=[],w=r+1,M=2*(r+1),A=3*(r+1),I=4*(r+1),C=5*(r+1),S=6*(r+1),T=7*(r+1),D=_,N=function(t,e,n,i,r,o,a,s,l,u,c,h){for(var d=0;d<t;d++)n[i+d]=e[d+1]-e[d];for(var f=n[i+t]=0;f<=t;f++)n[r+f]=-1,o[f]=-1,n[a+f]=-1,n[s+f]=-1,n[l+f]=1,n[u+f]=1,n[c+f]=0,n[h+f]=n[i+f];var p=it(0,0,n,u,t);return n[c+t]=-2,e[t]=-1,n[u+t]=0,p}(r,v,b,0,A,D,M,T,w,S,I,C),L=function(t,e,n,i,r,o,a,s,l,u,c){for(var h=0,d=0;d<t;d++){var f,p=n[i+d];0===p?(n[r+d]=-2,h++,e[d]=-1,n[o+d]=0):a<p?(n[s+d]=0,n[r+d]=-1,h++,e[d]=$(t),n[s+t]++):(-1!==(f=n[l+p])&&(u[f]=d),n[c+d]=n[l+p],n[l+p]=d)}return h}(r,v,b,C,I,S,n,w,A,D,M),k=0;L<r;){for(s=-1;k<r&&-1===(s=b[A+k]);k++);-1!==b[M+s]&&(D[b[M+s]]=-1),b[A+k]=b[M+s];var E=b[I+s],O=b[w+s];L+=O;var P=0;b[w+s]=-O;for(var z,j,Y=v[s],R=0===E?Y:x,B=R,F=1;F<=E+1;F++){for(c=E<F?(u=Y,b[0+(j=s)]-E):(u=v[j=y[Y++]],b[0+j]),l=1;l<=c;l++)(H=b[w+(a=y[u++])])<=0||(P+=H,b[w+a]=-H,-1!==b[M+(y[B++]=a)]&&(D[b[M+a]]=D[a]),-1!==D[a]?b[M+D[a]]=b[M+a]:b[A+b[C+a]]=b[M+a]);j!==s&&(v[j]=$(s),b[S+j]=0)}for(0!==E&&(x=B),b[C+s]=P,v[s]=R,b[0+s]=B-R,b[I+s]=-2,N=it(N,o,b,S,r),h=R;h<B;h++)if(!((d=b[I+(a=y[h])])<=0))for(var H,W=N-(H=-b[w+a]),Y=v[a],G=v[a]+d-1;Y<=G;Y++)b[S+(j=y[Y])]>=N?b[S+j]-=H:0!==b[S+j]&&(b[S+j]=b[C+j]+W);for(h=R;h<B;h++){for(f=(G=v[a=y[h]])+b[I+a]-1,m=g=0,Y=p=G;Y<=f;Y++)0!==b[S+(j=y[Y])]&&(0<(z=b[S+j]-N)?(m+=z,g+=y[p++]=j):(v[j]=$(s),b[S+j]=0));b[I+a]=p-G+1;var U=p,Z=G+b[0+a];for(Y=1+f;Y<Z;Y++){var V,X=b[w+(V=y[Y])];X<=0||(m+=X,g+=y[p++]=V)}0===m?(v[a]=$(s),P-=H=-b[w+a],O+=H,L+=H,b[w+a]=0,b[I+a]=-1):(b[C+a]=Math.min(b[C+a],m),y[p]=y[U],y[U]=y[G],y[G]=s,b[0+a]=p-G+1,b[M+a]=b[T+(g=(g<0?-g:g)%r)],D[b[T+g]=a]=g)}for(b[C+s]=P,N=it(N+(o=Math.max(o,P)),o,b,S,r),h=R;h<B;h++)if(!(0<=b[w+(a=y[h])]))for(a=b[T+(g=D[a])],b[T+g]=-1;-1!==a&&-1!==b[M+a];a=b[M+a],N++){for(c=b[0+a],d=b[I+a],Y=v[a]+1;Y<=v[a]+c-1;Y++)b[S+y[Y]]=N;var q=a;for(V=b[M+a];-1!==V;){var J=b[0+V]===c&&b[I+V]===d;for(Y=v[V]+1;J&&Y<=v[V]+c-1;Y++)b[S+y[Y]]!==N&&(J=0);J?(v[V]=$(a),b[w+a]+=b[w+V],b[w+V]=0,b[I+V]=-1,V=b[M+V],b[M+q]=V):V=b[M+(q=V)]}}for(h=Y=R;h<B;h++)(H=-b[w+(a=y[h])])<=0||(b[w+a]=H,m=b[C+a]+P-H,-1!==b[A+(m=Math.min(m,r-L-H))]&&(D[b[A+m]]=a),b[M+a]=b[A+m],D[a]=-1,b[A+m]=a,k=Math.min(k,m),b[C+a]=m,y[Y++]=a);b[w+s]=O,0==(b[0+s]=Y-R)&&(v[s]=-1,b[S+s]=0),0!==E&&(x=Y)}for(a=0;a<r;a++)v[a]=$(v[a]);for(V=0;V<=r;V++)b[A+V]=-1;for(V=r;0<=V;V--)0<b[w+V]||(b[M+V]=b[A+v[V]],b[A+v[V]]=V);for(j=r;0<=j;j--)b[w+j]<=0||-1!==v[j]&&(b[M+j]=b[A+v[j]],b[A+v[j]]=j);for(a=s=0;a<=r;a++)-1===v[a]&&(s=K(a,s,b,A,M,_,S));return _.splice(_.length-1,1),_}}},function(t,e,n){"use strict";e.name="csFkeep",e.path="algebra.sparse",e.factory=function(){return function(t,e,n){for(var i=t._values,r=t._index,o=t._ptr,a=t._size[1],s=0,l=0;l<a;l++){var u=o[l];for(o[l]=s;u<o[l+1];u++)e(r[u],l,i?i[u]:1,n)&&(r[s]=r[u],i&&(i[s]=i[u]),s++)}return o[a]=s,r.splice(s,r.length-s),i&&i.splice(s,i.length-s),s}}},function(t,e,n){"use strict";e.name="csPermute",e.path="algebra.sparse",e.factory=function(t){var b=t.SparseMatrix;return function(t,e,n,i){for(var r=t._values,o=t._index,a=t._ptr,s=t._size,l=t._datatype,u=s[0],c=s[1],h=i&&t._values?[]:null,d=[],f=[],p=0,g=0;g<c;g++){f[g]=p;for(var m=n?n[g]:g,y=a[m],v=a[m+1],x=y;x<v;x++){var _=e?e[o[x]]:o[x];d[p]=_,h&&(h[p]=r[x]),p++}}return f[c]=p,new b({values:h,index:d,ptr:f,size:[u,c],datatype:l})}}},function(t,e,n){"use strict";e.name="csEtree",e.path="algebra.sparse",e.factory=function(){return function(t,e){if(!t)return null;var n,i=t._index,r=t._ptr,t=t._size,o=t[0],a=t[1],s=[],l=[],u=a;if(e)for(g=0;g<o;g++)l[u+g]=-1;for(var c=0;c<a;c++){s[c]=-1,l[0+c]=-1;for(var h=r[c],d=r[c+1],f=h;f<d;f++){for(var p=i[f],g=e?l[u+p]:p;-1!==g&&g<c;g=n)n=l[0+g],l[0+g]=c,-1===n&&(s[g]=c);e&&(l[u+p]=c)}}return s}}},function(t,e,i){"use strict";e.name="csPost",e.path="algebra.sparse",e.factory=function(t,e,n){var l=n(i(127));return function(t,e){if(!t)return null;for(var n=0,i=[],r=[],o=e,a=2*e,s=0;s<e;s++)r[0+s]=-1;for(s=e-1;0<=s;s--)-1!==t[s]&&(r[o+s]=r[0+t[s]],r[0+t[s]]=s);for(s=0;s<e;s++)-1===t[s]&&(n=l(s,n,r,0,o,i,a));return i}}},function(t,e,i){"use strict";e.name="csCounts",e.path="algebra.sparse",e.factory=function(t,e,n){var I=n(i(71)),C=n(i(209));return function(t,e,n,i){if(!t||!e||!n)return null;for(var r,o,a,s,l,u=t._size,c=u[0],h=u[1],d=4*h+(i?h+c+1:0),f=[],p=h,g=2*h,m=3*h,y=4*h,v=5*h+1,x=0;x<d;x++)f[x]=-1;var _=[],t=I(t),b=t._index,w=t._ptr;for(x=0;x<h;x++)for(_[r=n[x]]=-1===f[m+r]?1:0;-1!==r&&-1===f[m+r];r=e[r])f[m+r]=x;if(i){for(x=0;x<h;x++)f[n[x]]=x;for(M=0;M<c;M++){for(x=h,s=w[M],l=w[M+1],a=s;a<l;a++)x=Math.min(x,f[b[a]]);f[v+M]=f[y+x],f[y+x]=M}}for(M=0;M<h;M++)f[0+M]=M;for(x=0;x<h;x++){for(-1!==e[r=n[x]]&&_[e[r]]--,o=i?f[y+x]:r;-1!==o;o=i?f[v+o]:-1)for(a=w[o];a<w[o+1];a++){var M=b[a],A=C(M,r,f,m,p,g,0);1<=A.jleaf&&_[r]++,2===A.jleaf&&_[A.q]--}-1!==e[r]&&(f[0+r]=e[r])}for(r=0;r<h;r++)-1!==e[r]&&(_[e[r]]+=_[r]);return _}}},function(t,e,n){"use strict";e.name="csLeaf",e.path="algebra.sparse",e.factory=function(){return function(t,e,n,i,r,o,a){var s,l,u,c=0;if(t<=e||n[i+e]<=n[r+t])return-1;if(n[r+t]=n[i+e],i=n[o+t],n[o+t]=e,-1===i)c=1,u=t;else{for(c=2,u=i;u!==n[a+u];u=n[a+u]);for(s=i;s!==u;s=l)l=n[a+s],n[a+s]=u}return{jleaf:c,q:u}}}},function(t,e,i){"use strict";e.name="csLu",e.path="algebra.sparse",e.factory=function(t,e,n){var C=n(i(23)),S=n(i(12)),T=n(i(10)),D=n(i(33)),N=n(i(128)),L=n(i(211)),k=t.SparseMatrix;return function(t,e,n){if(!t)return null;var i,r=t._size[1],o=100,a=100;e&&(i=e.q,o=e.lnz||o,a=e.unz||a);var s=[],l=[],u=[],c=new k({values:s,index:l,ptr:u,size:[r,r]}),h=[],d=[],f=[],e=new k({values:h,index:d,ptr:f,size:[r,r]}),p=[],g=[],m=[];for(x=0;x<r;x++)g[x]=0,p[x]=-1,u[x+1]=0;for(var o=0,a=0,y=0;y<r;y++){u[y]=o,f[y]=a;for(var v,x,_=i?i[y]:y,b=L(c,t,_,m,g,p,1),w=-1,M=-1,A=b;A<r;A++)p[x=m[A]]<0?(v=C(g[x]),D(v,M)&&(M=v,w=x)):(d[a]=p[x],h[a++]=g[x]);if(-1===w||M<=0)return null;var I=g[w=p[_]<0&&N(C(g[_]),T(M,n))?_:w];for(d[a]=y,h[a++]=I,p[w]=y,l[o]=w,s[o++]=1,A=b;A<r;A++)p[x=m[A]]<0&&(l[o]=x,s[o++]=S(g[x],I)),g[x]=0}for(u[r]=o,f[r]=a,A=0;A<o;A++)l[A]=p[l[A]];return s.splice(o,s.length-o),l.splice(o,l.length-o),h.splice(a,h.length-a),d.splice(a,d.length-a),{L:c,U:e,pinv:p}}}},function(t,e,i){"use strict";e.name="csSpsolve",e.path="algebra.sparse",e.factory=function(t,e,n){var w=n(i(12)),M=n(i(10)),A=n(i(15)),I=n(i(212));return function(t,e,n,i,r,o,a){for(var s,l,u,c=t._values,h=t._index,d=t._ptr,f=t._size[1],p=e._values,g=e._index,m=e._ptr,e=I(t,e,n,i,o),y=e;y<f;y++)r[i[y]]=0;for(s=m[n],l=m[n+1],y=s;y<l;y++)r[g[y]]=p[y];for(var v=e;v<f;v++){var x=i[v],_=o?o[x]:x;if(!(_<0))for(s=d[_],l=d[_+1],r[x]=w(r[x],c[a?s:l-1]),y=a?s+1:s,u=a?l:l-1;y<u;y++){var b=h[y];r[b]=A(r[b],M(c[y],r[x]))}}return e}}},function(t,e,i){"use strict";e.name="csReach",e.path="algebra.sparse",e.factory=function(t,e,n){var f=n(i(213)),p=n(i(129)),g=n(i(130));return function(t,e,n,i,r){for(var o=t._ptr,a=t._size,s=e._index,e=e._ptr,l=a[1],u=l,a=e[n],c=e[n+1],h=a;h<c;h++){var d=s[h];p(o,d)||(u=f(d,t,u,i,r))}for(h=u;h<l;h++)g(o,i[h]);return u}}},function(t,e,i){"use strict";e.name="csDfs",e.path="algebra.sparse",e.factory=function(t,e,n){var p=n(i(129)),g=n(i(130)),m=n(i(214));return function(t,e,n,i,r){var o,a=e._index,s=e._ptr,l=e._size[1],u=0;for(i[0]=t;0<=u;){t=i[u];var c=r?r[t]:t;p(s,t)||(g(s,t),i[l+u]=c<0?0:m(s[c]));for(var h=1,d=i[l+u],f=c<0?0:m(s[c+1]);d<f;d++)if(o=a[d],!p(s,o)){i[l+u]=d,i[++u]=o,h=0;break}h&&(u--,i[--n]=t)}return n}}},function(t,e,r){"use strict";e.name="csUnflip",e.path="algebra.sparse",e.factory=function(t,e,n){var i=n(r(86));return function(t){return t<0?i(t):t}}},function(t,e,f){"use strict";var p=Array.isArray;e.name="lusolve",e.factory=function(e,t,n,i){var r=n(f(1)),o=n(f(85)),a=n(f(126)),s=n(f(216)),l=n(f(87)),u=n(f(132)),c=n(f(131)),i=i("lusolve",{"Array, Array | Matrix":function(t,e){t=r(t);t=o(t);return d(t.L,t.U,t.p,null,e).valueOf()},"DenseMatrix, Array | Matrix":function(t,e){t=o(t);return d(t.L,t.U,t.p,null,e)},"SparseMatrix, Array | Matrix":function(t,e){t=o(t);return d(t.L,t.U,t.p,null,e)},"SparseMatrix, Array | Matrix, number, number":function(t,e,n,i){i=a(t,n,i);return d(i.L,i.U,i.p,i.q,e)},"Object, Array | Matrix":function(t,e){return d(t.L,t.U,t.p,t.q,e)}}),h=function(t){if(e.isMatrix(t))return t;if(p(t))return r(t);throw new TypeError("Invalid Matrix LU decomposition")};function d(t,e,n,i,r){t=h(t),e=h(e),r=l(t,r,!1),n&&(r._data=s(n,r._data));r=c(t,r),r=u(e,r);return i&&(r._data=s(i,r._data)),r}return i}},function(t,e,n){"use strict";e.name="csIpvec",e.path="algebra.sparse",e.factory=function(){return function(t,e){var n,i=e.length,r=[];if(t)for(n=0;n<i;n++)r[t[n]]=e[n];else for(n=0;n<i;n++)r[n]=e[n];return r}}},function(t,e,n){"use strict";t.exports=[n(23),n(14),n(17),n(218),n(219),n(220),n(44),n(133),n(221),n(222),n(223),n(224),n(104),n(225),n(226),n(227),n(228),n(88),n(230),n(231),n(232),n(233),n(10),n(234),n(235),n(236),n(41),n(105),n(125),n(45),n(237),n(15),n(34),n(238),n(239)]},function(t,e,u){"use strict";var c=u(0);var h=Math.cbrt||function(t){if(0===t)return t;var e,n=t<0;return n&&(t=-t),e=isFinite(t)?(t/((e=Math.exp(Math.log(t)/3))*e)+2*e)/3:t,n?-e:e};e.name="cbrt",e.factory=function(r,o,t,e){var i=t(u(34)),a=t(u(60)),s=t(u(1)),n=e("cbrt",{number:h,Complex:l,"Complex, boolean":l,BigNumber:function(t){return t.cbrt()},Unit:function(t){{if(t.value&&r.isComplex(t.value)){var e=t.clone();return e.value=1,(e=e.pow(1/3)).value=l(t.value),e}var n=a(t.value);n&&(t.value=i(t.value)),e=r.isBigNumber(t.value)?new r.BigNumber(1).div(3):r.isFraction(t.value)?new r.Fraction(1,3):1/3;e=t.pow(e);return n&&(e.value=i(e.value)),e}},"Array | Matrix":function(t){return c(t,n,!0)}});function l(t,e){var n=t.arg()/3,i=t.abs(),t=new r.Complex(h(i),0).mul(new r.Complex(0,n).exp());if(e){n=[t,new r.Complex(h(i),0).mul(new r.Complex(0,n+2*Math.PI/3).exp()),new r.Complex(h(i),0).mul(new r.Complex(0,n-2*Math.PI/3).exp())];return"Array"===o.matrix?n:s(n)}return t}return n.toTex={1:"\\sqrt[3]{${args[0]}}"},n}},function(t,e,n){"use strict";var o=n(0);e.name="ceil",e.factory=function(t,e,n,i){var r=i("ceil",{number:Math.ceil,Complex:function(t){return t.ceil()},BigNumber:function(t){return t.ceil()},Fraction:function(t){return t.ceil()},"Array | Matrix":function(t){return o(t,r,!0)}});return r.toTex={1:"\\left\\lceil${args[0]}\\right\\rceil"},r}},function(t,e,n){"use strict";var o=n(0);e.name="cube",e.factory=function(t,e,n,i){var r=i("cube",{number:function(t){return t*t*t},Complex:function(t){return t.mul(t).mul(t)},BigNumber:function(t){return t.times(t).times(t)},Fraction:function(t){return t.pow(3)},"Array | Matrix":function(t){return o(t,r,!0)},Unit:function(t){return t.pow(3)}});return r.toTex={1:"\\left(${args[0]}\\right)^3"},r}},function(t,e,f){"use strict";e.name="dotMultiply",e.factory=function(t,e,n,i){var r=n(f(1)),o=n(f(21)),a=f(4),s=n(f(25)),l=n(f(134)),u=n(f(20)),c=n(f(7)),h=n(f(6)),d=i("dotMultiply",{"any, any":o,"SparseMatrix, SparseMatrix":function(t,e){return l(t,e,o,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,o,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,o,!1)},"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,o)},"Array, Array":function(t,e){return d(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return d(r(t),e)},"Matrix, Array":function(t,e){return d(t,r(e))},"SparseMatrix, any":function(t,e){return u(t,e,o,!1)},"DenseMatrix, any":function(t,e){return h(t,e,o,!1)},"any, SparseMatrix":function(t,e){return u(e,t,o,!0)},"any, DenseMatrix":function(t,e){return h(e,t,o,!0)},"Array, any":function(t,e){return h(r(t),e,o,!1).valueOf()},"any, Array":function(t,e){return h(r(e),t,o,!0).valueOf()}});return d.toTex={2:"\\left(${args[0]}".concat(a.operators.dotMultiply,"${args[1]}\\right)")},d}},function(t,e,p){"use strict";e.name="dotPow",e.factory=function(t,e,n,i){var r=n(p(1)),o=n(p(41)),a=p(4),s=n(p(18)),l=n(p(27)),u=n(p(20)),c=n(p(19)),h=n(p(7)),d=n(p(6)),f=i("dotPow",{"any, any":o,"SparseMatrix, SparseMatrix":function(t,e){return l(t,e,o,!1)},"SparseMatrix, DenseMatrix":function(t,e){return s(e,t,o,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,o,!1)},"DenseMatrix, DenseMatrix":function(t,e){return h(t,e,o)},"Array, Array":function(t,e){return f(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return f(r(t),e)},"Matrix, Array":function(t,e){return f(t,r(e))},"SparseMatrix, any":function(t,e){return u(t,e,f,!1)},"DenseMatrix, any":function(t,e){return d(t,e,f,!1)},"any, SparseMatrix":function(t,e){return c(e,t,f,!0)},"any, DenseMatrix":function(t,e){return d(e,t,f,!0)},"Array, any":function(t,e){return d(r(t),e,f,!1).valueOf()},"any, Array":function(t,e){return d(r(e),t,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(a.operators.dotPow,"${args[1]}\\right)")},f}},function(t,e,n){"use strict";var o=n(0);e.name="exp",e.factory=function(t,e,n,i){var r=i("exp",{number:Math.exp,Complex:function(t){return t.exp()},BigNumber:function(t){return t.exp()},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\exp\\left(${args[0]}\\right)"},r}},function(t,e,a){"use strict";var s=a(0);e.name="expm1",e.factory=function(n,t,e,i){var r=a(4),o=i("expm1",{number:Math.expm1||function(t){return 2e-4<=t||t<=-2e-4?Math.exp(t)-1:t+t*t/2+t*t*t/6},Complex:function(t){var e=Math.exp(t.re);return new n.Complex(e*Math.cos(t.im)-1,e*Math.sin(t.im))},BigNumber:function(t){return t.exp().minus(1)},"Array | Matrix":function(t){return s(t,o)}});return o.toTex="\\left(e".concat(r.operators.pow,"{${args[0]}}-1\\right)"),o}},function(t,e,n){"use strict";var o=n(0);e.name="floor",e.factory=function(t,e,n,i){var r=i("floor",{number:Math.floor,Complex:function(t){return t.floor()},BigNumber:function(t){return t.floor()},Fraction:function(t){return t.floor()},"Array | Matrix":function(t){return o(t,r,!0)}});return r.toTex={1:"\\left\\lfloor${args[0]}\\right\\rfloor"},r}},function(t,e,h){"use strict";var i=h(3).isInteger;function d(t,e){if(!i(t)||!i(e))throw new Error("Parameters in function gcd must be integer numbers");for(var n;0!==e;)n=t%e,t=e,e=n;return t<0?-t:t}e.name="gcd",e.factory=function(r,t,e,n){var i=e(h(1)),o=e(h(32)),a=e(h(83)),s=e(h(39)),l=e(h(7)),u=e(h(6)),c=n("gcd",{"number, number":d,"BigNumber, BigNumber":function(t,e){if(!t.isInt()||!e.isInt())throw new Error("Parameters in function gcd must be integer numbers");var n=new r.BigNumber(0);for(;!e.isZero();){var i=t.mod(e);t=e,e=i}return t.lt(n)?t.neg():t},"Fraction, Fraction":function(t,e){return t.gcd(e)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,c)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,c,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,c,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,c)},"Array, Array":function(t,e){return c(i(t),i(e)).valueOf()},"Array, Matrix":function(t,e){return c(i(t),e)},"Matrix, Array":function(t,e){return c(t,i(e))},"SparseMatrix, number | BigNumber":function(t,e){return s(t,e,c,!1)},"DenseMatrix, number | BigNumber":function(t,e){return u(t,e,c,!1)},"number | BigNumber, SparseMatrix":function(t,e){return s(e,t,c,!0)},"number | BigNumber, DenseMatrix":function(t,e){return u(e,t,c,!0)},"Array, number | BigNumber":function(t,e){return u(i(t),e,c,!1).valueOf()},"number | BigNumber, Array":function(t,e){return u(i(e),t,c,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,n){for(var i=c(t,e),r=0;r<n.length;r++)i=c(i,n[r]);return i}});return c.toTex="\\gcd\\left(${args}\\right)",c}},function(t,e,d){"use strict";var f=d(2).flatten;e.name="hypot",e.factory=function(t,e,n,i){var o=n(d(23)),a=n(d(17)),s=n(d(12)),l=n(d(21)),u=n(d(45)),c=n(d(40)),h=n(d(72)),r=i("hypot",{"... number | BigNumber":function(t){for(var e=0,n=0,i=0;i<t.length;i++){var r=o(t[i]);c(n,r)?(e=l(e,l(s(n,r),s(n,r))),e=a(e,1),n=r):e=a(e,h(r)?l(s(r,n),s(r,n)):r)}return l(n,u(e))},Array:function(t){return r.apply(r,f(t))},Matrix:function(t){return r.apply(r,f(t.toArray()))}});return r.toTex="\\hypot\\left(${args}\\right)",r}},function(t,e,h){"use strict";var r=h(3).isInteger;function d(t,e){if(!r(t)||!r(e))throw new Error("Parameters in function lcm must be integer numbers");if(0===t||0===e)return 0;for(var n,i=t*e;0!==e;)e=t%(n=e),t=n;return Math.abs(i/t)}e.name="lcm",e.factory=function(r,t,e,n){var i=e(h(1)),o=e(h(25)),a=e(h(73)),s=e(h(20)),l=e(h(7)),u=e(h(6)),c=n("lcm",{"number, number":d,"BigNumber, BigNumber":function(t,e){if(!t.isInt()||!e.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(t.isZero()||e.isZero())return new r.BigNumber(0);var n=t.times(e);for(;!e.isZero();){var i=e;e=t.mod(i),t=i}return n.div(t).abs()},"Fraction, Fraction":function(t,e){return t.lcm(e)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,c)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,c,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,c,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,c)},"Array, Array":function(t,e){return c(i(t),i(e)).valueOf()},"Array, Matrix":function(t,e){return c(i(t),e)},"Matrix, Array":function(t,e){return c(t,i(e))},"SparseMatrix, number | BigNumber":function(t,e){return s(t,e,c,!1)},"DenseMatrix, number | BigNumber":function(t,e){return u(t,e,c,!1)},"number | BigNumber, SparseMatrix":function(t,e){return s(e,t,c,!0)},"number | BigNumber, DenseMatrix":function(t,e){return u(e,t,c,!0)},"Array, number | BigNumber":function(t,e){return u(i(t),e,c,!1).valueOf()},"number | BigNumber, Array":function(t,e){return u(i(e),t,c,!0).valueOf()},"Array | Matrix | number | BigNumber, Array | Matrix | number | BigNumber, ...Array | Matrix | number | BigNumber":function(t,e,n){for(var i=c(t,e),r=0;r<n.length;r++)i=c(i,n[r]);return i}});return c.toTex=void 0,c}},function(t,e,n){"use strict";t.exports=function(t,e,n,i,r,o,a,s,l,u,c){var h,d,f,p,g=t._values,m=t._index,t=t._ptr,y=a._index;if(i)for(d=t[e],f=t[e+1],h=d;h<f;h++)n[p=m[h]]!==o?(n[p]=o,y.push(p),u?(i[p]=l?s(g[h],c):s(c,g[h]),r[p]=o):i[p]=g[h]):(i[p]=l?s(g[h],i[p]):s(i[p],g[h]),r[p]=o);else for(d=t[e],f=t[e+1],h=d;h<f;h++)n[p=m[h]]!==o?(n[p]=o,y.push(p)):r[p]=o}},function(t,e,n){"use strict";var o=n(0);var a=Math.log10||function(t){return Math.log(t)/Math.LN10};e.name="log10",e.factory=function(e,n,t,i){var r=i("log10",{number:function(t){return 0<=t||n.predictable?a(t):new e.Complex(t,0).log().div(Math.LN10)},Complex:function(t){return new e.Complex(t).log().div(Math.LN10)},BigNumber:function(t){return!t.isNegative()||n.predictable?t.log():new e.Complex(t.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\log_{10}\\left(${args[0]}\\right)"},r}},function(t,e,l){"use strict";var u=l(0);e.name="log1p",e.factory=function(n,i,t,e){var r=t(l(12)),o=t(l(88)),a=e("log1p",{number:function(t){return-1<=t||i.predictable?Math.log1p?Math.log1p(t):Math.log(t+1):s(new n.Complex(t,0))},Complex:s,BigNumber:function(t){var e=t.plus(1);return!e.isNegative()||i.predictable?e.ln():s(new n.Complex(t.toNumber(),0))},"Array | Matrix":function(t){return u(t,a)},"any, any":function(t,e){return r(a(t),o(e))}});function s(t){var e=t.re+1;return new n.Complex(Math.log(Math.sqrt(e*e+t.im*t.im)),Math.atan2(t.im,e))}return a.toTex={1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},a}},function(t,e,n){"use strict";var a=n(0);e.name="log2",e.factory=function(n,e,t,i){var r=i("log2",{number:function(t){return 0<=t||e.predictable?Math.log2?Math.log2(t):Math.log(t)/Math.LN2:o(new n.Complex(t,0))},Complex:o,BigNumber:function(t){return!t.isNegative()||e.predictable?t.log(2):o(new n.Complex(t.toNumber(),0))},"Array | Matrix":function(t){return a(t,r)}});function o(t){var e=Math.sqrt(t.re*t.re+t.im*t.im);return new n.Complex(Math.log2?Math.log2(e):Math.log(e)/Math.LN2,Math.atan2(t.im,t.re)/Math.LN2)}return r.toTex="\\log_{2}\\left(${args[0]}\\right)",r}},function(t,e,p){"use strict";e.name="mod",e.factory=function(t,e,n,i){var r=n(p(1)),o=p(4),a=n(p(25)),s=n(p(18)),l=n(p(66)),u=n(p(20)),c=n(p(19)),h=n(p(7)),d=n(p(6)),f=i("mod",{"number, number":function(t,e){{if(0<e)return t-e*Math.floor(t/e);if(0===e)return t;throw new Error("Cannot calculate mod for a negative divisor")}},"BigNumber, BigNumber":function(t,e){return e.isZero()?t:t.mod(e)},"Fraction, Fraction":function(t,e){return t.mod(e)},"SparseMatrix, SparseMatrix":function(t,e){return l(t,e,f,!1)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,f,!0)},"DenseMatrix, SparseMatrix":function(t,e){return s(t,e,f,!1)},"DenseMatrix, DenseMatrix":function(t,e){return h(t,e,f)},"Array, Array":function(t,e){return f(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return f(r(t),e)},"Matrix, Array":function(t,e){return f(t,r(e))},"SparseMatrix, any":function(t,e){return u(t,e,f,!1)},"DenseMatrix, any":function(t,e){return d(t,e,f,!1)},"any, SparseMatrix":function(t,e){return c(e,t,f,!0)},"any, DenseMatrix":function(t,e){return d(e,t,f,!0)},"Array, any":function(t,e){return d(r(t),e,f,!1).valueOf()},"any, Array":function(t,e){return d(r(e),t,f,!0).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(o.operators.mod,"${args[1]}\\right)")},f}},function(t,e,a){"use strict";e.name="norm",e.factory=function(t,e,n,i){var h=n(a(23)),d=n(a(14)),f=n(a(41)),p=n(a(70)),g=n(a(45)),m=n(a(10)),y=n(a(11)),v=n(a(33)),x=n(a(40)),r=n(a(1)),o=i("norm",{number:Math.abs,Complex:function(t){return t.abs()},BigNumber:function(t){return t.abs()},boolean:function(t){return Math.abs(t)},Array:function(t){return _(r(t),2)},Matrix:function(t){return _(t,2)},"number | Complex | BigNumber | boolean, number | BigNumber | string":function(t){return o(t)},"Array, number | BigNumber | string":function(t,e){return _(r(t),e)},"Matrix, number | BigNumber | string":_});function _(t,e){var n,i=t.size();if(1===i.length){if(e===Number.POSITIVE_INFINITY||"inf"===e){var r=0;return t.forEach(function(t){t=h(t);v(t,r)&&(r=t)},!0),r}if(e===Number.NEGATIVE_INFINITY||"-inf"===e)return t.forEach(function(t){t=h(t);n&&!x(t,n)||(n=t)},!0),n||0;if("fro"===e)return _(t,2);if("number"!=typeof e||isNaN(e))throw new Error("Unsupported parameter value");if(y(e,0))return Number.POSITIVE_INFINITY;var o=0;return t.forEach(function(t){o=d(f(h(t),e),o)},!0),f(o,1/e)}if(2===i.length){if(1===e){var a=[],s=0;return t.forEach(function(t,e){e=e[1],t=d(a[e]||0,h(t));v(t,s)&&(s=t),a[e]=t},!0),s}if(e===Number.POSITIVE_INFINITY||"inf"===e){var l=[],u=0;return t.forEach(function(t,e){e=e[0],t=d(l[e]||0,h(t));v(t,u)&&(u=t),l[e]=t},!0),u}if("fro"===e){var c=0;return t.forEach(function(t,e){c=d(c,m(t,p(t)))}),h(g(c))}if(2===e)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}return o.toTex={1:"\\left\\|${args[0]}\\right\\|",2:void 0},o}},function(t,e,p){"use strict";function g(t,e){var n=e<0;if(0===(e=n?-e:e))throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!=1)throw new Error("Root must be odd when a is negative.");if(0===t)return n?1/0:0;if(!isFinite(t))return n?0:t;e=Math.pow(Math.abs(t),1/e),e=t<0?-e:e;return n?1/e:e}e.name="nthRoot",e.factory=function(s,t,e,n){var i=e(p(1)),r=e(p(32)),o=e(p(25)),a=e(p(73)),l=e(p(20)),u=e(p(7)),c=e(p(6)),h="Complex number not supported in function nthRoot. Use nthRoots instead.",d=n("nthRoot",{number:function(t){return g(t,2)},"number, number":g,BigNumber:function(t){return f(t,new s.BigNumber(2))},Complex:function(t){throw new Error(h)},"Complex, number":function(t,e){throw new Error(h)},"BigNumber, BigNumber":f,"Array | Matrix":function(t){return d(t,2)},"SparseMatrix, SparseMatrix":function(t,e){if(1===e.density())return a(t,e,d);throw new Error("Root must be non-zero")},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,d,!0)},"DenseMatrix, SparseMatrix":function(t,e){if(1===e.density())return r(t,e,d,!1);throw new Error("Root must be non-zero")},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,d)},"Array, Array":function(t,e){return d(i(t),i(e)).valueOf()},"Array, Matrix":function(t,e){return d(i(t),e)},"Matrix, Array":function(t,e){return d(t,i(e))},"SparseMatrix, number | BigNumber":function(t,e){return l(t,e,d,!1)},"DenseMatrix, number | BigNumber":function(t,e){return c(t,e,d,!1)},"number | BigNumber, SparseMatrix":function(t,e){if(1===e.density())return l(e,t,d,!0);throw new Error("Root must be non-zero")},"number | BigNumber, DenseMatrix":function(t,e){return c(e,t,d,!0)},"Array, number | BigNumber":function(t,e){return d(i(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return d(t,i(e)).valueOf()}});return d.toTex={2:"\\sqrt[${args[1]}]{${args[0]}}"},d;function f(t,e){var n=s.BigNumber.precision,i=s.BigNumber.clone({precision:n+2}),r=new s.BigNumber(0),o=new i(1),a=e.isNegative();if((e=a?e.neg():e).isZero())throw new Error("Root must be non-zero");if(t.isNegative()&&!e.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(t.isZero())return a?new i(1/0):0;if(!t.isFinite())return a?r:t;e=t.abs().pow(o.div(e)),e=t.isNeg()?e.neg():e;return new s.BigNumber((a?o.div(e):e).toPrecision(n))}}},function(t,e,n){"use strict";var i=n(80),n=n(98),u=i.factory("Complex",{},"",n,{on:function(t,e){}});var c=[function(t){return u(t)},function(t){return u(0,t)},function(t){return u(-t)},function(t){return u(0,-t)}];function r(t,e){if(e<0)throw new Error("Root must be greater than zero");if(0===e)throw new Error("Root must be non-zero");if(e%1!=0)throw new Error("Root must be an integer");if(0===t||0===t.abs())return[u(0)];var n,i="number"==typeof t;!i&&0!==t.re&&0!==t.im||(n=i?2*(t<0):0===t.im?2*(t.re<0):2*(t.im<0)+1);for(var r=t.arg(),t=t.abs(),o=[],a=Math.pow(t,1/e),s=0;s<e;s++){var l=(n+4*s)/e;l!==Math.round(l)?o.push(u({r:a,phi:(r+2*Math.PI*s)/e})):o.push(c[l%4](a))}return o}e.name="nthRoots",e.factory=function(t,e,n,i){return(i=i("nthRoots",{Complex:function(t){return r(t,2)},"Complex, number":r})).toTex={2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},i}},function(t,e,n){"use strict";var o=n(0);e.name="square",e.factory=function(t,e,n,i){var r=i("square",{number:function(t){return t*t},Complex:function(t){return t.mul(t)},BigNumber:function(t){return t.times(t)},Fraction:function(t){return t.mul(t)},"Array | Matrix":function(t){return o(t,r,!0)},Unit:function(t){return t.pow(2)}});return r.toTex={1:"\\left(${args[0]}\\right)^2"},r}},function(t,e,a){"use strict";var s=a(0);e.name="unaryPlus",e.factory=function(e,n,t,i){var r=a(4),o=i("unaryPlus",{number:function(t){return t},Complex:function(t){return t},BigNumber:function(t){return t},Fraction:function(t){return t},Unit:function(t){return t.clone()},"Array | Matrix":function(t){return s(t,o,!0)},"boolean | string":function(t){return"BigNumber"===n.number?new e.BigNumber(+t):+t}});return o.toTex={1:"".concat(r.operators.unaryPlus,"\\left(${args[0]}\\right)")},o}},function(t,e,n){"use strict";var c=n(3).isInteger;e.name="xgcd",e.factory=function(h,d,t,e){var f=t(n(1));return(e=e("xgcd",{"number, number":function(t,e){var n,i,r,o,a=0,s=1,l=1,u=0;if(!c(t)||!c(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)i=Math.floor(t/e),r=t-i*e,a=s-i*(n=a),s=n,l=u-i*(n=l),u=n,t=e,e=r;o=t<0?[-t,-s,-u]:[t,t?s:0,u];return"Array"===d.matrix?o:f(o)},"BigNumber, BigNumber":function(t,e){var n,i,r,o=new h.BigNumber(0),a=new h.BigNumber(1),s=o,l=a,u=a,c=o;if(!t.isInt()||!e.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!e.isZero();)i=t.div(e).floor(),r=t.mod(e),n=s,s=l.minus(i.times(s)),l=n,n=u,u=c.minus(i.times(u)),c=n,t=e,e=r;o=t.lt(o)?[t.neg(),l.neg(),c.neg()]:[t,t.isZero()?0:l,c];return"Array"===d.matrix?o:f(o)}})).toTex=void 0,e}},function(t,e,n){"use strict";t.exports=[n(241),n(243),n(244),n(246),n(248),n(250),n(252)]},function(t,e,d){"use strict";var f=d(3).isInteger,p=d(242);e.name="bitAnd",e.factory=function(t,e,n,i){var r=d(4),o=n(d(1)),a=n(d(25)),s=n(d(73)),l=n(d(20)),u=n(d(7)),c=n(d(6)),h=i("bitAnd",{"number, number":function(t,e){if(!f(t)||!f(e))throw new Error("Integers expected in function bitAnd");return t&e},"BigNumber, BigNumber":p,"SparseMatrix, SparseMatrix":function(t,e){return s(t,e,h,!1)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,h,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,h,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,h)},"Array, Array":function(t,e){return h(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return h(o(t),e)},"Matrix, Array":function(t,e){return h(t,o(e))},"SparseMatrix, any":function(t,e){return l(t,e,h,!1)},"DenseMatrix, any":function(t,e){return c(t,e,h,!1)},"any, SparseMatrix":function(t,e){return l(e,t,h,!0)},"any, DenseMatrix":function(t,e){return c(e,t,h,!0)},"Array, any":function(t,e){return c(o(t),e,h,!1).valueOf()},"any, Array":function(t,e){return c(o(e),t,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(r.operators.bitAnd,"${args[1]}\\right)")},h}},function(t,e,n){"use strict";var i=n(89);t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new n(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t}return i(t,e,function(t,e){return t&e})}},function(t,e,a){"use strict";var s=a(0),l=a(90),u=a(3).isInteger;e.name="bitNot",e.factory=function(t,e,n,i){var r=a(4),o=i("bitNot",{number:function(t){if(!u(t))throw new Error("Integer expected in function bitNot");return~t},BigNumber:l,"Array | Matrix":function(t){return s(t,o)}});return o.toTex={1:r.operators.bitNot+"\\left(${args[0]}\\right)"},o}},function(t,e,d){"use strict";var f=d(3).isInteger,p=d(245);e.name="bitOr",e.factory=function(t,e,n,i){var r=d(4),o=n(d(1)),a=n(d(32)),s=n(d(83)),l=n(d(39)),u=n(d(7)),c=n(d(6)),h=i("bitOr",{"number, number":function(t,e){if(!f(t)||!f(e))throw new Error("Integers expected in function bitOr");return t|e},"BigNumber, BigNumber":p,"SparseMatrix, SparseMatrix":function(t,e){return s(t,e,h)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,h,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,h,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,h)},"Array, Array":function(t,e){return h(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return h(o(t),e)},"Matrix, Array":function(t,e){return h(t,o(e))},"SparseMatrix, any":function(t,e){return l(t,e,h,!1)},"DenseMatrix, any":function(t,e){return c(t,e,h,!1)},"any, SparseMatrix":function(t,e){return l(e,t,h,!0)},"any, DenseMatrix":function(t,e){return c(e,t,h,!0)},"Array, any":function(t,e){return c(o(t),e,h,!1).valueOf()},"any, Array":function(t,e){return c(o(e),t,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(r.operators.bitOr,"${args[1]}\\right)")},h}},function(t,e,n){"use strict";var i=n(89);t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);n=new n(-1);return t.isZero()||e.eq(n)||t.eq(e)?e:e.isZero()||t.eq(n)?t:t.isFinite()&&e.isFinite()?i(t,e,function(t,e){return t|e}):!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?n:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t}},function(t,e,d){"use strict";var f=d(3).isInteger,p=d(247);e.name="bitXor",e.factory=function(t,e,n,i){var r=d(4),o=n(d(1)),a=n(d(18)),s=n(d(27)),l=n(d(19)),u=n(d(7)),c=n(d(6)),h=i("bitXor",{"number, number":function(t,e){if(!f(t)||!f(e))throw new Error("Integers expected in function bitXor");return t^e},"BigNumber, BigNumber":p,"SparseMatrix, SparseMatrix":function(t,e){return s(t,e,h)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,h,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,h,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,h)},"Array, Array":function(t,e){return h(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return h(o(t),e)},"Matrix, Array":function(t,e){return h(t,o(e))},"SparseMatrix, any":function(t,e){return l(t,e,h,!1)},"DenseMatrix, any":function(t,e){return c(t,e,h,!1)},"any, SparseMatrix":function(t,e){return l(e,t,h,!0)},"any, DenseMatrix":function(t,e){return c(e,t,h,!0)},"Array, any":function(t,e){return c(o(t),e,h,!1).valueOf()},"any, Array":function(t,e){return c(o(e),t,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(r.operators.bitXor,"${args[1]}\\right)")},h}},function(t,e,n){"use strict";var r=n(89),o=n(90);t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new n(0);var i=new n(-1);return t.eq(i)?o(e):e.eq(i)?o(t):t.isFinite()&&e.isFinite()?r(t,e,function(t,e){return t^e}):t.isFinite()||e.isFinite()?new n(t.isNegative()===e.isNegative()?1/0:-1/0):i}},function(t,e,m){"use strict";var y=m(3).isInteger,v=m(249);e.name="leftShift",e.factory=function(t,e,n,i){var r=m(4),o=n(m(1)),a=n(m(11)),s=n(m(42)),l=n(m(32)),u=n(m(25)),c=n(m(91)),h=n(m(39)),d=n(m(20)),f=n(m(7)),p=n(m(6)),g=i("leftShift",{"number, number":function(t,e){if(!y(t)||!y(e))throw new Error("Integers expected in function leftShift");return t<<e},"BigNumber, BigNumber":v,"SparseMatrix, SparseMatrix":function(t,e){return c(t,e,g,!1)},"SparseMatrix, DenseMatrix":function(t,e){return u(e,t,g,!0)},"DenseMatrix, SparseMatrix":function(t,e){return l(t,e,g,!1)},"DenseMatrix, DenseMatrix":function(t,e){return f(t,e,g)},"Array, Array":function(t,e){return g(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return g(o(t),e)},"Matrix, Array":function(t,e){return g(t,o(e))},"SparseMatrix, number | BigNumber":function(t,e){return a(e,0)?t.clone():d(t,e,g,!1)},"DenseMatrix, number | BigNumber":function(t,e){return a(e,0)?t.clone():p(t,e,g,!1)},"number | BigNumber, SparseMatrix":function(t,e){return a(t,0)?s(e.size(),e.storage()):h(e,t,g,!0)},"number | BigNumber, DenseMatrix":function(t,e){return a(t,0)?s(e.size(),e.storage()):p(e,t,g,!0)},"Array, number | BigNumber":function(t,e){return g(o(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return g(t,o(e)).valueOf()}});return g.toTex={2:"\\left(${args[0]}".concat(r.operators.leftShift,"${args[1]}\\right)")},g}},function(t,e,n){"use strict";t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:t.isFinite()||e.isFinite()?e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new n(2).pow(e)):new n(NaN)}},function(t,e,m){"use strict";var y=m(3).isInteger,v=m(251);e.name="rightArithShift",e.factory=function(t,e,n,i){var r=m(4),o=n(m(1)),a=n(m(11)),s=n(m(42)),l=n(m(32)),u=n(m(25)),c=n(m(91)),h=n(m(39)),d=n(m(20)),f=n(m(7)),p=n(m(6)),g=i("rightArithShift",{"number, number":function(t,e){if(!y(t)||!y(e))throw new Error("Integers expected in function rightArithShift");return t>>e},"BigNumber, BigNumber":v,"SparseMatrix, SparseMatrix":function(t,e){return c(t,e,g,!1)},"SparseMatrix, DenseMatrix":function(t,e){return u(e,t,g,!0)},"DenseMatrix, SparseMatrix":function(t,e){return l(t,e,g,!1)},"DenseMatrix, DenseMatrix":function(t,e){return f(t,e,g)},"Array, Array":function(t,e){return g(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return g(o(t),e)},"Matrix, Array":function(t,e){return g(t,o(e))},"SparseMatrix, number | BigNumber":function(t,e){return a(e,0)?t.clone():d(t,e,g,!1)},"DenseMatrix, number | BigNumber":function(t,e){return a(e,0)?t.clone():p(t,e,g,!1)},"number | BigNumber, SparseMatrix":function(t,e){return a(t,0)?s(e.size(),e.storage()):h(e,t,g,!0)},"number | BigNumber, DenseMatrix":function(t,e){return a(t,0)?s(e.size(),e.storage()):p(e,t,g,!0)},"Array, number | BigNumber":function(t,e){return g(o(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return g(t,o(e)).valueOf()}});return g.toTex={2:"\\left(${args[0]}".concat(r.operators.rightArithShift,"${args[1]}\\right)")},g}},function(t,e,n){"use strict";t.exports=function(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:e.isFinite()?(e.lt(55)?t.div(Math.pow(2,e.toNumber())+""):t.div(new n(2).pow(e))).floor():t.isNegative()?new n(-1):t.isFinite()?new n(0):new n(NaN)}},function(t,e,m){"use strict";var y=m(3).isInteger;e.name="rightLogShift",e.factory=function(t,e,n,i){var r=m(4),o=n(m(1)),a=n(m(11)),s=n(m(42)),l=n(m(32)),u=n(m(25)),c=n(m(91)),h=n(m(39)),d=n(m(20)),f=n(m(7)),p=n(m(6)),g=i("rightLogShift",{"number, number":function(t,e){if(!y(t)||!y(e))throw new Error("Integers expected in function rightLogShift");return t>>>e},"SparseMatrix, SparseMatrix":function(t,e){return c(t,e,g,!1)},"SparseMatrix, DenseMatrix":function(t,e){return u(e,t,g,!0)},"DenseMatrix, SparseMatrix":function(t,e){return l(t,e,g,!1)},"DenseMatrix, DenseMatrix":function(t,e){return f(t,e,g)},"Array, Array":function(t,e){return g(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return g(o(t),e)},"Matrix, Array":function(t,e){return g(t,o(e))},"SparseMatrix, number | BigNumber":function(t,e){return a(e,0)?t.clone():d(t,e,g,!1)},"DenseMatrix, number | BigNumber":function(t,e){return a(e,0)?t.clone():p(t,e,g,!1)},"number | BigNumber, SparseMatrix":function(t,e){return a(t,0)?s(e.size(),e.storage()):h(e,t,g,!0)},"number | BigNumber, DenseMatrix":function(t,e){return a(t,0)?s(e.size(),e.storage()):p(e,t,g,!0)},"Array, number | BigNumber":function(t,e){return g(o(t),e).valueOf()},"number | BigNumber, Array":function(t,e){return g(t,o(e)).valueOf()}});return g.toTex={2:"\\left(${args[0]}".concat(r.operators.rightLogShift,"${args[1]}\\right)")},g}},function(t,e,n){"use strict";t.exports=[n(254),n(255),n(135),n(256)]},function(t,e,l){"use strict";e.name="bellNumbers",e.factory=function(t,e,n,i){var r=n(l(14)),o=n(l(135)),a=n(l(60)),s=n(l(36));return(i=i("bellNumbers",{"number | BigNumber":function(t){if(!s(t)||a(t))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var e=0,n=0;n<=t;n++)e=r(e,o(t,n));return e}})).toTex={1:"\\mathrm{B}_{${args[0]}}"},i}},function(t,e,u){"use strict";e.name="composition",e.factory=function(t,e,n,i){var r=n(u(75)),o=n(u(17)),a=n(u(72)),s=n(u(36)),l=n(u(33));return(i=i("composition",{"number | BigNumber, number | BigNumber":function(t,e){if(!(s(t)&&a(t)&&s(e)&&a(e)))throw new TypeError("Positive integer value expected in function composition");if(l(e,t))throw new TypeError("k must be less than or equal to n in function composition");return r(o(t,-1),o(e,-1))}})).toTex=void 0,i}},function(t,e,c){"use strict";e.name="catalan",e.factory=function(t,e,n,i){var r=n(c(14)),o=n(c(44)),a=n(c(10)),s=n(c(75)),l=n(c(60)),u=n(c(36));return(i=i("catalan",{"number | BigNumber":function(t){if(!u(t)||l(t))throw new TypeError("Non-negative integer value expected in function catalan");return o(s(a(t,2),t),r(t,1))}})).toTex={1:"\\mathrm{C}_{${args[0]}}"},i}},function(t,e,n){"use strict";t.exports=[n(258),n(70),n(259),n(260)]},function(t,e,n){"use strict";var o=n(0);e.name="arg",e.factory=function(e,t,n,i){var r=i("arg",{number:function(t){return Math.atan2(0,t)},BigNumber:function(t){return e.BigNumber.atan2(0,t)},Complex:function(t){return t.arg()},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\arg\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="im",e.factory=function(e,t,n,i){var r=i("im",{number:function(t){return 0},BigNumber:function(t){return new e.BigNumber(0)},Complex:function(t){return t.im},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},r}},function(t,e,n){"use strict";var o=n(0);e.name="re",e.factory=function(t,e,n,i){var r=i("re",{number:function(t){return t},BigNumber:function(t){return t},Complex:function(t){return t.re},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},r}},function(t,e,n){"use strict";t.exports=[n(262),n(263)]},function(t,e,i){"use strict";e.name="intersect",e.factory=function(e,y,t,n){var v=t(i(23)),x=t(i(14)),_=t(i(17)),r=t(i(1)),b=t(i(10)),w=t(i(21)),M=t(i(12)),A=t(i(15)),I=t(i(40)),C=t(i(11)),o=n("intersect",{"Array, Array, Array":function(t,e,n){if(!T(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!T(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!(4===(d=n).length&&f(d[0])&&f(d[1])&&f(d[2])&&f(d[3])))throw new TypeError("Array with 4 numbers expected as third argument");var i,r,o,a,s,l,u,c,h,d;return i=t[0],r=t[1],o=t[2],a=e[0],s=e[1],l=e[2],u=n[0],c=n[1],h=n[2],d=n[3],t=w(i,u),e=w(a,u),n=w(r,c),u=w(s,c),c=w(o,h),h=w(l,h),c=M(A(A(A(d,t),n),c),A(A(A(_(_(e,u),h),t),n),c)),i=_(i,w(c,A(a,i))),r=_(r,w(c,A(s,r))),o=_(o,w(c,A(l,o))),[i,r,o]},"Array, Array, Array, Array":function(t,e,n,i){if(2===t.length){if(!S(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!S(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!S(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!S(i))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return function(t,e,n,i){var r=t,o=n,a=A(r,e),s=A(o,i),t=A(w(a[0],s[1]),w(s[0],a[1]));if(I(v(t),y.epsilon))return null;n=w(s[0],r[1]),e=w(s[1],r[0]),i=w(s[0],o[1]),o=w(s[1],o[0]),t=M(_(A(A(n,e),i),o),t);return x(b(a,t),r)}(t,e,n,i)}if(3!==t.length)throw new TypeError("Arrays with two or thee dimensional points expected");if(!T(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!T(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!T(n))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!T(i))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return r=t[0],o=t[1],a=t[2],s=e[0],l=e[1],u=e[2],c=n[0],h=n[1],d=n[2],f=i[0],p=i[1],g=i[2],m=D(r,c,f,c,o,h,p,h,a,d,g,d),t=D(f,c,s,r,p,h,l,o,g,d,u,a),e=D(r,c,s,r,o,h,l,o,a,d,u,a),n=D(f,c,f,c,p,h,p,h,g,d,g,d),i=D(s,r,s,r,l,o,l,o,u,a,u,a),i=M(A(w(m,t),w(e,n)),A(w(i,n),w(t,t))),n=M(_(m,w(i,t)),n),r=_(r,w(i,A(s,r))),o=_(o,w(i,A(l,o))),a=_(a,w(i,A(u,a))),c=_(c,w(n,A(f,c))),h=_(h,w(n,A(p,h))),d=_(d,w(n,A(g,d))),C(r,c)&&C(o,h)&&C(a,d)?[r,o,a]:null;var r,o,a,s,l,u,c,h,d,f,p,g,m},"Matrix, Matrix, Matrix":function(t,e,n){return r(o(t.valueOf(),e.valueOf(),n.valueOf()))},"Matrix, Matrix, Matrix, Matrix":function(t,e,n,i){return r(o(t.valueOf(),e.valueOf(),n.valueOf(),i.valueOf()))}});function f(t){return"number"==typeof t||e.isBigNumber(t)}function S(t){return 2===t.length&&f(t[0])&&f(t[1])}function T(t){return 3===t.length&&f(t[0])&&f(t[1])&&f(t[2])}function D(t,e,n,i,r,o,a,s,l,u,c,h){i=w(A(t,e),A(n,i)),s=w(A(r,o),A(a,s)),h=w(A(l,u),A(c,h));return _(_(i,s),h)}return o}},function(t,e,_){"use strict";e.name="distance",e.factory=function(e,t,n,i){var u=n(_(17)),c=n(_(15)),h=n(_(21)),d=n(_(12)),r=n(_(34)),f=n(_(45)),o=n(_(23));function a(t){return"number"==typeof t||e.isBigNumber(t)}function s(t){return a((t=t.constructor!==Array?g(t):t)[0])&&a(t[1])}function l(t){return a((t=t.constructor!==Array?g(t):t)[0])&&a(t[1])&&a(t[2])}function p(t){return a((t=t.constructor!==Array?g(t):t)[0])&&a(t[1])&&a(t[2])&&a(t[3])&&a(t[4])&&a(t[5])}function g(t){for(var e=Object.keys(t),n=[],i=0;i<e.length;i++)n.push(t[e[i]]);return n}function m(t,e,n,i,r){r=o(u(u(h(n,t),h(i,e)),r)),i=f(u(h(n,n),h(i,i)));return d(r,i)}function y(t,e,n,i,r,o,a,s,l){e=[c(h(c(r,e),l),h(c(o,n),s)),c(h(c(o,n),a),h(c(i,t),l)),c(h(c(i,t),s),h(c(r,e),a))],e=f(u(u(h(e[0],e[0]),h(e[1],e[1])),h(e[2],e[2]))),l=f(u(u(h(a,a),h(s,s)),h(l,l)));return d(e,l)}function v(t,e,n,i){e=c(i,e),t=c(n,t),t=u(h(e,e),h(t,t));return f(t)}function x(t,e,n,i,r,o){n=c(o,n),e=c(r,e),t=c(i,t),t=u(u(h(n,n),h(e,e)),h(t,t));return f(t)}return i("distance",{"Array, Array, Array":function(t,e,n){if(2!==t.length||2!==e.length||2!==n.length)throw new TypeError("Invalid Arguments: Try again");if(!s(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!s(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!s(n))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");var i=d(c(n[1],n[0]),c(e[1],e[0])),n=h(h(i,i),e[0]),i=r(h(i,e[0])),e=t[1];return m(t[0],t[1],n,i,e)},"Object, Object, Object":function(t,e,n){if(2!==Object.keys(t).length||2!==Object.keys(e).length||2!==Object.keys(n).length)throw new TypeError("Invalid Arguments: Try again");if(!s(t))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!s(e))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!s(n))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("lineOnePtX")&&e.hasOwnProperty("lineOnePtY")&&n.hasOwnProperty("lineTwoPtX")&&n.hasOwnProperty("lineTwoPtY")){var i=d(c(n.lineTwoPtY,n.lineTwoPtX),c(e.lineOnePtY,e.lineOnePtX)),n=h(h(i,i),e.lineOnePtX),i=r(h(i,e.lineOnePtX)),e=t.pointX;return m(t.pointX,t.pointY,n,i,e)}throw new TypeError("Key names do not match")},"Array, Array":function(t,e){if(2===t.length&&3===e.length){if(!s(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!l(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return m(t[0],t[1],e[0],e[1],e[2])}if(3===t.length&&6===e.length){if(!l(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!p(e))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return y(t[0],t[1],t[2],e[0],e[1],e[2],e[3],e[4],e[5])}if(2===t.length&&2===e.length){if(!s(t))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!s(e))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");return v(t[0],t[1],e[0],e[1])}if(3!==t.length||3!==e.length)throw new TypeError("Invalid Arguments: Try again");if(!l(t))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!l(e))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return x(t[0],t[1],t[2],e[0],e[1],e[2])},"Object, Object":function(t,e){if(2===Object.keys(t).length&&3===Object.keys(e).length){if(!s(t))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!l(e))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("xCoeffLine")&&e.hasOwnProperty("yCoeffLine")&&e.hasOwnProperty("constant"))return m(t.pointX,t.pointY,e.xCoeffLine,e.yCoeffLine,e.constant);throw new TypeError("Key names do not match")}if(3===Object.keys(t).length&&6===Object.keys(e).length){if(!l(t))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!p(e))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if(t.hasOwnProperty("pointX")&&t.hasOwnProperty("pointY")&&e.hasOwnProperty("x0")&&e.hasOwnProperty("y0")&&e.hasOwnProperty("z0")&&e.hasOwnProperty("a")&&e.hasOwnProperty("b")&&e.hasOwnProperty("c"))return y(t.pointX,t.pointY,t.pointZ,e.x0,e.y0,e.z0,e.a,e.b,e.c);throw new TypeError("Key names do not match")}if(2===Object.keys(t).length&&2===Object.keys(e).length){if(!s(t))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!s(e))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if(t.hasOwnProperty("pointOneX")&&t.hasOwnProperty("pointOneY")&&e.hasOwnProperty("pointTwoX")&&e.hasOwnProperty("pointTwoY"))return v(t.pointOneX,t.pointOneY,e.pointTwoX,e.pointTwoY);throw new TypeError("Key names do not match")}if(3!==Object.keys(t).length||3!==Object.keys(e).length)throw new TypeError("Invalid Arguments: Try again");if(!l(t))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!l(e))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if(t.hasOwnProperty("pointOneX")&&t.hasOwnProperty("pointOneY")&&t.hasOwnProperty("pointOneZ")&&e.hasOwnProperty("pointTwoX")&&e.hasOwnProperty("pointTwoY")&&e.hasOwnProperty("pointTwoZ"))return x(t.pointOneX,t.pointOneY,t.pointOneZ,e.pointTwoX,e.pointTwoY,e.pointTwoZ);throw new TypeError("Key names do not match")},Array:function(t){if(!function(t){if(2===t[0].length&&a(t[0][0])&&a(t[0][1])){for(var e in t)if(2!==t[e].length||!a(t[e][0])||!a(t[e][1]))return!1}else{if(!(3===t[0].length&&a(t[0][0])&&a(t[0][1])&&a(t[0][2])))return!1;for(var n in t)if(3!==t[n].length||!a(t[n][0])||!a(t[n][1])||!a(t[n][2]))return!1}return!0}(t))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return function(t){for(var e=[],n=0;n<t.length-1;n++)for(var i=n+1;i<t.length;i++)2===t[0].length?e.push(v(t[n][0],t[n][1],t[i][0],t[i][1])):3===t[0].length&&e.push(x(t[n][0],t[n][1],t[n][2],t[i][0],t[i][1],t[i][2]));return e}(t)}})}},function(t,e,n){"use strict";t.exports=[n(265),n(137),n(266),n(267)]},function(t,e,p){"use strict";e.name="and",e.factory=function(t,e,n,i){var r=p(4),o=n(p(1)),a=n(p(42)),s=n(p(137)),l=n(p(25)),u=n(p(73)),c=n(p(20)),h=n(p(7)),d=n(p(6)),f=i("and",{"number, number":function(t,e){return!(!t||!e)},"Complex, Complex":function(t,e){return!(0===t.re&&0===t.im||0===e.re&&0===e.im)},"BigNumber, BigNumber":function(t,e){return!(t.isZero()||e.isZero()||t.isNaN()||e.isNaN())},"Unit, Unit":function(t,e){return f(t.value||0,e.value||0)},"SparseMatrix, SparseMatrix":function(t,e){return u(t,e,f,!1)},"SparseMatrix, DenseMatrix":function(t,e){return l(e,t,f,!0)},"DenseMatrix, SparseMatrix":function(t,e){return l(t,e,f,!1)},"DenseMatrix, DenseMatrix":function(t,e){return h(t,e,f)},"Array, Array":function(t,e){return f(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return f(o(t),e)},"Matrix, Array":function(t,e){return f(t,o(e))},"SparseMatrix, any":function(t,e){return s(e)?a(t.size(),t.storage()):c(t,e,f,!1)},"DenseMatrix, any":function(t,e){return s(e)?a(t.size(),t.storage()):d(t,e,f,!1)},"any, SparseMatrix":function(t,e){return s(t)?a(t.size(),t.storage()):c(e,t,f,!0)},"any, DenseMatrix":function(t,e){return s(t)?a(t.size(),t.storage()):d(e,t,f,!0)},"Array, any":function(t,e){return f(o(t),e).valueOf()},"any, Array":function(t,e){return f(t,o(e)).valueOf()}});return f.toTex={2:"\\left(${args[0]}".concat(r.operators.and,"${args[1]}\\right)")},f}},function(t,e,d){"use strict";e.name="or",e.factory=function(t,e,n,i){var r=d(4),o=n(d(1)),a=n(d(18)),s=n(d(66)),l=n(d(19)),u=n(d(7)),c=n(d(6)),h=i("or",{"number, number":function(t,e){return!(!t&&!e)},"Complex, Complex":function(t,e){return 0!==t.re||0!==t.im||0!==e.re||0!==e.im},"BigNumber, BigNumber":function(t,e){return!t.isZero()&&!t.isNaN()||!e.isZero()&&!e.isNaN()},"Unit, Unit":function(t,e){return h(t.value||0,e.value||0)},"SparseMatrix, SparseMatrix":function(t,e){return s(t,e,h)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,h,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,h,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,h)},"Array, Array":function(t,e){return h(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return h(o(t),e)},"Matrix, Array":function(t,e){return h(t,o(e))},"SparseMatrix, any":function(t,e){return l(t,e,h,!1)},"DenseMatrix, any":function(t,e){return c(t,e,h,!1)},"any, SparseMatrix":function(t,e){return l(e,t,h,!0)},"any, DenseMatrix":function(t,e){return c(e,t,h,!0)},"Array, any":function(t,e){return c(o(t),e,h,!1).valueOf()},"any, Array":function(t,e){return c(o(e),t,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(r.operators.or,"${args[1]}\\right)")},h}},function(t,e,d){"use strict";e.name="xor",e.factory=function(t,e,n,i){var r=d(4),o=n(d(1)),a=n(d(18)),s=n(d(27)),l=n(d(19)),u=n(d(7)),c=n(d(6)),h=i("xor",{"number, number":function(t,e){return!!t!=!!e},"Complex, Complex":function(t,e){return(0!==t.re||0!==t.im)!=(0!==e.re||0!==e.im)},"BigNumber, BigNumber":function(t,e){return(!t.isZero()&&!t.isNaN())!=(!e.isZero()&&!e.isNaN())},"Unit, Unit":function(t,e){return h(t.value||0,e.value||0)},"SparseMatrix, SparseMatrix":function(t,e){return s(t,e,h)},"SparseMatrix, DenseMatrix":function(t,e){return a(e,t,h,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,h,!1)},"DenseMatrix, DenseMatrix":function(t,e){return u(t,e,h)},"Array, Array":function(t,e){return h(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return h(o(t),e)},"Matrix, Array":function(t,e){return h(t,o(e))},"SparseMatrix, any":function(t,e){return l(t,e,h,!1)},"DenseMatrix, any":function(t,e){return c(t,e,h,!1)},"any, SparseMatrix":function(t,e){return l(e,t,h,!0)},"any, DenseMatrix":function(t,e){return c(e,t,h,!0)},"Array, any":function(t,e){return c(o(t),e,h,!1).valueOf()},"any, Array":function(t,e){return c(o(e),t,h,!0).valueOf()}});return h.toTex={2:"\\left(${args[0]}".concat(r.operators.xor,"${args[1]}\\right)")},h}},function(t,e,n){"use strict";t.exports=[n(76),n(269),n(270),n(122),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(49),n(69),n(278),n(138),n(279),n(93),n(139),n(280),n(281),n(26),n(282),n(284),n(285),n(22),n(286),n(71),n(42),n(287)]},function(t,e,l){"use strict";var u=l(2);e.name="cross",e.factory=function(t,e,n,i){var r=n(l(1)),o=n(l(15)),a=n(l(10));return(i=i("cross",{"Matrix, Matrix":function(t,e){return r(s(t.toArray(),e.toArray()))},"Matrix, Array":function(t,e){return r(s(t.toArray(),e))},"Array, Matrix":function(t,e){return r(s(t,e.toArray()))},"Array, Array":s})).toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},i;function s(t,e){var n=Math.max(u.size(t).length,u.size(e).length);t=u.squeeze(t),e=u.squeeze(e);var i=u.size(t),r=u.size(e);if(1!==i.length||1!==r.length||3!==i[0]||3!==r[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+i.join(", ")+"], B = ["+r.join(", ")+"])");e=[o(a(t[1],e[2]),a(t[2],e[1])),o(a(t[2],e[0]),a(t[0],e[2])),o(a(t[0],e[1]),a(t[1],e[0]))];return 1<n?[e]:e}}},function(t,e,a){"use strict";e.name="ctranspose",e.factory=function(t,e,n,i){var r=n(a(71)),o=n(a(70)),n=a(4);return(i=i("ctranspose",{any:function(t){return o(r(t))}})).toTex={1:"\\left(${args[0]}\\right)".concat(n.operators.ctranspose)},i}},function(t,e,r){"use strict";var o=r(2),a=r(3).isInteger;e.name="diag",e.factory=function(u,t,e,n){var c=e(r(1));return(n=n("diag",{Array:function(t){return i(t,0,o.size(t),null)},"Array, number":function(t,e){return i(t,e,o.size(t),null)},"Array, BigNumber":function(t,e){return i(t,e.toNumber(),o.size(t),null)},"Array, string":function(t,e){return i(t,0,o.size(t),e)},"Array, number, string":function(t,e,n){return i(t,e,o.size(t),n)},"Array, BigNumber, string":function(t,e,n){return i(t,e.toNumber(),o.size(t),n)},Matrix:function(t){return i(t,0,t.size(),t.storage())},"Matrix, number":function(t,e){return i(t,e,t.size(),t.storage())},"Matrix, BigNumber":function(t,e){return i(t,e.toNumber(),t.size(),t.storage())},"Matrix, string":function(t,e){return i(t,0,t.size(),e)},"Matrix, number, string":function(t,e,n){return i(t,e,t.size(),n)},"Matrix, BigNumber, string":function(t,e,n){return i(t,e.toNumber(),t.size(),n)}})).toTex=void 0,n;function i(t,e,n,i){if(!a(e))throw new TypeError("Second parameter in function diag must be an integer");var r=0<e?e:0,o=e<0?-e:0;switch(n.length){case 1:return function(t,e,n,i,r,o){o=[i+r,i+o],e=u.Matrix.storage(n||"dense").diagonal(o,t,e);return null!==n?e:e.valueOf()}(t,e,i,n[0],o,r);case 2:return function(t,e,n,i,r,o){if(u.isMatrix(t)){e=t.diagonal(e);return null!==n?n!==e.storage()?c(e,n):e:e.valueOf()}for(var a=Math.min(i[0]-r,i[1]-o),s=[],l=0;l<a;l++)s[l]=t[l+r][l+o];return null!==n?c(s):s}(t,e,i,n,o,r)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}},function(t,e,o){"use strict";var u=o(2).size;e.name="dot",e.factory=function(t,e,n,i){var s=n(o(14)),l=n(o(10));return(i=i("dot",{"Matrix, Matrix":function(t,e){return r(t.toArray(),e.toArray())},"Matrix, Array":function(t,e){return r(t.toArray(),e)},"Array, Matrix":function(t,e){return r(t,e.toArray())},"Array, Array":r})).toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},i;function r(t,e){var n=u(t),i=u(e),r=n[0];if(1!==n.length||1!==i.length)throw new RangeError("Vector expected");if(n[0]!==i[0])throw new RangeError("Vectors must have equal length ("+n[0]+" != "+i[0]+")");if(0===r)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var o=0,a=0;a<r;a++)o=s(o,l(t[a],e[a]));return o}}},function(t,e,n){"use strict";e.name="eye",e.factory=function(t,e,n,i){return function(){throw new Error('Function "eye" is renamed to "identity" since mathjs version 5.0.0. To keep eye working, create an alias for it using "math.import({eye: math.identity}, {override: true})"')}}},function(t,e,i){"use strict";var b=i(9).format;e.name="expm",e.factory=function(p,t,e,n){var g=e(i(23)),m=e(i(14)),y=e(i(49)),v=e(i(69)),x=e(i(10)),_=p.SparseMatrix;return(n=n("expm",{Matrix:function(t){var e=t.size();if(2!==e.length||e[0]!==e[1])throw new RangeError("Matrix must be square (size: "+b(e)+")");for(var n=e[0],e=function(t,e){for(var n=0;n<30;n++)for(var i=0;i<=n;i++){var r=n-i;if(function(t,e,n){for(var i=1,r=2;r<=e;r++)i*=r;for(var o=i,a=e+1;a<=2*e;a++)o*=a;var s=o*(2*e+1);return 8*Math.pow(t/Math.pow(2,n),2*e)*i*i/(o*s)}(t,i,r)<e)return{q:i,j:r}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function(t){for(var e=t.size()[0],n=0,i=0;i<e;i++){for(var r=0,o=0;o<e;o++)r+=g(t.get([i,o]));n=Math.max(r,n)}return n}(t),1e-15),i=e.q,r=e.j,o=x(t,Math.pow(2,-r)),a=y(n),s=y(n),l=1,u=o,c=-1,h=1;h<=i;h++)1<h&&(u=x(u,o),c=-c),a=m(a,x(l=l*(i-h+1)/((2*i-h+1)*h),u)),s=m(s,x(l*c,u));for(var d=x(v(s),a),f=0;f<r;f++)d=x(d,d);return p.isSparseMatrix(t)?new _(d):d}})).toTex={1:"\\exp\\left(${args[0]}\\right)"},n}},function(t,e,o){"use strict";var n=o(2).filter,a=o(2).filterRegExp,s=o(31).maxArgumentCount;function l(t,i){var r=s(i);return n(t,function(t,e,n){return 1===r?i(t):2===r?i(t,[e]):i(t,[e],n)})}e.name="filter",e.factory=function(t,e,n,i){var r=n(o(1));return(i=i("filter",{"Array, function":l,"Matrix, function":function(t,e){return r(l(t.toArray(),e))},"Array, RegExp":a,"Matrix, RegExp":function(t,e){return r(a(t.toArray(),e))}})).toTex=void 0,i}},function(t,e,o){"use strict";var a=o(5).clone,s=o(2).flatten;e.name="flatten",e.factory=function(t,e,n,i){var r=n(o(1));return(i=i("flatten",{Array:function(t){return s(a(t))},Matrix:function(t){t=s(a(t.toArray()));return r(t)}})).toTex=void 0,i}},function(t,e,n){"use strict";var i=n(31).maxArgumentCount,a=n(2).forEach;function r(e,r){var o=i(r);(function n(t,i){Array.isArray(t)?a(t,function(t,e){n(t,i.concat(e))}):1===o?r(t):2===o?r(t,i):r(t,i,e)})(e,[])}e.name="forEach",e.factory=function(t,e,n,i){return(i=i("forEach",{"Array, function":r,"Matrix, function":function(t,e){return t.forEach(e)}})).toTex=void 0,i}},function(t,e,s){"use strict";var l=s(2).size;e.name="kron",e.factory=function(t,e,n,i){var r=n(s(1)),o=n(s(21));return i("kron",{"Matrix, Matrix":function(t,e){return r(a(t.toArray(),e.toArray()))},"Matrix, Array":function(t,e){return r(a(t.toArray(),e))},"Array, Matrix":function(t,e){return r(a(t,e.toArray()))},"Array, Array":a});function a(t,n){if(1===l(t).length&&(t=[t]),1===l(n).length&&(n=[n]),2<l(t).length||2<l(n).length)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(t.length)+", y = "+JSON.stringify(n.length)+")");var i=[],r=[];return t.map(function(e){return n.map(function(t){return r=[],i.push(r),e.map(function(e){return t.map(function(t){return r.push(o(e,t))})})})})&&i}}},function(t,e,r){"use strict";var s=r(3).isInteger,l=r(2).resize;e.name="ones",e.factory=function(o,n,t,e){var a=t(r(1));return(e=e("ones",{"":function(){return"Array"===n.matrix?i([]):i([],"default")},"...number | BigNumber | string":function(t){if("string"!=typeof t[t.length-1])return"Array"===n.matrix?i(t):i(t,"default");var e=t.pop();return i(t,e)},Array:i,Matrix:function(t){var e=t.storage();return i(t.valueOf(),e)},"Array | Matrix, string":function(t,e){return i(t.valueOf(),e)}})).toTex=void 0,e;function i(t,e){var i,n=(i=!1,t.forEach(function(t,e,n){o.isBigNumber(t)&&(i=!0,n[e]=t.toNumber())}),i)?new o.BigNumber(1):1;if(t.forEach(function(t){if("number"!=typeof t||!s(t)||t<0)throw new Error("Parameters in function ones must be positive integers")}),e){var r=a(e);return 0<t.length?r.resize(t,n):r}r=[];return 0<t.length?l(r,t,n):r}}},function(t,e,a){"use strict";var s=a(2);e.name="reshape",e.factory=function(t,e,n,i){var r=n(a(1)),o=n(a(36));return(i=i("reshape",{"Matrix, Array":function(t,e){return t.reshape?t.reshape(e):r(s.reshape(t.valueOf(),e))},"Array, Array":function(t,e){return e.forEach(function(t){if(!o(t))throw new TypeError("Invalid size for dimension: "+t)}),s.reshape(t,e)}})).toTex=void 0,i}},function(t,e,n){"use strict";var s=n(8),l=n(56),u=n(3).isInteger,c=n(9).format,h=n(5).clone,d=n(2);e.name="resize",e.factory=function(r,o,t,e){var a=t(n(1));return(t=function(t,e,n){if(2!==arguments.length&&3!==arguments.length)throw new l("resize",arguments.length,2,3);if(r.isMatrix(e)&&(e=e.valueOf()),r.isBigNumber(e[0])&&(e=e.map(function(t){return r.isBigNumber(t)?t.toNumber():t})),r.isMatrix(t))return t.resize(e,n,!0);if("string"==typeof t)return function(t,e,n){if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==e.length)throw new s(e.length,1);var i=e[0];if("number"!=typeof i||!u(i))throw new TypeError("Invalid size, must contain positive integers (size: "+c(e)+")");{if(t.length>i)return t.substring(0,i);if(t.length<i){for(var r=t,o=0,a=i-t.length;o<a;o++)r+=n;return r}return t}}(t,e,n);var i=!Array.isArray(t)&&"Array"!==o.matrix;if(0===e.length){for(;Array.isArray(t);)t=t[0];return h(t)}Array.isArray(t)||(t=[t]),t=h(t);n=d.resize(t,e,n);return i?a(n):n}).toTex=void 0,t}},function(t,e,h){"use strict";var d=h(2).size;e.name="sort",e.factory=function(t,e,n,i){function r(t,e){return-a(t,e)}var o=n(h(1)),a=n(h(54)),s=n(h(29));function l(t){if("asc"===t)return a;if("desc"===t)return r;if("natural"===t)return s;throw new Error('String "asc", "desc", or "natural" expected')}function u(t){if(1!==d(t).length)throw new Error("One dimensional array expected")}function c(t){if(1!==t.size().length)throw new Error("One dimensional matrix expected")}return(i=i("sort",{Array:function(t){return u(t),t.sort(a)},Matrix:function(t){return c(t),o(t.toArray().sort(a),t.storage())},"Array, function":function(t,e){return u(t),t.sort(e)},"Matrix, function":function(t,e){return c(t),o(t.toArray().sort(e),t.storage())},"Array, string":function(t,e){return u(t),t.sort(l(e))},"Matrix, string":function(t,e){return c(t),o(t.toArray().sort(l(e)),t.storage())}})).toTex=void 0,i}},function(t,e){t.exports=function e(t,n){"use strict";function i(t){return e.insensitive&&(""+t).toLowerCase()||""+t}var r,o,a=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,s=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,u=/^0x[0-9a-f]+$/i,c=/^0/,t=i(t).replace(s,"")||"",s=i(n).replace(s,"")||"",h=t.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=s.replace(a,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),t=parseInt(t.match(u),16)||1!==h.length&&t.match(l)&&Date.parse(t),s=parseInt(s.match(u),16)||t&&s.match(l)&&Date.parse(s)||null;if(s){if(t<s)return-1;if(s<t)return 1}for(var f=0,p=Math.max(h.length,d.length);f<p;f++){if(r=!(h[f]||"").match(c)&&parseFloat(h[f])||h[f]||0,o=!(d[f]||"").match(c)&&parseFloat(d[f])||d[f]||0,isNaN(r)!==isNaN(o))return isNaN(r)?1:-1;if(typeof r!=typeof o&&(r+="",o+=""),r<o)return-1;if(o<r)return 1}return 0}},function(t,e,g){"use strict";var m=g(2),y=g(4),v=g(9);e.name="sqrtm",e.factory=function(n,t,e,i){var o=e(g(23)),a=e(g(14)),s=e(g(10)),r=e(g(45)),l=e(g(15)),u=e(g(69)),c=e(g(26)),h=e(g(94)),d=e(g(49)),i=i("sqrtm",{"Array | Matrix":function(t){var e=n.isMatrix(t)?t.size():m.size(t);switch(e.length){case 1:if(1===e[0])return r(t);throw new RangeError("Matrix must be square (size: "+v.format(e)+")");case 2:if(e[0]===e[1])return function(t){var e=0,n=t,i=d(c(t));do{var r=n;if(n=s(.5,a(r,u(i))),i=s(.5,a(i,u(r))),r=h(o(l(n,r))),p<r&&++e>f)throw new Error("computing square root of matrix: iterative method could not converge")}while(p<r);return n}(t);throw new RangeError("Matrix must be square (size: "+v.format(e)+")")}}}),f=1e3,p=1e-6;return i.toTex={1:"{${args[0]}}".concat(y.operators.pow,"{\\frac{1}{2}}")},i}},function(t,e,o){"use strict";var a=o(5),s=o(2);e.name="squeeze",e.factory=function(t,e,n,i){var r=n(o(1));return(i=i("squeeze",{Array:function(t){return s.squeeze(a.clone(t))},Matrix:function(t){t=s.squeeze(t.toArray());return Array.isArray(t)?r(t):t},any:function(t){return a.clone(t)}})).toTex=void 0,i}},function(t,e,a){"use strict";var s=a(5).clone,f=a(9).format;e.name="trace",e.factory=function(t,e,n,i){var r=n(a(1)),d=n(a(14));function o(t){var e=t._size,n=t._data;switch(e.length){case 1:if(1===e[0])return s(n[0]);throw new RangeError("Matrix must be square (size: "+f(e)+")");case 2:var i=e[0];if(i!==e[1])throw new RangeError("Matrix must be square (size: "+f(e)+")");for(var r=0,o=0;o<i;o++)r=d(r,n[o][o]);return r;default:throw new RangeError("Matrix must be two dimensional (size: "+f(e)+")")}}return(i=i("trace",{Array:function(t){return o(r(t))},SparseMatrix:function(t){var e=t._values,n=t._index,i=t._ptr,r=t._size,t=r[0],o=r[1];if(t!==o)throw new RangeError("Matrix must be square (size: "+f(r)+")");var a=0;if(0<e.length)for(var s=0;s<o;s++)for(var l=i[s],u=i[s+1],c=l;c<u;c++){var h=n[c];if(h===s){a=d(a,e[c]);break}if(s<h)break}return a},DenseMatrix:o,any:s})).toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},i}},function(t,e,o){"use strict";e.name="getMatrixDataType",e.factory=function(t,e,n,i){var r=n(o(63));return i("getMatrixDataType",{Array:function(t){return r(t)},Matrix:function(t){return t.getDataType()}})}},function(t,e,n){"use strict";t.exports=[n(75),n(74),n(136),n(289),n(290),n(291),n(292),n(296),n(297)]},function(t,e,d){"use strict";e.name="kldivergence",e.factory=function(t,e,n,i){var r=n(d(1)),o=n(d(44)),a=n(d(95)),s=n(d(10)),l=n(d(133)),u=n(d(88)),c=n(d(51));function h(t,e){var n=e.size().length,i=t.size().length;if(1<n)throw new Error("first object must be one dimensional");if(1<i)throw new Error("second object must be one dimensional");if(n!==i)throw new Error("Length of two vectors must be equal");if(0===a(t))throw new Error("Sum of elements in first object must be non zero");if(0===a(e))throw new Error("Sum of elements in second object must be non zero");t=o(t,a(t)),e=o(e,a(e)),e=a(s(t,u(l(t,e))));return c(e)?e:Number.NaN}return i("kldivergence",{"Array, Array":function(t,e){return h(r(t),r(e))},"Matrix, Array":function(t,e){return h(t,r(e))},"Array, Matrix":function(t,e){return h(r(t),e)},"Matrix, Matrix":h})}},function(t,e,c){"use strict";var h=c(46);e.name="multinomial",e.factory=function(t,e,n,i){var r=n(c(14)),o=n(c(10)),a=n(c(44)),s=n(c(74)),l=n(c(36)),u=n(c(72));return i("multinomial",{"Array | Matrix":function(t){var e=0,n=1;return h(t,function(t){if(!l(t)||!u(t))throw new TypeError("Positive integer value expected in function multinomial");e=r(e,t),n=o(n,s(t))}),a(s(e),n)}})}},function(t,e,o){"use strict";var a=o(3).isInteger;function s(t){return t.isInteger()&&t.gte(0)}e.name="permutations",e.factory=function(r,t,e,n){var e=e(o(74)),i=o(92);return(e=n("permutations",{"number | BigNumber":e,"number, number":function(t,e){if(!a(t)||t<0)throw new TypeError("Positive integer value expected in function permutations");if(!a(e)||e<0)throw new TypeError("Positive integer value expected in function permutations");if(t<e)throw new TypeError("second argument k must be less than or equal to first argument n");return i(t-e+1,t)},"BigNumber, BigNumber":function(t,e){var n,i;if(!s(t)||!s(e))throw new TypeError("Positive integer value expected in function permutations");if(e.gt(t))throw new TypeError("second argument k must be less than or equal to first argument n");for(n=new r.BigNumber(1),i=t.minus(e).plus(1);i.lte(t);i=i.plus(1))n=n.times(i);return n}})).toTex=void 0,e}},function(t,e,r){"use strict";e.name="pickRandom",e.factory=function(t,e,n,i){return(n=n(r(96))("uniform").pickRandom).toTex=void 0,n}},function(t,e,n){"use strict";var s=n(294),l=s();e.factory=function(t,e,n,i,r){var o;function a(t){o=null===t?l:s(String(t))}return a(e.randomSeed),r.on("config",function(t,e,n){void 0!==n.randomSeed&&a(t.randomSeed)}),function(){return o()}},e.math=!0},function(d,t,e){"use strict";!function(t){var r=[],o=void 0===t?window:t,a=Math.pow(256,6),s=Math.pow(2,52),l=2*s,e=Math.random;function u(t){var e,n=t.length,a=this,i=0,r=a.i=a.j=0,o=a.S=[];for(n||(t=[n++]);i<256;)o[i]=i++;for(i=0;i<256;i++)o[i]=o[r=255&r+t[i%n]+(e=o[i])],o[r]=e;(a.g=function(t){for(var e,n=0,i=a.i,r=a.j,o=a.S;t--;)e=o[i=255&i+1],n=256*n+o[255&(o[i]=o[r=255&r+e])+(o[r]=e)];return a.i=i,a.j=r,n})(256)}function c(t,e){for(var n,i=t+"",r=0;r<i.length;)e[255&r]=255&(n^=19*e[255&r])+i.charCodeAt(r++);return h(e)}function h(t){return String.fromCharCode.apply(0,t)}d.exports=function(t,e){if(e&&!0===e.global)return e.global=!1,Math.random=d.exports(t,e),e.global=!0,Math.random;var n=[],i=(c(function t(e,n){var i,r=[],o=(typeof e)[0];if(n&&"o"==o)for(i in e)try{r.push(t(e[i],n-1))}catch(t){}return r.length?r:"s"==o?e:e+"\0"}(e&&e.entropy||!1?[t,h(r)]:0 in arguments?t:function(t){try{return o.crypto.getRandomValues(t=new Uint8Array(256)),h(t)}catch(t){return[+new Date,o,o.navigator&&o.navigator.plugins,o.screen,h(r)]}}(),3),n),new u(n));return c(h(i.S),r),function(){for(var t=i.g(6),e=a,n=0;t<s;)t=256*(t+n),e*=256,n=i.g(1);for(;l<=t;)t/=2,e/=2,n>>>=1;return(t+n)/e}},d.exports.resetGlobal=function(){Math.random=e},c(Math.random(),r)}.call(this,e(295))},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,r){"use strict";e.name="random",e.factory=function(t,e,n,i){return(n=n(r(96))("uniform").random).toTex=void 0,n}},function(t,e,r){"use strict";e.name="randomInt",e.factory=function(t,e,n,i){return(n=n(r(96))("uniform").randomInt).toTex=void 0,n}},function(t,e,n){"use strict";t.exports=[n(54),n(29),n(140),n(299),n(50),n(300),n(33),n(128),n(40),n(301),n(124)]},function(t,e,r){"use strict";e.name="deepEqual",e.factory=function(t,e,n,i){var o=n(r(50));return(i=i("deepEqual",{"any, any":function(t,e){return function t(e,n){{if(Array.isArray(e)){if(Array.isArray(n)){var i=e.length;if(i!==n.length)return!1;for(var r=0;r<i;r++)if(!t(e[r],n[r]))return!1;return!0}return!1}return!Array.isArray(n)&&o(e,n)}}(t.valueOf(),e.valueOf())}})).toTex=void 0,i}},function(t,e,a){"use strict";e.name="equalText",e.factory=function(t,e,n,i){var r=n(a(140)),o=n(a(59));return(i=i("equalText",{"any, any":function(t,e){return o(r(t,e))}})).toTex=void 0,i}},function(t,e,h){"use strict";var d=h(3).nearlyEqual,f=h(38);e.name="smallerEq",e.factory=function(t,n,e,i){var r=e(h(1)),o=e(h(18)),a=e(h(27)),s=e(h(19)),l=e(h(7)),u=e(h(6)),e=h(4),c=i("smallerEq",{"boolean, boolean":function(t,e){return t<=e},"number, number":function(t,e){return t<=e||d(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lte(e)||f(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return 1!==t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return c(t.value,e.value)},"SparseMatrix, SparseMatrix":function(t,e){return a(t,e,c)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,c,!0)},"DenseMatrix, SparseMatrix":function(t,e){return o(t,e,c,!1)},"DenseMatrix, DenseMatrix":function(t,e){return l(t,e,c)},"Array, Array":function(t,e){return c(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return c(r(t),e)},"Matrix, Array":function(t,e){return c(t,r(e))},"SparseMatrix, any":function(t,e){return s(t,e,c,!1)},"DenseMatrix, any":function(t,e){return u(t,e,c,!1)},"any, SparseMatrix":function(t,e){return s(e,t,c,!0)},"any, DenseMatrix":function(t,e){return u(e,t,c,!0)},"Array, any":function(t,e){return u(r(t),e,c,!1).valueOf()},"any, Array":function(t,e){return u(r(e),t,c,!0).valueOf()}});return c.toTex={2:"\\left(${args[0]}".concat(e.operators.smallerEq,"${args[1]}\\right)")},c}},function(t,e,n){"use strict";t.exports=[n(303),n(141),n(304),n(142),n(305),n(306),n(307),n(308),n(143),n(309)]},function(t,e,r){"use strict";var d=r(2).flatten;e.name="setCartesian",e.factory=function(t,e,n,i){var s=n(r(28)),l=n(r(48)),u=n(r(26)),c=n(r(22)),h=n(r(29));return i("setCartesian",{"Array | Matrix, Array | Matrix":function(t,e){var n=[];if(0!==c(u(t),new s(0))&&0!==c(u(e),new s(0)))for(var i=d(Array.isArray(t)?t:t.toArray()).sort(h),r=d(Array.isArray(e)?e:e.toArray()).sort(h),n=[],o=0;o<i.length;o++)for(var a=0;a<r.length;a++)n.push([i[o],r[a]]);return Array.isArray(t)&&Array.isArray(e)?n:new l(n)}})}},function(t,e,u){"use strict";var c=u(2).flatten;e.name="setDistinct",e.factory=function(t,e,n,i){var r=n(u(28)),o=n(u(48)),a=n(u(26)),s=n(u(22)),l=n(u(29));return i("setDistinct",{"Array | Matrix":function(t){if(0===s(a(t),new r(0)))e=[];else{var e,n=c(Array.isArray(t)?t:t.toArray()).sort(l);(e=[]).push(n[0]);for(var i=1;i<n.length;i++)0!==l(n[i],n[i-1])&&e.push(n[i])}return Array.isArray(t)?e:new o(e)}})}},function(t,e,r){"use strict";var h=r(2).flatten,d=r(2).identify;e.name="setIsSubset",e.factory=function(t,e,n,i){var s=n(r(28)),l=n(r(26)),u=n(r(22)),c=n(r(29));return i("setIsSubset",{"Array | Matrix, Array | Matrix":function(t,e){if(0===u(l(t),new s(0)))return!0;if(0===u(l(e),new s(0)))return!1;for(var n=d(h(Array.isArray(t)?t:t.toArray()).sort(c)),i=d(h(Array.isArray(e)?e:e.toArray()).sort(c)),r=0;r<n.length;r++){for(var o=!1,a=0;a<i.length;a++)if(0===c(n[r].value,i[a].value)&&n[r].identifier===i[a].identifier){o=!0;break}if(!1===o)return!1}return!0}})}},function(t,e,r){"use strict";var u=r(2).flatten;e.name="setMultiplicity",e.factory=function(t,e,n,i){var o=n(r(29)),a=n(r(28)),s=n(r(26)),l=n(r(22));return i("setMultiplicity",{"number | BigNumber | Fraction | Complex, Array | Matrix":function(t,e){if(0===l(s(e),new a(0)))return 0;for(var n=u(Array.isArray(e)?e:e.toArray()),i=0,r=0;r<n.length;r++)0===o(n[r],t)&&i++;return i}})}},function(t,e,l){"use strict";var u=l(2).flatten;e.name="setPowerset",e.factory=function(t,e,n,i){var r=n(l(28)),o=n(l(26)),a=n(l(22)),s=n(l(29));return i("setPowerset",{"Array | Matrix":function(t){if(0===a(o(t),new r(0)))return[];for(var e=u(Array.isArray(t)?t:t.toArray()).sort(s),n=[],i=0;i.toString(2).length<=e.length;)n.push(function(t,e){for(var n=[],i=0;i<e.length;i++)"1"===e[i]&&n.push(t[i]);return n}(e,i.toString(2).split("").reverse())),i++;return function(t){for(var e=[],n=t.length-1;0<n;n--)for(var i=0;i<n;i++)t[i].length>t[i+1].length&&(e=t[i],t[i]=t[i+1],t[i+1]=e);return t}(n)}})}},function(t,e,r){"use strict";var a=r(2).flatten;e.name="setSize",e.factory=function(t,e,n,i){var o=n(r(29));return i("setSize",{"Array | Matrix":function(t){return(Array.isArray(t)?a(t):a(t.toArray())).length},"Array | Matrix, boolean":function(t,e){if(!1===e||0===t.length)return(Array.isArray(t)?a(t):a(t.toArray())).length;for(var n=a(Array.isArray(t)?t:t.toArray()).sort(o),i=1,r=1;r<n.length;r++)0!==o(n[r],n[r-1])&&i++;return i}})}},function(t,e,c){"use strict";var h=c(2).flatten;e.name="setUnion",e.factory=function(t,e,n,i){var r=n(c(28)),o=n(c(76)),a=n(c(26)),s=n(c(22)),l=n(c(142)),u=n(c(143));return i("setUnion",{"Array | Matrix, Array | Matrix":function(t,e){if(0===s(a(t),new r(0)))return h(e);if(0===s(a(e),new r(0)))return h(t);t=h(t),e=h(e);return o(u(t,e),l(t,e))}})}},function(t,e,n){"use strict";t.exports=[n(311)]},function(t,e,n){"use strict";var o=n(0),a=n(3).sign;var s=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,2.1531153547440383e-8],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],l=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],u=Math.pow(2,53);e.name="erf",e.factory=function(e,t,n,i){var r=i("erf",{number:function(t){var e=Math.abs(t);return u<=e?a(t):e<=.46875?a(t)*function(t){var e,n=t*t,i=s[0][4]*n,r=n;for(e=0;e<3;e+=1)i=(i+s[0][e])*n,r=(r+l[0][e])*n;return t*(i+s[0][3])/(r+l[0][3])}(e):e<=4?a(t)*(1-function(t){var e,n=s[1][8]*t,i=t;for(e=0;e<7;e+=1)n=(n+s[1][e])*t,i=(i+l[1][e])*t;var r=(n+s[1][7])/(i+l[1][7]),o=parseInt(16*t)/16,a=(t-o)*(t+o);return Math.exp(-o*o)*Math.exp(-a)*r}(e)):a(t)*(1-function(t){var e,n=1/(t*t),i=s[2][5]*n,r=n;for(e=0;e<4;e+=1)i=(i+s[2][e])*n,r=(r+l[2][e])*n;var o=n*(i+s[2][4])/(r+l[2][4]);o=(.5641895835477563-o)/t,n=parseInt(16*t)/16;t=(t-n)*(t+n);return Math.exp(-n*n)*Math.exp(-t)*o}(e))},BigNumber:function(t){return new e.BigNumber(r(t.toNumber()))},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"erf\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";t.exports=[n(313),n(94),n(145),n(144),n(146),n(314),n(315),n(316),n(317),n(95),n(147)]},function(t,e,c){"use strict";var h=c(2).flatten;e.name="mad",e.factory=function(t,e,n,i){var r=n(c(23)),o=n(c(138)),a=n(c(144)),s=n(c(15)),l=n(c(37));return(i=i("mad",{"Array | Matrix":u,"...":u})).toTex=void 0,i;function u(t){if(0===(t=h(t.valueOf())).length)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var e=a(t);return a(o(t,function(t){return r(s(t,e))}))}catch(t){throw t instanceof TypeError&&-1!==t.message.indexOf("median")?new TypeError(t.message.replace("median","mad")):l(t,"mad")}}}},function(t,e,o){"use strict";var l=o(2).flatten;e.name="mode",e.factory=function(t,e,n,i){var a=n(o(77)),s=n(o(51));return i("mode",{"Array | Matrix":r,"...":r});function r(t){if(0===(t=l(t.valueOf())).length)throw new Error("Cannot calculate mode of an empty array");for(var e={},n=[],i=0,r=0;r<t.length;r++){var o=t[r];if(s(o)&&a(o))throw new Error("Cannot calculate mode of an array containing NaN values");o in e||(e[o]=0),e[o]++,e[o]===i?n.push(o):e[o]>i&&(i=e[o],n=[o])}return n}}},function(t,e,s){"use strict";var l=s(46);e.name="prod",e.factory=function(t,e,n,i){var r=n(s(21)),o=n(s(37));return(i=i("prod",{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(t,e){throw new Error("prod(A, dim) is not yet supported")},"...":a})).toTex=void 0,i;function a(t){var n;if(l(t,function(e){try{n=void 0===n?e:r(n,e)}catch(t){throw o(t,"prod",e)}}),void 0===n)throw new Error("Cannot calculate prod of an empty array");return n}}},function(t,e,i){"use strict";var g=i(3).isInteger,b=i(3).isNumber,w=i(2).flatten,M=i(47);e.name="quantileSeq",e.factory=function(f,t,e,n){var m=e(i(14)),y=e(i(10)),v=e(i(93)),x=e(i(54));function p(t,e,n){var i=w(t),r=i.length;if(0===r)throw new Error("Cannot calculate quantile of an empty sequence");if(b(e)){var o=e*(r-1),a=o%1;if(0==a){t=n?i[o]:v(i,o);return _(t),t}var s=Math.floor(o);if(n)u=i[s],l=i[s+1];else for(var l=v(i,s+1),u=i[s],c=0;c<s;++c)0<x(i[c],u)&&(u=i[c]);return _(u),_(l),m(y(u,1-a),y(l,a))}if((r=e.times(r-1)).isInteger()){var r=r.toNumber(),h=n?i[r]:v(i,r);return _(h),h}var h=r.floor(),r=r.minus(h),d=h.toNumber();if(n)p=i[d],f=i[d+1];else for(var f=v(i,d+1),p=i[d],g=0;g<d;++g)0<x(i[g],p)&&(p=i[g]);_(p),_(f);n=new r.constructor(1);return m(y(p,n.minus(r)),y(f,r))}var _=n({"number | BigNumber | Unit":function(t){return t}});return function(t,e,n){var i,r;if(arguments.length<2||3<arguments.length)throw new SyntaxError("Function quantileSeq requires two or three parameters");if(M(t)){if("boolean"!=typeof(n=n||!1))throw new TypeError("Unexpected type of argument in function quantileSeq");if(i=t.valueOf(),b(e)){if(e<0)throw new Error("N/prob must be non-negative");if(e<=1)return p(i,e,n);if(1<e){if(!g(e))throw new Error("N must be a positive integer");for(var o=e+1,a=new Array(e),s=0;s<e;)a[s]=p(i,++s/o,n);return a}}if(f.isBigNumber(e)){if(e.isNegative())throw new Error("N/prob must be non-negative");if(r=new e.constructor(1),e.lte(r))return new f.BigNumber(p(i,e,n));if(e.gt(r)){if(!e.isInteger())throw new Error("N must be a positive integer");var l=e.toNumber();if(4294967295<l)throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var u=new f.BigNumber(l+1);a=new Array(l);for(var c=0;c<l;)a[c]=new f.BigNumber(p(i,new f.BigNumber(++c).div(u),n));return a}}if(Array.isArray(e)){a=new Array(e.length);for(var h=0;h<a.length;++h){var d=e[h];if(b(d)){if(d<0||1<d)throw new Error("Probability must be between 0 and 1, inclusive")}else{if(!f.isBigNumber(d))throw new TypeError("Unexpected type of argument in function quantileSeq");if(r=new d.constructor(1),d.isNegative()||d.gt(r))throw new Error("Probability must be between 0 and 1, inclusive")}a[h]=p(i,d,n)}return a}throw new TypeError("Unexpected type of argument in function quantileSeq")}throw new TypeError("Unexpected type of argument in function quantileSeq")}}},function(t,e,s){"use strict";e.name="std",e.factory=function(t,e,n,i){var r=n(s(45)),o=n(s(147));return(i=i("std",{"Array | Matrix":a,"Array | Matrix, string":a,"...":function(t){return a(t)}})).toTex=void 0,i;function a(t,e){if(0===t.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{return r(o.apply(null,arguments))}catch(t){throw t instanceof TypeError&&-1!==t.message.indexOf(" var")?new TypeError(t.message.replace(" var"," std")):t}}}},function(t,e,n){"use strict";t.exports=[n(106),n(319)]},function(t,e,n){"use strict";var s=n(9).isString,l=n(9).format;function r(t,o,a){return t.replace(/\$([\w.]+)/g,function(t,e){for(var n=e.split("."),i=o[n.shift()];n.length&&void 0!==i;)var r=n.shift(),i=r?i[r]:i+".";return void 0!==i?s(i)?i:l(i,a):t})}e.name="print",e.factory=function(t,e,n,i){return(i=i("print",{"string, Object | Array":r,"string, Object | Array, number | Object":r})).toTex=void 0,i}},function(t,e,n){"use strict";t.exports=[n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(329),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345)]},function(t,e,n){"use strict";var o=n(0);e.name="acos",e.factory=function(e,n,t,i){var r=i("acos",{number:function(t){return-1<=t&&t<=1||n.predictable?Math.acos(t):new e.Complex(t,0).acos()},Complex:function(t){return t.acos()},BigNumber:function(t){return t.acos()},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\cos^{-1}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);var a=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)};e.name="acosh",e.factory=function(e,n,t,i){var r=i("acosh",{number:function(t){return 1<=t||n.predictable?a(t):t<=-1?new e.Complex(Math.log(Math.sqrt(t*t-1)-t),Math.PI):new e.Complex(t,0).acosh()},Complex:function(t){return t.acosh()},BigNumber:function(t){return t.acosh()},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\cosh^{-1}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="acot",e.factory=function(e,t,n,i){var r=i("acot",{number:function(t){return Math.atan(1/t)},Complex:function(t){return t.acot()},BigNumber:function(t){return new e.BigNumber(1).div(t).atan()},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\cot^{-1}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="acoth",e.factory=function(e,n,t,i){var r=i("acoth",{number:function(t){return 1<=t||t<=-1||n.predictable?isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0:new e.Complex(t,0).acoth()},Complex:function(t){return t.acoth()},BigNumber:function(t){return new e.BigNumber(1).div(t).atanh()},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\coth^{-1}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="acsc",e.factory=function(e,n,t,i){var r=i("acsc",{number:function(t){return t<=-1||1<=t||n.predictable?Math.asin(1/t):new e.Complex(t,0).acsc()},Complex:function(t){return t.acsc()},BigNumber:function(t){return new e.BigNumber(1).div(t).asin()},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\csc^{-1}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="acsch",e.factory=function(e,t,n,i){var r=i("acsch",{number:function(t){return t=1/t,Math.log(t+Math.sqrt(t*t+1))},Complex:function(t){return t.acsch()},BigNumber:function(t){return new e.BigNumber(1).div(t).asinh()},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="asec",e.factory=function(e,n,t,i){var r=i("asec",{number:function(t){return t<=-1||1<=t||n.predictable?Math.acos(1/t):new e.Complex(t,0).asec()},Complex:function(t){return t.asec()},BigNumber:function(t){return new e.BigNumber(1).div(t).acos()},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\sec^{-1}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="asech",e.factory=function(n,i,t,e){var r=e("asech",{number:function(t){if(t<=1&&-1<=t||i.predictable){t=1/t;var e=Math.sqrt(t*t-1);return 0<t||i.predictable?Math.log(e+t):new n.Complex(Math.log(e-t),Math.PI)}return new n.Complex(t,0).asech()},Complex:function(t){return t.asech()},BigNumber:function(t){return new n.BigNumber(1).div(t).acosh()},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="asin",e.factory=function(e,n,t,i){var r=i("asin",{number:function(t){return-1<=t&&t<=1||n.predictable?Math.asin(t):new e.Complex(t,0).asin()},Complex:function(t){return t.asin()},BigNumber:function(t){return t.asin()},"Array | Matrix":function(t){return o(t,r,!0)}});return r.toTex={1:"\\sin^{-1}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="asinh",e.factory=function(t,e,n,i){var r=i("asinh",{number:Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},Complex:function(t){return t.asinh()},BigNumber:function(t){return t.asinh()},"Array | Matrix":function(t){return o(t,r,!0)}});return r.toTex={1:"\\sinh^{-1}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="atan",e.factory=function(t,e,n,i){var r=i("atan",{number:function(t){return Math.atan(t)},Complex:function(t){return t.atan()},BigNumber:function(t){return t.atan()},"Array | Matrix":function(t){return o(t,r,!0)}});return r.toTex={1:"\\tan^{-1}\\left(${args[0]}\\right)"},r}},function(t,e,f){"use strict";e.name="atan2",e.factory=function(n,t,e,i){var r=e(f(1)),o=e(f(25)),a=e(f(18)),s=e(f(134)),l=e(f(20)),u=e(f(19)),c=e(f(7)),h=e(f(6)),d=i("atan2",{"number, number":Math.atan2,"BigNumber, BigNumber":function(t,e){return n.BigNumber.atan2(t,e)},"SparseMatrix, SparseMatrix":function(t,e){return s(t,e,d,!1)},"SparseMatrix, DenseMatrix":function(t,e){return o(e,t,d,!0)},"DenseMatrix, SparseMatrix":function(t,e){return a(t,e,d,!1)},"DenseMatrix, DenseMatrix":function(t,e){return c(t,e,d)},"Array, Array":function(t,e){return d(r(t),r(e)).valueOf()},"Array, Matrix":function(t,e){return d(r(t),e)},"Matrix, Array":function(t,e){return d(t,r(e))},"SparseMatrix, number | BigNumber":function(t,e){return l(t,e,d,!1)},"DenseMatrix, number | BigNumber":function(t,e){return h(t,e,d,!1)},"number | BigNumber, SparseMatrix":function(t,e){return u(e,t,d,!0)},"number | BigNumber, DenseMatrix":function(t,e){return h(e,t,d,!0)},"Array, number | BigNumber":function(t,e){return h(r(t),e,d,!1).valueOf()},"number | BigNumber, Array":function(t,e){return h(r(e),t,d,!0).valueOf()}});return d.toTex={2:"\\mathrm{atan2}\\left(${args}\\right)"},d}},function(t,e,n){"use strict";var o=n(0);var a=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2};e.name="atanh",e.factory=function(e,n,t,i){var r=i("atanh",{number:function(t){return t<=1&&-1<=t||n.predictable?a(t):new e.Complex(t,0).atanh()},Complex:function(t){return t.atanh()},BigNumber:function(t){return t.atanh()},"Array | Matrix":function(t){return o(t,r,!0)}});return r.toTex={1:"\\tanh^{-1}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="cos",e.factory=function(e,t,n,i){var r=i("cos",{number:Math.cos,Complex:function(t){return t.cos()},BigNumber:function(t){return t.cos()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return r(t.value)},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\cos\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);var a=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2};e.name="cosh",e.factory=function(e,t,n,i){var r=i("cosh",{number:a,Complex:function(t){return t.cosh()},BigNumber:function(t){return t.cosh()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return r(t.value)},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\cosh\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="cot",e.factory=function(e,t,n,i){var r=i("cot",{number:function(t){return 1/Math.tan(t)},Complex:function(t){return t.cot()},BigNumber:function(t){return new e.BigNumber(1).div(t.tan())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return r(t.value)},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\cot\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);function a(t){t=Math.exp(2*t);return(t+1)/(t-1)}e.name="coth",e.factory=function(e,t,n,i){var r=i("coth",{number:a,Complex:function(t){return t.coth()},BigNumber:function(t){return new e.BigNumber(1).div(t.tanh())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return r(t.value)},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\coth\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="csc",e.factory=function(e,t,n,i){var r=i("csc",{number:function(t){return 1/Math.sin(t)},Complex:function(t){return t.csc()},BigNumber:function(t){return new e.BigNumber(1).div(t.sin())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return r(t.value)},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\csc\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0),i=n(3).sign;function a(t){return 0===t?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*i(t)}e.name="csch",e.factory=function(e,t,n,i){var r=i("csch",{number:a,Complex:function(t){return t.csch()},BigNumber:function(t){return new e.BigNumber(1).div(t.sinh())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return r(t.value)},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\mathrm{csch}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="sec",e.factory=function(e,t,n,i){var r=i("sec",{number:function(t){return 1/Math.cos(t)},Complex:function(t){return t.sec()},BigNumber:function(t){return new e.BigNumber(1).div(t.cos())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return r(t.value)},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\sec\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);function a(t){return 2/(Math.exp(t)+Math.exp(-t))}e.name="sech",e.factory=function(e,t,n,i){var r=i("sech",{number:a,Complex:function(t){return t.sech()},BigNumber:function(t){return new e.BigNumber(1).div(t.cosh())},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return r(t.value)},"Array | Matrix":function(t){return o(t,r)}});return r.toTex={1:"\\mathrm{sech}\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="sin",e.factory=function(e,t,n,i){var r=i("sin",{number:Math.sin,Complex:function(t){return t.sin()},BigNumber:function(t){return t.sin()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return r(t.value)},"Array | Matrix":function(t){return o(t,r,!0)}});return r.toTex={1:"\\sin\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);var a=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2};e.name="sinh",e.factory=function(e,t,n,i){var r=i("sinh",{number:a,Complex:function(t){return t.sinh()},BigNumber:function(t){return t.sinh()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return r(t.value)},"Array | Matrix":function(t){return o(t,r,!0)}});return r.toTex={1:"\\sinh\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);e.name="tan",e.factory=function(e,t,n,i){var r=i("tan",{number:Math.tan,Complex:function(t){return t.tan()},BigNumber:function(t){return t.tan()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return r(t.value)},"Array | Matrix":function(t){return o(t,r,!0)}});return r.toTex={1:"\\tan\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";var o=n(0);var a=Math.tanh||function(t){t=Math.exp(2*t);return(t-1)/(t+1)};e.name="tanh",e.factory=function(e,t,n,i){var r=i("tanh",{number:a,Complex:function(t){return t.tanh()},BigNumber:function(t){return t.tanh()},Unit:function(t){if(!t.hasBase(e.Unit.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return r(t.value)},"Array | Matrix":function(t){return o(t,r,!0)}});return r.toTex={1:"\\tanh\\left(${args[0]}\\right)"},r}},function(t,e,n){"use strict";t.exports=[n(347)]},function(t,e,u){"use strict";e.name="to",e.factory=function(t,e,n,i){var r=u(4),o=n(u(1)),a=n(u(7)),s=n(u(6)),l=i("to",{"Unit, Unit | string":function(t,e){return t.to(e)},"Matrix, Matrix":function(t,e){return a(t,e,l)},"Array, Array":function(t,e){return l(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return l(o(t),e)},"Matrix, Array":function(t,e){return l(t,o(e))},"Matrix, any":function(t,e){return s(t,e,l,!1)},"any, Matrix":function(t,e){return s(e,t,l,!0)},"Array, any":function(t,e){return s(o(t),e,l,!1).valueOf()},"any, Array":function(t,e){return s(o(e),t,l,!0).valueOf()}});return l.toTex={2:"\\left(${args[0]}".concat(r.operators.to,"${args[1]}\\right)")},l}},function(t,e,n){"use strict";t.exports=[n(349),n(36),n(60),n(51),n(350),n(72),n(351),n(59),n(77),n(24)]},function(t,e,n){"use strict";var r=n(5);e.name="clone",e.factory=function(t,e,n,i){return(i=i("clone",{any:r.clone})).toTex=void 0,i}},function(t,e,o){"use strict";e.name="hasNumericValue",e.factory=function(t,e,n,i){var r=n(o(51));return i("hasNumericValue",{string:function(t){return 0<t.trim().length&&!isNaN(Number(t))},any:function(t){return r(t)}})}},function(t,e,n){"use strict";var o=n(0);e.name="isPrime",e.factory=function(n,t,e,i){var r=i("isPrime",{number:function(t){if(t<2)return!1;if(2===t)return!0;if(t%2==0)return!1;for(var e=3;e*e<=t;e+=2)if(t%e==0)return!1;return!0},BigNumber:function(t){if(t.lt(2))return!1;if(t.equals(2))return!0;if(t.mod(2).isZero())return!1;for(var e=n.BigNumber(3);e.times(e).lte(t);e=e.plus(1))if(t.mod(e).isZero())return!1;return!0},"Array | Matrix":function(t){return o(t,r)}});return r}},function(t,e,n){"use strict";t.exports=[n(148),n(555),n(559),n(561),n(573),n(43),n(152)]},function(t,e){t.exports={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]}},function(t,e){t.exports={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},function(t,e){t.exports={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},function(t,e){t.exports={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]}},function(t,e){t.exports={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(num,den)"],description:"Create a fraction from a number or from a numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},function(t,e){t.exports={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},function(t,e){t.exports={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]}},function(t,e){t.exports={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]}},function(t,e){t.exports={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]}},function(t,e){t.exports={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]}},function(t,e){t.exports={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},function(t,e){t.exports={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}},function(t,e){t.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},function(t,e){t.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},function(t,e){t.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},function(t,e){t.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},function(t,e){t.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},function(t,e){t.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},function(t,e){t.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},function(t,e){t.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},function(t,e){t.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},function(t,e){t.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]}},function(t,e){t.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},function(t,e){t.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},function(t,e){t.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},function(t,e){t.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},function(t,e){t.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},function(t,e){t.exports={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.eval({x: 3})"],seealso:["simplify","parse","eval"]}},function(t,e){t.exports={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Solves the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lup","lusolve","usolve","matrix","sparse"]}},function(t,e){t.exports={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]}},function(t,e){t.exports={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]}},function(t,e){t.exports={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.eval({x: 2})"],seealso:["derivative","parse","eval"]}},function(t,e){t.exports={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]}},function(t,e){t.exports={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]}},function(t,e){t.exports={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Solves the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["lup","lusolve","lsolve","matrix","sparse"]}},function(t,e){t.exports={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]}},function(t,e){t.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},function(t,e){t.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]}},function(t,e){t.exports={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]}},function(t,e){t.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},function(t,e){t.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},function(t,e){t.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},function(t,e){t.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},function(t,e){t.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},function(t,e){t.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},function(t,e){t.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]}},function(t,e){t.exports={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]}},function(t,e){t.exports={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]}},function(t,e){t.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},function(t,e){t.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},function(t,e){t.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},function(t,e){t.exports={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]}},function(t,e){t.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},function(t,e){t.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]}},function(t,e){t.exports={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]}},function(t,e){t.exports={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]}},function(t,e){t.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},function(t,e){t.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},function(t,e){t.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},function(t,e){t.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']}},function(t,e){t.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]}},function(t,e){t.exports={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]}},function(t,e){t.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]}},function(t,e){t.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},function(t,e){t.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},function(t,e){t.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]}},function(t,e){t.exports={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[1, 2], [3, 4]])"],seealso:["sqrt","abs","square","multiply"]}},function(t,e){t.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},function(t,e){t.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},function(t,e){t.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},function(t,e){t.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},function(t,e){t.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},function(t,e){t.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(t,e){t.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(t,e){t.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},function(t,e){t.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},function(t,e){t.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},function(t,e){t.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},function(t,e){t.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},function(t,e){t.exports={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]}},function(t,e){t.exports={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]}},function(t,e){t.exports={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]}},function(t,e){t.exports={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]}},function(t,e){t.exports={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]}},function(t,e){t.exports={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]}},function(t,e){t.exports={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number, number": f(x)=x+x })',"double(2)",'double("hello")'],seealso:[]}},function(t,e){t.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},function(t,e){t.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},function(t,e){t.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},function(t,e){t.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},function(t,e){t.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},function(t,e){t.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},function(t,e){t.exports={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]}},function(t,e){t.exports={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]}},function(t,e){t.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},function(t,e){t.exports={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]}},function(t,e){t.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},function(t,e){t.exports={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]}},function(t,e){t.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},function(t,e){t.exports={name:"transpose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}},function(t,e){t.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},function(t,e){t.exports={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeof"]}},function(t,e){t.exports={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},function(t,e){t.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},function(t,e){t.exports={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},function(t,e){t.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]}},function(t,e){t.exports={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]}},function(t,e){t.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1)'],seealso:["sort"]}},function(t,e){t.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]}},function(t,e){t.exports={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])"],seealso:["size","squeeze","resize"]}},function(t,e){t.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]}},function(t,e){t.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]}},function(t,e){t.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},function(t,e){t.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},function(t,e){t.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]}},function(t,e){t.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]}},function(t,e){t.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},function(t,e){t.exports={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},function(t,e){t.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},function(t,e){t.exports={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]}},function(t,e){t.exports={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]}},function(t,e){t.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},function(t,e){t.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]}},function(t,e){t.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},function(t,e){t.exports={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]}},function(t,e){t.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]}},function(t,e){t.exports={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]}},function(t,e){t.exports={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]}},function(t,e){t.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},function(t,e){t.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]}},function(t,e){t.exports={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]}},function(t,e){t.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},function(t,e){t.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]}},function(t,e){t.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},function(t,e){t.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},function(t,e){t.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},function(t,e){t.exports={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]}},function(t,e){t.exports={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]}},function(t,e){t.exports={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]}},function(t,e){t.exports={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]}},function(t,e){t.exports={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]}},function(t,e){t.exports={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]}},function(t,e){t.exports={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]}},function(t,e){t.exports={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]}},function(t,e){t.exports={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]}},function(t,e){t.exports={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]}},function(t,e){t.exports={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]}},function(t,e){t.exports={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]}},function(t,e){t.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},function(t,e){t.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},function(t,e){t.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var","quantileSeq"]}},function(t,e){t.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},function(t,e){t.exports={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","var"]}},function(t,e){t.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},function(t,e){t.exports={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:"Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. \n\nIn case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.",examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","var"]}},function(t,e){t.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},function(t,e){t.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},function(t,e){t.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},function(t,e){t.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},function(t,e){t.exports={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]}},function(t,e){t.exports={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]}},function(t,e){t.exports={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]}},function(t,e){t.exports={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]}},function(t,e){t.exports={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]}},function(t,e){t.exports={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]}},function(t,e){t.exports={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]}},function(t,e){t.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]}},function(t,e){t.exports={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]}},function(t,e){t.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]}},function(t,e){t.exports={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]}},function(t,e){t.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},function(t,e){t.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},function(t,e){t.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},function(t,e){t.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},function(t,e){t.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},function(t,e){t.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},function(t,e){t.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},function(t,e){t.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},function(t,e){t.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},function(t,e){t.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},function(t,e){t.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},function(t,e){t.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},function(t,e){t.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},function(t,e){t.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},function(t,e){t.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},function(t,e){t.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},function(t,e){t.exports={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(t,e){t.exports={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]}},function(t,e){t.exports={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]}},function(t,e){t.exports={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)","isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))",'isNumeric("3")',"isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN"]}},function(t,e){t.exports={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(t,e){t.exports={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]}},function(t,e){t.exports={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]}},function(t,e){t.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:["getMatrixDataType"]}},function(t,e,n){"use strict";t.exports=[n(556),n(557),n(558),n(123),n(151)]},function(t,e,o){"use strict";var a=o(0);e.name="compile",e.factory=function(t,e,n,i){var r=n(o(43));return i("compile",{string:function(t){return r(t).compile()},"Array | Matrix":function(t){return a(t,function(t){return r(t).compile()})}})}},function(t,e,o){"use strict";var a=o(0);e.name="eval",e.factory=function(t,e,n,i){var r=n(o(43));return i("compile",{string:function(t){return r(t).compile().eval({})},"string, Object":function(t,e){return r(t).compile().eval(e)},"Array | Matrix":function(t){var e={};return a(t,function(t){return r(t).compile().eval(e)})},"Array | Matrix, Object":function(t,e){return a(t,function(t){return r(t).compile().eval(e)})}})}},function(t,e,i){"use strict";var s=i(13).getSafeProperty;e.math=!0,e.name="help",e.factory=function(r,t,e,n,o){var a=e(i(148));return n("help",{any:function(t){var e,n=t;if("string"!=typeof t)for(e in o)if(o.hasOwnProperty(e)&&t===o[e]){n=e;break}var i=s(a,n);if(!i)throw new Error('No documentation found on "'+n+'"');return new r.Help(i)}})}},function(t,e,n){"use strict";t.exports=[n(107),n(110),n(111),n(112),n(113),n(57),n(115),n(114),n(68),n(16),n(116),n(58),n(67),n(117),n(118),n(53),n(560)]},function(t,e,n){"use strict";e.name="UpdateNode",e.path="expression.node",e.factory=function(t,e,n,i){return function(){throw new Error("UpdateNode is deprecated. Use AssignmentNode instead.")}}},function(t,e,n){"use strict";t.exports=[n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(569),n(570),n(571),n(572)]},function(t,e,o){"use strict";var a=o(35).transform;e.name="concat",e.path="expression.transform",e.factory=function(i,t,e,n){var r=e(o(76));return n("concat",{"...any":function(t){var e=t.length-1,n=t[e];i.isNumber(n)?t[e]=n-1:i.isBigNumber(n)&&(t[e]=n.minus(1));try{return r.apply(null,t)}catch(t){throw a(t)}}})}},function(t,e,l){"use strict";var n=l(2).filter,u=l(2).filterRegExp,o=l(31).maxArgumentCount;function c(t,i){var r=o(i);return n(t,function(t,e,n){return 1===r?i(t):2===r?i(t,[e+1]):i(t,[e+1],n)})}e.name="filter",e.path="expression.transform",e.factory=function(o,t,e,n){var a=e(l(97)),i=e(l(1));function r(t,e,n){var i,r;return t[0]&&(i=t[0].compile().eval(n)),t[1]&&(r=o.isSymbolNode(t[1])||o.isFunctionAssignmentNode(t[1])?t[1].compile().eval(n):a(t[1],e,n)),s(i,r)}r.rawArgs=!0;var s=n("filter",{"Array, function":c,"Matrix, function":function(t,e){return i(c(t.toArray(),e))},"Array, RegExp":u,"Matrix, RegExp":function(t,e){return i(u(t.toArray(),e))}});return s.toTex=void 0,r}},function(t,e,r){"use strict";var l=r(31).maxArgumentCount,u=r(2).forEach;e.name="forEach",e.path="expression.transform",e.factory=function(o,t,e,n){var a=e(r(97));function i(t,e,n){var i,r;return t[0]&&(i=t[0].compile().eval(n)),t[1]&&(r=o.isSymbolNode(t[1])||o.isFunctionAssignmentNode(t[1])?t[1].compile().eval(n):a(t[1],e,n)),s(i,r)}i.rawArgs=!0;var s=n("forEach",{"Array | Matrix, function":function(e,r){var o=l(r);(function n(t,i){Array.isArray(t)?u(t,function(t,e){n(t,i.concat(e+1))}):1===o?r(t):2===o?r(t,i):r(t,i,e)})(e.valueOf(),[])}});return i}},function(t,e,n){"use strict";e.name="index",e.path="expression.transform",e.factory=function(o,t,e){return function(){for(var t=[],e=0,n=arguments.length;e<n;e++){var i=arguments[e];if(o.isRange(i))i.start--,i.end-=0<i.step?0:2;else if(i&&!0===i.isSet)i=i.map(function(t){return t-1});else if(o.isArray(i)||o.isMatrix(i))i=i.map(function(t){return t-1});else if(o.isNumber(i))i--;else if(o.isBigNumber(i))i=i.toNumber()-1;else if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");t[e]=i}var r=new o.Index;return o.Index.apply(r,t),r}}},function(t,e,l){"use strict";var n=l(31).maxArgumentCount,a=l(2).map;function u(t,e,r){var o=n(e);return function n(t,i){return Array.isArray(t)?a(t,function(t,e){return n(t,i.concat(e+1))}):1===o?e(t):2===o?e(t,i):e(t,i,r)}(t,[])}e.name="map",e.path="expression.transform",e.factory=function(o,t,e,n){var a=e(l(97)),i=e(l(1));function r(t,e,n){var i,r;return t[0]&&(i=t[0].compile().eval(n)),t[1]&&(r=o.isSymbolNode(t[1])||o.isFunctionAssignmentNode(t[1])?t[1].compile().eval(n):a(t[1],e,n)),s(i,r)}r.rawArgs=!0;var s=n("map",{"Array, function":function(t,e){return u(t,e,t)},"Matrix, function":function(t,e){return i(u(t.valueOf(),e,t))}});return r}},function(t,e,o){"use strict";var a=o(35).transform,s=o(47);e.name="max",e.path="expression.transform",e.factory=function(n,t,e,i){var r=e(o(94));return i("max",{"...any":function(t){var e;2===t.length&&s(t[0])&&(e=t[1],n.isNumber(e)?t[1]=e-1:n.isBigNumber(e)&&(t[1]=e.minus(1)));try{return r.apply(null,t)}catch(t){throw a(t)}}})}},function(t,e,o){"use strict";var a=o(35).transform,s=o(47);e.name="mean",e.path="expression.transform",e.factory=function(n,t,e,i){var r=e(o(145));return i("mean",{"...any":function(t){var e;2===t.length&&s(t[0])&&(e=t[1],n.isNumber(e)?t[1]=e-1:n.isBigNumber(e)&&(t[1]=e.minus(1)));try{return r.apply(null,t)}catch(t){throw a(t)}}})}},function(t,e,o){"use strict";var a=o(35).transform,s=o(47);e.name="min",e.path="expression.transform",e.factory=function(n,t,e,i){var r=e(o(146));return i("min",{"...any":function(t){var e;2===t.length&&s(t[0])&&(e=t[1],n.isNumber(e)?t[1]=e-1:n.isBigNumber(e)&&(t[1]=e.minus(1)));try{return r.apply(null,t)}catch(t){throw a(t)}}})}},function(t,e,o){"use strict";e.name="range",e.path="expression.transform",e.factory=function(t,e,n,i){var r=n(o(139));return i("range",{"...any":function(t){return"boolean"!=typeof t[t.length-1]&&t.push(!0),r.apply(null,t)}})}},function(t,e,o){"use strict";var a=o(35).transform;e.name="subset",e.path="expression.transform",e.factory=function(t,e,n,i){var r=n(o(22));return i("subset",{"...any":function(t){try{return r.apply(null,t)}catch(t){throw a(t)}}})}},function(t,e,o){"use strict";var a=o(35).transform,s=o(47);e.name="sum",e.path="expression.transform",e.factory=function(n,t,e,i){var r=e(o(95));return i("sum",{"...any":function(t){var e;2===t.length&&s(t[0])&&(e=t[1],n.isNumber(e)?t[1]=e-1:n.isBigNumber(e)&&(t[1]=e.minus(1)));try{return r.apply(null,t)}catch(t){throw a(t)}}})}},function(t,e,r){"use strict";var s=r(5),l=r(9);e.name="Help",e.path="type",e.factory=function(o,t,e,n){var a=e(r(151))();function i(t){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(!t)throw new Error('Argument "doc" missing');this.doc=t}return i.prototype.type="Help",i.prototype.isHelp=!0,i.prototype.toString=function(){var t=this.doc||{},e="\n";if(t.name&&(e+="Name: "+t.name+"\n\n"),t.category&&(e+="Category: "+t.category+"\n\n"),t.description&&(e+="Description:\n    "+t.description+"\n\n"),t.syntax&&(e+="Syntax:\n    "+t.syntax.join("\n    ")+"\n\n"),t.examples){e+="Examples:\n";for(var n=0;n<t.examples.length;n++){var i=t.examples[n];e+="    "+i+"\n";var r=void 0;try{r=a.eval(i)}catch(t){r=t}void 0===r||o.isHelp(r)||(e+="        "+l.format(r,{precision:14})+"\n")}e+="\n"}return t.seealso&&t.seealso.length&&(e+="See also: "+t.seealso.join(", ")+"\n"),e},i.prototype.toJSON=function(){var t=s.clone(this.doc);return t.mathjs="Help",t},i.fromJSON=function(t){var e,n={};for(e in t)"mathjs"!==e&&(n[e]=t[e]);return new i(n)},i.prototype.valueOf=i.prototype.toString,i}},function(t,e,n){"use strict";t.exports=[n(575)]},function(t,e,n){"use strict";e.name="reviver",e.path="json",e.factory=function(i,t,e,n,r){return function(t,e){var n=i[e&&e.mathjs]||r.expression&&r.expression.node[e&&e.mathjs];return n&&"function"==typeof n.fromJSON?n.fromJSON(e):e}},e.math=!0},function(t,e,n){"use strict";var i=n(56),r=n(8),o=n(55);t.exports=[{name:"ArgumentsError",path:"error",factory:function(){return i}},{name:"DimensionError",path:"error",factory:function(){return r}},{name:"IndexError",path:"error",factory:function(){return o}}]}],i={},r.m=n,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=154);function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,i}),UUID=function(t){"use strict";function e(){var t=a._getRandomInt;this.timestamp=0,this.sequence=t(14),this.node=1099511627776*(1|t(8))+t(40),this.tick=t(4)}function a(){}return a.generate=function(){var t=a._getRandomInt,e=a._hexAligner;return e(t(32),8)+"-"+e(t(16),4)+"-"+e(16384|t(12),4)+"-"+e(32768|t(14),4)+"-"+e(t(48),12)},a._getRandomInt=function(t){if(t<0||53<t)return NaN;var e=0|1073741824*Math.random();return 30<t?e+1073741824*(0|Math.random()*(1<<t-30)):e>>>30-t},a._hexAligner=function(t,e){for(var n=t.toString(16),i=e-n.length,r="0";0<i;i>>>=1,r+=r)1&i&&(n=r+n);return n},a.overwrittenUUID=t,function(){var t=a._getRandomInt;a.useMathRandom=function(){a._getRandomInt=t};var i=null,e=t;"undefined"!=typeof window&&(i=window.crypto||window.msCrypto)?i.getRandomValues&&"undefined"!=typeof Uint32Array&&(e=function(t){if(t<0||53<t)return NaN;var e=i.getRandomValues(new Uint32Array(32<t?2:1));return 32<t?e[0]+4294967296*(e[1]>>>64-t):e[0]>>>32-t}):"undefined"!=typeof require&&(i=require("crypto"))&&i.randomBytes&&(e=function(t){if(t<0||53<t)return NaN;var e=i.randomBytes(32<t?8:4),n=e.readUInt32BE(0);return 32<t?n+4294967296*(e.readUInt32BE(4)>>>64-t):n>>>32-t}),a._getRandomInt=e}(),a.FIELD_NAMES=["timeLow","timeMid","timeHiAndVersion","clockSeqHiAndReserved","clockSeqLow","node"],a.FIELD_SIZES=[32,16,16,8,8,48],a.genV4=function(){var t=a._getRandomInt;return(new a)._init(t(32),t(16),16384|t(12),128|t(6),t(8),t(48))},a.parse=function(t){var e;if(e=/^\s*(urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(\})?\s*$/i.exec(t)){var n=e[1]||"",t=e[8]||"";if(n+t===""||"{"===n&&"}"===t||"urn:uuid:"===n.toLowerCase()&&""===t)return(new a)._init(parseInt(e[2],16),parseInt(e[3],16),parseInt(e[4],16),parseInt(e[5],16),parseInt(e[6],16),parseInt(e[7],16))}return null},a.prototype._init=function(){var t=a.FIELD_NAMES,e=a.FIELD_SIZES,n=a._binAligner,i=a._hexAligner;this.intFields=new Array(6),this.bitFields=new Array(6),this.hexFields=new Array(6);for(var r=0;r<6;r++){var o=parseInt(arguments[r]||0);this.intFields[r]=this.intFields[t[r]]=o,this.bitFields[r]=this.bitFields[t[r]]=n(o,e[r]),this.hexFields[r]=this.hexFields[t[r]]=i(o,e[r]/4)}return this.version=this.intFields.timeHiAndVersion>>12&15,this.bitString=this.bitFields.join(""),this.hexNoDelim=this.hexFields.join(""),this.hexString=this.hexFields[0]+"-"+this.hexFields[1]+"-"+this.hexFields[2]+"-"+this.hexFields[3]+this.hexFields[4]+"-"+this.hexFields[5],this.urn="urn:uuid:"+this.hexString,this},a._binAligner=function(t,e){for(var n=t.toString(2),i=e-n.length,r="0";0<i;i>>>=1,r+=r)1&i&&(n=r+n);return n},a.prototype.toString=function(){return this.hexString},a.prototype.equals=function(t){if(!(t instanceof a))return!1;for(var e=0;e<6;e++)if(this.intFields[e]!==t.intFields[e])return!1;return!0},a.NIL=(new a)._init(0,0,0,0,0,0),a.genV1=function(){null==a._state&&a.resetState();var t=(new Date).getTime(),e=a._state;t!=e.timestamp?(t<e.timestamp&&e.sequence++,e.timestamp=t,e.tick=a._getRandomInt(4)):Math.random()<a._tsRatio&&e.tick<9984?e.tick+=1+a._getRandomInt(4):e.sequence++;var n=a._getTimeFieldValues(e.timestamp),i=n.low+e.tick,r=4095&n.hi|4096;e.sequence&=16383;var o=e.sequence>>>8|128,t=255&e.sequence;return(new a)._init(i,n.mid,r,o,t,e.node)},a.resetState=function(){a._state=new e},a._tsRatio=.25,a._state=null,a._getTimeFieldValues=function(t){var e=t-Date.UTC(1582,9,15),t=e/4294967296*1e4&268435455;return{low:1e4*(268435455&e)%4294967296,mid:65535&t,hi:t>>>16,timestamp:e}},a.makeBackwardCompatible=function(){var e=a.generate;a.generate=function(t){return t&&1==t.version?a.genV1().hexString:e.call(a)},a.makeBackwardCompatible=function(){}},"undefined"!=typeof module&&module&&module.exports&&(module.exports=a),a}(UUID),function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define("bowser",e):t.bowser=e()}(this,function(){function a(e){function t(t){t=e.match(t);return t&&1<t.length&&t[1]||""}var n,i,r=t(/(ipod|iphone|ipad)/i).toLowerCase(),o=!/like android/i.test(e)&&/android/i.test(e),a=/nexus\s*[0-6]\s*/i.test(e),s=!a&&/nexus\s*[0-9]+/i.test(e),l=/CrOS/.test(e),u=/silk/i.test(e),c=/sailfish/i.test(e),h=/tizen/i.test(e),d=/(web|hpw)os/i.test(e),f=/windows phone/i.test(e),p=(/SamsungBrowser/i.test(e),!f&&/windows/i.test(e)),g=!r&&!u&&/macintosh/i.test(e),m=!o&&!c&&!h&&!d&&/linux/i.test(e),y=t(/edge\/(\d+(\.\d+)?)/i),v=t(/version\/(\d+(\.\d+)?)/i),x=/tablet/i.test(e),_=!x&&/[^-]mobi/i.test(e),b=/xbox/i.test(e);/opera/i.test(e)?n={name:"Opera",opera:!0,version:v||t(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr|opios/i.test(e)?n={name:"Opera",opera:!0,version:t(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||v}:/SamsungBrowser/i.test(e)?n={name:"Samsung Internet for Android",samsungBrowser:!0,version:v||t(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(e)?n={name:"Opera Coast",coast:!0,version:v||t(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?n={name:"Yandex Browser",yandexbrowser:!0,version:v||t(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(e)?n={name:"UC Browser",ucbrowser:!0,version:t(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(e)?n={name:"Maxthon",maxthon:!0,version:t(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(e)?n={name:"Epiphany",epiphany:!0,version:t(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(e)?n={name:"Puffin",puffin:!0,version:t(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(e)?n={name:"Sleipnir",sleipnir:!0,version:t(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(e)?n={name:"K-Meleon",kMeleon:!0,version:t(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:f?(n={name:"Windows Phone",windowsphone:!0},y?(n.msedge=!0,n.version=y):(n.msie=!0,n.version=t(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?n={name:"Internet Explorer",msie:!0,version:t(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?n={name:"Chrome",chromeos:!0,chromeBook:!0,chrome:!0,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?n={name:"Microsoft Edge",msedge:!0,version:y}:/vivaldi/i.test(e)?n={name:"Vivaldi",vivaldi:!0,version:t(/vivaldi\/(\d+(\.\d+)?)/i)||v}:c?n={name:"Sailfish",sailfish:!0,version:t(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?n={name:"SeaMonkey",seamonkey:!0,version:t(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(e)?(n={name:"Firefox",firefox:!0,version:t(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(n.firefoxos=!0)):u?n={name:"Amazon Silk",silk:!0,version:t(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(e)?n={name:"PhantomJS",phantom:!0,version:t(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(e)?n={name:"SlimerJS",slimer:!0,version:t(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?n={name:"BlackBerry",blackberry:!0,version:v||t(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:d?(n={name:"WebOS",webos:!0,version:v||t(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(n.touchpad=!0)):/bada/i.test(e)?n={name:"Bada",bada:!0,version:t(/dolfin\/(\d+(\.\d+)?)/i)}:h?n={name:"Tizen",tizen:!0,version:t(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||v}:/qupzilla/i.test(e)?n={name:"QupZilla",qupzilla:!0,version:t(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||v}:/chromium/i.test(e)?n={name:"Chromium",chromium:!0,version:t(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||v}:/chrome|crios|crmo/i.test(e)?n={name:"Chrome",chrome:!0,version:t(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:o?n={name:"Android",version:v}:/safari|applewebkit/i.test(e)?(n={name:"Safari",safari:!0},v&&(n.version=v)):r?(n={name:"iphone"==r?"iPhone":"ipad"==r?"iPad":"iPod"},v&&(n.version=v)):n=/googlebot/i.test(e)?{name:"Googlebot",googlebot:!0,version:t(/googlebot\/(\d+(\.\d+))/i)||v}:{name:t(/^(.*)\/(.*) /),version:(i=/^(.*)\/(.*) /,(i=e.match(i))&&1<i.length&&i[2]||"")},!n.msedge&&/(apple)?webkit/i.test(e)?(/(apple)?webkit\/537\.36/i.test(e)?(n.name=n.name||"Blink",n.blink=!0):(n.name=n.name||"Webkit",n.webkit=!0),!n.version&&v&&(n.version=v)):!n.opera&&/gecko\//i.test(e)&&(n.name=n.name||"Gecko",n.gecko=!0,n.version=n.version||t(/gecko\/(\d+(\.\d+)?)/i)),n.windowsphone||n.msedge||!o&&!n.silk?n.windowsphone||n.msedge||!r?g?n.mac=!0:b?n.xbox=!0:p?n.windows=!0:m&&(n.linux=!0):(n[r]=!0,n.ios=!0):n.android=!0;m="";n.windowsphone?m=t(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r?m=(m=t(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):o?m=t(/android[ \/-](\d+(\.\d+)*)/i):n.webos?m=t(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):n.blackberry?m=t(/rim\stablet\sos\s(\d+(\.\d+)*)/i):n.bada?m=t(/bada\/(\d+(\.\d+)*)/i):n.tizen&&(m=t(/tizen[\/\s](\d+(\.\d+)*)/i)),m&&(n.osversion=m);m=m.split(".")[0];return x||s||"ipad"==r||o&&(3==m||4<=m&&!_)||n.silk?n.tablet=!0:(_||"iphone"==r||"ipod"==r||o||a||n.blackberry||n.webos||n.bada)&&(n.mobile=!0),n.msedge||n.msie&&10<=n.version||n.yandexbrowser&&15<=n.version||n.vivaldi&&1<=n.version||n.chrome&&20<=n.version||n.samsungBrowser&&4<=n.version||n.firefox&&20<=n.version||n.safari&&6<=n.version||n.opera&&10<=n.version||n.ios&&n.osversion&&6<=n.osversion.split(".")[0]||n.blackberry&&10.1<=n.version||n.chromium&&20<=n.version?n.a=!0:n.msie&&n.version<10||n.chrome&&n.version<20||n.firefox&&n.version<20||n.safari&&n.version<6||n.opera&&n.version<10||n.ios&&n.osversion&&n.osversion.split(".")[0]<6||n.chromium&&n.version<20?n.c=!0:n.x=!0,n}var s=a("undefined"!=typeof navigator&&navigator.userAgent||"");function i(t){return t.split(".").length}function r(t,e){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n++)i.push(e(t[n]));return i}function l(t){for(var n=Math.max(i(t[0]),i(t[1])),e=r(t,function(t){var e=n-i(t);return r((t+=new Array(1+e).join(".0")).split("."),function(t){return new Array(20-t.length).join("0")+t}).reverse()});0<=--n;){if(e[0][n]>e[1][n])return 1;if(e[0][n]!==e[1][n])return-1;if(0===n)return 0}}function o(t,e,n){var i=s;"string"==typeof e&&(n=e,e=void 0),void 0===e&&(e=!1);var r,o=""+(i=n?a(n):i).version;for(r in t)if(t.hasOwnProperty(r)&&i[r]){if("string"!=typeof t[r])throw new Error("Browser version in the minVersion map should be a string: "+r+": "+String(t));return l([o,t[r]])<0}return e}return s.test=function(t){for(var e=0;e<t.length;++e){var n=t[e];if("string"==typeof n&&n in s)return!0}return!1},s.isUnsupportedBrowser=o,s.compareVersions=l,s.check=function(t,e,n){return!o(t,e,n)},s._detect=a,s}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(y){"use strict";var e,n=y(window),i=y(document),l=window.location,t=".cropper",h="preview"+t,s=/^(e|n|w|s|ne|nw|sw|se|all|crop|move|zoom)$/,u="cropper-modal",c="cropper-hide",x="cropper-hidden",r="cropper-crop",o="cropper-disabled",a="mousedown touchstart",d="mousemove touchmove",f="mouseup mouseleave touchend touchleave touchcancel",p="wheel mousewheel DOMMouseScroll",g="resize"+t,m="build"+t,v="built"+t,_="dragstart"+t,b="dragmove"+t,w="dragend"+t,M="zoomin"+t,A="zoomout"+t,I=y.isFunction(y("<canvas>")[0].getContext),C=Math.sqrt,S=Math.min,T=Math.max,D=Math.abs,N=Math.sin,L=Math.cos,k=parseFloat,t={};function E(t){return"number"==typeof t}function O(t){return void 0===t}function P(t,e){var n=[];return E(e)&&n.push(e),n.slice.apply(t,n)}function z(t,e){var n=P(arguments,2);return function(){return t.apply(e,n.concat(P(arguments)))}}function j(t,e){return e.left<0&&t.width<e.left+e.width&&e.top<0&&t.height<e.top+e.height}function Y(t){return t?"rotate("+t+"deg)":"none"}function R(t,e){var n,i=D(t.degree)%180,r=(90<i?180-i:i)*Math.PI/180,o=N(r),a=L(r),i=t.width,r=t.height,t=t.aspectRatio,a=e?(n=i/(a+o/t))/t:(n=i*a+r*o,i*o+r*a);return{width:n,height:a}}function B(t,e){this.$element=y(t),this.options=y.extend({},B.DEFAULTS,y.isPlainObject(e)&&e),this.ready=!1,this.built=!1,this.rotated=!1,this.cropped=!1,this.disabled=!1,this.canvas=null,this.cropBox=null,this.load()}t.load=function(n){var t,i,e,r,o,a=this.options,s=this.$element;if(!n)if(s.is("img")){if(!s.attr("src"))return;n=s.prop("src")}else s.is("canvas")&&I&&(n=s[0].toDataURL());n&&(o=y.Event(m),s.one(m,a.build).trigger(o),o.isDefaultPrevented()||(a.checkImageOrigin&&((r=(r=n).match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i))&&(r[1]!==l.protocol||r[2]!==l.hostname||r[3]!==l.port))&&(t="anonymous",s.prop("crossOrigin")||(r=n,e="timestamp="+(new Date).getTime(),e=r+(-1===r.indexOf("?")?"?":"&")+e)),this.$clone=i=y("<img>"),i.one("load",y.proxy(function(){var t=i.prop("naturalWidth")||i.width(),e=i.prop("naturalHeight")||i.height();this.image={naturalWidth:t,naturalHeight:e,aspectRatio:t/e,rotate:0},this.url=n,this.ready=!0,this.build()},this)).one("error",function(){i.remove()}).attr({src:e||n,crossOrigin:t}),i.addClass(c).insertAfter(s)))},t.build=function(){var t,e=this.$element,n=this.$clone,i=this.options;this.ready&&(this.built&&this.unbuild(),this.$cropper=t=y(B.TEMPLATE),e.addClass(x),n.removeClass(c),this.$container=e.parent().append(t),this.$canvas=t.find(".cropper-canvas").append(n),this.$dragBox=t.find(".cropper-drag-box"),this.$cropBox=n=t.find(".cropper-crop-box"),this.$viewBox=t.find(".cropper-view-box"),this.addListeners(),this.initPreview(),i.aspectRatio=k(i.aspectRatio)||NaN,i.autoCrop?(this.cropped=!0,i.modal&&this.$dragBox.addClass(u)):n.addClass(x),i.background&&t.addClass("cropper-bg"),i.highlight||n.find(".cropper-face").addClass("cropper-invisible"),i.guides||n.find(".cropper-dashed").addClass(x),i.movable||n.find(".cropper-face").data("drag","move"),i.resizable||n.find(".cropper-line, .cropper-point").addClass(x),this.setDragMode(i.dragCrop?"crop":"move"),this.built=!0,this.render(),e.one(v,i.built).trigger(v))},t.unbuild=function(){this.built&&(this.built=!1,this.container=null,this.canvas=null,this.cropBox=null,this.removeListeners(),this.resetPreview(),this.$preview=null,this.$viewBox=null,this.$cropBox=null,this.$dragBox=null,this.$canvas=null,this.$container=null,this.$cropper.remove(),this.$cropper=null)},y.extend(t,{render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var t=this.$element,e=this.$container,n=this.$cropper,i=this.options;n.addClass(x),t.removeClass(x),n.css(this.container={width:T(e.width(),k(i.minContainerWidth)||200),height:T(e.height(),k(i.minContainerHeight)||100)}),t.addClass(x),n.removeClass(x)},initCanvas:function(){var t=this.container,e=t.width,n=t.height,i=this.image,r=i.aspectRatio,t={aspectRatio:r,width:e,height:n};e<n*r?t.height=e/r:t.width=n*r,t.oldLeft=t.left=(e-t.width)/2,t.oldTop=t.top=(n-t.height)/2,this.canvas=t,this.limitCanvas(!0,!0),this.initialImage=y.extend({},i),this.initialCanvas=y.extend({},t)},limitCanvas:function(t,e){var n=this.options,i=n.strict,r=this.container,o=r.width,a=r.height,s=this.canvas,l=s.aspectRatio,u=this.cropBox,r=this.cropped&&u;t&&(t=k(n.minCanvasWidth)||0,n=k(n.minCanvasHeight)||0,t?n=(t=i?T(r?u.width:o,t):t)/l:n?t=(n=i?T(r?u.height:a,n):n)*l:i&&(r?(t=u.width)<(n=u.height)*l?t=n*l:n=t/l:(t=o)<(n=a)*l?n=t/l:t=n*l),y.extend(s,{minWidth:t,minHeight:n,maxWidth:1/0,maxHeight:1/0})),e&&(i?r?(s.minLeft=S(u.left,u.left+u.width-s.width),s.minTop=S(u.top,u.top+u.height-s.height),s.maxLeft=u.left,s.maxTop=u.top):(s.minLeft=S(0,o-s.width),s.minTop=S(0,a-s.height),s.maxLeft=T(0,o-s.width),s.maxTop=T(0,a-s.height)):(s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=o,s.maxTop=a))},renderCanvas:function(t){var e,n=this.options,i=this.canvas,r=this.image;this.rotated&&(this.rotated=!1,(r=(e=R({width:r.width,height:r.height,degree:r.rotate})).width/e.height)!==i.aspectRatio&&(i.left-=(e.width-i.width)/2,i.top-=(e.height-i.height)/2,i.width=e.width,i.height=e.height,i.aspectRatio=r,this.limitCanvas(!0,!1))),(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=S(T(i.width,i.minWidth),i.maxWidth),i.height=S(T(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.oldLeft=i.left=S(T(i.left,i.minLeft),i.maxLeft),i.oldTop=i.top=S(T(i.top,i.minTop),i.maxTop),this.$canvas.css({width:i.width,height:i.height,left:i.left,top:i.top}),this.renderImage(),this.cropped&&n.strict&&!j(this.container,i)&&this.limitCropBox(!0,!0),t&&this.output()},renderImage:function(){var t,e=this.canvas,n=this.image;n.rotate&&(t=R({width:e.width,height:e.height,degree:n.rotate,aspectRatio:n.aspectRatio},!0)),y.extend(n,t?{width:t.width,height:t.height,left:(e.width-t.width)/2,top:(e.height-t.height)/2}:{width:e.width,height:e.height,left:0,top:0}),this.$clone.css({width:n.width,height:n.height,marginLeft:n.left,marginTop:n.top,transform:Y(n.rotate)})},initCropBox:function(){var t=this.options,e=this.canvas,n=t.aspectRatio,i=k(t.autoCropArea)||.8,t={width:e.width,height:e.height};n&&(e.height*n>e.width?t.height=t.width/n:t.width=t.height*n),this.cropBox=t,this.limitCropBox(!0,!0),t.width=S(T(t.width,t.minWidth),t.maxWidth),t.height=S(T(t.height,t.minHeight),t.maxHeight),t.width=T(t.minWidth,t.width*i),t.height=T(t.minHeight,t.height*i),t.oldLeft=t.left=e.left+(e.width-t.width)/2,t.oldTop=t.top=e.top+(e.height-t.height)/2,this.initialCropBox=y.extend({},t)},limitCropBox:function(t,e){var n=this.options,i=n.strict,r=this.container,o=r.width,a=r.height,s=this.canvas,l=this.cropBox,r=n.aspectRatio;t&&(t=k(n.minCropBoxWidth)||0,n=k(n.minCropBoxHeight)||0,l.minWidth=S(o,t),l.minHeight=S(a,n),l.maxWidth=S(o,i?s.width:o),l.maxHeight=S(a,i?s.height:a),r&&(l.maxHeight*r>l.maxWidth?(l.minHeight=l.minWidth/r,l.maxHeight=l.maxWidth/r):(l.minWidth=l.minHeight*r,l.maxWidth=l.maxHeight*r)),l.minWidth=S(l.maxWidth,l.minWidth),l.minHeight=S(l.maxHeight,l.minHeight)),e&&(i?(l.minLeft=T(0,s.left),l.minTop=T(0,s.top),l.maxLeft=S(o,s.left+s.width)-l.width,l.maxTop=S(a,s.top+s.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=o-l.width,l.maxTop=a-l.height))},renderCropBox:function(){var t=this.options,e=this.container,n=e.width,i=e.height,r=this.$cropBox,o=this.cropBox;(o.width>o.maxWidth||o.width<o.minWidth)&&(o.left=o.oldLeft),(o.height>o.maxHeight||o.height<o.minHeight)&&(o.top=o.oldTop),o.width=S(T(o.width,o.minWidth),o.maxWidth),o.height=S(T(o.height,o.minHeight),o.maxHeight),this.limitCropBox(!1,!0),o.oldLeft=o.left=S(T(o.left,o.minLeft),o.maxLeft),o.oldTop=o.top=S(T(o.top,o.minTop),o.maxTop),t.movable&&r.find(".cropper-face").data("drag",o.width===n&&o.height===i?"move":"all"),r.css({width:o.width,height:o.height,left:o.left,top:o.top}),this.cropped&&t.strict&&!j(e,this.canvas)&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){var t=this.options;this.preview(),t.crop&&t.crop.call(this.$element,this.getData())}}),t.initPreview=function(){var e=this.url;this.$preview=y(this.options.preview),this.$viewBox.html('<img src="'+e+'">'),this.$preview.each(function(){var t=y(this);t.data(h,{width:t.width(),height:t.height(),original:t.html()}).html('<img src="'+e+'" style="display:block;width:100%;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation: 0deg!important">')})},t.resetPreview=function(){this.$preview.each(function(){var t=y(this);t.html(t.data(h).original).removeData(h)})},t.preview=function(){var t=this.image,e=this.canvas,o=this.cropBox,a=t.width,s=t.height,l=o.left-e.left-t.left,u=o.top-e.top-t.top,c=t.rotate;this.cropped&&!this.disabled&&(this.$viewBox.find("img").css({width:a,height:s,marginLeft:-l,marginTop:-u,transform:Y(c)}),this.$preview.each(function(){var t=y(this),e=t.data(h),n=e.width/o.width,i=e.width,r=o.height*n;r>e.height&&(n=e.height/o.height,i=o.width*n,r=e.height),t.width(i).height(r).find("img").css({width:a*n,height:s*n,marginLeft:-l*n,marginTop:-u*n,transform:Y(c)})}))},t.addListeners=function(){var t=this.options;this.$element.on(_,t.dragstart).on(b,t.dragmove).on(w,t.dragend).on(M,t.zoomin).on(A,t.zoomout),this.$cropper.on(a,y.proxy(this.dragstart,this)).on("dblclick",y.proxy(this.dblclick,this)),t.zoomable&&t.mouseWheelZoom&&this.$cropper.on(p,y.proxy(this.wheel,this)),i.on(d,this._dragmove=z(this.dragmove,this)).on(f,this._dragend=z(this.dragend,this)),t.responsive&&n.on(g,this._resize=z(this.resize,this))},t.removeListeners=function(){var t=this.options;this.$element.off(_,t.dragstart).off(b,t.dragmove).off(w,t.dragend).off(M,t.zoomin).off(A,t.zoomout),this.$cropper.off(a,this.dragstart).off("dblclick",this.dblclick),t.zoomable&&t.mouseWheelZoom&&this.$cropper.off(p,this.wheel),i.off(d,this._dragmove).off(f,this._dragend),t.responsive&&n.off(g,this._resize)},y.extend(t,{resize:function(){var n,i,r,t=this.$container,e=this.container;this.disabled||1==(r=t.width()/e.width)&&t.height()===e.height||(n=this.getCanvasData(),i=this.getCropBoxData(),this.render(),this.setCanvasData(y.each(n,function(t,e){n[t]=e*r})),this.setCropBoxData(y.each(i,function(t,e){i[t]=e*r})))},dblclick:function(){this.disabled||(this.$dragBox.hasClass(r)?this.setDragMode("move"):this.setDragMode("crop"))},wheel:function(t){var e=t.originalEvent,n=1;this.disabled||(t.preventDefault(),e.deltaY?n=0<e.deltaY?1:-1:e.wheelDelta?n=-e.wheelDelta/120:e.detail&&(n=0<e.detail?1:-1),this.zoom(.1*-n))},dragstart:function(t){var e,n,i=this.options,r=t.originalEvent,o=r&&r.touches,a=t;if(!this.disabled){if(o){if(1<(n=o.length)){if(!i.zoomable||!i.touchDragZoom||2!==n)return;a=o[1],this.startX2=a.pageX,this.startY2=a.pageY,e="zoom"}a=o[0]}e=e||y(a.target).data("drag"),s.test(e)&&(t.preventDefault(),r=y.Event(_,{originalEvent:r,dragType:e}),this.$element.trigger(r),r.isDefaultPrevented()||(this.dragType=e,this.cropping=!1,this.startX=a.pageX,this.startY=a.pageY,"crop"===e&&(this.cropping=!0,this.$dragBox.addClass(u))))}},dragmove:function(t){var e,n=this.options,i=t.originalEvent,r=i&&i.touches,o=t,a=this.dragType;if(!this.disabled){if(r){if(1<(e=r.length)){if(!n.zoomable||!n.touchDragZoom||2!==e)return;o=r[1],this.endX2=o.pageX,this.endY2=o.pageY}o=r[0]}a&&(t.preventDefault(),a=y.Event(b,{originalEvent:i,dragType:a}),this.$element.trigger(a),a.isDefaultPrevented()||(this.endX=o.pageX,this.endY=o.pageY,this.change()))}},dragend:function(t){var e=this.dragType;this.disabled||e&&(t.preventDefault(),e=y.Event(w,{originalEvent:t.originalEvent,dragType:e}),this.$element.trigger(e),e.isDefaultPrevented()||(this.cropping&&(this.cropping=!1,this.$dragBox.toggleClass(u,this.cropped&&this.options.modal)),this.dragType=""))}}),y.extend(t,{reset:function(){this.built&&!this.disabled&&(this.image=y.extend({},this.initialImage),this.canvas=y.extend({},this.initialCanvas),this.renderCanvas(),this.cropped&&(this.cropBox=y.extend({},this.initialCropBox),this.renderCropBox()))},clear:function(){this.cropped&&!this.disabled&&(y.extend(this.cropBox,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(),this.renderCanvas(),this.$dragBox.removeClass(u),this.$cropBox.addClass(x))},destroy:function(){var t=this.$element;this.ready?(this.unbuild(),t.removeClass(x)):this.$clone.off("load").remove(),t.removeData("cropper")},replace:function(t){!this.disabled&&t&&this.load(t)},enable:function(){this.built&&(this.disabled=!1,this.$cropper.removeClass(o))},disable:function(){this.built&&(this.disabled=!0,this.$cropper.addClass(o))},move:function(t,e){var n=this.canvas;this.built&&!this.disabled&&E(t)&&E(e)&&(n.left+=t,n.top+=e,this.renderCanvas(!0))},zoom:function(t){var e,n=this.canvas;(t=k(t))&&this.built&&!this.disabled&&this.options.zoomable&&(e=0<t?y.Event(M):y.Event(A),this.$element.trigger(e),e.isDefaultPrevented()||(e=n.width*(t=t<=-1?1/(1-t):t<=1?1+t:t),t=n.height*t,n.left-=(e-n.width)/2,n.top-=(t-n.height)/2,n.width=e,n.height=t,this.renderCanvas(!0),this.setDragMode("move")))},rotate:function(t){var e=this.image;(t=k(t))&&this.built&&!this.disabled&&this.options.rotatable&&(e.rotate=(e.rotate+t)%360,this.rotated=!0,this.renderCanvas(!0))},getData:function(){var n,i,t=this.cropBox,e=this.canvas,r=this.image;return this.built&&this.cropped?(i={x:t.left-e.left,y:t.top-e.top,width:t.width,height:t.height},n=r.width/r.naturalWidth,y.each(i,function(t,e){i[t]=e/=n})):i={x:0,y:0,width:0,height:0},i.rotate=r.rotate,i},getContainerData:function(){return this.built?this.container:{}},getImageData:function(){return this.ready?this.image:{}},getCanvasData:function(){var t,e=this.canvas;return(t=this.built?{left:e.left,top:e.top,width:e.width,height:e.height}:t)||{}},setCanvasData:function(t){var e=this.canvas,n=e.aspectRatio;this.built&&!this.disabled&&y.isPlainObject(t)&&(E(t.left)&&(e.left=t.left),E(t.top)&&(e.top=t.top),E(t.width)?(e.width=t.width,e.height=t.width/n):E(t.height)&&(e.height=t.height,e.width=t.height*n),this.renderCanvas(!0))},getCropBoxData:function(){var t,e=this.cropBox;return(t=this.built&&this.cropped?{left:e.left,top:e.top,width:e.width,height:e.height}:t)||{}},setCropBoxData:function(t){var e=this.cropBox,n=this.options.aspectRatio;this.built&&this.cropped&&!this.disabled&&y.isPlainObject(t)&&(E(t.left)&&(e.left=t.left),E(t.top)&&(e.top=t.top),n?E(t.width)?(e.width=t.width,e.height=e.width/n):E(t.height)&&(e.height=t.height,e.width=e.height*n):(E(t.width)&&(e.width=t.width),E(t.height)&&(e.height=t.height)),this.renderCropBox())},getCroppedCanvas:function(t){var f,p,e,g,n,i,r,m;if(this.built&&this.cropped&&I)return y.isPlainObject(t)||(t={}),m=this.getData(),f=m.width,p=m.height,n=f/p,y.isPlainObject(t)&&(i=t.width,r=t.height,i?(r=i/n,g=i/f):r&&(i=r*n,g=r/p)),e=i||f,n=r||p,(i=y("<canvas>")[0]).width=e,i.height=n,r=i.getContext("2d"),t.fillColor&&(r.fillStyle=t.fillColor,r.fillRect(0,0,e,n)),r.drawImage.apply(r,function(){var t,e,n,i,r,o,a,s,l,u,c,h,d,u=(a=this.$clone[0],s=this.image,l=y("<canvas>")[0],u=l.getContext("2d"),c=s.naturalWidth,h=s.naturalHeight,d=s.rotate,s=R({width:c,height:h,degree:d}),d?(l.width=s.width,l.height=s.height,u.save(),u.translate(s.width/2,s.height/2),u.rotate(d*Math.PI/180),u.drawImage(a,-c/2,-h/2,c,h),u.restore()):(l.width=c,l.height=h,u.drawImage(a,0,0,c,h)),l),a=u.width,c=u.height,h=[u],l=m.x,u=m.y;return l<=-f||a<l?l=t=n=r=0:l<=0?(n=-l,t=r=S(a,f+(l=0))):l<=a&&(n=0,t=r=S(f,a-l)),t<=0||u<=-p||c<u?u=e=i=o=0:u<=0?(i=-u,e=o=S(c,p+(u=0))):u<=c&&(i=0,e=o=S(p,c-u)),h.push(l,u,t,e),g&&(n*=g,i*=g,r*=g,o*=g),0<r&&0<o&&h.push(n,i,r,o),h}.call(this)),i},setAspectRatio:function(t){var e=this.options;this.disabled||O(t)||(e.aspectRatio=k(t)||NaN,this.built&&(this.initCropBox(),this.cropped&&this.renderCropBox()))},setDragMode:function(t){var e=this.$dragBox,n=!1,i=!1;if(this.ready&&!this.disabled){switch(t){case"crop":this.options.dragCrop?(n=!0,e.data("drag",t)):i=!0;break;case"move":i=!0,e.data("drag",t);break;default:e.removeData("drag")}e.toggleClass(r,n).toggleClass("cropper-move",i)}}}),t.change=function(){var t,e=this.dragType,n=this.options,i=this.canvas,r=this.container,o=this.cropBox,a=o.width,s=o.height,l=o.left,u=o.top,c=l+a,h=u+s,d=0,f=0,p=r.width,g=r.height,m=!0,y=n.aspectRatio,v={x:this.endX-this.startX,y:this.endY-this.startY};switch(n.strict&&(d=o.minLeft,f=o.minTop,p=d+S(r.width,i.width),g=f+S(r.height,i.height)),y&&(v.X=v.y*y,v.Y=v.x/y),e){case"all":l+=v.x,u+=v.y;break;case"e":if(0<=v.x&&(p<=c||y&&(u<=f||g<=h))){m=!1;break}a+=v.x,y&&(s=a/y,u-=v.Y/2),a<0&&(e="w",a=0);break;case"n":if(v.y<=0&&(u<=f||y&&(l<=d||p<=c))){m=!1;break}s-=v.y,u+=v.y,y&&(a=s*y,l+=v.X/2),s<0&&(e="s",s=0);break;case"w":if(v.x<=0&&(l<=d||y&&(u<=f||g<=h))){m=!1;break}a-=v.x,l+=v.x,y&&(s=a/y,u+=v.Y/2),a<0&&(e="e",a=0);break;case"s":if(0<=v.y&&(g<=h||y&&(l<=d||p<=c))){m=!1;break}s+=v.y,y&&(a=s*y,l-=v.X/2),s<0&&(e="n",s=0);break;case"ne":if(y){if(v.y<=0&&(u<=f||p<=c)){m=!1;break}s-=v.y,u+=v.y,a=s*y}else!(0<=v.x)||c<p?a+=v.x:v.y<=0&&u<=f&&(m=!1),v.y<=0&&!(0<u)||(s-=v.y,u+=v.y);a<0&&s<0?(e="sw",a=s=0):a<0?(e="nw",a=0):s<0&&(e="se",s=0);break;case"nw":if(y){if(v.y<=0&&(u<=f||l<=d)){m=!1;break}s-=v.y,u+=v.y,a=s*y,l+=v.X}else!(v.x<=0)||0<l?(a-=v.x,l+=v.x):v.y<=0&&u<=f&&(m=!1),v.y<=0&&!(0<u)||(s-=v.y,u+=v.y);a<0&&s<0?(e="se",a=s=0):a<0?(e="ne",a=0):s<0&&(e="sw",s=0);break;case"sw":if(y){if(v.x<=0&&(l<=d||g<=h)){m=!1;break}a-=v.x,l+=v.x,s=a/y}else!(v.x<=0)||0<l?(a-=v.x,l+=v.x):0<=v.y&&g<=h&&(m=!1),0<=v.y&&!(h<g)||(s+=v.y);a<0&&s<0?(e="ne",a=s=0):a<0?(e="se",a=0):s<0&&(e="nw",s=0);break;case"se":if(y){if(0<=v.x&&(p<=c||g<=h)){m=!1;break}s=(a+=v.x)/y}else!(0<=v.x)||c<p?a+=v.x:0<=v.y&&g<=h&&(m=!1),0<=v.y&&!(h<g)||(s+=v.y);a<0&&s<0?(e="nw",a=s=0):a<0?(e="sw",a=0):s<0&&(e="ne",s=0);break;case"move":i.left+=v.x,i.top+=v.y,this.renderCanvas(!0),m=!1;break;case"zoom":this.zoom(function(t,e,n,i){e=C(t*t+e*e);return(C(n*n+i*i)-e)/e}(D(this.startX-this.startX2),D(this.startY-this.startY2),D(this.endX-this.endX2),D(this.endY-this.endY2))),this.startX2=this.endX2,this.startY2=this.endY2,m=!1;break;case"crop":v.x&&v.y&&(t=this.$cropper.offset(),l=this.startX-t.left,u=this.startY-t.top,a=o.minWidth,s=o.minHeight,0<v.x?0<v.y?e="se":(e="ne",u-=s):0<v.y?(e="sw",l-=a):(e="nw",l-=a,u-=s),this.cropped||(this.cropped=!0,this.$cropBox.removeClass(x)))}m&&(o.width=a,o.height=s,o.left=l,o.top=u,this.dragType=e,this.renderCropBox()),this.startX=this.endX,this.startY=this.endY},y.extend(B.prototype,t),B.DEFAULTS={aspectRatio:NaN,autoCropArea:.8,crop:null,preview:"",strict:!0,responsive:!0,checkImageOrigin:!0,modal:!0,guides:!0,highlight:!0,background:!0,autoCrop:!0,dragCrop:!0,movable:!0,resizable:!0,rotatable:!0,zoomable:!0,touchDragZoom:!0,mouseWheelZoom:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,build:null,built:null,dragstart:null,dragmove:null,dragend:null,zoomin:null,zoomout:null},B.setDefaults=function(t){y.extend(B.DEFAULTS,t)},B.TEMPLATE=(e="div,span,drag,data,point,cropper,class,line,dashed,box".split(","),'<0 6="5-container"><0 6="5-canvas"></0><0 6="5-2-9" 3-2="move"></0><0 6="5-crop-9"><1 6="5-view-9"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-face" 3-2="all"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3-2="se"></1></0></0>'.replace(/\d+/g,function(t){return e[t]})),B.other=y.fn.cropper,y.fn.cropper=function(i){var r,o=P(arguments,1);return this.each(function(){var t,e=y(this),n=e.data("cropper");n||e.data("cropper",n=new B(this,i)),"string"==typeof i&&y.isFunction(t=n[i])&&(r=t.apply(n,o))}),O(r)?this:r},y.fn.cropper.Constructor=B,y.fn.cropper.setDefaults=B.setDefaults,y.fn.cropper.noConflict=function(){return y.fn.cropper=B.other,this}}),function(){var e,n,o=document.attachEvent,a=!1;if(!o){var t=(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)},function(t){return n(t)}),i=(e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(t){return e(t)});function s(t){var e=t.__resizeTriggers__,n=e.firstElementChild,t=e.lastElementChild,e=n.firstElementChild;t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight,e.style.width=n.offsetWidth+1+"px",e.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function l(e){var n=this;s(this),this.__resizeRAF__&&i(this.__resizeRAF__),this.__resizeRAF__=t(function(){var t;(t=n).offsetWidth==t.__resizeLast__.width&&t.offsetHeight==t.__resizeLast__.height||(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach(function(t){t.call(n,e)}))})}var r=!1,u="",c="animationstart",h="Webkit Moz O ms".split(" "),d="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),f="",p=document.createElement("fakeelement");if(!1===(r=void 0!==p.style.animationName?!0:r))for(var g=0;g<h.length;g++)if(void 0!==p.style[h[g]+"AnimationName"]){f=h[g],u="-"+f.toLowerCase()+"-",c=d[g],r=!0;break}var m="resizeanim",y="@"+u+"keyframes "+m+" { from { opacity: 0; } to { opacity: 0; } } ",v=u+"animation: 1ms "+m+"; "}window.addResizeListener=function(e,t){var n,i,r;o?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),a||(n=(y||"")+".resize-triggers { "+(v||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=document.head||document.getElementsByTagName("head")[0],(r=document.createElement("style")).type="text/css",r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),i.appendChild(r),a=!0),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),s(e),e.addEventListener("scroll",l,!0),c&&e.__resizeTriggers__.addEventListener(c,function(t){t.animationName==m&&s(e)})),e.__resizeListeners__.push(t))},window.removeResizeListener=function(t,e){o?t.detachEvent("onresize",e):(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",l),t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)))}}(),function(t){var e,n,o=document.attachEvent,a=!1,i=t.fn.resize;if(t.fn.resize=function(t){return this.each(function(){this==window?i.call(jQuery(this),t):addResizeListener(this,t)})},t.fn.removeResize=function(t){return this.each(function(){removeResizeListener(this,t)})},!o){var r=(n=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)},function(t){return n(t)}),s=(e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout,function(t){return e(t)});function l(t){var e=t.__resizeTriggers__,n=e.firstElementChild,t=e.lastElementChild,e=n.firstElementChild;t.scrollLeft=t.scrollWidth,t.scrollTop=t.scrollHeight,e.style.width=n.offsetWidth+1+"px",e.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight}function u(e){var n=this;l(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=r(function(){var t;(t=n).offsetWidth==t.__resizeLast__.width&&t.offsetHeight==t.__resizeLast__.height||(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach(function(t){t.call(n,e)}))})}var c=!1,h="",d="animationstart",f="Webkit Moz O ms".split(" "),p="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g="",m=document.createElement("fakeelement");if(!1===(c=void 0!==m.style.animationName?!0:c))for(var y=0;y<f.length;y++)if(void 0!==m.style[f[y]+"AnimationName"]){g=f[y],h="-"+g.toLowerCase()+"-",d=p[y],c=!0;break}var v="resizeanim",x="@"+h+"keyframes "+v+" { from { opacity: 0; } to { opacity: 0; } } ",_=h+"animation: 1ms "+v+"; "}window.addResizeListener=function(e,t){var n,i,r;o?e.attachEvent("onresize",t):(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),a||(n=(x||"")+".resize-triggers { "+(_||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',i=document.head||document.getElementsByTagName("head")[0],(r=document.createElement("style")).type="text/css",r.styleSheet?r.styleSheet.cssText=n:r.appendChild(document.createTextNode(n)),i.appendChild(r),a=!0),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),l(e),e.addEventListener("scroll",u,!0),d&&e.__resizeTriggers__.addEventListener(d,function(t){t.animationName==v&&l(e)})),e.__resizeListeners__.push(t))},window.removeResizeListener=function(t,e){o?t.detachEvent("onresize",e):(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",u),t.__resizeTriggers__=!t.removeChild(t.__resizeTriggers__)))}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(s){"use strict";function l(t,e){var n={pageIndex:0,pageSize:10,total:0,pageBtnCount:11,showFirstLastBtn:!0,firstBtnText:null,lastBtnText:null,prevBtnText:"&laquo;",nextBtnText:"&raquo;",loadFirstPage:!0,remote:{url:null,params:null,pageParams:null,success:null,beforeSend:null,complete:null,pageIndexName:"pageIndex",pageSizeName:"pageSize",totalName:"total",traditional:!1},pageElementSort:["$page","$size","$jump","$info"],showInfo:!1,infoFormat:"{start} ~ {end} of {total} entires",noInfoText:"0 entires",showJump:!1,jumpBtnText:"Go",showPageSizes:!1,pageSizeItems:[5,10,15,20],debug:!1};this.$element=s(t),this.$page=s('<ul class="m-pagination-page"></ul>').hide(),this.$size=s('<div class="m-pagination-size"></div>').hide(),this.$jump=s('<div class="m-pagination-jump"></div>').hide(),this.$info=s('<div class="m-pagination-info"></div>').hide(),this.options=s.extend(!0,{},n,s.fn.pagination.defaults,e),e.pageElementSort?this.options.pageElementSort=e.pageElementSort:s.fn.pagination.defaults&&s.fn.pagination.defaults.pageElementSort?this.options.pageElementSort=s.fn.pagination.defaults.pageElementSort:this.options.pageElementSort=n.pageElementSort,this.options.pageSizeItems=e.pageSizeItems||(s.fn.pagination.defaults&&s.fn.pagination.defaults.pageSizeItems?s.fn.pagination.defaults:n).pageSizeItems,this.total=this.options.total,this.currentUrl=this.options.remote.url,this.currentPageIndex=o.convertInt(this.options.pageIndex),this.currentPageSize=o.convertInt(this.options.pageSize),this.currentParams=o.deserializeParams(this.options.remote.params)||{},this.getLastPageNum=function(){return r.core.calLastPageNum(this.total,this.currentPageSize)},null===this.options.remote.success&&(this.options.remote.success=this.options.remote.callback),this.init()}l.prototype={getPageIndex:function(){return this.currentPageIndex},getPageSize:function(){return this.currentPageSize},getParams:function(){return this.currentParams},setPageIndex:function(t){null!=t&&(this.currentPageIndex=o.convertInt(t))},setPageSize:function(t){null!=t&&(this.currentPageSize=o.convertInt(t))},setRemoteUrl:function(t){t&&(this.currentUrl=t)},setParams:function(t){t&&(this.currentParams=o.deserializeParams(t))},render:function(t){null!=t&&(this.total=o.convertInt(t)),this.renderPagination(),this.debug("pagination rendered")},init:function(){this.initHtml(),this.initEvent(),this.currentUrl&&this.options.loadFirstPage?this.remote():this.renderPagination(),this.debug("pagination inited")},initHtml:function(){for(var t=s('<select data-page-btn="size"></select>'),e=0;e<this.options.pageSizeItems.length;e++)t.append('<option value="'+this.options.pageSizeItems[e]+'" '+(this.currentPageSize==this.options.pageSizeItems[e]?"selected":"")+" >"+this.options.pageSizeItems[e]+"</option>");t.val(this.currentPageSize),this.$size.append(t);var n='<div class="m-pagination-group"><input data-page-btn="jump" type="text"><button data-page-btn="jump" type="button">'+this.options.jumpBtnText+"</button></div>";this.$jump.append(n);for(e=0;e<this.options.pageElementSort.length;e++)this.$element.append(this[this.options.pageElementSort[e]])},initEvent:function(){this.$element.on("click",{page:this},function(t){var e;s(t.target).is("button")?"jump"==s(t.target).data("pageBtn")&&(e=t.data.page.$element.find("input[data-page-btn=jump]"),t.data.page.jumpEventHandler(e.val(),t)):void 0!==s(t.target).data("pageIndex")&&n.call(t.data.page,t)}).on("change",{page:this},function(t){var e=s(t.target);"jump"==e.data("pageBtn")&&t.data.page.jumpEventHandler(e.val(),t),"size"==e.data("pageBtn")&&n.call(t.data.page,t)}).on("keypress",{page:this},function(t){var e;"13"==t.keyCode&&(e=t.data.page.$element.find("input[data-page-btn=jump]"),t.data.page.jumpEventHandler(e.val(),t))})},jumpEventHandler:function(t,e){t?!r.check.checkJumpPage(t)||o.convertInt(t)>this.getLastPageNum()?this.$jump.addClass("error"):(this.$jump.removeClass("error"),n.call(this,e)):this.$jump.removeClass("error")},doPagination:function(){this.currentUrl?this.remote():this.renderPagination()},remote:function(){var t;"function"==typeof this.options.remote.pageParams?(t=this.options.remote.pageParams.call(this,{pageIndex:this.currentPageIndex,pageSize:this.currentPageSize}),this.currentParams=s.extend({},this.currentParams,t)):(this.currentParams[this.options.remote.pageIndexName]=this.currentPageIndex,this.currentParams[this.options.remote.pageSizeName]=this.currentPageSize),r.remote.getAjax(this,this.currentUrl,this.currentParams,this.ajaxCallBack,this.options.remote.beforeSend,this.options.remote.complete,this.options.remote.traditional)},ajaxCallBack:function(t){var e=o.mapObjectNameRecursion(t,this.options.remote.totalName);null!=e?(e=o.convertInt(e),this.total=e,e=this.getLastPageNum(),0<this.currentPageIndex&&e-1<this.currentPageIndex?(this.setPageIndex(e-1),this.remote()):("function"==typeof this.options.remote.success&&this.options.remote.success(t),this.renderPagination())):"function"==typeof this.options.remote.remoteWrongFormat?this.options.remote.remoteWrongFormat(t):console&&"function"==typeof console.warn&&console.warn("the response of totalName :  '"+this.options.remote.totalName+"'  not found.")},onEvent:function(t,e,n){null!=e&&(this.currentPageIndex=o.convertInt(e)),null!=n&&(this.currentPageSize=o.convertInt(n)),this.doPagination(),this.$element.trigger(t,{pageIndex:this.currentPageIndex,pageSize:this.currentPageSize}),this.debug("pagination "+t)},renderPagination:function(){var t={showFirstLastBtn:this.options.showFirstLastBtn,firstBtnText:this.options.firstBtnText,prevBtnText:this.options.prevBtnText,nextBtnText:this.options.nextBtnText,lastBtnText:this.options.lastBtnText},e=this.getLastPageNum();this.currentPageIndex=0<e&&this.currentPageIndex>e-1?e-1:this.currentPageIndex,this.$page.empty().append(r.core.renderPages(this.currentPageIndex,this.currentPageSize,this.total,this.options.pageBtnCount,t)).show(),this.options.showPageSizes&&0!==e?this.$size.show():this.$size.hide(),this.options.showJump&&0!==e?this.$jump.show():this.$jump.hide(),this.$info.text(r.core.renderInfo(this.currentPageIndex,this.currentPageSize,this.total,this.options.infoFormat,this.options.noInfoText)),this.options.showInfo?this.$info.show():this.$info.hide()},destroy:function(){this.$element.unbind().data("pagination",null).empty(),this.debug("pagination destroyed")},debug:function(t,e){this.options.debug&&console&&(t&&console.info(t+" : pageIndex = "+this.currentPageIndex+" , pageSize = "+this.currentPageSize+" , total = "+this.total),e&&console.info(e))}};var n=function(t){var e,n=t.data.page,i=s(t.target);"click"!==t.type||void 0===i.data("pageIndex")||i.parent().hasClass("active")?"click"!==t.type&&"keypress"!==t.type||"jump"!==i.data("pageBtn")?"change"===t.type&&"size"===i.data("pageBtn")&&(e=n.$size.find("select").val(),0<(t=r.core.calLastPageNum(n.total,e))&&n.currentPageIndex>t-1&&(n.currentPageIndex=t-1),n.onEvent(r.event.pageSizeChanged,n.currentPageIndex,e)):(e=n.$jump.find("input").val(),o.convertInt(e)<=n.getLastPageNum()&&(n.onEvent(r.event.jumpClicked,e-1,null),n.$jump.find("input").val(null))):n.onEvent(r.event.pageClicked,i.data("pageIndex"),null)},r={event:{pageClicked:"pageClicked",jumpClicked:"jumpClicked",pageSizeChanged:"pageSizeChanged"},remote:{getAjax:function(e,t,n,i,r,o,a){s.ajax({url:t,type:"post",dataType:"json",data:JSON.stringify(n),cache:!1,traditional:a,contentType:"application/Json",beforeSend:function(t){"function"==typeof r&&r.call(this,t)},complete:function(t,e){"function"==typeof o&&o.call(this,t,e)},success:function(t){i.call(e,t)}})}},core:{renderPages:function(t,e,n,i,r){r=r||{};var o,a,s,l,u=t+1,c=this.calLastPageNum(n,e),h=[];return c<=i?h=this.renderGroupPages(1,c,u):(o=this.renderPerPage(r.firstBtnText||1,0),a=this.renderPerPage(r.lastBtnText||c,c-1),s=(i-1-4)/2,r.showFirstLastBtn||(s+=1),n=c-(l=(i+1)/2),e=this.renderPerPage(r.prevBtnText,t-1),t=this.renderPerPage(r.nextBtnText,t+1),s=-1==s.toString().indexOf(".")?s:s+.5,l=-1==l.toString().indexOf(".")?l:l+.5,n=-1==n.toString().indexOf(".")?n:n+.5,u<l?r.showFirstLastBtn?((h=this.renderGroupPages(1,i-2,u)).push(a),h.push(t)):(h=this.renderGroupPages(1,i-1,u)).push(t):n<u?r.showFirstLastBtn?((h=this.renderGroupPages(c-i+3,i-2,u)).unshift(o),h.unshift(e)):(h=this.renderGroupPages(c-i+2,i-1,u)).unshift(e):(r.showFirstLastBtn?((h=this.renderGroupPages(u-s,i-4,u)).unshift(o),h.push(a),h.unshift(e)):(h=this.renderGroupPages(u-s,i-2,u)).unshift(e),h.push(t))),h},renderGroupPages:function(t,e,n){for(var i=[],r=0;r<e;r++){var o=this.renderPerPage(t,t-1);t===n&&o.addClass("active"),i.push(o),t++}return i},renderPerPage:function(t,e){return s("<li><a data-page-index='"+e+"'>"+t+"</a></li>")},renderInfo:function(t,e,n,i,r){if(n<=0)return r;r=n<=(r=(t+1)*e)?n:r;return i.replace("{start}",t*e+1).replace("{end}",r).replace("{total}",n)},calLastPageNum:function(t,e){e=(t=o.convertInt(t))/(e=o.convertInt(e));return o.isDecimal(e)?parseInt(e)+1:e}},check:{checkJumpPage:function(t){return/^\+?[1-9][0-9]*$/.test(t)}}},o={convertInt:function(t){if("number"==typeof t)return t;var e=parseInt(t);if(isNaN(e))throw new Error("convertInt Type Error.  Type is "+typeof t+", value = "+t);return e},isDecimal:function(t){return parseInt(t)!==t},mapObjectNameRecursion:function(t,e){for(var n=t,i=e.split("."),r=0;r<i.length;r++)n=o.mapObjectName(n,i[r]);return n},mapObjectName:function(t,e){var n,i=null;for(n in t)if(t.hasOwnProperty(n)&&n==e){i=t[n];break}return i},deserializeParams:function(t){var e={};if("string"==typeof t)for(var n=t.split("&"),i=0;i<n.length;i++){var r=n[i].split("=");e[r[0]]=decodeURIComponent(r[1])}else if(t instanceof Array)for(i=0;i<t.length;i++)e[t[i].name]=decodeURIComponent(t[i].value);else"object"==typeof t&&(e=t);return e}};s.fn.pagination=function(r){if(void 0===r)return s(this).data("pagination")||!1;var o,a=arguments;return this.each(function(){var t,e,n=s(this),i=n.data("pagination");if(!i&&"string"==typeof r)throw new Error("MricodePagination is uninitialized.");if(i&&"object"==typeof r)throw new Error("MricodePagination is initialized.");i||"object"!=typeof r?i&&"string"==typeof r&&(o=i[r].apply(i,Array.prototype.slice.call(a,1))):(e="object"==typeof r&&r,t=n.data(),e=s.extend(e,t),n.data("pagination",i=new l(this,e)))}),void 0===o?this:o}}),function(){var l,u,o,e,m,t,c,y,i,r,n,s,v,x,h,a,d,f,p,g,_,b,w,M,A,I,C,S,T,D,N,L,k,E,O,P,z,j,Y,R,B=[].slice,F={}.hasOwnProperty,H=function(t,e){function n(){this.constructor=t}for(var i in e)F.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},W=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},G={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},U=function(){var t;return null!=(t="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?t:+new Date},Z=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,V=window.cancelAnimationFrame||window.mozCancelAnimationFrame;for(null==Z&&(Z=function(t){return setTimeout(t,50)},V=function(t){return clearTimeout(t)}),M=function(e){var n,i=U();return(n=function(){var t=U()-i;return 33<=t?(i=U(),e(t,function(){return Z(n)})):setTimeout(n,33-t)})()},w=function(){var t=arguments[0],e=arguments[1],n=3<=arguments.length?B.call(arguments,2):[];return"function"==typeof t[e]?t[e].apply(t,n):t[e]},h=function(){for(var t,e,n,i=arguments[0],r=2<=arguments.length?B.call(arguments,1):[],o=0,a=r.length;o<a;o++)if(e=r[o])for(t in e)F.call(e,t)&&(n=e[t],null!=i[t]&&"object"==typeof i[t]&&null!=n&&"object"==typeof n?h(i[t],n):i[t]=n);return i},s=function(t){for(var e,n,i=e=0,r=0,o=t.length;r<o;r++)n=t[r],i+=Math.abs(n),e++;return i/e},d=function(t,e){var n;if(null==t&&(t="options"),null==e&&(e=!0),n=document.querySelector("[data-pace-"+t+"]")){if(t=n.getAttribute("data-pace-"+t),!e)return t;try{return JSON.parse(t)}catch(t){return"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",t):void 0}}},X.prototype.on=function(t,e,n,i){var r;return null==i&&(i=!1),null==this.bindings&&(this.bindings={}),null==(r=this.bindings)[t]&&(r[t]=[]),this.bindings[t].push({handler:e,ctx:n,once:i})},X.prototype.once=function(t,e,n){return this.on(t,e,n,!0)},X.prototype.off=function(t,e){var n,i,r;if(null!=(null!=(i=this.bindings)?i[t]:void 0)){if(null==e)return delete this.bindings[t];for(n=0,r=[];n<this.bindings[t].length;)r.push(this.bindings[t][n].handler===e?this.bindings[t].splice(n,1):n++);return r}},X.prototype.trigger=function(){var t,e,n,i,r,o,a=arguments[0],s=2<=arguments.length?B.call(arguments,1):[];if(null!=(i=this.bindings)&&i[a]){for(n=0,o=[];n<this.bindings[a].length;)e=(r=this.bindings[a][n]).handler,t=r.ctx,r=r.once,e.apply(null!=t?t:this,s),o.push(r?this.bindings[a].splice(n,1):n++);return o}},R=X,m=window.Pace||{},window.Pace=m,h(m,R.prototype),b=m.options=h({},G,window.paceOptions,d()),E=0,P=(j=["ajax","document","eventLag","elements"]).length;E<P;E++)!0===b[S=j[E]]&&(b[S]=G[S]);function X(){}function q(t){this.source=t,this.last=this.sinceLastUpdate=0,this.rate=b.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=w(this.source,"progress"))}function J(){var t,e,n=this;this.progress=null!=(e=this.states[document.readyState])?e:100,t=document.onreadystatechange,document.onreadystatechange=function(){return null!=n.states[document.readyState]&&(n.progress=n.states[document.readyState]),"function"==typeof t?t.apply(null,arguments):void 0}}function $(t){this.selector=t,this.progress=0,this.check()}function Q(){var t=this;this.elements=[],f().on("request",function(){return t.watch.apply(t,arguments)})}function K(){var e,r=this;K.__super__.constructor.apply(this,arguments),e=function(n){var i=n.open;return n.open=function(t,e){return C(t)&&r.trigger("request",{type:t,url:e,request:n}),i.apply(n,arguments)}},window.XMLHttpRequest=function(t){t=new k(t);return e(t),t};try{a(window.XMLHttpRequest,k)}catch(t){}if(null!=L){window.XDomainRequest=function(){var t=new L;return e(t),t};try{a(window.XDomainRequest,L)}catch(t){}}if(null!=N&&b.ajax.trackWebSockets){window.WebSocket=function(t,e){var n=null!=e?new N(t,e):new N(t);return C("socket")&&r.trigger("request",{type:"socket",url:t,protocols:e,request:n}),n};try{a(window.WebSocket,N)}catch(t){}}}function tt(){this.bindings={}}function et(){this.progress=0}function nt(){return nt.__super__.constructor.apply(this,arguments)}R=Error,H(nt,R),e=nt,et.prototype.getElement=function(){var t;if(null==this.el){if(!(t=document.querySelector(b.target)))throw new e;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=t.firstChild?t.insertBefore(this.el,t.firstChild):t.appendChild(this.el)}return this.el},et.prototype.finish=function(){var t=this.getElement();return t.className=t.className.replace("pace-active",""),t.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},et.prototype.update=function(t){return this.progress=t,this.render()},et.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(t){e=t}return this.el=void 0},et.prototype.render=function(){var t,e,n,i,r,o;if(null==document.querySelector(b.target))return!1;for(t=this.getElement(),n="translate3d("+this.progress+"%, 0, 0)",i=0,r=(o=["webkitTransform","msTransform","transform"]).length;i<r;i++)t.children[0].style[o[i]]=n;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(t.children[0].setAttribute("data-progress-text",(0|this.progress)+"%"),100<=this.progress?e="99":(e=this.progress<10?"0":"",e+=0|this.progress),t.children[0].setAttribute("data-progress",""+e)),this.lastRenderedProgress=this.progress},et.prototype.done=function(){return 100<=this.progress},u=et,tt.prototype.trigger=function(t,e){var n,i,r,o,a;if(null!=this.bindings[t]){for(a=[],i=0,r=(o=this.bindings[t]).length;i<r;i++)n=o[i],a.push(n.call(this,e));return a}},tt.prototype.on=function(t,e){var n;return null==(n=this.bindings)[t]&&(n[t]=[]),this.bindings[t].push(e)},d=tt,k=window.XMLHttpRequest,L=window.XDomainRequest,N=window.WebSocket,a=function(t,e){var n,i,r=[];for(n in e.prototype)try{i=e.prototype[n],r.push(null==t[n]&&"function"!=typeof i?t[n]=i:void 0)}catch(t){0}return r},g=[],m.ignore=function(){var t=arguments[0],e=2<=arguments.length?B.call(arguments,1):[];return g.unshift("ignore"),e=t.apply(null,e),g.shift(),e},m.track=function(){var t=arguments[0],e=2<=arguments.length?B.call(arguments,1):[];return g.unshift("track"),e=t.apply(null,e),g.shift(),e},C=function(t){if(null==t&&(t="GET"),"track"===g[0])return"force";if(!g.length&&b.ajax){if("socket"===t&&b.ajax.trackWebSockets)return!0;if(t=t.toUpperCase(),0<=W.call(b.ajax.trackMethods,t))return!0}return!1},H(K,d),t=K,O=null,I=function(t){for(var e,n=b.ajax.ignoreURLs,i=0,r=n.length;i<r;i++)if("string"==typeof(e=n[i])){if(-1!==t.indexOf(e))return!0}else if(e.test(t))return!0;return!1},(f=function(){return O=null==O?new t:O})().on("request",function(t){var o,a=t.type,s=t.request,e=t.url;return I(e)||m.running||!1===b.restartOnRequestAfter&&"force"!==C(a)?void 0:(o=arguments,"boolean"==typeof(e=b.restartOnRequestAfter||0)&&(e=0),setTimeout(function(){var t,e,n,i,r;if("socket"===a?s.readyState<2:0<(n=s.readyState)&&n<4){for(m.restart(),r=[],t=0,e=(i=m.sources).length;t<e;t++){if((S=i[t])instanceof l){S.watch.apply(S,o);break}r.push(void 0)}return r}},e))}),Q.prototype.watch=function(t){var e=t.type,n=t.request,t=t.url;return I(t)?void 0:(n=new("socket"===e?i:r)(n),this.elements.push(n))},l=Q,r=function(e){var t,n,i,r,o=this;if(this.progress=0,null!=window.ProgressEvent)for(e.addEventListener("progress",function(t){return o.progress=t.lengthComputable?100*t.loaded/t.total:o.progress+(100-o.progress)/2},!1),t=0,n=(r=["load","abort","timeout","error"]).length;t<n;t++)e.addEventListener(r[t],function(){return o.progress=100},!1);else i=e.onreadystatechange,e.onreadystatechange=function(){var t;return 0===(t=e.readyState)||4===t?o.progress=100:3===e.readyState&&(o.progress=50),"function"==typeof i?i.apply(null,arguments):void 0}},i=function(t){for(var e,n=this,i=this.progress=0,r=(e=["error","open"]).length;i<r;i++)t.addEventListener(e[i],function(){return n.progress=100},!1)},R=function(t){var e,n,i,r;for(null==t&&(t={}),this.elements=[],null==t.selectors&&(t.selectors=[]),n=0,i=(r=t.selectors).length;n<i;n++)e=r[n],this.elements.push(new o(e))},$.prototype.check=function(){var t=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return t.check()},b.elements.checkInterval)},$.prototype.done=function(){return this.progress=100},o=$,J.prototype.states={loading:0,interactive:50,complete:100},H=J,d=function(){var e,n,i,r,o,a=this;this.progress=0,o=[],r=0,i=U(),n=setInterval(function(){var t=U()-i-50;return i=U(),o.push(t),o.length>b.eventLag.sampleCount&&o.shift(),e=s(o),++r>=b.eventLag.minSamples&&e<b.eventLag.lagThreshold?(a.progress=100,clearInterval(n)):a.progress=3/(e+3)*100},50)},q.prototype.tick=function(t,e){return 100<=(e=null==e?w(this.source,"progress"):e)&&(this.done=!0),e===this.last?this.sinceLastUpdate+=t:(this.sinceLastUpdate&&(this.rate=(e-this.last)/this.sinceLastUpdate),this.catchup=(e-this.progress)/b.catchupTime,this.sinceLastUpdate=0,this.last=e),e>this.progress&&(this.progress+=this.catchup*t),e=1-Math.pow(this.progress/100,b.easeFactor),this.progress+=e*this.rate*t,this.progress=Math.min(this.lastProgress+b.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},y=q,x=n=D=v=A=T=null,m.running=!1,p=function(){return b.restartOnPushState?m.restart():void 0},null!=window.history.pushState&&(z=window.history.pushState,window.history.pushState=function(){return p(),z.apply(window.history,arguments)}),null!=window.history.replaceState&&(Y=window.history.replaceState,window.history.replaceState=function(){return p(),Y.apply(window.history,arguments)}),c={ajax:l,elements:R,document:H,eventLag:d},(_=function(){var t,e,n,i,r,o,a,s;for(m.sources=T=[],e=0,i=(o=["ajax","elements","document","eventLag"]).length;e<i;e++)!1!==b[t=o[e]]&&T.push(new c[t](b[t]));for(n=0,r=(s=null!=(a=b.extraSources)?a:[]).length;n<r;n++)S=s[n],T.push(new S(b));return m.bar=v=new u,A=[],D=new y})(),m.stop=function(){return m.trigger("stop"),m.running=!1,v.destroy(),x=!0,null!=n&&("function"==typeof V&&V(n),n=null),_()},m.restart=function(){return m.trigger("restart"),m.stop(),m.start()},m.go=function(){var g;return m.running=!0,v.render(),g=U(),x=!1,n=M(function(t,e){v.progress;for(var n,i,r,o,a,s,l,u,c,h=a=0,d=!0,f=s=0,p=T.length;s<p;f=++s)for(S=T[f],o=null!=A[f]?A[f]:A[f]=[],i=l=0,u=(n=null!=(c=S.elements)?c:[S]).length;l<u;i=++l)r=n[i],d&=(r=null!=o[i]?o[i]:o[i]=new y(r)).done,r.done||(h++,a+=r.tick(t));return v.update(D.tick(t,a/h)),v.done()||d||x?(v.update(100),m.trigger("done"),setTimeout(function(){return v.finish(),m.running=!1,m.trigger("hide")},Math.max(b.ghostTime,Math.max(b.minTime-(U()-g),0)))):e()})},m.start=function(t){h(b,t),m.running=!0;try{v.render()}catch(t){e=t}return document.querySelector(".pace")?(m.trigger("start"),m.go()):setTimeout(m.start,50)},"function"==typeof define&&define.amd?define(function(){return m}):"object"==typeof exports?module.exports=m:b.startOnPageLoad&&m.start()}.call(this),function(I){I.fn.extend({slimScroll:function(M){var A=I.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},M);return this.each(function(){var i,e,r,n,o,a,s,l,u,c="<div></div>",h=30,d=!1,f=I(this);if(f.parent().hasClass(A.wrapperClass)){var p,g=f.scrollTop(),m=f.closest("."+A.barClass),y=f.closest("."+A.railClass);if(_(),I.isPlainObject(M)){if("height"in M&&"auto"==M.height&&(f.parent().css("height","auto"),f.css("height","auto"),p=f.parent().parent().height(),f.parent().css("height",p),f.css("height",p)),"scrollTo"in M)g=parseInt(A.scrollTo);else if("scrollBy"in M)g+=parseInt(A.scrollBy);else if("destroy"in M)return m.remove(),y.remove(),void f.unwrap();x(g,!1,!0)}}else I.isPlainObject(M)&&"destroy"in M||(A.height="auto"==A.height?f.parent().height():A.height,g=I(c).addClass(A.wrapperClass).css({position:"relative",overflow:"hidden",width:A.width,height:A.height}),f.css({overflow:"hidden",width:A.width,height:A.height}),y=I(c).addClass(A.railClass).css({width:A.size,height:"100%",position:"absolute",top:0,display:A.alwaysVisible&&A.railVisible?"block":"none","border-radius":A.railBorderRadius,background:A.railColor,opacity:A.railOpacity,zIndex:90}),m=I(c).addClass(A.barClass).css({background:A.color,width:A.size,position:"absolute",top:0,opacity:A.opacity,display:A.alwaysVisible?"block":"none","border-radius":A.borderRadius,BorderRadius:A.borderRadius,MozBorderRadius:A.borderRadius,WebkitBorderRadius:A.borderRadius,zIndex:99}),c="right"==A.position?{right:A.distance}:{left:A.distance},y.css(c),m.css(c),f.wrap(g),f.parent().append(m),f.parent().append(y),A.railDraggable&&m.bind("mousedown",function(e){var n=I(document);return r=!0,t=parseFloat(m.css("top")),pageY=e.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,m.css("top",currTop),x(0,m.position().top,!1)}),n.bind("mouseup.slimscroll",function(t){r=!1,w(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),y.hover(function(){b()},function(){w()}),m.hover(function(){e=!0},function(){e=!1}),f.hover(function(){i=!0,b(),w()},function(){i=!1,w()}),f.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(o=t.originalEvent.touches[0].pageY)}),f.bind("touchmove",function(t){d||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(x((o-t.originalEvent.touches[0].pageY)/A.touchScrollStep,!0),o=t.originalEvent.touches[0].pageY)}),_(),"bottom"===A.start?(m.css({top:f.outerHeight()-m.outerHeight()}),x(0,!0)):"top"!==A.start&&(x(I(A.start).position().top,null,!0),A.alwaysVisible||m.hide()),u=this,window.addEventListener?(u.addEventListener("DOMMouseScroll",v,!1),u.addEventListener("mousewheel",v,!1)):document.attachEvent("onmousewheel",v));function v(t){var e,n;i&&(e=0,(t=t||window.event).wheelDelta&&(e=-t.wheelDelta/120),t.detail&&(e=t.detail/3),n=t.target||t.srcTarget||t.srcElement,I(n).closest("."+A.wrapperClass).is(f.parent())&&x(e,!0),t.preventDefault&&!d&&t.preventDefault(),d||(t.returnValue=!1))}function x(t,e,n){d=!1;var i=t,r=f.outerHeight()-m.outerHeight();e&&(i=parseInt(m.css("top"))+t*parseInt(A.wheelStep)/100*m.outerHeight(),i=Math.min(Math.max(i,0),r),i=0<t?Math.ceil(i):Math.floor(i),m.css({top:i+"px"})),i=(s=parseInt(m.css("top"))/(f.outerHeight()-m.outerHeight()))*(f[0].scrollHeight-f.outerHeight()),n&&(t=(i=t)/f[0].scrollHeight*f.outerHeight(),t=Math.min(Math.max(t,0),r),m.css({top:t+"px"})),f.scrollTop(i),f.trigger("slimscrolling",~~i),b(),w()}function _(){a=Math.max(f.outerHeight()/f[0].scrollHeight*f.outerHeight(),h),m.css({height:a+"px"});var t=a==f.outerHeight()?"none":"block";m.css({display:t})}function b(){var t;_(),clearTimeout(n),s==~~s?(d=A.allowPageScroll,l!=s&&(t=0==~~s?"top":"bottom",f.trigger("slimscroll",t))):d=!1,l=s,a>=f.outerHeight()?d=!0:(m.stop(!0,!0).fadeIn("fast"),A.railVisible&&y.stop(!0,!0).fadeIn("fast"))}function w(){A.alwaysVisible||(n=setTimeout(function(){A.disableFadeOut&&i||e||r||(m.fadeOut("slow"),y.fadeOut("slow"))},1e3))}}),this}}),I.fn.extend({slimscroll:I.fn.slimScroll})}(jQuery),function(t){var e;"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.SockJS=t())}(function(){return function i(r,o,a){function s(n,t){if(!o[n]){if(!r[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(l)return l(n,!0);e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}e=o[n]={exports:{}};r[n][0].call(e.exports,function(t){var e=r[n][1][t];return s(e||t)},e,e.exports,i,r,o,a)}return o[n].exports}for(var l="function"==typeof require&&require,t=0;t<a.length;t++)s(a[t]);return s}({1:[function(n,i,t){!function(t){"use strict";var e=n("./transport-list");i.exports=n("./main")(e),"_sockjs_onload"in t&&setTimeout(t._sockjs_onload,1)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./event");function o(){r.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}i(o,r),e.exports=o},{"./event":4,inherits:57}],3:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./eventtarget");function o(){r.call(this)}i(o,r),o.prototype.removeAllListeners=function(t){t?delete this._listeners[t]:this._listeners={}},o.prototype.once=function(e,n){var i=this,r=!1;this.on(e,function t(){i.removeListener(e,t),r||(r=!0,n.apply(this,arguments))})},o.prototype.emit=function(){var t=this._listeners[arguments[0]];if(t){for(var e=arguments.length,n=new Array(e-1),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0;r<t.length;r++)t[r].apply(this,n)}},o.prototype.on=o.prototype.addListener=r.prototype.addEventListener,o.prototype.removeListener=r.prototype.removeEventListener,e.exports.EventEmitter=o},{"./eventtarget":5,inherits:57}],4:[function(t,e,n){"use strict";function i(t){this.type=t}i.prototype.initEvent=function(t,e,n){return this.type=t,this.bubbles=e,this.cancelable=n,this.timeStamp=+new Date,this},i.prototype.stopPropagation=function(){},i.prototype.preventDefault=function(){},i.CAPTURING_PHASE=1,i.AT_TARGET=2,i.BUBBLING_PHASE=3,e.exports=i},{}],5:[function(t,e,n){"use strict";function i(){this._listeners={}}i.prototype.addEventListener=function(t,e){t in this._listeners||(this._listeners[t]=[]);var n=this._listeners[t];-1===n.indexOf(e)&&(n=n.concat([e])),this._listeners[t]=n},i.prototype.removeEventListener=function(t,e){var n=this._listeners[t];!n||-1!==(e=n.indexOf(e))&&(1<n.length?this._listeners[t]=n.slice(0,e).concat(n.slice(e+1)):delete this._listeners[t])},i.prototype.dispatchEvent=function(){var t=arguments[0],e=t.type,n=1===arguments.length?[t]:Array.apply(null,arguments);if(this["on"+e]&&this["on"+e].apply(this,n),e in this._listeners)for(var i=this._listeners[e],r=0;r<i.length;r++)i[r].apply(this,n)},e.exports=i},{}],6:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./event");function o(t){r.call(this),this.initEvent("message",!1,!1),this.data=t}i(o,r),e.exports=o},{"./event":4,inherits:57}],7:[function(t,e,n){"use strict";var i=t("json3"),r=t("./utils/iframe");function o(t){(this._transport=t).on("message",this._transportMessage.bind(this)),t.on("close",this._transportClose.bind(this))}o.prototype._transportClose=function(t,e){r.postMessage("c",i.stringify([t,e]))},o.prototype._transportMessage=function(t){r.postMessage("t",t)},o.prototype._send=function(t){this._transport.send(t)},o.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},e.exports=o},{"./utils/iframe":47,json3:58}],8:[function(i,r,t){!function(t){"use strict";var c=i("./utils/url"),e=i("./utils/event"),h=i("json3"),d=i("./facade"),n=i("./info-iframe-receiver"),f=i("./utils/iframe"),p=i("./location"),g=function(){};"production"!==t.env.NODE_ENV&&(g=i("debug")("sockjs-client:iframe-bootstrap")),r.exports=function(s,t){var l,u={};t.forEach(function(t){t.facadeTransport&&(u[t.facadeTransport.transportName]=t.facadeTransport)}),u[n.transportName]=n,s.bootstrap_iframe=function(){var a;f.currentWindowId=p.hash.slice(1);e.attachEvent("message",function(e){if(e.source===parent&&(void 0===l&&(l=e.origin),e.origin===l)){var n;try{n=h.parse(e.data)}catch(t){return void g("bad json",e.data)}if(n.windowId===f.currentWindowId)switch(n.type){case"s":try{o=h.parse(n.data)}catch(t){g("bad json",n.data);break}var t=o[0],i=o[1],r=o[2],o=o[3];if(g(t,i,r,o),t!==s.version)throw new Error('Incompatible SockJS! Main site uses: "'+t+'", the iframe: "'+s.version+'".');if(!c.isOriginEqual(r,p.href)||!c.isOriginEqual(o,p.href))throw new Error("Can't connect to different domain from within an iframe. ("+p.href+", "+r+", "+o+")");a=new d(new u[i](r,o));break;case"m":a._send(n.data);break;case"c":a&&a._close(),a=null}}}),f.postMessage("s")}}}.call(this,{env:{}})},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:54,json3:58}],9:[function(r,o,t){!function(t){"use strict";var n=r("events").EventEmitter,e=r("inherits"),a=r("json3"),s=r("./utils/object"),l=function(){};function i(t,e){n.call(this);var r=this,o=+new Date;this.xo=new e("GET",t),this.xo.once("finish",function(t,e){var n,i;if(200===t){if(i=+new Date-o,e)try{n=a.parse(e)}catch(t){l("bad json",e)}s.isObject(n)||(n={})}r.emit("finish",n,i),r.removeAllListeners()})}"production"!==t.env.NODE_ENV&&(l=r("debug")("sockjs-client:info-ajax")),e(i,n),i.prototype.close=function(){this.removeAllListeners(),this.xo.close()},o.exports=i}.call(this,{env:{}})},{"./utils/object":49,debug:54,events:3,inherits:57,json3:58}],10:[function(t,e,n){"use strict";var i=t("inherits"),r=t("events").EventEmitter,o=t("json3"),a=t("./transport/sender/xhr-local"),s=t("./info-ajax");function l(t){var n=this;r.call(this),this.ir=new s(t,a),this.ir.once("finish",function(t,e){n.ir=null,n.emit("message",o.stringify([t,e]))})}i(l,r),l.transportName="iframe-info-receiver",l.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},e.exports=l},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:57,json3:58}],11:[function(i,h,t){!function(t,r){"use strict";var o=i("events").EventEmitter,e=i("inherits"),a=i("json3"),s=i("./utils/event"),l=i("./transport/iframe"),u=i("./info-iframe-receiver"),c=function(){};function n(e,n){var i=this;o.call(this);function t(){var t=i.ifr=new l(u.transportName,n,e);t.once("message",function(e){if(e){try{t=a.parse(e)}catch(t){return c("bad json",e),i.emit("finish"),void i.close()}var e=t[0],t=t[1];i.emit("finish",e,t)}i.close()}),t.once("close",function(){i.emit("finish"),i.close()})}r.document.body?t():s.attachEvent("load",t)}"production"!==t.env.NODE_ENV&&(c=i("debug")("sockjs-client:info-iframe")),e(n,o),n.enabled=function(){return l.enabled()},n.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},h.exports=n}.call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:54,events:3,inherits:57,json3:58}],12:[function(n,f,t){!function(t){"use strict";var i=n("events").EventEmitter,e=n("inherits"),r=n("./utils/url"),o=n("./transport/sender/xdr"),a=n("./transport/sender/xhr-cors"),s=n("./transport/sender/xhr-local"),l=n("./transport/sender/xhr-fake"),u=n("./info-iframe"),c=n("./info-ajax"),h=function(){};function d(t,e){h(t);var n=this;i.call(this),setTimeout(function(){n.doXhr(t,e)},0)}"production"!==t.env.NODE_ENV&&(h=n("debug")("sockjs-client:info-receiver")),e(d,i),d._getReceiver=function(t,e,n){return n.sameOrigin?new c(e,s):a.enabled?new c(e,a):o.enabled&&n.sameScheme?new c(e,o):u.enabled()?new u(t,e):new c(e,l)},d.prototype.doXhr=function(t,e){var n=this,i=r.addPath(t,"/info");h("doXhr",i),this.xo=d._getReceiver(t,i,e),this.timeoutRef=setTimeout(function(){h("timeout"),n._cleanup(!1),n.emit("finish")},d.timeout),this.xo.once("finish",function(t,e){h("finish",t,e),n._cleanup(!0),n.emit("finish",t,e)})},d.prototype._cleanup=function(t){h("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!t&&this.xo&&this.xo.close(),this.xo=null},d.prototype.close=function(){h("close"),this.removeAllListeners(),this._cleanup(!1)},d.timeout=8e3,f.exports=d}.call(this,{env:{}})},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:54,events:3,inherits:57}],13:[function(t,e,n){!function(t){"use strict";e.exports=t.location||{origin:"http://localhost:80",protocol:"http",host:"localhost",port:80,href:"http://localhost/",hash:""}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(M,A,t){!function(t,i){"use strict";M("./shims");var n,o=M("url-parse"),e=M("inherits"),r=M("json3"),a=M("./utils/random"),s=M("./utils/escape"),l=M("./utils/url"),u=M("./utils/event"),c=M("./utils/transport"),h=M("./utils/object"),d=M("./utils/browser"),f=M("./utils/log"),p=M("./event/event"),g=M("./event/eventtarget"),m=M("./location"),y=M("./event/close"),v=M("./event/trans-message"),x=M("./info-receiver"),_=function(){};function b(t,e,n){if(!(this instanceof b))return new b(t,e,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");g.call(this),this.readyState=b.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&f.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{};var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return a.string(i)}}this._server=n.server||a.numberString(1e3);n=new o(t);if(!n.host||!n.protocol)throw new SyntaxError("The URL '"+t+"' is invalid");if(n.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==n.protocol&&"https:"!==n.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+n.protocol+"' is not allowed.");t="https:"===n.protocol;if("https"===m.protocol&&!t)throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");e?Array.isArray(e)||(e=[e]):e=[];var r=e.sort();r.forEach(function(t,e){if(!t)throw new SyntaxError("The protocols entry '"+t+"' is invalid.");if(e<r.length-1&&t===r[e+1])throw new SyntaxError("The protocols entry '"+t+"' is duplicated.")});e=l.getOrigin(m.href);this._origin=e?e.toLowerCase():null,n.set("pathname",n.pathname.replace(/\/+$/,"")),this.url=n.href,_("using url",this.url),this._urlInfo={nullOrigin:!d.hasDomain(),sameOrigin:l.isOriginEqual(this.url,m.href),sameScheme:l.isSchemeEqual(this.url,m.href)},this._ir=new x(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function w(t){return 1e3===t||3e3<=t&&t<=4999}"production"!==t.env.NODE_ENV&&(_=M("debug")("sockjs-client:main")),e(b,g),b.prototype.close=function(t,e){if(t&&!w(t))throw new Error("InvalidAccessError: Invalid code");if(e&&123<e.length)throw new SyntaxError("reason argument has an invalid length");this.readyState!==b.CLOSING&&this.readyState!==b.CLOSED&&this._close(t||1e3,e||"Normal closure",!0)},b.prototype.send=function(t){if("string"!=typeof t&&(t=""+t),this.readyState===b.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===b.OPEN&&this._transport.send(s.quote(t))},b.version=M("./version"),b.CONNECTING=0,b.OPEN=1,b.CLOSING=2,b.CLOSED=3,b.prototype._receiveInfo=function(t,e){_("_receiveInfo",e),this._ir=null,t?(this._rto=this.countRTO(e),this._transUrl=t.base_url||this.url,t=h.extend(t,this._urlInfo),_("info",t),t=n.filterToEnabled(this._transportsWhitelist,t),this._transports=t.main,_(this._transports.length+" enabled transports"),this._connect()):this._close(1002,"Cannot connect to server")},b.prototype._connect=function(){for(var t=this._transports.shift();t;t=this._transports.shift()){if(_("attempt",t.transportName),t.needBody&&(!i.document.body||void 0!==i.document.readyState&&"complete"!==i.document.readyState&&"interactive"!==i.document.readyState))return _("waiting for body"),this._transports.unshift(t),void u.attachEvent("load",this._connect.bind(this));var e=this._rto*t.roundTrips||5e3;this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),e),_("using timeout",e);var n=l.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),e=this._transportOptions[t.transportName];_("transport url",n);e=new t(n,this._transUrl,e);return e.on("message",this._transportMessage.bind(this)),e.once("close",this._transportClose.bind(this)),e.transportName=t.transportName,void(this._transport=e)}this._close(2e3,"All transports failed",!1)},b.prototype._transportTimeout=function(){_("_transportTimeout"),this.readyState===b.CONNECTING&&this._transportClose(2007,"Transport timed out")},b.prototype._transportMessage=function(e){_("_transportMessage",e);var t,n=this,i=e.slice(0,1),e=e.slice(1);switch(i){case"o":return void this._open();case"h":return this.dispatchEvent(new p("heartbeat")),void _("heartbeat",this.transport)}if(e)try{t=r.parse(e)}catch(t){_("bad json",e)}if(void 0!==t)switch(i){case"a":Array.isArray(t)&&t.forEach(function(t){_("message",n.transport,t),n.dispatchEvent(new v(t))});break;case"m":_("message",this.transport,t),this.dispatchEvent(new v(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}else _("empty payload",e)},b.prototype._transportClose=function(t,e){_("_transportClose",this.transport,t,e),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),w(t)||2e3===t||this.readyState!==b.CONNECTING?this._close(t,e):this._connect()},b.prototype._open=function(){_("_open",this._transport.transportName,this.readyState),this.readyState===b.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=b.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new p("open")),_("connected",this.transport)):this._close(1006,"Server lost session")},b.prototype._close=function(e,n,i){_("_close",this.transport,e,n,i,this.readyState);var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===b.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=b.CLOSING,setTimeout(function(){this.readyState=b.CLOSED,r&&this.dispatchEvent(new p("error"));var t=new y("close");t.wasClean=i||!1,t.code=e||1e3,t.reason=n,this.dispatchEvent(t),this.onmessage=this.onclose=this.onerror=null,_("disconnected")}.bind(this),0)},b.prototype.countRTO=function(t){return 100<t?4*t:300+t},A.exports=function(t){return n=c(t),M("./iframe-bootstrap")(b,t),b}}.call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:54,inherits:57,json3:58,"url-parse":59}],15:[function(t,e,n){"use strict";function s(t){return"[object Function]"===r.toString.call(t)}function a(t){return"[object String]"===d.call(t)}function i(t,e,n){for(var i in e)r.hasOwnProperty.call(e,i)&&f(t,i,e[i],n)}function l(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}var c=Array.prototype,r=Object.prototype,o=Function.prototype,u=String.prototype,h=c.slice,d=r.toString,f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}}()?function(t,e,n,i){!i&&e in t||Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(t,e,n,i){!i&&e in t||(t[e]=n)};function p(){}i(o,{bind:function(e){var n=this;if(!s(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i=h.call(arguments,1),t=Math.max(0,n.length-i.length),r=[],o=0;o<t;o++)r.push("$"+o);var a=Function("binder","return function ("+r.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof a){var t=n.apply(this,i.concat(h.call(arguments)));return Object(t)===t?t:this}return n.apply(e,i.concat(h.call(arguments)))});return n.prototype&&(p.prototype=n.prototype,a.prototype=new p,p.prototype=null),a}}),i(Array,{isArray:function(t){return"[object Array]"===d.call(t)}});var g,m,y,v=Object("a"),x="a"!==v[0]||!(0 in v);i(c,{forEach:function(t){var e=l(this),n=x&&a(this)?this.split(""):e,i=arguments[1],r=-1,o=n.length>>>0;if(!s(t))throw new TypeError;for(;++r<o;)r in n&&t.call(i,n[r],r,e)}},(g=c.forEach,y=m=!0,g&&(g.call("foo",function(t,e,n){"object"!=typeof n&&(m=!1)}),g.call([1],function(){y="string"==typeof this},"x")),!(!!g&&m&&y)));o=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);i(c,{indexOf:function(t){var e=x&&a(this)?this.split(""):l(this),n=e.length>>>0;if(!n)return-1;var i,r=0;for(1<arguments.length&&((i=+(i=arguments[1]))!=i?i=0:0!==i&&i!==1/0&&i!==-1/0&&(i=(0<i||-1)*Math.floor(Math.abs(i))),r=i),r=0<=r?r:Math.max(0,n+r);r<n;r++)if(r in e&&e[r]===t)return r;return-1}},o);var _,b=u.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||1<".".split(/()()/).length?(_=void 0===/()??/.exec("")[1],u.split=function(t,e){var n=this;if(void 0===t&&0===e)return[];if("[object RegExp]"!==d.call(t))return b.call(this,t,e);var i,r,o,a,s=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),u=0;for(t=new RegExp(t.source,l+"g"),n+="",_||(i=new RegExp("^"+t.source+"$(?!\\s)",l)),e=void 0===e?-1>>>0:e>>>0;(r=t.exec(n))&&!(u<(o=r.index+r[0].length)&&(s.push(n.slice(u,r.index)),!_&&1<r.length&&r[0].replace(i,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(r[t]=void 0)}),1<r.length&&r.index<n.length&&c.push.apply(s,r.slice(1)),a=r[0].length,u=o,s.length>=e));)t.lastIndex===r.index&&t.lastIndex++;return u===n.length?!a&&t.test("")||s.push(""):s.push(n.slice(u)),s.length>e?s.slice(0,e):s}):"0".split(void 0,0).length&&(u.split=function(t,e){return void 0===t&&0===e?[]:b.call(this,t,e)});var v="\t\n\v\f\r \u2028\u2029\ufeff",o="["+v+"]",w=new RegExp("^"+o+o+"*"),M=new RegExp(o+o+"*$"),v=u.trim&&(v.trim()||!"".trim());i(u,{trim:function(){if(null==this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(w,"").replace(M,"")}},v);var A=u.substr,v="".substr&&"b"!=="0b".substr(-1);i(u,{substr:function(t,e){return A.call(this,t<0&&(t=this.length+t)<0?0:t,e)}},v)},{}],16:[function(t,e,n){"use strict";e.exports=[t("./transport/websocket"),t("./transport/xhr-streaming"),t("./transport/xdr-streaming"),t("./transport/eventsource"),t("./transport/lib/iframe-wrap")(t("./transport/eventsource")),t("./transport/htmlfile"),t("./transport/lib/iframe-wrap")(t("./transport/htmlfile")),t("./transport/xhr-polling"),t("./transport/xdr-polling"),t("./transport/lib/iframe-wrap")(t("./transport/xhr-polling")),t("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(r,h,t){!function(t,e){"use strict";var o=r("events").EventEmitter,n=r("inherits"),a=r("../../utils/event"),s=r("../../utils/url"),l=e.XMLHttpRequest,u=function(){};function c(t,e,n,i){u(t,e);var r=this;o.call(this),setTimeout(function(){r._start(t,e,n,i)},0)}"production"!==t.env.NODE_ENV&&(u=r("debug")("sockjs-client:browser:xhr")),n(c,o),c.prototype._start=function(t,e,n,i){var r=this;try{this.xhr=new l}catch(t){}if(!this.xhr)return u("no xhr"),this.emit("finish",0,"no xhr support"),void this._cleanup();e=s.addQuery(e,"t="+ +new Date),this.unloadRef=a.unloadAdd(function(){u("unload cleanup"),r._cleanup(!0)});try{this.xhr.open(t,e,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){u("xhr timeout"),r.emit("finish",0,""),r._cleanup(!1)})}catch(t){return u("exception",t),this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!c.supportsCORS||(u("withCredentials"),this.xhr.withCredentials="true"),i&&i.headers)for(var o in i.headers)this.xhr.setRequestHeader(o,i.headers[o]);this.xhr.onreadystatechange=function(){if(r.xhr){var t,e,n=r.xhr;switch(u("readyState",n.readyState),n.readyState){case 3:try{e=n.status,t=n.responseText}catch(t){}u("status",e),200===(e=1223===e?204:e)&&t&&0<t.length&&(u("chunk"),r.emit("chunk",e,t));break;case 4:e=n.status,u("status",e),u("finish",e=12005===(e=1223===e?204:e)||12029===e?0:e,n.responseText),r.emit("finish",e,n.responseText),r._cleanup(!1)}}};try{r.xhr.send(n)}catch(t){r.emit("finish",0,""),r._cleanup(!1)}},c.prototype._cleanup=function(t){if(u("cleanup"),this.xhr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),t)try{this.xhr.abort()}catch(t){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){u("close"),this._cleanup(!0)},c.enabled=!!l;var i=["Active"].concat("Object").join("X");!c.enabled&&i in e&&(u("overriding xmlhttprequest"),l=function(){try{return new e[i]("Microsoft.XMLHTTP")}catch(t){return null}},c.enabled=!!new l);n=!1;try{n="withCredentials"in new l}catch(t){}c.supportsCORS=n,h.exports=c}.call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:54,events:3,inherits:57}],18:[function(t,e,n){!function(t){e.exports=t.EventSource}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(t,n,e){!function(t){"use strict";var e=t.WebSocket||t.MozWebSocket;e&&(n.exports=function(t){return new e(t)})}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./lib/ajax-based"),o=t("./receiver/eventsource"),a=t("./sender/xhr-cors"),s=t("eventsource");function l(t){if(!l.enabled())throw new Error("Transport created when disabled");r.call(this,t,"/eventsource",o,a)}i(l,r),l.enabled=function(){return!!s},l.transportName="eventsource",l.roundTrips=2,e.exports=l},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:57}],21:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./receiver/htmlfile"),o=t("./sender/xhr-local"),a=t("./lib/ajax-based");function s(t){if(!r.enabled)throw new Error("Transport created when disabled");a.call(this,t,"/htmlfile",r,o)}i(s,a),s.enabled=function(t){return r.enabled&&t.sameOrigin},s.transportName="htmlfile",s.roundTrips=2,e.exports=s},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:57}],22:[function(n,d,t){!function(t){"use strict";var e=n("inherits"),i=n("json3"),r=n("events").EventEmitter,o=n("../version"),a=n("../utils/url"),s=n("../utils/iframe"),l=n("../utils/event"),u=n("../utils/random"),c=function(){};function h(t,e,n){if(!h.enabled())throw new Error("Transport created when disabled");r.call(this);var i=this;this.origin=a.getOrigin(n),this.baseUrl=n,this.transUrl=e,this.transport=t,this.windowId=u.string(8);n=a.addPath(n,"/iframe.html")+"#"+this.windowId;c(t,e,n),this.iframeObj=s.createIframe(n,function(t){c("err callback"),i.emit("close",1006,"Unable to load an iframe ("+t+")"),i.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}"production"!==t.env.NODE_ENV&&(c=n("debug")("sockjs-client:transport:iframe")),e(h,r),h.prototype.close=function(){if(c("close"),this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(t){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},h.prototype._message=function(e){if(c("message",e.data),a.isOriginEqual(e.origin,this.origin)){var n,t;try{n=i.parse(e.data)}catch(t){return void c("bad json",e.data)}if(n.windowId===this.windowId)switch(n.type){case"s":this.iframeObj.loaded(),this.postMessage("s",i.stringify([o,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",n.data);break;case"c":try{t=i.parse(n.data)}catch(t){return void c("bad json",n.data)}this.emit("close",t[0],t[1]),this.close()}else c("mismatched window id",n.windowId,this.windowId)}else c("not same origin",e.origin,this.origin)},h.prototype.postMessage=function(t,e){c("postMessage",t,e),this.iframeObj.post(i.stringify({windowId:this.windowId,type:t,data:e||""}),this.origin)},h.prototype.send=function(t){c("send",t),this.postMessage("m",t)},h.enabled=function(){return s.iframeEnabled},h.transportName="iframe",h.roundTrips=2,d.exports=h}.call(this,{env:{}})},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:54,events:3,inherits:57,json3:58}],23:[function(a,s,t){!function(t){"use strict";var e=a("inherits"),n=a("./lib/sender-receiver"),i=a("./receiver/jsonp"),r=a("./sender/jsonp");function o(t){if(!o.enabled())throw new Error("Transport created when disabled");n.call(this,t,"/jsonp",r,i)}e(o,n),o.enabled=function(){return!!t.document},o.transportName="jsonp-polling",o.roundTrips=1,o.needBody=!0,s.exports=o}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:57}],24:[function(i,o,t){!function(t){"use strict";var e=i("inherits"),a=i("../../utils/url"),r=i("./sender-receiver"),s=function(){};function n(t,e,n,i){var o;r.call(this,t,e,function(t,e,n){s("create ajax sender",t,e);var i={};"string"==typeof e&&(i.headers={"Content-type":"text/plain"});var t=a.addPath(t,"/xhr_send"),r=new o("POST",t,e,i);return r.once("finish",function(t){return s("finish",t),r=null,200!==t&&204!==t?n(new Error("http status "+t)):void n()}),function(){s("abort"),r.close(),r=null;var t=new Error("Aborted");t.code=1e3,n(t)}},n,o=i)}"production"!==t.env.NODE_ENV&&(s=i("debug")("sockjs-client:ajax-based")),e(n,r),o.exports=n}.call(this,{env:{}})},{"../../utils/url":52,"./sender-receiver":28,debug:54,inherits:57}],25:[function(o,a,t){!function(t){"use strict";var e=o("inherits"),n=o("events").EventEmitter,i=function(){};function r(t,e){i(t),n.call(this),this.sendBuffer=[],this.sender=e,this.url=t}"production"!==t.env.NODE_ENV&&(i=o("debug")("sockjs-client:buffered-sender")),e(r,n),r.prototype.send=function(t){i("send",t),this.sendBuffer.push(t),this.sendStop||this.sendSchedule()},r.prototype.sendScheduleWait=function(){i("sendScheduleWait");var t,e=this;this.sendStop=function(){i("sendStop"),e.sendStop=null,clearTimeout(t)},t=setTimeout(function(){i("timeout"),e.sendStop=null,e.sendSchedule()},25)},r.prototype.sendSchedule=function(){i("sendSchedule",this.sendBuffer.length);var t,e=this;0<this.sendBuffer.length&&(t="["+this.sendBuffer.join(",")+"]",this.sendStop=this.sender(this.url,t,function(t){e.sendStop=null,t?(i("error",t),e.emit("close",t.code||1006,"Sending error: "+t),e._cleanup()):e.sendScheduleWait()}),this.sendBuffer=[])},r.prototype._cleanup=function(){i("_cleanup"),this.removeAllListeners()},r.prototype.stop=function(){i("stop"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},a.exports=r}.call(this,{env:{}})},{debug:54,events:3,inherits:57}],26:[function(t,n,e){!function(i){"use strict";var e=t("inherits"),r=t("../iframe"),o=t("../../utils/object");n.exports=function(n){function t(t,e){r.call(this,n.transportName,t,e)}return e(t,r),t.enabled=function(t,e){if(!i.document)return!1;e=o.extend({},e);return e.sameOrigin=!0,n.enabled(e)&&r.enabled()},t.transportName="iframe-"+n.transportName,t.needBody=!0,t.roundTrips=r.roundTrips+n.roundTrips-1,t.facadeTransport=n,t}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:57}],27:[function(o,a,t){!function(t){"use strict";var e=o("inherits"),i=o("events").EventEmitter,r=function(){};function n(t,e,n){r(e),i.call(this),this.Receiver=t,this.receiveUrl=e,this.AjaxObject=n,this._scheduleReceiver()}"production"!==t.env.NODE_ENV&&(r=o("debug")("sockjs-client:polling")),e(n,i),n.prototype._scheduleReceiver=function(){r("_scheduleReceiver");var n=this,i=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);i.on("message",function(t){r("message",t),n.emit("message",t)}),i.once("close",function(t,e){r("close",t,e,n.pollIsClosing),n.poll=i=null,n.pollIsClosing||("network"===e?n._scheduleReceiver():(n.emit("close",t||1006,e),n.removeAllListeners()))})},n.prototype.abort=function(){r("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},a.exports=n}.call(this,{env:{}})},{debug:54,events:3,inherits:57}],28:[function(i,r,t){!function(t){"use strict";var e=i("inherits"),a=i("../../utils/url"),s=i("./buffered-sender"),l=i("./polling"),u=function(){};function n(t,e,n,i,r){e=a.addPath(t,e);u(e);var o=this;s.call(this,t,n),this.poll=new l(i,e,r),this.poll.on("message",function(t){u("poll message",t),o.emit("message",t)}),this.poll.once("close",function(t,e){u("poll close",t,e),o.poll=null,o.emit("close",t,e),o.close()})}"production"!==t.env.NODE_ENV&&(u=i("debug")("sockjs-client:sender-receiver")),e(n,s),n.prototype.close=function(){u("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null),this.stop()},r.exports=n}.call(this,{env:{}})},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:54,inherits:57}],29:[function(a,s,t){!function(t){"use strict";var e=a("inherits"),i=a("events").EventEmitter,r=a("eventsource"),o=function(){};function n(t){o(t),i.call(this);var e=this,n=this.es=new r(t);n.onmessage=function(t){o("message",t.data),e.emit("message",decodeURI(t.data))},n.onerror=function(t){o("error",n.readyState,t);t=2!==n.readyState?"network":"permanent";e._cleanup(),e._close(t)}}"production"!==t.env.NODE_ENV&&(o=a("debug")("sockjs-client:receiver:eventsource")),e(n,i),n.prototype.abort=function(){o("abort"),this._cleanup(),this._close("user")},n.prototype._cleanup=function(){o("cleanup");var t=this.es;t&&(t.onmessage=t.onerror=null,t.close(),this.es=null)},n.prototype._close=function(t){o("close",t);var e=this;setTimeout(function(){e.emit("close",null,t),e.removeAllListeners()},200)},s.exports=n}.call(this,{env:{}})},{debug:54,events:3,eventsource:18,inherits:57}],30:[function(n,c,t){!function(t,i){"use strict";var e=n("inherits"),r=n("../../utils/iframe"),o=n("../../utils/url"),a=n("events").EventEmitter,s=n("../../utils/random"),l=function(){};function u(t){l(t),a.call(this);var e=this;r.polluteGlobalNamespace(),this.id="a"+s.string(6),t=o.addQuery(t,"c="+decodeURIComponent(r.WPrefix+"."+this.id)),l("using htmlfile",u.htmlfileEnabled);var n=u.htmlfileEnabled?r.createHtmlfile:r.createIframe;i[r.WPrefix][this.id]={start:function(){l("start"),e.iframeObj.loaded()},message:function(t){l("message",t),e.emit("message",t)},stop:function(){l("stop"),e._cleanup(),e._close("network")}},this.iframeObj=n(t,function(){l("callback"),e._cleanup(),e._close("permanent")})}"production"!==t.env.NODE_ENV&&(l=n("debug")("sockjs-client:receiver:htmlfile")),e(u,a),u.prototype.abort=function(){l("abort"),this._cleanup(),this._close("user")},u.prototype._cleanup=function(){l("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete i[r.WPrefix][this.id]},u.prototype._close=function(t){l("_close",t),this.emit("close",null,t),this.removeAllListeners()},u.htmlfileEnabled=!1;e=["Active"].concat("Object").join("X");if(e in i)try{u.htmlfileEnabled=!!new i[e]("htmlfile")}catch(t){}u.enabled=u.htmlfileEnabled||r.iframeEnabled,c.exports=u}.call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:54,events:3,inherits:57}],31:[function(c,h,t){!function(t,r){"use strict";var n=c("../../utils/iframe"),o=c("../../utils/random"),a=c("../../utils/browser"),i=c("../../utils/url"),e=c("inherits"),s=c("events").EventEmitter,l=function(){};function u(t){l(t);var e=this;s.call(this),n.polluteGlobalNamespace(),this.id="a"+o.string(6);t=i.addQuery(t,"c="+encodeURIComponent(n.WPrefix+"."+this.id));r[n.WPrefix][this.id]=this._callback.bind(this),this._createScript(t),this.timeoutId=setTimeout(function(){l("timeout"),e._abort(new Error("JSONP script loaded abnormally (timeout)"))},u.timeout)}"production"!==t.env.NODE_ENV&&(l=c("debug")("sockjs-client:receiver:jsonp")),e(u,s),u.prototype.abort=function(){var t;l("abort"),r[n.WPrefix][this.id]&&((t=new Error("JSONP user aborted read")).code=1e3,this._abort(t))},u.timeout=35e3,u.scriptErrorTimeout=1e3,u.prototype._callback=function(t){l("_callback",t),this._cleanup(),this.aborting||(t&&(l("message",t),this.emit("message",t)),this.emit("close",null,"network"),this.removeAllListeners())},u.prototype._abort=function(t){l("_abort",t),this._cleanup(),this.aborting=!0,this.emit("close",t.code,t.message),this.removeAllListeners()},u.prototype._cleanup=function(){var t;l("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script&&((t=this.script).parentNode.removeChild(t),t.onreadystatechange=t.onerror=t.onload=t.onclick=null,this.script=null),delete r[n.WPrefix][this.id]},u.prototype._scriptError=function(){l("_scriptError");var t=this;this.errorTimer||(this.errorTimer=setTimeout(function(){t.loadedOkay||t._abort(new Error("JSONP script loaded abnormally (onerror)"))},u.scriptErrorTimeout))},u.prototype._createScript=function(t){l("_createScript",t);var e,n=this,i=this.script=r.document.createElement("script");if(i.id="a"+o.string(8),i.src=t,i.type="text/javascript",i.charset="UTF-8",i.onerror=this._scriptError.bind(this),i.onload=function(){l("onload"),n._abort(new Error("JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(){if(l("onreadystatechange",i.readyState),/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){n.loadedOkay=!0;try{i.onclick()}catch(t){}}i&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===i.async&&r.document.attachEvent)if(a.isOpera())(e=this.script2=r.document.createElement("script")).text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=e.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(t){}i.async=!0}void 0!==i.async&&(i.async=!0);t=r.document.getElementsByTagName("head")[0];t.insertBefore(i,t.firstChild),e&&t.insertBefore(e,t.firstChild)},h.exports=u}.call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:54,events:3,inherits:57}],32:[function(o,a,t){!function(t){"use strict";var e=o("inherits"),i=o("events").EventEmitter,r=function(){};function n(t,e){r(t),i.call(this);var n=this;this.bufferPosition=0,this.xo=new e("POST",t,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(t,e){r("finish",t,e),n._chunkHandler(t,e),n.xo=null;t=200===t?"network":"permanent";r("close",t),n.emit("close",null,t),n._cleanup()})}"production"!==t.env.NODE_ENV&&(r=o("debug")("sockjs-client:receiver:xhr")),e(n,i),n.prototype._chunkHandler=function(t,e){if(r("_chunkHandler",t),200===t&&e)for(var n=-1;;this.bufferPosition+=n+1){var i=e.slice(this.bufferPosition);if(-1===(n=i.indexOf("\n")))break;i=i.slice(0,n);i&&(r("message",i),this.emit("message",i))}},n.prototype._cleanup=function(){r("_cleanup"),this.removeAllListeners()},n.prototype.abort=function(){r("abort"),this.xo&&(this.xo.close(),r("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},a.exports=n}.call(this,{env:{}})},{debug:54,events:3,inherits:57}],33:[function(e,n,t){!function(t,a){"use strict";var s,l,u=e("../../utils/random"),c=e("../../utils/url"),h=function(){};"production"!==t.env.NODE_ENV&&(h=e("debug")("sockjs-client:sender:jsonp")),n.exports=function(t,e,n){h(t,e),s||(h("createForm"),(s=a.document.createElement("form")).style.display="none",s.style.position="absolute",s.method="POST",s.enctype="application/x-www-form-urlencoded",s.acceptCharset="UTF-8",(l=a.document.createElement("textarea")).name="d",s.appendChild(l),a.document.body.appendChild(s));var i="a"+u.string(8);s.target=i,s.action=c.addQuery(c.addPath(t,"/jsonp_send"),"i="+i);var r=function(e){h("createIframe",e);try{return a.document.createElement('<iframe name="'+e+'">')}catch(t){var n=a.document.createElement("iframe");return n.name=e,n}}(i);r.id=i,r.style.display="none",s.appendChild(r);try{l.value=e}catch(t){}s.submit();function o(t){h("completed",i,t),r.onerror&&(r.onreadystatechange=r.onerror=r.onload=null,setTimeout(function(){h("cleaning up",i),r.parentNode.removeChild(r),r=null},500),l.value="",n(t))}return r.onerror=function(){h("onerror",i),o()},r.onload=function(){h("onload",i),o()},r.onreadystatechange=function(t){h("onreadystatechange",i,r.readyState,t),"complete"===r.readyState&&o()},function(){h("aborted",i),o(new Error("Aborted"))}}}.call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:54}],34:[function(u,c,t){!function(t,o){"use strict";var r=u("events").EventEmitter,e=u("inherits"),a=u("../../utils/event"),n=u("../../utils/browser"),s=u("../../utils/url"),l=function(){};function i(t,e,n){l(t,e);var i=this;r.call(this),setTimeout(function(){i._start(t,e,n)},0)}"production"!==t.env.NODE_ENV&&(l=u("debug")("sockjs-client:sender:xdr")),e(i,r),i.prototype._start=function(t,e,n){l("_start");var i=this,r=new o.XDomainRequest;e=s.addQuery(e,"t="+ +new Date),r.onerror=function(){l("onerror"),i._error()},r.ontimeout=function(){l("ontimeout"),i._error()},r.onprogress=function(){l("progress",r.responseText),i.emit("chunk",200,r.responseText)},r.onload=function(){l("load"),i.emit("finish",200,r.responseText),i._cleanup(!1)},this.xdr=r,this.unloadRef=a.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(t,e),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(t){this._error()}},i.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},i.prototype._cleanup=function(t){if(l("cleanup",t),this.xdr){if(this.removeAllListeners(),a.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,t)try{this.xdr.abort()}catch(t){}this.unloadRef=this.xdr=null}},i.prototype.close=function(){l("close"),this._cleanup(!0)},i.enabled=!(!o.XDomainRequest||!n.hasDomain()),c.exports=i}.call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:54,events:3,inherits:57}],35:[function(t,e,n){"use strict";var i=t("inherits"),r=t("../driver/xhr");function o(t,e,n,i){r.call(this,t,e,n,i)}i(o,r),o.enabled=r.enabled&&r.supportsCORS,e.exports=o},{"../driver/xhr":17,inherits:57}],36:[function(t,e,n){"use strict";var i=t("events").EventEmitter;function r(){var t=this;i.call(this),this.to=setTimeout(function(){t.emit("finish",200,"{}")},r.timeout)}t("inherits")(r,i),r.prototype.close=function(){clearTimeout(this.to)},r.timeout=2e3,e.exports=r},{events:3,inherits:57}],37:[function(t,e,n){"use strict";var i=t("inherits"),r=t("../driver/xhr");function o(t,e,n){r.call(this,t,e,n,{noCredentials:!0})}i(o,r),o.enabled=r.enabled,e.exports=o},{"../driver/xhr":17,inherits:57}],38:[function(n,i,t){!function(t){"use strict";var r=n("../utils/event"),o=n("../utils/url"),e=n("inherits"),a=n("events").EventEmitter,s=n("./driver/websocket"),l=function(){};function u(t,e,n){if(!u.enabled())throw new Error("Transport created when disabled");a.call(this),l("constructor",t);var i=this,t="https"===(t=o.addPath(t,"/websocket")).slice(0,5)?"wss"+t.slice(5):"ws"+t.slice(4);this.url=t,this.ws=new s(this.url,[],n),this.ws.onmessage=function(t){l("message event",t.data),i.emit("message",t.data)},this.unloadRef=r.unloadAdd(function(){l("unload"),i.ws.close()}),this.ws.onclose=function(t){l("close event",t.code,t.reason),i.emit("close",t.code,t.reason),i._cleanup()},this.ws.onerror=function(t){l("error event",t),i.emit("close",1006,"WebSocket connection broken"),i._cleanup()}}"production"!==t.env.NODE_ENV&&(l=n("debug")("sockjs-client:websocket")),e(u,a),u.prototype.send=function(t){t="["+t+"]";l("send",t),this.ws.send(t)},u.prototype.close=function(){l("close"),this.ws&&this.ws.close(),this._cleanup()},u.prototype._cleanup=function(){l("_cleanup");var t=this.ws;t&&(t.onmessage=t.onclose=t.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},u.enabled=function(){return l("enabled"),!!s},u.transportName="websocket",u.roundTrips=2,i.exports=u}.call(this,{env:{}})},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:54,events:3,inherits:57}],39:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./lib/ajax-based"),o=t("./xdr-streaming"),a=t("./receiver/xhr"),s=t("./sender/xdr");function l(t){if(!s.enabled)throw new Error("Transport created when disabled");r.call(this,t,"/xhr",a,s)}i(l,r),l.enabled=o.enabled,l.transportName="xdr-polling",l.roundTrips=2,e.exports=l},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:57}],40:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./lib/ajax-based"),o=t("./receiver/xhr"),a=t("./sender/xdr");function s(t){if(!a.enabled)throw new Error("Transport created when disabled");r.call(this,t,"/xhr_streaming",o,a)}i(s,r),s.enabled=function(t){return!t.cookie_needed&&!t.nullOrigin&&(a.enabled&&t.sameScheme)},s.transportName="xdr-streaming",s.roundTrips=2,e.exports=s},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:57}],41:[function(t,e,n){"use strict";var i=t("inherits"),r=t("./lib/ajax-based"),o=t("./receiver/xhr"),a=t("./sender/xhr-cors"),s=t("./sender/xhr-local");function l(t){if(!s.enabled&&!a.enabled)throw new Error("Transport created when disabled");r.call(this,t,"/xhr",o,a)}i(l,r),l.enabled=function(t){return!t.nullOrigin&&(!(!s.enabled||!t.sameOrigin)||a.enabled)},l.transportName="xhr-polling",l.roundTrips=2,e.exports=l},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],42:[function(l,u,t){!function(t){"use strict";var e=l("inherits"),n=l("./lib/ajax-based"),i=l("./receiver/xhr"),r=l("./sender/xhr-cors"),o=l("./sender/xhr-local"),a=l("../utils/browser");function s(t){if(!o.enabled&&!r.enabled)throw new Error("Transport created when disabled");n.call(this,t,"/xhr_streaming",i,r)}e(s,n),s.enabled=function(t){return!t.nullOrigin&&(!a.isOpera()&&r.enabled)},s.transportName="xhr-streaming",s.roundTrips=2,s.needBody=!!t.document,u.exports=s}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:57}],43:[function(t,n,e){!function(e){"use strict";e.crypto&&e.crypto.getRandomValues?n.exports.randomBytes=function(t){t=new Uint8Array(t);return e.crypto.getRandomValues(t),t}:n.exports.randomBytes=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=Math.floor(256*Math.random());return e}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(t,e,n){!function(t){"use strict";e.exports={isOpera:function(){return t.navigator&&/opera/i.test(t.navigator.userAgent)},isKonqueror:function(){return t.navigator&&/konqueror/i.test(t.navigator.userAgent)},hasDomain:function(){if(!t.document)return!0;try{return!!t.document.domain}catch(t){return!1}}}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(t,e,n){"use strict";var i,r=t("json3"),o=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;e.exports={quote:function(t){t=r.stringify(t);return o.lastIndex=0,o.test(t)?(i=i||function(t){for(var e={},n=[],i=0;i<65536;i++)n.push(String.fromCharCode(i));return t.lastIndex=0,n.join("").replace(t,function(t){return e[t]="\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4),""}),t.lastIndex=0,e}(o),t.replace(o,function(t){return i[t]})):t}}},{json3:58}],46:[function(t,e,n){!function(n){"use strict";var i=t("./random"),r={},o=!1,a=n.chrome&&n.chrome.app&&n.chrome.app.runtime;e.exports={attachEvent:function(t,e){void 0!==n.addEventListener?n.addEventListener(t,e,!1):n.document&&n.attachEvent&&(n.document.attachEvent("on"+t,e),n.attachEvent("on"+t,e))},detachEvent:function(t,e){void 0!==n.addEventListener?n.removeEventListener(t,e,!1):n.document&&n.detachEvent&&(n.document.detachEvent("on"+t,e),n.detachEvent("on"+t,e))},unloadAdd:function(t){if(a)return null;var e=i.string(8);return r[e]=t,o&&setTimeout(this.triggerUnloadCallbacks,0),e},unloadDel:function(t){t in r&&delete r[t]},triggerUnloadCallbacks:function(){for(var t in r)r[t](),delete r[t]}};a||e.exports.attachEvent("unload",function(){o||(o=!0,e.exports.triggerUnloadCallbacks())})}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(i,f,t){!function(t,c){"use strict";var h=i("./event"),n=i("json3"),e=i("./browser"),d=function(){};"production"!==t.env.NODE_ENV&&(d=i("debug")("sockjs-client:utils:iframe")),f.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){f.exports.WPrefix in c||(c[f.exports.WPrefix]={})},postMessage:function(t,e){c.parent!==c?c.parent.postMessage(n.stringify({windowId:f.exports.currentWindowId,type:t,data:e||""}),"*"):d("Cannot postMessage, no parent window.",t,e)},createIframe:function(t,e){function n(){d("cleanup"),a&&(s(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),h.unloadDel(o))}function i(t){d("onerror",t),a&&(n(),e(t))}var r,o,a=c.document.createElement("iframe"),s=function(){d("unattach"),clearTimeout(r);try{a.onload=null}catch(t){}a.onerror=null};return a.src=t,a.style.display="none",a.style.position="absolute",a.onerror=function(){i("onerror")},a.onload=function(){d("onload"),clearTimeout(r),r=setTimeout(function(){i("onload timeout")},2e3)},c.document.body.appendChild(a),r=setTimeout(function(){i("timeout")},15e3),o=h.unloadAdd(n),{post:function(t,e){d("post",t,e);try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(t,e)},0)}catch(t){}},cleanup:n,loaded:s}},createHtmlfile:function(t,e){function n(){l&&(u(),h.unloadDel(o),a.parentNode.removeChild(a),a=l=null,CollectGarbage())}function i(t){d("onerror",t),l&&(n(),e(t))}var r,o,a,s=["Active"].concat("Object").join("X"),l=new c[s]("htmlfile"),u=function(){clearTimeout(r),a.onerror=null};l.open(),l.write('<html><script>document.domain="'+c.document.domain+'";<\/script></html>'),l.close(),l.parentWindow[f.exports.WPrefix]=c[f.exports.WPrefix];s=l.createElement("div");return l.body.appendChild(s),a=l.createElement("iframe"),s.appendChild(a),a.src=t,a.onerror=function(){i("onerror")},r=setTimeout(function(){i("timeout")},15e3),o=h.unloadAdd(n),{post:function(t,e){try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(t,e)},0)}catch(t){}},cleanup:n,loaded:u}}},f.exports.iframeEnabled=!1,c.document&&(f.exports.iframeEnabled=("function"==typeof c.postMessage||"object"==typeof c.postMessage)&&!e.isKonqueror())}.call(this,{env:{}},"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:54,json3:58}],48:[function(t,e,n){!function(n){"use strict";var i={};["log","debug","warn"].forEach(function(t){var e;try{e=n.console&&n.console[t]&&n.console[t].apply}catch(t){}i[t]=e?function(){return n.console[t].apply(n.console,arguments)}:"log"===t?function(){}:i.log}),e.exports=i}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(t,e,n){"use strict";e.exports={isObject:function(t){var e=typeof t;return"function"==e||"object"==e&&!!t},extend:function(t){if(!this.isObject(t))return t;for(var e,n,i=1,r=arguments.length;i<r;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}}},{}],50:[function(t,e,n){"use strict";var o=t("crypto"),a="abcdefghijklmnopqrstuvwxyz012345";e.exports={string:function(t){for(var e=a.length,n=o.randomBytes(t),i=[],r=0;r<t;r++)i.push(a.substr(n[r]%e,1));return i.join("")},number:function(t){return Math.floor(Math.random()*t)},numberString:function(t){var e=(""+(t-1)).length;return(new Array(e+1).join("0")+this.number(t)).slice(-e)}}},{crypto:43}],51:[function(e,n,t){!function(t){"use strict";var r=function(){};"production"!==t.env.NODE_ENV&&(r=e("debug")("sockjs-client:utils:transport")),n.exports=function(t){return{filterToEnabled:function(e,n){var i={main:[],facade:[]};return e?"string"==typeof e&&(e=[e]):e=[],t.forEach(function(t){t&&("websocket"!==t.transportName||!1!==n.websocket?e.length&&-1===e.indexOf(t.transportName)?r("not in whitelist",t.transportName):t.enabled(n)?(r("enabled",t.transportName),i.main.push(t),t.facadeTransport&&i.facade.push(t.facadeTransport)):r("disabled",t.transportName):r("disabled from server","websocket"))}),i}}}}.call(this,{env:{}})},{debug:54}],52:[function(e,r,t){!function(t){"use strict";var n=e("url-parse"),i=function(){};"production"!==t.env.NODE_ENV&&(i=e("debug")("sockjs-client:utils:url")),r.exports={getOrigin:function(t){if(!t)return null;var e=new n(t);if("file:"===e.protocol)return null;t=(t=e.port)||("https:"===e.protocol?"443":"80");return e.protocol+"//"+e.hostname+":"+t},isOriginEqual:function(t,e){var n=this.getOrigin(t)===this.getOrigin(e);return i("same",t,e,n),n},isSchemeEqual:function(t,e){return t.split(":")[0]===e.split(":")[0]},addPath:function(t,e){t=t.split("?");return t[0]+e+(t[1]?"?"+t[1]:"")},addQuery:function(t,e){return t+(-1===t.indexOf("?")?"?"+e:"&"+e)}}}.call(this,{env:{}})},{debug:54,"url-parse":59}],53:[function(t,e,n){e.exports="1.1.1"},{}],54:[function(t,e,r){function n(){var t;try{t=r.storage.debug}catch(t){}return t}(r=e.exports=t("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},r.formatArgs=function(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+r.humanize(this.diff),!e)return t;e="color: "+this.color;t=[t[0],e,"color: inherit"].concat(Array.prototype.slice.call(t,1));var n=0,i=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(n++,"%c"===t&&(i=n))}),t.splice(i,0,e),t},r.save=function(t){try{null==t?r.storage.removeItem("debug"):r.storage.debug=t}catch(t){}},r.load=n,r.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)},r.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(t){}}(),r.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],r.formatters.j=function(t){return JSON.stringify(t)},r.enable(n())},{"./debug":55}],55:[function(t,e,a){(a=e.exports=function(t){function e(){}function n(){var i=n,t=+new Date,e=t-(s||t);i.diff=e,i.prev=s,i.curr=t,s=t,null==i.useColors&&(i.useColors=a.useColors()),null==i.color&&i.useColors&&(i.color=a.colors[l++%a.colors.length]);var r=Array.prototype.slice.call(arguments);r[0]=a.coerce(r[0]),"string"!=typeof r[0]&&(r=["%o"].concat(r));var o=0;r[0]=r[0].replace(/%([a-z%])/g,function(t,e){if("%%"===t)return t;o++;var n=a.formatters[e];return"function"==typeof n&&(e=r[o],t=n.call(i,e),r.splice(o,1),o--),t}),"function"==typeof a.formatArgs&&(r=a.formatArgs.apply(i,r)),(n.log||a.log||console.log.bind(console)).apply(i,r)}e.enabled=!1,n.enabled=!0;var i=a.enabled(t)?n:e;return i.namespace=t,i}).coerce=function(t){return t instanceof Error?t.stack||t.message:t},a.disable=function(){a.enable("")},a.enable=function(t){a.save(t);for(var e=(t||"").split(/[\s,]+/),n=e.length,i=0;i<n;i++)e[i]&&("-"===(t=e[i].replace(/\*/g,".*?"))[0]?a.skips.push(new RegExp("^"+t.substr(1)+"$")):a.names.push(new RegExp("^"+t+"$")))},a.enabled=function(t){var e,n;for(e=0,n=a.skips.length;e<n;e++)if(a.skips[e].test(t))return!1;for(e=0,n=a.names.length;e<n;e++)if(a.names[e].test(t))return!0;return!1},a.humanize=t("ms"),a.names=[],a.skips=[],a.formatters={};var s,l=0},{ms:56}],56:[function(t,e,n){function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}e.exports=function(t,e){return e=e||{},"string"==typeof t?function(t){if(!(1e4<(t=""+t).length)){t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(t){var e=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*e;case"days":case"day":case"d":return 864e5*e;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*e;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*e;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e}}}}(t):e.long?i(e=t,864e5,"day")||i(e,36e5,"hour")||i(e,6e4,"minute")||i(e,1e3,"second")||e+" ms":864e5<=(t=t)?Math.round(t/864e5)+"d":36e5<=t?Math.round(t/36e5)+"h":6e4<=t?Math.round(t/6e4)+"m":1e3<=t?Math.round(t/1e3)+"s":t+"ms"}},{}],57:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;function n(){}n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],58:[function(t,s,l){!function(a){!function(){var t,e,n,i,Y={function:!0,object:!0},r=Y[typeof l]&&l&&!l.nodeType&&l,R=Y[typeof window]&&window||this,o=r&&Y[typeof s]&&s&&!s.nodeType&&"object"==typeof a&&a;function B(t,s){t=t||R.Object(),s=s||R.Object();var l=t.Number||R.Number,u=t.String||R.String,e=t.Object||R.Object,c=t.Date||R.Date,n=t.SyntaxError||R.SyntaxError,b=t.TypeError||R.TypeError,i=t.Math||R.Math,t=t.JSON||R.JSON;"object"==typeof t&&t&&(s.stringify=t.stringify,s.parse=t.parse);var w,M,A,h,I,C,S,d,T,r,D,f,o,N,p,L,k,g,m,y,v,x,a,_,E,O,e=e.prototype,P=e.toString,z=new c(-0xc782b5b800cec);try{z=-109252==z.getUTCFullYear()&&0===z.getUTCMonth()&&1===z.getUTCDate()&&10==z.getUTCHours()&&37==z.getUTCMinutes()&&6==z.getUTCSeconds()&&708==z.getUTCMilliseconds()}catch(t){}function j(t){if(j[t]!==A)return j[t];var e;if("bug-string-char-index"==t)e="a"!="a"[0];else if("json"==t)e=j("json-stringify")&&j("json-parse");else{var n='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==t){var i=s.stringify,r="function"==typeof i&&z;if(r){(o=function(){return 1}).toJSON=o;try{r="0"===i(0)&&"0"===i(new l)&&'""'==i(new u)&&i(P)===A&&i(A)===A&&i()===A&&"1"===i(o)&&"[1]"==i([o])&&"[null]"==i([A])&&"null"==i(null)&&"[null,null,null]"==i([A,P,null])&&i({a:[o,!0,!1,null,"\0\b\n\f\r\t"]})==n&&"1"===i(null,o)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new c(-1))}catch(t){r=!1}}e=r}if("json-parse"==t){r=s.parse;if("function"==typeof r)try{if(0===r("0")&&!r(!1)){var o,a=5==(o=r(n)).a.length&&1===o.a[0];if(a){try{a=!r('"\t"')}catch(t){}if(a)try{a=1!==r("01")}catch(t){}if(a)try{a=1!==r("1.")}catch(t){}}}}catch(t){a=!1}e=a}}return j[t]=!!e}return j("json")||(h="[object Function]",I="[object Number]",C="[object String]",S="[object Array]",d=j("bug-string-char-index"),z||(T=i.floor,r=[0,31,59,90,120,151,181,212,243,273,304,334],D=function(t,e){return r[e]+365*(t-1970)+T((t-1969+(e=+(1<e)))/4)-T((t-1901+e)/100)+T((t-1601+e)/400)}),(w=e.hasOwnProperty)||(w=function(t){var n,e={__proto__:null};return e.__proto__={toString:1},w=e.toString!=P?function(t){var e=this.__proto__,t=t in(this.__proto__=null,this);return this.__proto__=e,t}:(n=e.constructor,function(t){var e=(this.constructor||n).prototype;return t in this&&!(t in e&&this[t]===e[t])}),e=null,w.call(this,t)}),M=function(t,e){var n,a,i,r=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,a=new n)w.call(a,i)&&r++;return a=null,(M=r?2==r?function(t,e){var n,i={},r=P.call(t)==h;for(n in t)r&&"prototype"==n||w.call(i,n)||!(i[n]=1)||!w.call(t,n)||e(n)}:function(t,e){var n,i,r=P.call(t)==h;for(n in t)r&&"prototype"==n||!w.call(t,n)||(i="constructor"===n)||e(n);(i||w.call(t,n="constructor"))&&e(n)}:(a=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],function(t,e){var n,i,r=P.call(t)==h,o=!r&&"function"!=typeof t.constructor&&Y[typeof t.hasOwnProperty]&&t.hasOwnProperty||w;for(n in t)r&&"prototype"==n||!o.call(t,n)||e(n);for(i=a.length;n=a[--i];o.call(t,n)&&e(n));}))(t,e)},j("json-stringify")||(f={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},o="000000",N=function(t,e){return(o+(e||0)).slice(-t)},p="\\u00",L=function(t){for(var e='"',n=0,i=t.length,r=!d||10<i,o=r&&(d?t.split(""):t);n<i;n++){var a=t.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:e+=f[a];break;default:if(a<32){e+=p+N(2,a.toString(16));break}e+=r?o[n]:t.charAt(n)}}return e+'"'},k=function(t,e,n,i,r,o,a){var s,l,u,c,h,d,f,p,g,m,y,v,x,_;try{s=e[t]}catch(t){}if("object"==typeof s&&s)if("[object Date]"!=(l=P.call(s))||w.call(s,"toJSON"))"function"==typeof s.toJSON&&(l!=I&&l!=C&&l!=S||w.call(s,"toJSON"))&&(s=s.toJSON(t));else if(-1/0<s&&s<1/0){if(D){for(h=T(s/864e5),u=T(h/365.2425)+1970-1;D(u+1,0)<=h;u++);for(c=T((h-D(u,0))/30.42);D(u,c+1)<=h;c++);h=1+h-D(u,c),d=T((g=(s%864e5+864e5)%864e5)/36e5)%24,f=T(g/6e4)%60,p=T(g/1e3)%60,g=g%1e3}else u=s.getUTCFullYear(),c=s.getUTCMonth(),h=s.getUTCDate(),d=s.getUTCHours(),f=s.getUTCMinutes(),p=s.getUTCSeconds(),g=s.getUTCMilliseconds();s=(u<=0||1e4<=u?(u<0?"-":"+")+N(6,u<0?-u:u):N(4,u))+"-"+N(2,c+1)+"-"+N(2,h)+"T"+N(2,d)+":"+N(2,f)+":"+N(2,p)+"."+N(3,g)+"Z"}else s=null;if(null===(s=n?n.call(e,t,s):s))return"null";if("[object Boolean]"==(l=P.call(s)))return""+s;if(l==I)return-1/0<s&&s<1/0?""+s:"null";if(l==C)return L(""+s);if("object"==typeof s){for(x=a.length;x--;)if(a[x]===s)throw b();if(a.push(s),m=[],t=o,o+=r,l==S){for(v=0,x=s.length;v<x;v++)y=k(v,s,n,i,r,o,a),m.push(y===A?"null":y);_=m.length?r?"[\n"+o+m.join(",\n"+o)+"\n"+t+"]":"["+m.join(",")+"]":"[]"}else M(i||s,function(t){var e=k(t,s,n,i,r,o,a);e!==A&&m.push(L(t)+":"+(r?" ":"")+e)}),_=m.length?r?"{\n"+o+m.join(",\n"+o)+"\n"+t+"}":"{"+m.join(",")+"}":"{}";return a.pop(),_}},s.stringify=function(t,e,n){var i,r,o;if(Y[typeof e]&&e)if((o=P.call(e))==h)r=e;else if(o==S)for(var a,s={},l=0,u=e.length;l<u;a=e[l++],(o=P.call(a))!=C&&o!=I||(s[a]=1));if(n)if((o=P.call(n))==I){if(0<(n-=n%1))for(i="",10<n&&(n=10);i.length<n;i+=" ");}else o==C&&(i=n.length<=10?n:n.slice(0,10));return k("",((a={})[""]=t,a),r,s,i,"",[])}),j("json-parse")||(g=u.fromCharCode,m={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},x=function(){throw y=v=null,n()},a=function(){for(var t,e,n,i,r,o=v,a=o.length;y<a;)switch(r=o.charCodeAt(y)){case 9:case 10:case 13:case 32:y++;break;case 123:case 125:case 91:case 93:case 58:case 44:return t=d?o.charAt(y):o[y],y++,t;case 34:for(t="@",y++;y<a;)if((r=o.charCodeAt(y))<32)x();else if(92==r)switch(r=o.charCodeAt(++y)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:t+=m[r],y++;break;case 117:for(e=++y,n=y+4;y<n;y++)48<=(r=o.charCodeAt(y))&&r<=57||97<=r&&r<=102||65<=r&&r<=70||x();t+=g("0x"+o.slice(e,y));break;default:x()}else{if(34==r)break;for(r=o.charCodeAt(y),e=y;32<=r&&92!=r&&34!=r;)r=o.charCodeAt(++y);t+=o.slice(e,y)}if(34==o.charCodeAt(y))return y++,t;x();default:if(e=y,45==r&&(i=!0,r=o.charCodeAt(++y)),48<=r&&r<=57){for(48==r&&(48<=(r=o.charCodeAt(y+1))&&r<=57)&&x(),i=!1;y<a&&(48<=(r=o.charCodeAt(y))&&r<=57);y++);if(46==o.charCodeAt(y)){for(n=++y;n<a&&(48<=(r=o.charCodeAt(n))&&r<=57);n++);n==y&&x(),y=n}if(101==(r=o.charCodeAt(y))||69==r){for(43!=(r=o.charCodeAt(++y))&&45!=r||y++,n=y;n<a&&(48<=(r=o.charCodeAt(n))&&r<=57);n++);n==y&&x(),y=n}return+o.slice(e,y)}if(i&&x(),"true"==o.slice(y,y+4))return y+=4,!0;if("false"==o.slice(y,y+5))return y+=5,!1;if("null"==o.slice(y,y+4))return y+=4,null;x()}return"$"},_=function(t){var e,n;if("$"==t&&x(),"string"==typeof t){if("@"==(d?t.charAt(0):t[0]))return t.slice(1);if("["==t){for(e=[];"]"!=(t=a());n=n||!0)!n||","==t&&"]"!=(t=a())||x(),","==t&&x(),e.push(_(t));return e}if("{"==t){for(e={};"}"!=(t=a());n=n||!0)!n||","==t&&"}"!=(t=a())||x(),","!=t&&"string"==typeof t&&"@"==(d?t.charAt(0):t[0])&&":"==a()||x(),e[t.slice(1)]=_(a());return e}x()}return t},E=function(t,e,n){n=O(t,e,n);n===A?delete t[e]:t[e]=n},O=function(t,e,n){var i,r=t[e];if("object"==typeof r&&r)if(P.call(r)==S)for(i=r.length;i--;)E(r,i,n);else M(r,function(t){E(r,t,n)});return n.call(t,e,r)},s.parse=function(t,e){var n;return y=0,v=""+t,n=_(a()),"$"!=a()&&x(),y=v=null,e&&P.call(e)==h?O(((t={})[""]=n,t),"",e):n})),s.runInContext=B,s}!o||o.global!==o&&o.window!==o&&o.self!==o||(R=o),r?B(R,r):(t=R.JSON,e=R.JSON3,n=!1,i=B(R,R.JSON3={noConflict:function(){return n||(n=!0,R.JSON=t,R.JSON3=e,t=e=null),i}}),R.JSON={parse:i.parse,stringify:i.stringify})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],59:[function(t,e,n){"use strict";var h=t("requires-port"),d=t("./lolcation"),f=t("querystringify"),p=/^\/(?!\/)/,g=/^([a-z0-9.+-]+:)?(\/\/)?(.*)$/i,m=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/\:(\d+)$/,"port"],[NaN,"hostname",void 0,1,1]];function y(t,e,n){if(!(this instanceof y))return new y(t,e,n);var i,r,o,a,s=p.test(t),l=typeof e,u=this,c=0;"object"!=l&&"string"!=l&&(n=e,e=null),n&&"function"!=typeof n&&(n=f.parse),e=d(e);l=t,l={protocol:(l=g.exec(l))[1]?l[1].toLowerCase():"",slashes:!!l[2],rest:l[3]||""};for(u.protocol=l.protocol||e.protocol||"",u.slashes=l.slashes||e.slashes,t=l.rest;c<m.length;c++)i=(r=m[c])[0],a=r[1],i!=i?u[a]=t:"string"==typeof i?~(o=t.indexOf(i))&&(t="number"==typeof r[2]?(u[a]=t.slice(0,o),t.slice(o+r[2])):(u[a]=t.slice(o),t.slice(0,o))):(o=i.exec(t))&&(u[a]=o[1],t=t.slice(0,t.length-o[0].length)),u[a]=u[a]||(r[3]||"port"===a&&s)&&e[a]||"",r[4]&&(u[a]=u[a].toLowerCase());n&&(u.query=n(u.query)),h(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(r=u.auth.split(":"),u.username=r[0]||"",u.password=r[1]||""),u.href=u.toString()}y.prototype.set=function(t,e,n){var i=this;return"query"===t?("string"==typeof e&&e.length&&(e=(n||f.parse)(e)),i[t]=e):"port"===t?(i[t]=e,h(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="")):"hostname"===t?(i[t]=e,i.port&&(e+=":"+i.port),i.host=e):"host"===t?(i[t]=e,/\:\d+/.test(e)&&(e=e.split(":"),i.hostname=e[0],i.port=e[1])):"protocol"===t?(i.protocol=e,i.slashes=!n):i[t]=e,i.href=i.toString(),i},y.prototype.toString=function(t){t&&"function"==typeof t||(t=f.stringify);var e=this,n=e.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");n+=e.slashes?"//":"";return e.username&&(n+=e.username,e.password&&(n+=":"+e.password),n+="@"),n+=e.hostname,e.port&&(n+=":"+e.port),n+=e.pathname,(t="object"==typeof e.query?t(e.query):e.query)&&(n+="?"!==t.charAt(0)?"?"+t:t),e.hash&&(n+=e.hash),n},y.qs=f,y.location=d,e.exports=y},{"./lolcation":60,querystringify:61,"requires-port":62}],60:[function(l,t,e){!function(r){"use strict";var o,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s={hash:1,query:1};t.exports=function(t){t=t||r.location||{},o=o||l("./");var e,n={},i=typeof t;if("blob:"===t.protocol)n=new o(unescape(t.pathname),{});else if("string"==i)for(e in n=new o(t,{}),s)delete n[e];else if("object"==i){for(e in t)e in s||(n[e]=t[e]);void 0===n.slashes&&(n.slashes=a.test(t.href))}return n}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./":59}],61:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;n.stringify=function(t,e){var n,i=[];for(n in"string"!=typeof(e=e||"")&&(e="?"),t)r.call(t,n)&&i.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return i.length?e+i.join("&"):""},n.parse=function(t){for(var e,n=/([^=?&]+)=([^&]*)/g,i={};e=n.exec(t);i[decodeURIComponent(e[1])]=decodeURIComponent(e[2]));return i}},{}],62:[function(t,e,n){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}]},{},[1])(1)}),function(t){"use strict";"function"==typeof define&&define.amd?define(t):"undefined"!=typeof module&&void 0!==module.exports?module.exports=t():window.Sortable=t()}(function(){"use strict";if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};function o(t){function e(n,i){return"function"==typeof(n=void 0===n||!0===n?r.name:n)?n:function(t,e){e=e.options.group.name;return i?n:n&&(n.join?-1<n.indexOf(e):e==n)}}var r={},n=t.group;r.name=(n=!n||"object"!=typeof n?{name:n}:n).name,r.checkPull=e(n.pull,!0),r.checkPut=e(n.put),r.revertClone=n.revertClone,t.group=r}var m,y,v,x,_,b,h,g,w,M,A,I,C,l,i,S,T,u,a,D,t,N={},r=/\s+/g,L=/left|right|inline/,k="Sortable"+(new Date).getTime(),E=window,d=E.document,s=E.parseInt,e=E.jQuery||E.Zepto,n=E.Polymer,c=!1,f=!!("draggable"in d.createElement("div")),p=!navigator.userAgent.match(/Trident.*rv[ :]?11\./)&&((t=d.createElement("x")).style.cssText="pointer-events:auto","auto"===t.style.pointerEvents),O=!1,P=Math.abs,z=Math.min,j=[],Y=[],R=tt(function(t,e,n){if(n&&e.scroll){var i,r,o,a,s,l=n[k],u=e.scrollSensitivity,c=e.scrollSpeed,h=t.clientX,d=t.clientY,f=window.innerWidth,p=window.innerHeight;if(w!==n&&(g=e.scroll,w=n,M=e.scrollFn,!0===g)){g=n;do{if(g.offsetWidth<g.scrollWidth||g.offsetHeight<g.scrollHeight)break}while(g=g.parentNode)}g&&(n=(i=g).getBoundingClientRect(),r=(P(n.right-h)<=u)-(P(n.left-h)<=u),o=(P(n.bottom-d)<=u)-(P(n.top-d)<=u)),r||o||(o=(p-d<=u)-(d<=u),((r=(f-h<=u)-(h<=u))||o)&&(i=E)),N.vx===r&&N.vy===o&&N.el===i||(N.el=i,N.vx=r,N.vy=o,clearInterval(N.pid),i&&(N.pid=setInterval(function(){return s=o?o*c:0,a=r?r*c:0,"function"==typeof M?M.call(l,a,s,t):void(i===E?E.scrollTo(E.pageXOffset+a,E.pageYOffset+s):(i.scrollTop+=s,i.scrollLeft+=a))},24)))}},30);function B(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(t);this.el=t,this.options=e=et({},e),t[k]=this;var n,i,r={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(t.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(n in r)n in e||(e[n]=r[n]);for(i in o(e),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&f,W(t,"mousedown",this._onTapStart),W(t,"touchstart",this._onTapStart),W(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(W(t,"dragover",this),W(t,"dragenter",this)),Y.push(this._onDragOver),e.store&&this.sort(e.store.get(this))}function F(t,e){"clone"!==t.lastPullMode&&(e=!0),x&&x.state!==e&&(Z(x,"display",e?"none":""),e||x.state&&(t.options.group.revertClone?(_.insertBefore(x,b),t._animate(m,x)):_.insertBefore(x,m)),x.state=e)}function H(t,e,n){if(t){n=n||d;do{if(">*"===e&&t.parentNode===n||K(t,e))return t}while(r=void 0,t=(r=(i=t).host)&&r.nodeType?r:i.parentNode)}var i,r;return null}function W(t,e,n){t.addEventListener(e,n,c)}function G(t,e,n){t.removeEventListener(e,n,c)}function U(t,e,n){var i;t&&(t.classList?t.classList[n?"add":"remove"](e):(i=(" "+t.className+" ").replace(r," ").replace(" "+e+" "," "),t.className=(i+(n?" "+e:"")).replace(r," ")))}function Z(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return d.defaultView&&d.defaultView.getComputedStyle?n=d.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];i[e=!(e in i)?"-webkit-"+e:e]=n+("string"==typeof n?"":"px")}}function V(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function X(t,e,n,i,r,o,a){t=t||e[k];var s=d.createEvent("Event"),l=t.options,u="on"+n.charAt(0).toUpperCase()+n.substr(1);s.initEvent(n,!0,!0),s.to=e,s.from=r||e,s.item=i||e,s.clone=x,s.oldIndex=o,s.newIndex=a,e.dispatchEvent(s),l[u]&&l[u].call(t,s)}function q(t,e,n,i,r,o,a,s){var l,u=t[k],c=u.options.onMove,h=d.createEvent("Event");return h.initEvent("move",!0,!0),h.to=e,h.from=t,h.dragged=n,h.draggedRect=i,h.related=r||e,h.relatedRect=o||e.getBoundingClientRect(),h.willInsertAfter=s,t.dispatchEvent(h),l=c?c.call(u,h,a):l}function J(t){t.draggable=!1}function $(){O=!1}function Q(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t&&t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||">*"!==e&&!K(t,e)||n++;return n}function K(t,e){if(t){var n=(e=e.split(".")).shift().toUpperCase(),i=new RegExp("\\s("+e.join("|")+")(?=\\s)","g");return!(""!==n&&t.nodeName.toUpperCase()!=n||e.length&&((" "+t.className+" ").match(i)||[]).length!=e.length)}}function tt(t,e){var n,i;return function(){void 0===n&&(n=arguments,i=this,setTimeout(function(){1===n.length?t.call(i,n[0]):t.apply(i,n),n=void 0},e))}}function et(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function nt(t){return e?e(t).clone(!0)[0]:(n&&n.dom?n.dom(t):t).cloneNode(!0)}B.prototype={constructor:B,_onTapStart:function(t){var e,n=this,i=this.el,r=this.options,o=r.preventOnFilter,a=t.type,s=t.touches&&t.touches[0],l=(s||t).target,u=t.target.shadowRoot&&t.path&&t.path[0]||l,c=r.filter;if(function(t){var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var i=e[n];i.checked&&j.push(i)}}(i),!m&&!(/mousedown|pointerdown/.test(a)&&0!==t.button||r.disabled)&&(l=H(l,r.draggable,i))&&h!==l){if(e=Q(l,r.draggable),"function"==typeof c){if(c.call(this,t,l,this))return X(n,u,"filter",l,i,e),void(o&&t.preventDefault())}else if(c=c&&c.split(",").some(function(t){if(t=H(u,t.trim(),i))return X(n,t,"filter",l,i,e),!0}))return void(o&&t.preventDefault());r.handle&&!H(u,r.handle,i)||this._prepareDragStart(t,s,l,e)}},_prepareDragStart:function(t,e,n,i){var r=this,o=r.el,a=r.options,s=o.ownerDocument;n&&!m&&n.parentNode===o&&(u=t,_=o,y=(m=n).parentNode,b=m.nextSibling,h=n,S=a.group,l=i,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,m.style["will-change"]="transform",i=function(){r._disableDelayedDrag(),m.draggable=r.nativeDraggable,U(m,a.chosenClass,!0),r._triggerDragStart(t,e),X(r,_,"choose",m,_,l)},a.ignore.split(",").forEach(function(t){V(m,t.trim(),J)}),W(s,"mouseup",r._onDrop),W(s,"touchend",r._onDrop),W(s,"touchcancel",r._onDrop),W(s,"pointercancel",r._onDrop),W(s,"selectstart",r),a.delay?(W(s,"mouseup",r._disableDelayedDrag),W(s,"touchend",r._disableDelayedDrag),W(s,"touchcancel",r._disableDelayedDrag),W(s,"mousemove",r._disableDelayedDrag),W(s,"touchmove",r._disableDelayedDrag),W(s,"pointermove",r._disableDelayedDrag),r._dragStartTimer=setTimeout(i,a.delay)):i())},_disableDelayedDrag:function(){var t=this.el.ownerDocument;clearTimeout(this._dragStartTimer),G(t,"mouseup",this._disableDelayedDrag),G(t,"touchend",this._disableDelayedDrag),G(t,"touchcancel",this._disableDelayedDrag),G(t,"mousemove",this._disableDelayedDrag),G(t,"touchmove",this._disableDelayedDrag),G(t,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(t,e){(e=e||("touch"==t.pointerType?t:null))?(u={target:m,clientX:e.clientX,clientY:e.clientY},this._onDragStart(u,"touch")):this.nativeDraggable?(W(m,"dragend",this),W(_,"dragstart",this._onDragStart)):this._onDragStart(u,!0);try{d.selection?setTimeout(function(){d.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(){var t;_&&m?(t=this.options,U(m,t.ghostClass,!0),U(m,t.dragClass,!1),X(B.active=this,_,"start",m,_,l)):this._nulling()},_emulateDragOver:function(){if(a&&(this._lastX!==a.clientX||this._lastY!==a.clientY)){this._lastX=a.clientX,this._lastY=a.clientY,p||Z(v,"display","none");var t=d.elementFromPoint(a.clientX,a.clientY),e=t,n=Y.length;if(e)do{if(e[k]){for(;n--;)Y[n]({clientX:a.clientX,clientY:a.clientY,target:t,rootEl:e});break}}while(e=(t=e).parentNode);p||Z(v,"display","")}},_onTouchMove:function(t){if(u){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,r=t.touches?t.touches[0]:t,e=r.clientX-u.clientX+i.x,i=r.clientY-u.clientY+i.y,i=t.touches?"translate3d("+e+"px,"+i+"px,0)":"translate("+e+"px,"+i+"px)";if(!B.active){if(n&&z(P(r.clientX-this._lastX),P(r.clientY-this._lastY))<n)return;this._dragStarted()}this._appendGhost(),D=!0,a=r,Z(v,"webkitTransform",i),Z(v,"mozTransform",i),Z(v,"msTransform",i),Z(v,"transform",i),t.preventDefault()}},_appendGhost:function(){var t,e,n;v||(t=m.getBoundingClientRect(),e=Z(m),n=this.options,U(v=m.cloneNode(!0),n.ghostClass,!1),U(v,n.fallbackClass,!0),U(v,n.dragClass,!0),Z(v,"top",t.top-s(e.marginTop,10)),Z(v,"left",t.left-s(e.marginLeft,10)),Z(v,"width",t.width),Z(v,"height",t.height),Z(v,"opacity","0.8"),Z(v,"position","fixed"),Z(v,"zIndex","100000"),Z(v,"pointerEvents","none"),n.fallbackOnBody&&d.body.appendChild(v)||_.appendChild(v),n=v.getBoundingClientRect(),Z(v,"width",2*t.width-n.width),Z(v,"height",2*t.height-n.height))},_onDragStart:function(t,e){var n=t.dataTransfer,i=this.options;this._offUpEvents(),S.checkPull(this,this,m,t)&&((x=nt(m)).draggable=!1,x.style["will-change"]="",Z(x,"display","none"),U(x,this.options.chosenClass,!1),_.insertBefore(x,m),X(this,_,"clone",m)),U(m,i.dragClass,!0),e?("touch"===e?(W(d,"touchmove",this._onTouchMove),W(d,"touchend",this._onDrop),W(d,"touchcancel",this._onDrop),W(d,"pointermove",this._onTouchMove),W(d,"pointerup",this._onDrop)):(W(d,"mousemove",this._onTouchMove),W(d,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(n&&(n.effectAllowed="move",i.setData&&i.setData.call(this,n,m)),W(d,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(t){var e,n,i,r,o,a,s,l,u=this.el,c=this.options,h=c.group,d=B.active,f=S===h,p=!1,g=c.sort;if(void 0!==t.preventDefault&&(t.preventDefault(),c.dragoverBubble||t.stopPropagation()),!m.animated&&(D=!0,d&&!c.disabled&&(f?g||(a=!_.contains(m)):T===this||(d.lastPullMode=S.checkPull(this,d,m,t))&&h.checkPut(this,d,m,t))&&(void 0===t.rootEl||t.rootEl===this.el)&&(R(t,c,this.el),!O))){if(e=H(t.target,c.draggable,u),n=m.getBoundingClientRect(),T!==this&&(T=this,p=!0),a)return F(d,!0),y=_,void(x||b?_.insertBefore(m,x||b):g||_.appendChild(m));if(0===u.children.length||u.children[0]===v||u===t.target&&function(t,e){t=t.lastElementChild.getBoundingClientRect();return 5<e.clientY-(t.top+t.height)||5<e.clientX-(t.left+t.width)}(u,t)){if(e=0!==u.children.length&&u.children[0]!==v&&u===t.target?u.lastElementChild:e){if(e.animated)return;i=e.getBoundingClientRect()}F(d,f),!1!==q(_,u,m,n,e,i,t)&&(m.contains(u)||(u.appendChild(m),y=u),this._animate(n,m),e&&this._animate(i,e))}else e&&!e.animated&&e!==m&&void 0!==e.parentNode[k]&&(A!==e&&(I=Z(A=e),C=Z(e.parentNode)),s=(i=e.getBoundingClientRect()).right-i.left,r=i.bottom-i.top,l=L.test(I.cssFloat+I.display)||"flex"==C.display&&0===C["flex-direction"].indexOf("row"),o=e.offsetWidth>m.offsetWidth,h=e.offsetHeight>m.offsetHeight,c=.5<(l?(t.clientX-i.left)/s:(t.clientY-i.top)/r),a=e.nextElementSibling,g=!1,l?g=(s=m.offsetTop)===(l=e.offsetTop)?e.previousElementSibling===m&&!o||c&&o:e.previousElementSibling===m||m.previousElementSibling===e?.5<(t.clientY-i.top)/r:s<l:p||(g=a!==m&&!h||c&&h),!1!==(t=q(_,u,m,n,e,i,t,g))&&(1!==t&&-1!==t||(g=1===t),O=!0,setTimeout($,30),F(d,f),m.contains(u)||(g&&!a?u.appendChild(m):e.parentNode.insertBefore(m,g?a:e)),y=m.parentNode,this._animate(n,m),this._animate(i,e)))}},_animate:function(t,e){var n,i=this.options.animation;i&&(n=e.getBoundingClientRect(),1===t.nodeType&&(t=t.getBoundingClientRect()),Z(e,"transition","none"),Z(e,"transform","translate3d("+(t.left-n.left)+"px,"+(t.top-n.top)+"px,0)"),e.offsetWidth,Z(e,"transition","all "+i+"ms"),Z(e,"transform","translate3d(0,0,0)"),clearTimeout(e.animated),e.animated=setTimeout(function(){Z(e,"transition",""),Z(e,"transform",""),e.animated=!1},i))},_offUpEvents:function(){var t=this.el.ownerDocument;G(d,"touchmove",this._onTouchMove),G(d,"pointermove",this._onTouchMove),G(t,"mouseup",this._onDrop),G(t,"touchend",this._onDrop),G(t,"pointerup",this._onDrop),G(t,"touchcancel",this._onDrop),G(t,"pointercancel",this._onDrop),G(t,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;clearInterval(this._loopId),clearInterval(N.pid),clearTimeout(this._dragStartTimer),G(d,"mousemove",this._onTouchMove),this.nativeDraggable&&(G(d,"drop",this),G(e,"dragstart",this._onDragStart)),this._offUpEvents(),t&&(D&&(t.preventDefault(),n.dropBubble||t.stopPropagation()),v&&v.parentNode&&v.parentNode.removeChild(v),_!==y&&"clone"===B.active.lastPullMode||x&&x.parentNode&&x.parentNode.removeChild(x),m&&(this.nativeDraggable&&G(m,"dragend",this),J(m),m.style["will-change"]="",U(m,this.options.ghostClass,!1),U(m,this.options.chosenClass,!1),X(this,_,"unchoose",m,_,l),_!==y?0<=(i=Q(m,n.draggable))&&(X(null,y,"add",m,_,l,i),X(this,_,"remove",m,_,l,i),X(null,y,"sort",m,_,l,i),X(this,_,"sort",m,_,l,i)):m.nextSibling!==b&&0<=(i=Q(m,n.draggable))&&(X(this,_,"update",m,_,l,i),X(this,_,"sort",m,_,l,i)),B.active&&(X(this,_,"end",m,_,l,i=null==i||-1===i?l:i),this.save()))),this._nulling()},_nulling:function(){_=m=y=v=b=x=h=g=w=u=a=D=i=A=I=T=S=B.active=null,j.forEach(function(t){t.checked=!0}),j.length=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragover":case"dragenter":m&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)H(t=n[i],o.draggable,this.el)&&e.push(t.getAttribute(o.dataIdAttr)||function(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;for(;n--;)i+=e.charCodeAt(n);return i.toString(36)}(t));return e},sort:function(t){var n={},i=this.el;this.toArray().forEach(function(t,e){e=i.children[e];H(e,this.options.draggable,i)&&(n[t]=e)},this),t.forEach(function(t){n[t]&&(i.removeChild(n[t]),i.appendChild(n[t]))})},save:function(){var t=this.options.store;t&&t.set(this)},closest:function(t,e){return H(t,e||this.options.draggable,this.el)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];n[t]=e,"group"===t&&o(n)},destroy:function(){var t=this.el;t[k]=null,G(t,"mousedown",this._onTapStart),G(t,"touchstart",this._onTapStart),G(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(G(t,"dragover",this),G(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),Y.splice(Y.indexOf(this._onDragOver),1),this._onDrop(),this.el=t=null}},W(d,"touchmove",function(t){B.active&&t.preventDefault()});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){c={capture:!1,passive:!1}}}))}catch(t){}return B.utils={on:W,off:G,css:Z,find:V,is:function(t,e){return!!H(t,e,t)},extend:et,throttle:tt,closest:H,toggleClass:U,clone:nt,index:Q},B.create=function(t,e){return new B(t,e)},B.version="1.6.1",B}),(typeof define==="function"&&define.amd?define:function(t,e){if(typeof module!=="undefined"&&module.exports)module.exports=e(require("jquery"));else window["toastr"]=e(window["jQuery"])})(["jquery"],function(m){return function(){var c,e,h=0,i="error",r="info",o="success",a="warning",t={clear:function(t){var e=p();c||d(e);s(t,e)||function(t){for(var e=c.children(),n=e.length-1;0<=n;n--)s(m(e[n]),t)}(e)},remove:function(t){var e=p();c||d(e);t&&0===m(":focus",t).length?g(t):c.children().length&&c.remove()},error:function(t,e,n){return l({type:i,iconClass:p().iconClasses.error,message:t,optionsOverride:n,title:e})},getContainer:d,info:function(t,e,n){return l({type:r,iconClass:p().iconClasses.info,message:t,optionsOverride:n,title:e})},options:{},subscribe:function(t){e=t},success:function(t,e,n){return l({type:o,iconClass:p().iconClasses.success,message:t,optionsOverride:n,title:e})},version:"2.0.3",warning:function(t,e,n){return l({type:a,iconClass:p().iconClasses.warning,message:t,optionsOverride:n,title:e})}};return t;function d(t,e){return t=t||p(),(c=m("#"+t.containerId)).length||e&&(t=t,(c=m("<div/>").attr("id",t.containerId).addClass(t.positionClass).attr("aria-live","polite").attr("role","alert")).appendTo(m(t.target))),c}function s(t,e){return t&&0===m(":focus",t).length&&(t[e.hideMethod]({duration:e.hideDuration,easing:e.hideEasing,complete:function(){g(t)}}),1)}function f(t){e&&e(t)}function l(t){var e=p(),n=t.iconClass||e.iconClass;void 0!==t.optionsOverride&&(e=m.extend(e,t.optionsOverride),n=t.optionsOverride.iconClass||n),h++,c=d(e,!0);var i=null,r=m("<div/>"),o=m("<div/>"),a=m("<div/>"),s=m(e.closeHtml),l={toastId:h,state:"visible",startTime:new Date,options:e,map:t};return t.iconClass&&r.addClass(e.toastClass).addClass(n),t.title&&(o.append(t.title).addClass(e.titleClass),r.append(o)),t.message&&(a.append(t.message).addClass(e.messageClass),r.append(a)),e.closeButton&&(s.addClass("toast-close-button").attr("role","button"),r.prepend(s)),r.hide(),e.newestOnTop?c.prepend(r):c.append(r),r[e.showMethod]({duration:e.showDuration,easing:e.showEasing,complete:e.onShown}),0<e.timeOut&&(i=setTimeout(u,e.timeOut)),r.hover(function(){clearTimeout(i),r.stop(!0,!0)[e.showMethod]({duration:e.showDuration,easing:e.showEasing})},function(){(0<e.timeOut||0<e.extendedTimeOut)&&(i=setTimeout(u,e.extendedTimeOut))}),!e.onclick&&e.tapToDismiss&&r.click(u),e.closeButton&&s&&s.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),u(!0)}),e.onclick&&r.click(function(){e.onclick(),u()}),f(l),e.debug&&console&&console.log(l),r;function u(t){if(!m(":focus",r).length||t)return r[e.hideMethod]({duration:e.hideDuration,easing:e.hideEasing,complete:function(){g(r),e.onHidden&&"hidden"!==l.state&&e.onHidden(),l.state="hidden",l.endTime=new Date,f(l)}})}}function p(){return m.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0},t.options)}function g(t){c=c||d(),t.is(":visible")||(t.remove(),t=null,0===c.children().length&&c.remove())}}()}),function(t){if("function"==typeof require&&"undefined"!=typeof module){var e=require("sockjs-client");if(!e)throw new Error("vertx-eventbus.js requires sockjs-client, see http://sockjs.org");t(e)}else if("function"==typeof define&&define.amd)define("vertx-eventbus",["sockjs"],t);else{if(void 0===this.SockJS)throw new Error("vertx-eventbus.js requires sockjs-client, see http://sockjs.org");EventBus=t(this.SockJS)}}(function(n){function r(t,e){if(t){if(!e)return t;for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&(e[n]=t[n])}return e||{}}function a(t,e){var o=this;this.pingInterval=(e=e||{}).vertxbus_ping_interval||5e3,this.pingTimerID=null,this.sockJSConn=new n(t,null,e),this.state=a.CONNECTING,this.handlers={},this.replyHandlers={},this.defaultHeaders=null,this.onerror=function(t){try{console.error(t)}catch(t){}},this.sockJSConn.onopen=function(){o.pingEnabled(!0),o.state=a.OPEN,o.onopen&&o.onopen()},this.sockJSConn.onclose=function(t){o.state=a.CLOSED,o.pingTimerID&&clearInterval(o.pingTimerID),o.onclose&&o.onclose(t)},this.sockJSConn.onmessage=function(t){var i=JSON.parse(t.data);if(i.replyAddress&&Object.defineProperty(i,"reply",{value:function(t,e,n){o.send(i.replyAddress,t,e,n)}}),o.handlers[i.address])for(var e=o.handlers[i.address],n=0;n<e.length;n++)"err"===i.type?e[n]({failureCode:i.failureCode,failureType:i.failureType,message:i.message}):e[n](null,i);else if(o.replyHandlers[i.address]){var r=o.replyHandlers[i.address];delete o.replyHandlers[i.address],"err"===i.type?r({failureCode:i.failureCode,failureType:i.failureType,message:i.message}):r(null,i)}else if("err"===i.type)o.onerror(i);else try{console.warn("No handler found for message: ",i)}catch(t){}}}if(a.prototype.send=function(t,e,n,i){if(this.state!=a.OPEN)throw new Error("INVALID_STATE_ERR");"function"==typeof n&&(i=n,n={});n={type:"send",address:t,headers:r(this.defaultHeaders,n),body:e};i&&(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t,e){return e=16*Math.random(),("y"==t?3&e|8:0|e).toString(16)}),n.replyAddress=e,this.replyHandlers[e]=i),this.sockJSConn.send(JSON.stringify(n))},a.prototype.publish=function(t,e,n){if(this.state!=a.OPEN)throw new Error("INVALID_STATE_ERR");this.sockJSConn.send(JSON.stringify({type:"publish",address:t,headers:r(this.defaultHeaders,n),body:e}))},a.prototype.registerHandler=function(t,e,n){if(this.state!=a.OPEN)throw new Error("INVALID_STATE_ERR");"function"==typeof e&&(n=e,e={}),this.handlers[t]||(this.handlers[t]=[],this.sockJSConn.send(JSON.stringify({type:"register",address:t,headers:r(this.defaultHeaders,e)}))),this.handlers[t].push(n)},a.prototype.unregisterHandler=function(t,e,n){if(this.state!=a.OPEN)throw new Error("INVALID_STATE_ERR");var i=this.handlers[t];i&&("function"==typeof e&&(n=e,e={}),-1!=(n=i.indexOf(n))&&(i.splice(n,1),0===i.length&&(this.sockJSConn.send(JSON.stringify({type:"unregister",address:t,headers:r(this.defaultHeaders,e)})),delete this.handlers[t])))},a.prototype.close=function(){this.state=a.CLOSING,this.sockJSConn.close()},a.CONNECTING=0,a.OPEN=1,a.CLOSING=2,a.CLOSED=3,a.prototype.pingEnabled=function(t){var e=this;t?(t=function(){e.sockJSConn.send(JSON.stringify({type:"ping"}))},0<e.pingInterval&&(t(),e.pingTimerID=setInterval(t,e.pingInterval))):e.pingTimerID&&(clearInterval(e.pingTimerID),e.pingTimerID=null)},"undefined"==typeof exports)return a;"undefined"!=typeof module&&module.exports?exports=module.exports=a:exports.EventBus=a}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(i){function n(t,e){return this.$el=t,this.options=i.extend({},n.rules.defaults,n.rules[e.rule]||{},e),this.min=Number(this.options.min)||0,this.max=Number(this.options.max)||0,this.$el.on({"focus.spinner":i.proxy(function(t){t.preventDefault(),i(document).trigger("mouseup.spinner"),this.oldValue=this.value()},this),"change.spinner":i.proxy(function(t){t.preventDefault(),this.value(this.$el.val())},this),"keydown.spinner":i.proxy(function(t){var e={38:"up",40:"down"}[t.which];e&&(t.preventDefault(),this.spin(e))},this)}),this.oldValue=this.value(),this.value(this.$el.val()),this}var r,o;n.rules={defaults:{min:null,max:null,step:1,precision:0},currency:{min:0,max:null,step:.01,precision:2},quantity:{min:0,max:999,step:1,precision:0},percent:{min:1,max:100,step:1,precision:0},month:{min:1,max:12,step:1,precision:0},day:{min:1,max:31,step:1,precision:0},hour:{min:0,max:23,step:1,precision:0},minute:{min:1,max:59,step:1,precision:0},second:{min:1,max:59,step:1,precision:0}},n.prototype={spin:function(t){var e;this.$el.prop("disabled")||(this.oldValue=this.value(),e=i.isFunction(this.options.step)?this.options.step.call(this,t):this.options.step,t="up"===t?1:-1,this.value(this.oldValue+Number(e)*t))},value:function(t){if(null==t)return this.numeric(this.$el.val());t=this.numeric(t);var e=this.validate(t);0!==e&&(t=-1===e?this.min:this.max),this.$el.val(t.toFixed(this.options.precision)),this.oldValue!==this.value()&&(this.$el.trigger("changing.spinner",[this.value(),this.oldValue]),clearTimeout(r),r=setTimeout(i.proxy(function(){this.$el.trigger("changed.spinner",[this.value(),this.oldValue])},this),o.delay))},numeric:function(t){return t=(0<this.options.precision?parseFloat:parseInt)(t,10),isFinite(t)?t:t||this.options.min||0},validate:function(t){return null!==this.options.min&&t<this.min?-1:null!==this.options.max&&t>this.max?1:0}},(o=function(t,e){this.$el=i(t),this.$spinning=this.$el.find('[data-spin="spinner"]'),0===this.$spinning.length&&(this.$spinning=this.$el.find(':input[type="text"]')),e=i.extend({},e,this.$spinning.data()),this.spinning=new n(this.$spinning,e),this.$el.on("click.spinner",'[data-spin="up"], [data-spin="down"]',i.proxy(this,"spin")).on("mousedown.spinner",'[data-spin="up"], [data-spin="down"]',i.proxy(this,"spin")),i(document).on("mouseup.spinner",i.proxy(function(){clearTimeout(this.spinTimeout),clearInterval(this.spinInterval)},this)),e.delay&&this.delay(e.delay),e.changed&&this.changed(e.changed),e.changing&&this.changing(e.changing)}).delay=500,o.prototype={constructor:o,spin:function(t){var e=i(t.currentTarget).data("spin");switch(t.type){case"click":t.preventDefault(),this.spinning.spin(e);break;case"mousedown":1===t.which&&(this.spinTimeout=setTimeout(i.proxy(this,"beginSpin",e),300))}},delay:function(t){t=Number(t);0<=t&&(this.constructor.delay=t+100)},value:function(){return this.spinning.value()},changed:function(t){this.bindHandler("changed.spinner",t)},changing:function(t){this.bindHandler("changing.spinner",t)},bindHandler:function(t,e){i.isFunction(e)?this.$spinning.on(t,e):this.$spinning.off(t)},beginSpin:function(t){this.spinInterval=setInterval(i.proxy(this.spinning,"spin",t),100)}};var t=i.fn.spinner;return i.fn.spinner=function(e,n){return this.each(function(){var t=i.data(this,"spinner");t||(t=new o(this,e),i.data(this,"spinner",t)),"delay"===e||"changed"===e||"changing"===e?t[e](n):"step"===e&&n?t.spinning.step=n:"spin"===e&&n&&t.spinning.spin(n)})},i.fn.spinner.Constructor=o,i.fn.spinner.noConflict=function(){return i.fn.spinner=t,this},i(function(){i('[data-trigger="spinner"]').spinner()}),i.fn.spinner}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t;function h(){return t.apply(null,arguments)}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){for(var n=[],i=0;i<t.length;++i)n.push(e(t[i],i));return n}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function u(t,e){for(var n in e)d(e,n)&&(t[n]=e[n]);return d(e,"toString")&&(t.toString=e.toString),d(e,"valueOf")&&(t.valueOf=e.valueOf),t}function c(t,e,n,i){return Me(t,e,n,i,!0).utc()}function f(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),t._pf}var o=Array.prototype.some||function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};function p(t){if(null==t._isValid){var e=f(t),n=o.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function g(t){var e=c(NaN);return null!=t?u(f(e),t):f(e).userInvalidated=!0,e}function m(t){return void 0===t}var y=h.momentProperties=[];function v(t,e){var n,i,r;if(m(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),m(e._i)||(t._i=e._i),m(e._f)||(t._f=e._f),m(e._l)||(t._l=e._l),m(e._strict)||(t._strict=e._strict),m(e._tzm)||(t._tzm=e._tzm),m(e._isUTC)||(t._isUTC=e._isUTC),m(e._offset)||(t._offset=e._offset),m(e._pf)||(t._pf=f(e)),m(e._locale)||(t._locale=e._locale),0<y.length)for(n in y)m(r=e[i=y[n]])||(t[i]=r);return t}var e=!1;function x(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===e&&(e=!0,h.updateOffset(this),e=!1)}function _(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,t=0;return t=0!=e&&isFinite(e)?b(e):t}function M(t,e,n){for(var i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0,a=0;a<i;a++)(n&&t[a]!==e[a]||!n&&w(t[a])!==w(e[a]))&&o++;return o+r}function A(t){!1===h.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function n(r,o){var a=!0;return u(function(){if(null!=h.deprecationHandler&&h.deprecationHandler(null,r),a){for(var t,e=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var i in t+="\n["+n+"] ",arguments[0])t+=i+": "+arguments[0][i]+", ";t=t.slice(0,-2)}else t=arguments[n];e.push(t)}A(r+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack),a=!1}return o.apply(this,arguments)},o)}var I={};function C(t,e){null!=h.deprecationHandler&&h.deprecationHandler(t,e),I[t]||(A(e),I[t]=!0)}function S(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t,e){var n,i=u({},t);for(n in e)d(e,n)&&(s(t[n])&&s(e[n])?(i[n]={},u(i[n],t[n]),u(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)d(t,n)&&!d(e,n)&&s(t[n])&&(i[n]=u({},i[n]));return i}function D(t){null!=t&&this.set(t)}h.suppressDeprecationWarnings=!1,h.deprecationHandler=null;var N=Object.keys||function(t){var e,n=[];for(e in t)d(t,e)&&n.push(e);return n};var L={};function k(t,e){var n=t.toLowerCase();L[n]=L[n+"s"]=L[e]=t}function E(t){return"string"==typeof t?L[t]||L[t.toLowerCase()]:void 0}function O(t){var e,n,i={};for(n in t)d(t,n)&&(e=E(n))&&(i[e]=t[n]);return i}var P={};function z(t,e){P[t]=e}function j(e,n){return function(t){return null!=t?(R(this,e,t),h.updateOffset(this,n),this):Y(this,e)}}function Y(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function R(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function B(t,e,n){var i=""+Math.abs(t);return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},G={};function U(t,e,n,i){var r="string"==typeof i?function(){return this[i]()}:i;t&&(G[t]=r),e&&(G[e[0]]=function(){return B(r.apply(this,arguments),e[1],e[2])}),n&&(G[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function Z(t,e){return t.isValid()?(e=V(e,t.localeData()),W[e]=W[e]||function(i){for(var t,r=i.match(F),e=0,o=r.length;e<o;e++)G[r[e]]?r[e]=G[r[e]]:r[e]=(t=r[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){for(var e="",n=0;n<o;n++)e+=r[n]instanceof Function?r[n].call(t,i):r[n];return e}}(e),W[e](t)):t.localeData().invalidDate()}function V(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(H.lastIndex=0;0<=n&&H.test(t);)t=t.replace(H,i),H.lastIndex=0,--n;return t}var X=/\d/,q=/\d\d/,J=/\d{3}/,$=/\d{4}/,Q=/[+-]?\d{6}/,K=/\d\d?/,tt=/\d\d\d\d?/,et=/\d\d\d\d\d\d?/,nt=/\d{1,3}/,it=/\d{1,4}/,rt=/[+-]?\d{1,6}/,ot=/\d+/,at=/[+-]?\d+/,st=/Z|[+-]\d\d:?\d\d/gi,lt=/Z|[+-]\d\d(?::?\d\d)?/gi,ut=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ct={};function ht(t,n,i){ct[t]=S(n)?n:function(t,e){return t&&i?i:n}}function dt(t,e){return d(ct,t)?ct[t](e._strict,e._locale):new RegExp(ft(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r})))}function ft(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pt={};function gt(t,n){var e,i=n;for("string"==typeof t&&(t=[t]),l(n)&&(i=function(t,e){e[n]=w(t)}),e=0;e<t.length;e++)pt[t[e]]=i}function mt(t,r){gt(t,function(t,e,n,i){n._w=n._w||{},r(t,n._w,n,i)})}var yt=0,vt=1,xt=2,_t=3,bt=4,wt=5,Mt=6,At=7,It=8,Ct=Array.prototype.indexOf||function(t){for(var e=0;e<this.length;++e)if(this[e]===t)return e;return-1},St=Ct;function Tt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),k("month","M"),z("month",8),ht("M",K),ht("MM",K,q),ht("MMM",function(t,e){return e.monthsShortRegex(t)}),ht("MMMM",function(t,e){return e.monthsRegex(t)}),gt(["M","MM"],function(t,e){e[vt]=w(t)-1}),gt(["MMM","MMMM"],function(t,e,n,i){i=n._locale.monthsParse(t,i,n._strict);null!=i?e[vt]=i:f(n).invalidMonth=t});var Dt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Nt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Lt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function kt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Tt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Et(t){return null!=t?(kt(this,t),h.updateOffset(this,!0),this):Y(this,"Month")}var Ot=ut;var Pt=ut;function zt(){function t(t,e){return e.length-t.length}for(var e,n=[],i=[],r=[],o=0;o<12;o++)e=c([2e3,o]),n.push(this.monthsShort(e,"")),i.push(this.months(e,"")),r.push(this.months(e,"")),r.push(this.monthsShort(e,""));for(n.sort(t),i.sort(t),r.sort(t),o=0;o<12;o++)n[o]=ft(n[o]),i[o]=ft(i[o]);for(o=0;o<24;o++)r[o]=ft(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function jt(t){return Yt(t)?366:365}function Yt(t){return t%4==0&&t%100!=0||t%400==0}U("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),k("year","y"),z("year",1),ht("Y",at),ht("YY",K,q),ht("YYYY",it,$),ht("YYYYY",rt,Q),ht("YYYYYY",rt,Q),gt(["YYYYY","YYYYYY"],yt),gt("YYYY",function(t,e){e[yt]=2===t.length?h.parseTwoDigitYear(t):w(t)}),gt("YY",function(t,e){e[yt]=h.parseTwoDigitYear(t)}),gt("Y",function(t,e){e[yt]=parseInt(t,10)}),h.parseTwoDigitYear=function(t){return w(t)+(68<w(t)?1900:2e3)};var Rt=j("FullYear",!0);function Bt(t,e,n,i,r,o,a){a=new Date(t,e,n,i,r,o,a);return t<100&&0<=t&&isFinite(a.getFullYear())&&a.setFullYear(t),a}function Ft(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function Ht(t,e,n){n=7+e-n;return n-(7+Ft(t,0,n).getUTCDay()-e)%7-1}function Wt(t,e,n,i,r){var o,r=1+7*(e-1)+(7+n-i)%7+Ht(t,i,r),r=r<=0?jt(o=t-1)+r:r>jt(t)?(o=t+1,r-jt(t)):(o=t,r);return{year:o,dayOfYear:r}}function Gt(t,e,n){var i,r,o=Ht(t.year(),e,n),o=Math.floor((t.dayOfYear()-o-1)/7)+1;return o<1?i=o+Ut(r=t.year()-1,e,n):o>Ut(t.year(),e,n)?(i=o-Ut(t.year(),e,n),r=t.year()+1):(r=t.year(),i=o),{week:i,year:r}}function Ut(t,e,n){var i=Ht(t,e,n),n=Ht(t+1,e,n);return(jt(t)-i+n)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),k("week","w"),k("isoWeek","W"),z("week",5),z("isoWeek",5),ht("w",K),ht("ww",K,q),ht("W",K),ht("WW",K,q),mt(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=w(t)});U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),k("day","d"),k("weekday","e"),k("isoWeekday","E"),z("day",11),z("weekday",11),z("isoWeekday",11),ht("d",K),ht("e",K),ht("E",K),ht("dd",function(t,e){return e.weekdaysMinRegex(t)}),ht("ddd",function(t,e){return e.weekdaysShortRegex(t)}),ht("dddd",function(t,e){return e.weekdaysRegex(t)}),mt(["dd","ddd","dddd"],function(t,e,n,i){i=n._locale.weekdaysParse(t,i,n._strict);null!=i?e.d=i:f(n).invalidWeekday=t}),mt(["d","e","E"],function(t,e,n,i){e[i]=w(t)});var Zt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Vt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var Xt="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var qt=ut;var Jt=ut;var $t=ut;function Qt(){function t(t,e){return e.length-t.length}for(var e,n,i,r=[],o=[],a=[],s=[],l=0;l<7;l++)i=c([2e3,1]).day(l),e=this.weekdaysMin(i,""),n=this.weekdaysShort(i,""),i=this.weekdays(i,""),r.push(e),o.push(n),a.push(i),s.push(e),s.push(n),s.push(i);for(r.sort(t),o.sort(t),a.sort(t),s.sort(t),l=0;l<7;l++)o[l]=ft(o[l]),a[l]=ft(a[l]),s[l]=ft(s[l]);this._weekdaysRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Kt(){return this.hours()%12||12}function te(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ee(t,e){return e._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Kt),U("k",["kk",2],0,function(){return this.hours()||24}),U("hmm",0,0,function(){return""+Kt.apply(this)+B(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Kt.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),te("a",!0),te("A",!1),k("hour","h"),z("hour",13),ht("a",ee),ht("A",ee),ht("H",K),ht("h",K),ht("HH",K,q),ht("hh",K,q),ht("hmm",tt),ht("hmmss",et),ht("Hmm",tt),ht("Hmmss",et),gt(["H","HH"],_t),gt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),gt(["h","hh"],function(t,e,n){e[_t]=w(t),f(n).bigHour=!0}),gt("hmm",function(t,e,n){var i=t.length-2;e[_t]=w(t.substr(0,i)),e[bt]=w(t.substr(i)),f(n).bigHour=!0}),gt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[_t]=w(t.substr(0,i)),e[bt]=w(t.substr(i,2)),e[wt]=w(t.substr(r)),f(n).bigHour=!0}),gt("Hmm",function(t,e,n){var i=t.length-2;e[_t]=w(t.substr(0,i)),e[bt]=w(t.substr(i))}),gt("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[_t]=w(t.substr(0,i)),e[bt]=w(t.substr(i,2)),e[wt]=w(t.substr(r))});var ne,Ct=j("Hours",!0),ie={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Nt,monthsShort:Lt,week:{dow:0,doy:6},weekdays:Zt,weekdaysMin:Xt,weekdaysShort:Vt,meridiemParse:/[ap]\.?m?\.?/i},re={},oe={};function ae(t){return t&&t.toLowerCase().replace("_","-")}function se(t){var e;if(!re[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=ne._abbr,require("./locale/"+t),le(e)}catch(t){}return re[t]}function le(t,e){var n;return(ne=t&&(n=m(e)?ce(t):ue(t,e))?n:ne)._abbr}function ue(t,e){if(null===e)return delete re[t],null;var n=ie;if(e.abbr=t,null!=re[t])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=re[t]._config;else if(null!=e.parentLocale){if(null==re[e.parentLocale])return oe[e.parentLocale]||(oe[e.parentLocale]=[]),oe[e.parentLocale].push({name:t,config:e}),null;n=re[e.parentLocale]._config}return re[t]=new D(T(n,e)),oe[t]&&oe[t].forEach(function(t){ue(t.name,t.config)}),le(t),re[t]}function ce(t){var e;if(!(t=t&&t._locale&&t._locale._abbr?t._locale._abbr:t))return ne;if(!a(t)){if(e=se(t))return e;t=[t]}return function(t){for(var e,n,i,r,o=0;o<t.length;){for(e=(r=ae(t[o]).split("-")).length,n=(n=ae(t[o+1]))?n.split("-"):null;0<e;){if(i=se(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&M(r,n,!0)>=e-1)break;e--}o++}return null}(t)}function he(t){var e=t._a;return e&&-2===f(t).overflow&&(e=e[vt]<0||11<e[vt]?vt:e[xt]<1||e[xt]>Tt(e[yt],e[vt])?xt:e[_t]<0||24<e[_t]||24===e[_t]&&(0!==e[bt]||0!==e[wt]||0!==e[Mt])?_t:e[bt]<0||59<e[bt]?bt:e[wt]<0||59<e[wt]?wt:e[Mt]<0||999<e[Mt]?Mt:-1,f(t)._overflowDayOfYear&&(e<yt||xt<e)&&(e=xt),f(t)._overflowWeeks&&-1===e&&(e=At),f(t)._overflowWeekday&&-1===e&&(e=It),f(t).overflow=e),t}var de=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/Z|[+-]\d\d(?::?\d\d)?/,ge=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],me=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ye=/^\/?Date\((\-?\d+)/i;function ve(t){var e,n,i,r,o,a,s=t._i,l=de.exec(s)||fe.exec(s);if(l){for(f(t).iso=!0,e=0,n=ge.length;e<n;e++)if(ge[e][1].exec(l[1])){r=ge[e][0],i=!1!==ge[e][2];break}if(null!=r){if(l[3]){for(e=0,n=me.length;e<n;e++)if(me[e][1].exec(l[3])){o=(l[2]||" ")+me[e][0];break}if(null==o)return void(t._isValid=!1)}if(i||null==o){if(l[4]){if(!pe.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),be(t)}else t._isValid=!1}else t._isValid=!1}else t._isValid=!1}function xe(t,e,n){return null!=t?t:null!=e?e:n}function _e(t){var e,n,i,r,o=[];if(!t._d){for(i=t,r=new Date(h.now()),n=i._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()],t._w&&null==t._a[xt]&&null==t._a[vt]&&function(t){var e,n,i,r,o,a,s;{var l;null!=(e=t._w).GG||null!=e.W||null!=e.E?(o=1,a=4,n=xe(e.GG,t._a[yt],Gt(Ae(),1,4).year),i=xe(e.W,1),((r=xe(e.E,1))<1||7<r)&&(s=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,l=Gt(Ae(),o,a),n=xe(e.gg,t._a[yt],l.year),i=xe(e.w,l.week),null!=e.d?((r=e.d)<0||6<r)&&(s=!0):null!=e.e?(r=e.e+o,(e.e<0||6<e.e)&&(s=!0)):r=o)}i<1||i>Ut(n,o,a)?f(t)._overflowWeeks=!0:null!=s?f(t)._overflowWeekday=!0:(a=Wt(n,i,r,o,a),t._a[yt]=a.year,t._dayOfYear=a.dayOfYear)}(t),t._dayOfYear&&(r=xe(t._a[yt],n[yt]),t._dayOfYear>jt(r)&&(f(t)._overflowDayOfYear=!0),r=Ft(r,0,t._dayOfYear),t._a[vt]=r.getUTCMonth(),t._a[xt]=r.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=n[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[_t]&&0===t._a[bt]&&0===t._a[wt]&&0===t._a[Mt]&&(t._nextDay=!0,t._a[_t]=0),t._d=(t._useUTC?Ft:Bt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[_t]=24)}}function be(t){if(t._f!==h.ISO_8601){t._a=[],f(t).empty=!0;for(var e,n,i,r,o,a=""+t._i,s=a.length,l=0,u=V(t._f,t._locale).match(F)||[],c=0;c<u.length;c++)n=u[c],(e=(a.match(dt(n,t))||[])[0])&&(0<(r=a.substr(0,a.indexOf(e))).length&&f(t).unusedInput.push(r),a=a.slice(a.indexOf(e)+e.length),l+=e.length),G[n]?(e?f(t).empty=!1:f(t).unusedTokens.push(n),i=n,o=t,null!=(r=e)&&d(pt,i)&&pt[i](r,o._a,o,i)):t._strict&&!e&&f(t).unusedTokens.push(n);f(t).charsLeftOver=s-l,0<a.length&&f(t).unusedInput.push(a),t._a[_t]<=12&&!0===f(t).bigHour&&0<t._a[_t]&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[_t]=function(t,e,n){if(null==n)return e;return null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((n=t.isPM(n))&&e<12&&(e+=12),e=n||12!==e?e:0):e}(t._locale,t._a[_t],t._meridiem),_e(t),he(t)}else ve(t)}function we(t){var e=t._i,n=t._f;return t._locale=t._locale||ce(t._l),null===e||void 0===n&&""===e?g({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),_(e)?new x(he(e)):(i(e)?t._d=e:a(n)?function(t){var e,n,i,r,o;if(0===t._f.length)return f(t).invalidFormat=!0,t._d=new Date(NaN);for(r=0;r<t._f.length;r++)o=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],be(e),p(e)&&(o+=f(e).charsLeftOver,o+=10*f(e).unusedTokens.length,f(e).score=o,(null==i||o<i)&&(i=o,n=e));u(t,n||e)}(t):n?be(t):void 0===(n=(e=t)._i)?e._d=new Date(h.now()):i(n)?e._d=new Date(n.valueOf()):"string"==typeof n?function(t){var e=ye.exec(t._i);null===e?(ve(t),!1===t._isValid&&(delete t._isValid,h.createFromInputFallback(t))):t._d=new Date(+e[1])}(e):a(n)?(e._a=r(n.slice(0),function(t){return parseInt(t,10)}),_e(e)):"object"==typeof n?function(t){var e;t._d||(e=O(t._i),t._a=r([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),_e(t))}(e):l(n)?e._d=new Date(n):h.createFromInputFallback(e),p(t)||(t._d=null),t))}function Me(t,e,n,i,r){var o={};return!0!==n&&!1!==n||(i=n,n=void 0),(s(t)&&function(t){for(var e in t)return;return 1}(t)||a(t)&&0===t.length)&&(t=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=r,o._l=n,o._i=t,o._f=e,o._strict=i,(o=new x(he(we(o=o))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Ae(t,e,n,i){return Me(t,e,n,i,!1)}h.createFromInputFallback=n("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),h.ISO_8601=function(){};ut=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ae.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:g()}),tt=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ae.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:g()});function Ie(t,e){var n,i;if(!(e=1===e.length&&a(e[0])?e[0]:e).length)return Ae();for(n=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](n)||(n=e[i]);return n}function Ce(t){var e=O(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,t=e.second||0,e=e.millisecond||0;this._milliseconds=+e+1e3*t+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=ce(),this._bubble()}function Se(t){return t instanceof Ce}function Te(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function De(t,n){U(t,0,0,function(){var t=this.utcOffset(),e="+";return t<0&&(t=-t,e="-"),e+B(~~(t/60),2)+n+B(~~t%60,2)})}De("Z",":"),De("ZZ",""),ht("Z",lt),ht("ZZ",lt),gt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Le(lt,t)});var Ne=/([\+\-]|\d\d)/gi;function Le(t,e){e=(e||"").match(t);if(null===e)return null;t=((e[e.length-1]||[])+"").match(Ne)||["-",0,0],e=60*t[1]+w(t[2]);return 0===e?0:"+"===t[0]?e:-e}function ke(t,e){var n;return e._isUTC?(n=e.clone(),e=(_(t)||i(t)?t:Ae(t)).valueOf()-n.valueOf(),n._d.setTime(n._d.valueOf()+e),h.updateOffset(n,!1),n):Ae(t).local()}function Ee(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Oe(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}h.updateOffset=function(){};var Pe=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,ze=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function je(t,e){var n,i=t,r=null;return Se(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(i={},e?i[e]=t:i.milliseconds=t):(r=Pe.exec(t))?(n="-"===r[1]?-1:1,i={y:0,d:w(r[xt])*n,h:w(r[_t])*n,m:w(r[bt])*n,s:w(r[wt])*n,ms:w(Te(1e3*r[Mt]))*n}):(r=ze.exec(t))?(n="-"===r[1]?-1:1,i={y:Ye(r[2],n),M:Ye(r[3],n),w:Ye(r[4],n),d:Ye(r[5],n),h:Ye(r[6],n),m:Ye(r[7],n),s:Ye(r[8],n)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(n=function(t,e){var n;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=ke(e,t),t.isBefore(e)?n=Re(t,e):((n=Re(e,t)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Ae(i.from),Ae(i.to)),(i={}).ms=n.milliseconds,i.M=n.months),i=new Ce(i),Se(t)&&d(t,"_locale")&&(i._locale=t._locale),i}function Ye(t,e){t=t&&parseFloat(t.replace(",","."));return(isNaN(t)?0:t)*e}function Re(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Be(i,r){return function(t,e){var n;return null===e||isNaN(+e)||(C(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=t,t=e,e=n),Fe(this,je(t="string"==typeof t?+t:t,e),i),this}}function Fe(t,e,n,i){var r=e._milliseconds,o=Te(e._days),e=Te(e._months);t.isValid()&&(i=null==i||i,r&&t._d.setTime(t._d.valueOf()+r*n),o&&R(t,"Date",Y(t,"Date")+o*n),e&&kt(t,Y(t,"Month")+e*n),i&&h.updateOffset(t,o||e))}je.fn=Ce.prototype;et=Be(1,"add"),Nt=Be(-1,"subtract");function He(t){return void 0===t?this._locale._abbr:(null!=(t=ce(t))&&(this._locale=t),this)}h.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",h.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";Lt=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function We(){return this._locale}function Ge(t,e){U(0,[t,t.length],0,e)}function Ue(t,e,n,i,r){var o;return null==t?Gt(this,i,r).year:(o=Ut(t,i,r),function(t,e,n,i,r){r=Wt(t,e,n,i,r),r=Ft(r.year,0,r.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}.call(this,t,e=o<e?o:e,n,i,r))}U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ge("gggg","weekYear"),Ge("ggggg","weekYear"),Ge("GGGG","isoWeekYear"),Ge("GGGGG","isoWeekYear"),k("weekYear","gg"),k("isoWeekYear","GG"),z("weekYear",1),z("isoWeekYear",1),ht("G",at),ht("g",at),ht("GG",K,q),ht("gg",K,q),ht("GGGG",it,$),ht("gggg",it,$),ht("GGGGG",rt,Q),ht("ggggg",rt,Q),mt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=w(t)}),mt(["gg","GG"],function(t,e,n,i){e[i]=h.parseTwoDigitYear(t)}),U("Q",0,"Qo","quarter"),k("quarter","Q"),z("quarter",7),ht("Q",X),gt("Q",function(t,e){e[vt]=3*(w(t)-1)}),U("D",["DD",2],"Do","date"),k("date","D"),z("date",9),ht("D",K),ht("DD",K,q),ht("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),gt(["D","DD"],xt),gt("Do",function(t,e){e[xt]=w(t.match(K)[0])});Zt=j("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),k("dayOfYear","DDD"),z("dayOfYear",4),ht("DDD",nt),ht("DDDD",J),gt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=w(t)}),U("m",["mm",2],0,"minute"),k("minute","m"),z("minute",14),ht("m",K),ht("mm",K,q),gt(["m","mm"],bt);Xt=j("Minutes",!1);U("s",["ss",2],0,"second"),k("second","s"),z("second",15),ht("s",K),ht("ss",K,q),gt(["s","ss"],wt);var Ze,Vt=j("Seconds",!1);for(U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),k("millisecond","ms"),z("millisecond",16),ht("S",nt,X),ht("SS",nt,q),ht("SSS",nt,J),Ze="SSSS";Ze.length<=9;Ze+="S")ht(Ze,ot);function Ve(t,e){e[Mt]=w(1e3*("0."+t))}for(Ze="S";Ze.length<=9;Ze+="S")gt(Ze,Ve);it=j("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");$=x.prototype;function Xe(t){return t}$.add=et,$.calendar=function(t,e){var n=t||Ae(),t=ke(n,this).startOf("day"),t=h.calendarFormat(this,t)||"sameElse",e=e&&(S(e[t])?e[t].call(this,n):e[t]);return this.format(e||this.localeData().calendar(t,this,Ae(n)))},$.clone=function(){return new x(this)},$.diff=function(t,e,n){var i,r;return this.isValid()&&(i=ke(t,this)).isValid()?(t=6e4*(i.utcOffset()-this.utcOffset()),"year"===(e=E(e))||"month"===e||"quarter"===e?(r=function(t,e){var n,i=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(i,"months");r=e-r<0?(n=t.clone().add(i-1,"months"),(e-r)/(r-n)):(n=t.clone().add(1+i,"months"),(e-r)/(n-r));return-(i+r)||0}(this,i),"quarter"===e?r/=3:"year"===e&&(r/=12)):(i=this-i,r="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-t)/864e5:"week"===e?(i-t)/6048e5:i),n?r:b(r)):NaN},$.endOf=function(t){return void 0===(t=E(t))||"millisecond"===t?this:this.startOf(t="date"===t?"day":t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},$.format=function(t){return t=t||(this.isUtc()?h.defaultFormatUtc:h.defaultFormat),t=Z(this,t),this.localeData().postformat(t)},$.from=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||Ae(t).isValid())?je({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},$.fromNow=function(t){return this.from(Ae(),t)},$.to=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||Ae(t).isValid())?je({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},$.toNow=function(t){return this.to(Ae(),t)},$.get=function(t){return S(this[t=E(t)])?this[t]():this},$.invalidAt=function(){return f(this).overflow},$.isAfter=function(t,e){return t=_(t)?t:Ae(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=E(m(e)?"millisecond":e))?this.valueOf()>t.valueOf():t.valueOf()<this.clone().startOf(e).valueOf())},$.isBefore=function(t,e){return t=_(t)?t:Ae(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=E(m(e)?"millisecond":e))?this.valueOf()<t.valueOf():this.clone().endOf(e).valueOf()<t.valueOf())},$.isBetween=function(t,e,n,i){return("("===(i=i||"()")[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))},$.isSame=function(t,e){return t=_(t)?t:Ae(t),!(!this.isValid()||!t.isValid())&&("millisecond"===(e=E(e||"millisecond"))?this.valueOf()===t.valueOf():(t=t.valueOf(),this.clone().startOf(e).valueOf()<=t&&t<=this.clone().endOf(e).valueOf()))},$.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},$.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},$.isValid=function(){return p(this)},$.lang=Lt,$.locale=He,$.localeData=We,$.max=tt,$.min=ut,$.parsingFlags=function(){return u({},f(this))},$.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e,n=[];for(e in t)n.push({unit:e,priority:P[e]});return n.sort(function(t,e){return t.priority-e.priority}),n}(t=O(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(S(this[t=E(t)]))return this[t](e);return this},$.startOf=function(t){switch(t=E(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},$.subtract=Nt,$.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},$.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},$.toDate=function(){return new Date(this.valueOf())},$.toISOString=function(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?S(Date.prototype.toISOString)?this.toDate().toISOString():Z(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Z(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},$.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',t=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(n+t+"-MM-DD[T]HH:mm:ss.SSS"+(e+'[")]'))},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},$.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},$.year=Rt,$.isLeapYear=function(){return Yt(this.year())},$.weekYear=function(t){return Ue.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},$.isoWeekYear=function(t){return Ue.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},$.quarter=$.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},$.month=Et,$.daysInMonth=function(){return Tt(this.year(),this.month())},$.week=$.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},$.isoWeek=$.isoWeeks=function(t){var e=Gt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},$.weeksInYear=function(){var t=this.localeData()._week;return Ut(this.year(),t.dow,t.doy)},$.isoWeeksInYear=function(){return Ut(this.year(),1,4)},$.date=Zt,$.day=$.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},$.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},$.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e=(e=t,t=this.localeData(),"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?e:e-7)},$.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},$.hour=$.hours=Ct,$.minute=$.minutes=Xt,$.second=$.seconds=Vt,$.millisecond=$.milliseconds=it,$.utcOffset=function(t,e){var n,i=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?i:Ee(this);if("string"==typeof t){if(null===(t=Le(lt,t)))return this}else Math.abs(t)<16&&(t*=60);return!this._isUTC&&e&&(n=Ee(this)),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?Fe(this,je(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,h.updateOffset(this,!0),this._changeInProgress=null)),this},$.utc=function(t){return this.utcOffset(0,t)},$.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ee(this),"m")),this},$.parseZone=function(){var t;return null!=this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&(null!=(t=Le(st,this._i))?this.utcOffset(t):this.utcOffset(0,!0)),this},$.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ae(t).utcOffset():0,(this.utcOffset()-t)%60==0)},$.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},$.isLocal=function(){return!!this.isValid()&&!this._isUTC},$.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},$.isUtc=Oe,$.isUTC=Oe,$.zoneAbbr=function(){return this._isUTC?"UTC":""},$.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},$.dates=n("dates accessor is deprecated. Use date instead.",Zt),$.months=n("months accessor is deprecated. Use month instead",Et),$.years=n("years accessor is deprecated. Use year instead",Rt),$.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?(this.utcOffset(t="string"!=typeof t?-t:t,e),this):-this.utcOffset()}),$.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!m(this._isDSTShifted))return this._isDSTShifted;var t,e={};return v(e,this),(e=we(e))._a?(t=(e._isUTC?c:Ae)(e._a),this._isDSTShifted=this.isValid()&&0<M(e._a,t.toArray())):this._isDSTShifted=!1,this._isDSTShifted});rt=D.prototype;function qe(t,e,n,i){var r=ce(),e=c().set(i,e);return r[n](e,t)}function Je(t,e,n){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return qe(t,e,n,"month");for(var i=[],r=0;r<12;r++)i[r]=qe(t,r,n,"month");return i}function $e(t,e,n,i){e=("boolean"==typeof t?l(e)&&(n=e,e=void 0):(e=t,t=!1,l(n=e)&&(n=e,e=void 0)),e||"");var r=ce(),o=t?r._week.dow:0;if(null!=n)return qe(e,(n+o)%7,i,"day");for(var a=[],s=0;s<7;s++)a[s]=qe(e,(s+o)%7,i,"day");return a}rt.calendar=function(t,e,n){return S(t=this._calendar[t]||this._calendar.sameElse)?t.call(e,n):t},rt.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},rt.invalidDate=function(){return this._invalidDate},rt.ordinal=function(t){return this._ordinal.replace("%d",t)},rt.preparse=Xe,rt.postformat=Xe,rt.relativeTime=function(t,e,n,i){var r=this._relativeTime[n];return S(r)?r(t,e,n,i):r.replace(/%d/i,t)},rt.pastFuture=function(t,e){return S(t=this._relativeTime[0<t?"future":"past"])?t(e):t.replace(/%s/i,e)},rt.set=function(t){var e,n;for(n in t)S(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},rt.months=function(t,e){return t?(a(this._months)?this._months:this._months[(this._months.isFormat||Dt).test(e)?"format":"standalone"])[t.month()]:this._months},rt.monthsShort=function(t,e){return t?(a(this._monthsShort)?this._monthsShort:this._monthsShort[Dt.test(e)?"format":"standalone"])[t.month()]:this._monthsShort},rt.monthsParse=function(t,e,n){var i,r;if(this._monthsParseExact)return function(t,e,n){var i,r,o,t=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(r=St.call(this._shortMonthsParse,t))?r:null:-1!==(r=St.call(this._longMonthsParse,t))?r:null:"MMM"===e?-1!==(r=St.call(this._shortMonthsParse,t))||-1!==(r=St.call(this._longMonthsParse,t))?r:null:-1!==(r=St.call(this._longMonthsParse,t))||-1!==(r=St.call(this._shortMonthsParse,t))?r:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},rt.monthsRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||zt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Pt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},rt.monthsShortRegex=function(t){return this._monthsParseExact?(d(this,"_monthsRegex")||zt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Ot),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},rt.week=function(t){return Gt(t,this._week.dow,this._week.doy).week},rt.firstDayOfYear=function(){return this._week.doy},rt.firstDayOfWeek=function(){return this._week.dow},rt.weekdays=function(t,e){return t?(a(this._weekdays)?this._weekdays:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"])[t.day()]:this._weekdays},rt.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},rt.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},rt.weekdaysParse=function(t,e,n){var i,r;if(this._weekdaysParseExact)return function(t,e,n){var i,r,o,t=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(r=St.call(this._weekdaysParse,t))?r:null:"ddd"===e?-1!==(r=St.call(this._shortWeekdaysParse,t))?r:null:-1!==(r=St.call(this._minWeekdaysParse,t))?r:null:"dddd"===e?-1!==(r=St.call(this._weekdaysParse,t))||-1!==(r=St.call(this._shortWeekdaysParse,t))||-1!==(r=St.call(this._minWeekdaysParse,t))?r:null:"ddd"===e?-1!==(r=St.call(this._shortWeekdaysParse,t))||-1!==(r=St.call(this._weekdaysParse,t))||-1!==(r=St.call(this._minWeekdaysParse,t))?r:null:-1!==(r=St.call(this._minWeekdaysParse,t))||-1!==(r=St.call(this._weekdaysParse,t))||-1!==(r=St.call(this._shortWeekdaysParse,t))?r:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},rt.weekdaysRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=qt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},rt.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Jt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},rt.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||Qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$t),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},rt.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},rt.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},le("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),h.lang=n("moment.lang is deprecated. Use moment.locale instead.",le),h.langData=n("moment.langData is deprecated. Use moment.localeData instead.",ce);var Qe=Math.abs;function Ke(t,e,n,i){n=je(e,n);return t._milliseconds+=i*n._milliseconds,t._days+=i*n._days,t._months+=i*n._months,t._bubble()}function tn(t){return t<0?Math.floor(t):Math.ceil(t)}function en(t){return 4800*t/146097}function nn(t){return 146097*t/4800}function rn(t){return function(){return this.as(t)}}Q=rn("ms"),X=rn("s"),q=rn("m"),nt=rn("h"),J=rn("d"),et=rn("w"),tt=rn("M"),ut=rn("y");function on(t){return function(){return this._data[t]}}Nt=on("milliseconds"),Ct=on("seconds"),Xt=on("minutes"),Vt=on("hours"),it=on("days"),Zt=on("months"),Rt=on("years");var an=Math.round,sn={s:45,m:45,h:22,d:26,M:11};function ln(t,e,n){var i=je(t).abs(),r=an(i.as("s")),o=an(i.as("m")),a=an(i.as("h")),s=an(i.as("d")),l=an(i.as("M")),i=an(i.as("y")),i=(r<sn.s?["s",r]:o<=1&&["m"])||o<sn.m&&["mm",o]||a<=1&&["h"]||a<sn.h&&["hh",a]||s<=1&&["d"]||s<sn.d&&["dd",s]||l<=1&&["M"]||l<sn.M&&["MM",l]||i<=1&&["y"]||["yy",i];return i[2]=e,i[3]=0<+t,i[4]=n,function(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}.apply(null,i)}var un=Math.abs;function cn(){var t=un(this._milliseconds)/1e3,e=un(this._days),n=un(this._months),i=b(t/60),r=b(i/60);t%=60,i%=60;var o=b(n/12),a=n%=12,n=e,e=r,r=i,i=t,t=this.asSeconds();return t?(t<0?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(n?n+"D":"")+(e||r||i?"T":"")+(e?e+"H":"")+(r?r+"M":"")+(i?i+"S":""):"P0D"}rt=Ce.prototype;rt.abs=function(){var t=this._data;return this._milliseconds=Qe(this._milliseconds),this._days=Qe(this._days),this._months=Qe(this._months),t.milliseconds=Qe(t.milliseconds),t.seconds=Qe(t.seconds),t.minutes=Qe(t.minutes),t.hours=Qe(t.hours),t.months=Qe(t.months),t.years=Qe(t.years),this},rt.add=function(t,e){return Ke(this,t,e,1)},rt.subtract=function(t,e){return Ke(this,t,e,-1)},rt.as=function(t){var e,n,i=this._milliseconds;if("month"===(t=E(t))||"year"===t)return e=this._days+i/864e5,n=this._months+en(e),"month"===t?n:n/12;switch(e=this._days+Math.round(nn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},rt.asMilliseconds=Q,rt.asSeconds=X,rt.asMinutes=q,rt.asHours=nt,rt.asDays=J,rt.asWeeks=et,rt.asMonths=tt,rt.asYears=ut,rt.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)},rt._bubble=function(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data;return 0<=t&&0<=e&&0<=n||t<=0&&e<=0&&n<=0||(t+=864e5*tn(nn(n)+e),n=e=0),i.milliseconds=t%1e3,t=b(t/1e3),i.seconds=t%60,t=b(t/60),i.minutes=t%60,t=b(t/60),i.hours=t%24,e+=b(t/24),n+=t=b(en(e)),e-=tn(nn(t)),t=b(n/12),n%=12,i.days=e,i.months=n,i.years=t,this},rt.get=function(t){return this[(t=E(t))+"s"]()},rt.milliseconds=Nt,rt.seconds=Ct,rt.minutes=Xt,rt.hours=Vt,rt.days=it,rt.weeks=function(){return b(this.days()/7)},rt.months=Zt,rt.years=Rt,rt.humanize=function(t){var e=this.localeData(),n=ln(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},rt.toISOString=cn,rt.toString=cn,rt.toJSON=cn,rt.locale=He,rt.localeData=We,rt.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",cn),rt.lang=Lt,U("X",0,0,"unix"),U("x",0,0,"valueOf"),ht("x",at),ht("X",/[+-]?\d+(\.\d{1,3})?/),gt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),gt("x",function(t,e,n){n._d=new Date(w(t))}),h.version="2.17.1",t=Ae,h.fn=$,h.min=function(){return Ie("isBefore",[].slice.call(arguments,0))},h.max=function(){return Ie("isAfter",[].slice.call(arguments,0))},h.now=function(){return Date.now?Date.now():+new Date},h.utc=c,h.unix=function(t){return Ae(1e3*t)},h.months=function(t,e){return Je(t,e,"months")},h.isDate=i,h.locale=le,h.invalid=g,h.duration=je,h.isMoment=_,h.weekdays=function(t,e,n){return $e(t,e,n,"weekdays")},h.parseZone=function(){return Ae.apply(null,arguments).parseZone()},h.localeData=ce,h.isDuration=Se,h.monthsShort=function(t,e){return Je(t,e,"monthsShort")},h.weekdaysMin=function(t,e,n){return $e(t,e,n,"weekdaysMin")},h.defineLocale=ue,h.updateLocale=function(t,e){var n;return null!=e?(n=ie,(e=new D(e=T(n=null!=re[t]?re[t]._config:n,e))).parentLocale=re[t],re[t]=e,le(t)):null!=re[t]&&(null!=re[t].parentLocale?re[t]=re[t].parentLocale:null!=re[t]&&delete re[t]),re[t]},h.locales=function(){return N(re)},h.weekdaysShort=function(t,e,n){return $e(t,e,n,"weekdaysShort")},h.normalizeUnits=E,h.relativeTimeRounding=function(t){return void 0===t?an:"function"==typeof t&&(an=t,!0)},h.relativeTimeThreshold=function(t,e){return void 0!==sn[t]&&(void 0===e?sn[t]:(sn[t]=e,!0))},h.calendarFormat=function(t,e){return(e=t.diff(e,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},h.prototype=$,h.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}}),h.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}});function hn(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5}var dn={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},fn={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},at=function(a){return function(t,e,n,i){var r=hn(t),o=fn[a][hn(t)];return(o=2===r?o[e?0:1]:o).replace(/%d/i,t)}},$=["","","","","","","","","","","",""];h.defineLocale("ar-ly",{months:$,monthsShort:$,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:at("s"),m:at("m"),mm:at("m"),h:at("h"),hh:at("h"),d:at("d"),dd:at("d"),M:at("M"),MM:at("M"),y:at("y"),yy:at("y")},preparse:function(t){return t.replace(/\u200f/g,"").replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return dn[t]}).replace(/,/g,"")},week:{dow:6,doy:12}}),h.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});var pn={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},gn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};h.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return gn[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return pn[t]}).replace(/,/g,"")},week:{dow:0,doy:6}}),h.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});function mn(t){return 0===t?0:1===t?1:2===t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5}var yn={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},vn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},xn={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},$=function(a){return function(t,e,n,i){var r=mn(t),o=xn[a][mn(t)];return(o=2===r?o[e?0:1]:o).replace(/%d/i,t)}},at=["  "," "," "," "," "," "," "," "," ","  ","  ","  "];h.defineLocale("ar",{months:at,monthsShort:at,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:$("s"),m:$("m"),mm:$("m"),h:$("h"),hh:$("h"),d:$("d"),dd:$("d"),M:$("M"),MM:$("M"),y:$("y"),yy:$("y")},preparse:function(t){return t.replace(/\u200f/g,"").replace(/[]/g,function(t){return vn[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return yn[t]}).replace(/,/g,"")},week:{dow:6,doy:12}});var _n={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};function bn(t,e,n){return"m"===n?e?"":"":"h"===n?e?"":"":t+" "+(t=+t,n=(n={mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[n]).split("_"),t%10==1&&t%100!=11?n[0]:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?n[1]:n[2])}h.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(t){return/^(gndz|axam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},ordinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var e=t%10;return t+(_n[e]||_n[t%100-e]||_n[100<=t?100:null])},week:{dow:1,doy:7}}),h.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:bn,mm:bn,h:bn,hh:bn,d:"",dd:bn,M:"",MM:bn,y:"",yy:bn},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}}),h.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0==n?t+"-":10<n&&n<20?t+"-":1==e?t+"-":2==e?t+"-":7==e||8==e?t+"-":t+"-"},week:{dow:1,doy:7}});var wn={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Mn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};h.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return Mn[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return wn[t]})},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&4<=t||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});var An={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},In={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function Cn(t,e,n){return t+" "+(n={mm:"munutenn",MM:"miz",dd:"devezh"}[n],2!==t?n:function(t){var e={m:"v",b:"v",d:"z"};return void 0!==e[t.charAt(0)]?e[t.charAt(0)]+t.substring(1):t}(n))}function Sn(t,e,n){var i=t+" ";switch(n){case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1!==t&&(2===t||3===t||4===t)?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return i+=1===t?"dan":"dana";case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return i+=1!==t&&(2===t||3===t||4===t)?"godine":"godina"}}h.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return In[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return An[t]})},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&4<=t||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}}),h.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:Cn,h:"un eur",hh:"%d eur",d:"un devezh",dd:Cn,M:"ur miz",MM:Cn,y:"ur bloaz",yy:function(t){switch(function t(e){if(9<e)return t(e%10);return e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},ordinalParse:/\d{1,2}(a|vet)/,ordinal:function(t){return t+(1===t?"a":"vet")},week:{dow:1,doy:4}}),h.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Sn,mm:Sn,h:Sn,hh:Sn,d:"dan",dd:Sn,M:"mjesec",MM:Sn,y:"godinu",yy:Sn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),h.defineLocale("ca",{months:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){return t+("w"!==e&&"W"!==e?1===t?"r":2===t?"n":3===t?"r":4===t?"t":"":"a")},week:{dow:1,doy:4}});at="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),$="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");function Tn(t){return 1<t&&t<5&&1!=~~(t/10)}function Dn(t,e,n,i){var r=t+" ";switch(n){case"s":return e||i?"pr sekund":"pr sekundami";case"m":return e?"minuta":i?"minutu":"minutou";case"mm":return e||i?r+(Tn(t)?"minuty":"minut"):r+"minutami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?r+(Tn(t)?"hodiny":"hodin"):r+"hodinami";case"d":return e||i?"den":"dnem";case"dd":return e||i?r+(Tn(t)?"dny":"dn"):r+"dny";case"M":return e||i?"msc":"mscem";case"MM":return e||i?r+(Tn(t)?"msce":"msc"):r+"msci";case"y":return e||i?"rok":"rokem";case"yy":return e||i?r+(Tn(t)?"roky":"let"):r+"lety"}}function Nn(t,e,n,i){t={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?t[n][0]:t[n][1]}function Ln(t,e,n,i){t={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?t[n][0]:t[n][1]}h.defineLocale("cs",{months:at,monthsShort:$,monthsParse:function(t,e){for(var n=[],i=0;i<12;i++)n[i]=new RegExp("^"+t[i]+"$|^"+e[i]+"$","i");return n}(at,$),shortMonthsParse:function(t){for(var e=[],n=0;n<12;n++)e[n]=new RegExp("^"+t[n]+"$","i");return e}($),longMonthsParse:function(t){for(var e=[],n=0;n<12;n++)e[n]=new RegExp("^"+t[n]+"$","i");return e}(at),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:Dn,m:Dn,mm:Dn,h:Dn,hh:Dn,d:Dn,dd:Dn,M:Dn,MM:Dn,y:Dn,yy:Dn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){return t+(/$/i.exec(t)?"":/$/i.exec(t)?"":"")},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}}),h.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return 20<t?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":0<t&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}}),h.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Nn,mm:"%d Minuten",h:Nn,hh:"%d Stunden",d:Nn,dd:Nn,M:Nn,MM:Nn,y:Nn,yy:Nn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:Ln,mm:"%d Minuten",h:Ln,hh:"%d Stunden",d:Ln,dd:Ln,M:Ln,MM:Ln,y:Ln,yy:Ln},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});$=["","","","","","","","","","","",""],at=["","","","","","",""];h.defineLocale("dv",{months:$,monthsShort:$,weekdays:at,weekdaysShort:at,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:7,doy:12}}),h.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return(/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl:this._monthsNominativeEl)[t.month()]},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,n){return 11<t?n?"":"":n?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){return 6!==this.day()?"[ ] dddd [{}] LT":"[ ] dddd [{}] LT"},sameElse:"L"},calendar:function(t,e){var n=this._calendarEl[t],t=e&&e.hours();return(n=S(n)?n.apply(e):n).replace("{}",t%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),h.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),h.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),h.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),h.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),h.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),h.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-an de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return 11<t?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var kn="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),En="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");h.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,e){return(/-MMM-/.test(e)?En:kn)[t.month()]},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});var On="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Pn="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");function zn(t,e,n,i){t={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?t[n][2]||t[n][1]:i?t[n][0]:t[n][1]}h.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,e){return(/-MMM-/.test(e)?Pn:On)[t.month()]},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),h.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:zn,m:zn,mm:zn,h:zn,hh:zn,d:zn,dd:"%d peva",M:zn,MM:zn,y:zn,yy:zn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var jn={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Yn={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};h.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,n){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,function(t){return Yn[t]}).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,function(t){return jn[t]}).replace(/,/g,"")},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});var Rn="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),Bn=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",Rn[7],Rn[8],Rn[9]];function Fn(t,e,n,i){var r="";switch(n){case"s":return i?"muutaman sekunnin":"muutama sekunti";case"m":return i?"minuutin":"minuutti";case"mm":r=i?"minuutin":"minuuttia";break;case"h":return i?"tunnin":"tunti";case"hh":r=i?"tunnin":"tuntia";break;case"d":return i?"pivn":"piv";case"dd":r=i?"pivn":"piv";break;case"M":return i?"kuukauden":"kuukausi";case"MM":r=i?"kuukauden":"kuukautta";break;case"y":return i?"vuoden":"vuosi";case"yy":r=i?"vuoden":"vuotta"}return n=i,r=((t=t)<10?(n?Bn:Rn)[t]:t)+" "+r}h.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:Fn,m:Fn,mm:Fn,h:Fn,hh:Fn,d:Fn,dd:Fn,M:Fn,MM:Fn,y:Fn,yy:Fn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(t){return t+(1===t?"er":"e")}}),h.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(t){return t+(1===t?"er":"e")},week:{dow:1,doy:4}}),h.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(t){return t+(1===t?"er":"")},week:{dow:1,doy:4}});var Hn="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),Wn="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");h.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,e){return(/-MMM-/.test(e)?Wn:Hn)[t.month()]},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}});h.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},ordinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}}),h.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),h.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10==0&&10!==t?t+" ":t+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(t){return/^("| |)$/.test(t)},meridiem:function(t,e,n){return t<5?" ":t<10?"":t<12?n?'"':" ":t<18?n?'"':" ":""}});var Gn={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Un={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function Zn(t,e,n){var i=t+" ";switch(n){case"m":return e?"jedna minuta":"jedne minute";case"mm":return i+=1!==t&&(2===t||3===t||4===t)?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return i+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return i+=1===t?"dan":"dana";case"MM":return i+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return i+=1!==t&&(2===t||3===t||4===t)?"godine":"godina"}}h.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return Un[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Gn[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?10<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}}),h.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Zn,mm:Zn,h:Zn,hh:Zn,d:"dan",dd:Zn,M:"mjesec",MM:Zn,y:"godinu",yy:Zn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Vn="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function Xn(t,e,n,i){var r=t;switch(n){case"s":return i||e?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(i||e?" perc":" perce");case"mm":return r+(i||e?" perc":" perce");case"h":return"egy"+(i||e?" ra":" rja");case"hh":return r+(i||e?" ra":" rja");case"d":return"egy"+(i||e?" nap":" napja");case"dd":return r+(i||e?" nap":" napja");case"M":return"egy"+(i||e?" hnap":" hnapja");case"MM":return r+(i||e?" hnap":" hnapja");case"y":return"egy"+(i||e?" v":" ve");case"yy":return r+(i||e?" v":" ve")}return""}function qn(t){return(t?"":"[mlt] ")+"["+Vn[this.day()]+"] LT[-kor]"}function Jn(t){return t%100==11||t%10!=1}function $n(t,e,n,i){var r=t+" ";switch(n){case"s":return e||i?"nokkrar sekndur":"nokkrum sekndum";case"m":return e?"mnta":"mntu";case"mm":return Jn(t)?r+(e||i?"mntur":"mntum"):e?r+"mnta":r+"mntu";case"hh":return Jn(t)?r+(e||i?"klukkustundir":"klukkustundum"):r+"klukkustund";case"d":return e?"dagur":i?"dag":"degi";case"dd":return Jn(t)?e?r+"dagar":r+(i?"daga":"dgum"):e?r+"dagur":r+(i?"dag":"degi");case"M":return e?"mnuur":i?"mnu":"mnui";case"MM":return Jn(t)?e?r+"mnuir":r+(i?"mnui":"mnuum"):e?r+"mnuur":r+(i?"mnu":"mnui");case"y":return e||i?"r":"ri";case"yy":return Jn(t)?r+(e||i?"r":"rum"):r+(e||i?"r":"ri")}}h.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return qn.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return qn.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:Xn,m:Xn,mm:Xn,h:Xn,hh:Xn,d:Xn,dd:Xn,M:Xn,MM:Xn,y:Xn,yy:Xn},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},ordinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}}),h.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?11<=t?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),h.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:$n,m:$n,mm:$n,h:"klukkustund",hh:$n,d:$n,dd:$n,M:$n,MM:$n,y:$n,yy:$n},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"Do_Lu_Ma_Me_Gi_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0!==this.day()?"[lo scorso] dddd [alle] LT":"[la scorsa] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),h.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",LTS:"Ahms",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhm",LLLL:"YYYYMDAhm dddd"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},ordinalParse:/\d{1,2}/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}}),h.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?11<=t?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),h.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return/(|||)/.test(t)?t.replace(/$/,""):t+""},past:function(t){return/(||||)/.test(t)?t.replace(/(|)$/," ")://.test(t)?t.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20==0||t%100==0?"-"+t:t+"-"},week:{dow:1,doy:7}});var Qn={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};h.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-(|)/,ordinal:function(t){return t+(Qn[t]||Qn[t%10]||Qn[100<=t?100:null])},week:{dow:1,doy:7}}),h.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}}),h.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h m",LTS:"A h m s",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h m",LLLL:"YYYY MMMM D dddd A h m"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""}});var Kn={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};function ti(t,e,n,i){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?r[n][0]:r[n][1]}function ei(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return 0==e?ei(t/10):ei(e)}if(t<1e4){for(;10<=t;)t/=10;return ei(t)}return ei(t/=1e3)}h.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-(|||)/,ordinal:function(t){return t+(Kn[t]||Kn[t%10]||Kn[100<=t?100:null])},week:{dow:1,doy:7}}),h.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return ei(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return ei(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",m:ti,mm:"%d Minutten",h:ti,hh:"%d Stonnen",d:ti,dd:"%d Deeg",M:ti,MM:"%d Mint",y:ti,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},ordinalParse:/()\d{1,2}/,ordinal:function(t){return""+t}});var ni={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function ii(t,e,n,i){return e?oi(n)[0]:i?oi(n)[1]:oi(n)[2]}function ri(t){return t%10==0||10<t&&t<20}function oi(t){return ni[t].split("_")}function ai(t,e,n,i){var r=t+" ";return 1===t?r+ii(0,e,n[0],i):e?r+(ri(t)?oi(n)[1]:oi(n)[0]):i?r+oi(n)[1]:r+(ri(t)?oi(n)[1]:oi(n)[2])}h.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(t,e,n,i){return e?"kelios sekunds":i?"keli sekundi":"kelias sekundes"},m:ii,mm:ai,h:ii,hh:ai,d:ii,dd:ai,M:ii,MM:ai,y:ii,yy:ai},ordinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}});var si={m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function li(t,e,n){return n?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function ui(t,e,n){return t+" "+li(si[n],t,e)}function ci(t,e,n){return li(si[n],t,e)}h.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(t,e){return e?"daas sekundes":"dam sekundm"},m:ci,mm:ui,h:ci,hh:ui,d:ci,dd:ui,M:ci,MM:ui,y:ci,yy:ui},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var hi={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&t<=4?e[1]:e[2]},translate:function(t,e,n){var i=hi.words[n];return 1===n.length?e?i[0]:i[1]:t+" "+hi.correctGrammaticalCase(t,i)}};h.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:hi.translate,mm:hi.translate,h:hi.translate,hh:hi.translate,d:"dan",dd:hi.translate,M:"mjesec",MM:hi.translate,y:"godinu",yy:hi.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),h.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),h.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0==n?t+"-":10<n&&n<20?t+"-":1==e?t+"-":2==e?t+"-":7==e||8==e?t+"-":t+"-"},week:{dow:1,doy:7}}),h.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&4<=t||" "===e||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?" ":t<20?"":""}});var di={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},fi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function pi(t,e,n,i){var r="";if(e)switch(n){case"s":r=" ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}else switch(n){case"s":r=" ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d "}return r.replace(/%d/i,t)}h.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:pi,m:pi,mm:pi,h:pi,hh:pi,d:pi,dd:pi,M:pi,MM:pi,y:pi,yy:pi},preparse:function(t){return t.replace(/[]/g,function(t){return fi[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return di[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?10<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}}),h.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?11<=t?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),h.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?11<=t?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});var gi={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},mi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};h.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return mi[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return gi[t]})},week:{dow:1,doy:4}}),h.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var yi={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},vi={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};h.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(t){return t.replace(/[]/g,function(t){return vi[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return yi[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?10<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"":t<12?"":t<16?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});var xi="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),_i="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),$=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],at=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;h.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,e){return(/-MMM-/.test(e)?_i:xi)[t.month()]},monthsRegex:at,monthsShortRegex:at,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:$,longMonthsParse:$,shortMonthsParse:$,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}});var bi="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),wi="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),at=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],$=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;h.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,e){return(/-MMM-/.test(e)?wi:bi)[t.month()]},monthsRegex:$,monthsShortRegex:$,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:at,longMonthsParse:at,shortMonthsParse:at,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||20<=t?"ste":"de")},week:{dow:1,doy:4}}),h.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Mi={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Ai={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};h.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,function(t){return Ai[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return Mi[t]})},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?10<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}});var Ii="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),Ci="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function Si(t){return t%10<5&&1<t%10&&~~(t/10)%10!=1}function Ti(t,e,n){var i=t+" ";switch(n){case"m":return e?"minuta":"minut";case"mm":return i+(Si(t)?"minuty":"minut");case"h":return e?"godzina":"godzin";case"hh":return i+(Si(t)?"godziny":"godzin");case"MM":return i+(Si(t)?"miesice":"miesicy");case"yy":return i+(Si(t)?"lata":"lat")}}function Di(t,e,n){return t+(20<=t%100||100<=t&&t%100==0?" de ":" ")+{mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[n]}function Ni(t,e,n){return"m"===n?e?"":"":t+" "+(t=+t,n=(n={mm:e?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[n]).split("_"),t%10==1&&t%100!=11?n[0]:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?n[1]:n[2])}h.defineLocale("pl",{months:function(t,e){return""===e?"("+Ci[t.month()]+"|"+Ii[t.month()]+")":(/D MMMM/.test(e)?Ci:Ii)[t.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:Ti,mm:Ti,h:Ti,hh:Ti,d:"1 dzie",dd:"%d dni",M:"miesic",MM:Ti,y:"rok",yy:Ti},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"}),h.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),h.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:Di,h:"o or",hh:Di,d:"o zi",dd:Di,M:"o lun",MM:Di,y:"un an",yy:Di},week:{dow:1,doy:7}});$=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];h.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:$,longMonthsParse:$,shortMonthsParse:$,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:Ni,mm:Ni,h:"",hh:Ni,d:"",dd:Ni,M:"",MM:Ni,y:"",yy:Ni},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:7}}),h.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},ordinalParse:/\d{1,2} /,ordinal:function(t){return t+" "},meridiemParse:/ | |.|../,isPM:function(t){return".."===t||" "===t},meridiem:function(t,e,n){return 11<t?n?"..":" ":n?"..":" "}});at="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),$="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function Li(t){return 1<t&&t<5}function ki(t,e,n,i){var r=t+" ";switch(n){case"s":return e||i?"pr seknd":"pr sekundami";case"m":return e?"minta":i?"mintu":"mintou";case"mm":return e||i?r+(Li(t)?"minty":"mint"):r+"mintami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?r+(Li(t)?"hodiny":"hodn"):r+"hodinami";case"d":return e||i?"de":"dom";case"dd":return e||i?r+(Li(t)?"dni":"dn"):r+"dami";case"M":return e||i?"mesiac":"mesiacom";case"MM":return e||i?r+(Li(t)?"mesiace":"mesiacov"):r+"mesiacmi";case"y":return e||i?"rok":"rokom";case"yy":return e||i?r+(Li(t)?"roky":"rokov"):r+"rokmi"}}function Ei(t,e,n,i){var r=t+" ";switch(n){case"s":return e||i?"nekaj sekund":"nekaj sekundami";case"m":return e?"ena minuta":"eno minuto";case"mm":return r+=1===t?e?"minuta":"minuto":2===t?e||i?"minuti":"minutama":t<5?e||i?"minute":"minutami":e||i?"minut":"minutami";case"h":return e?"ena ura":"eno uro";case"hh":return r+=1===t?e?"ura":"uro":2===t?e||i?"uri":"urama":t<5?e||i?"ure":"urami":e||i?"ur":"urami";case"d":return e||i?"en dan":"enim dnem";case"dd":return r+=1===t?e||i?"dan":"dnem":2===t?e||i?"dni":"dnevoma":e||i?"dni":"dnevi";case"M":return e||i?"en mesec":"enim mesecem";case"MM":return r+=1===t?e||i?"mesec":"mesecem":2===t?e||i?"meseca":"mesecema":t<5?e||i?"mesece":"meseci":e||i?"mesecev":"meseci";case"y":return e||i?"eno leto":"enim letom";case"yy":return r+=1===t?e||i?"leto":"letom":2===t?e||i?"leti":"letoma":t<5?e||i?"leta":"leti":e||i?"let":"leti"}}h.defineLocale("sk",{months:at,monthsShort:$,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:ki,m:ki,mm:ki,h:ki,hh:ki,d:ki,dd:ki,M:ki,MM:ki,y:ki,yy:ki},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:Ei,m:Ei,mm:Ei,h:Ei,hh:Ei,d:Ei,dd:Ei,M:Ei,MM:Ei,y:Ei,yy:Ei},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),h.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Oi={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&t<=4?e[1]:e[2]},translate:function(t,e,n){var i=Oi.words[n];return 1===n.length?e?i[0]:i[1]:t+" "+Oi.correctGrammaticalCase(t,i)}};h.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:Oi.translate,mm:Oi.translate,h:Oi.translate,hh:Oi.translate,d:"",dd:Oi.translate,M:"",MM:Oi.translate,y:"",yy:Oi.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Pi={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:2<=t&&t<=4?e[1]:e[2]},translate:function(t,e,n){var i=Pi.words[n];return 1===n.length?e?i[0]:i[1]:t+" "+Pi.correctGrammaticalCase(t,i)}};h.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:Pi.translate,mm:Pi.translate,h:Pi.translate,hh:Pi.translate,d:"dan",dd:Pi.translate,M:"mesec",MM:Pi.translate,y:"godinu",yy:Pi.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),h.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?11<=t?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),h.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(t){var e=t%10;return t+(1!=~~(t%100/10)&&(1==e||2==e)?"a":"e")},week:{dow:1,doy:4}}),h.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var zi={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},ji={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};h.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:function(t){return t+""},preparse:function(t){return t.replace(/[]/g,function(t){return ji[t]})},postformat:function(t){return t.replace(/\d/g,function(t){return zi[t]})},meridiemParse:/|||||/,meridiem:function(t,e,n){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e||""===e&&10<=t?t:t+12},week:{dow:0,doy:6}}),h.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?10<=t?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}}),h.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),h.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),h.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}});var Yi="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function Ri(t,e,n,i){var r=function(t){var e=Math.floor(t%1e3/100),n=Math.floor(t%100/10),i=t%10,t="";0<e&&(t+=Yi[e]+"vatlh");0<n&&(t+=(""!==t?" ":"")+Yi[n]+"maH");0<i&&(t+=(""!==t?" ":"")+Yi[i]);return""===t?"pagh":t}(t);switch(n){case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}h.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"},past:function(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"},s:"puS lup",m:"wa tup",mm:Ri,h:"wa rep",hh:Ri,d:"wa jaj",dd:Ri,M:"wa jar",MM:Ri,y:"wa DIS",yy:Ri},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Bi={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};function Fi(t,e,n,i){t={s:["viensas secunds","'iensas secunds"],m:["'n mut","'iens mut"],mm:[t+" muts",t+" muts"],h:["'n ora","'iensa ora"],hh:[t+" oras",t+" oras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return i||e?t[n][0]:t[n][1]}function Hi(t,e,n){return"m"===n?e?"":"":"h"===n?e?"":"":t+" "+(t=+t,n=(n={mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[n]).split("_"),t%10==1&&t%100!=11?n[0]:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?n[1]:n[2])}function Wi(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}return h.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(t){if(0===t)return t+"'nc";var e=t%10;return t+(Bi[e]||Bi[t%100-e]||Bi[100<=t?100:null])},week:{dow:1,doy:7}}),h.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return 11<t?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:Fi,m:Fi,mm:Fi,h:Fi,hh:Fi,d:Fi,dd:Fi,M:Fi,MM:Fi,y:Fi,yy:Fi},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),h.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),h.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}}),h.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(t,e){return{nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")}[/(\[[]\]) ?dddd/.test(e)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:Wi("[ "),nextDay:Wi("[ "),lastDay:Wi("[ "),nextWeek:Wi("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return Wi("[] dddd [").call(this);case 1:case 2:case 4:return Wi("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:Hi,mm:Hi,h:"",hh:Hi,d:"",dd:Hi,M:"",MM:Hi,y:"",yy:Hi},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},ordinalParse:/\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}}),h.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}}),h.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},ordinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}}),h.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")},week:{dow:1,doy:4}}),h.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},ordinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}}),h.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDAhmm",llll:"YYYYMMMDddddAhmm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e||""!==e&&""!==e&&11<=t?t:t+12},meridiem:function(t,e,n){e=100*t+e;return e<600?"":e<900?"":e<1130?"":e<1230?"":e<1800?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var t=h().startOf("week"),t=7<=this.diff(t,"days")?"[]":"[]";return 0===this.minutes()?t+"dddAh":t+"dddAhmm"},lastWeek:function(){var t=h().startOf("week"),t=this.unix()<t.unix()?"[]":"[]";return 0===this.minutes()?t+"dddAh":t+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}}),h.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDAhmm",llll:"YYYYMMMDddddAhmm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?11<=t?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){e=100*t+e;return e<600?"":e<900?"":e<1130?"":e<1230?"":e<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),h.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDAhmm",llll:"YYYYMMMDddddAhmm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?11<=t?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){e=100*t+e;return e<600?"":e<900?"":e<1130?"":e<1230?"":e<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),h.locale("en"),h});var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(t,e,n){for(var i=(t=t instanceof String?String(t):t).length,r=0;r<i;r++){var o=t[r];if(e.call(n,o,r,t))return{i:r,v:o}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return("undefined"==typeof window||window!==t)&&"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,n,i){if(e){for(n=$jscomp.global,t=t.split("."),i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.find",function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).v}},"es6","es3"),function(n){"function"==typeof define&&define.amd?define(["jquery"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t=t||window,e=e||("undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e,t,t.document)}:n(jQuery,window,document)}(function(k,y,x,E){function a(n){var i,r,o={};k.each(n,function(t,e){(i=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(r=t.replace(i[0],i[2].toLowerCase()),o[r]=t,"o"===i[1]&&a(n[t]))}),n._hungarianMap=o}function _(n,i,r){var o;n._hungarianMap||a(n),k.each(i,function(t,e){(o=n._hungarianMap[t])===E||!r&&i[o]!==E||("o"===o.charAt(0)?(i[o]||(i[o]={}),k.extend(!0,i[o],i[t]),_(n[o],i[o],r)):i[o]=i[t])})}function b(t){var e,n=Qt.defaults.oLanguage,i=n.sDecimal;i&&Ft(i),t&&(e=t.sZeroRecords,!t.sEmptyTable&&e&&"No data available in table"===n.sEmptyTable&&kt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&e&&"Loading..."===n.sLoadingRecords&&kt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&i!==t&&Ft(t))}function w(t){if(le(t,"ordering","bSort"),le(t,"orderMulti","bSortMulti"),le(t,"orderClasses","bSortClasses"),le(t,"orderCellsTop","bSortCellsTop"),le(t,"order","aaSorting"),le(t,"orderFixed","aaSortingFixed"),le(t,"paging","bPaginate"),le(t,"pagingType","sPaginationType"),le(t,"pageLength","iDisplayLength"),le(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":""),t=t.aoSearchCols)for(var e=0,n=t.length;e<n;e++)t[e]&&_(Qt.models.oSearch,t[e])}function M(t){le(t,"orderable","bSortable"),le(t,"orderData","aDataSort"),le(t,"orderSequence","asSorting"),le(t,"orderDataType","sortDataType");var e=t.aDataSort;"number"!=typeof e||k.isArray(e)||(t.aDataSort=[e])}function A(t){var e,n,i,r;Qt.__browser||(Qt.__browser=e={},r=(i=(n=k("<div/>").css({position:"fixed",top:0,left:-1*k(y).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(k("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(k("<div/>").css({width:"100%",height:10}))).appendTo("body")).children()).children(),e.barWidth=i[0].offsetWidth-i[0].clientWidth,e.bScrollOversize=100===r[0].offsetWidth&&100!==i[0].clientWidth,e.bScrollbarLeft=1!==Math.round(r.offset().left),e.bBounding=!!n[0].getBoundingClientRect().width,n.remove()),k.extend(t.oBrowser,Qt.__browser),t.oScroll.iBarWidth=Qt.__browser.barWidth}function n(t,e,n,i,r,o){var a,s=!1;for(n!==E&&(a=n,s=!0);i!==r;)t.hasOwnProperty(i)&&(a=s?e(a,t[i],i,t):t[i],s=!0,i+=o);return a}function I(t,e){var n=Qt.defaults.column,i=t.aoColumns.length,n=k.extend({},Qt.models.oColumn,n,{nTh:e||x.createElement("th"),sTitle:n.sTitle||(e?e.innerHTML:""),aDataSort:n.aDataSort||[i],mData:n.mData||i,idx:i});t.aoColumns.push(n),(n=t.aoPreSearchCols)[i]=k.extend({},Qt.models.oSearch,n[i]),C(t,i,k(e).data())}function C(t,e,n){e=t.aoColumns[e];var i,r=t.oClasses,o=k(e.nTh);e.sWidthOrig||(e.sWidthOrig=o.attr("width")||null,(i=(o.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/))&&(e.sWidthOrig=i[1])),n!==E&&null!==n&&(M(n),_(Qt.defaults.column,n,!0),n.mDataProp===E||n.mData||(n.mData=n.mDataProp),n.sType&&(e._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className),n.sClass&&o.addClass(n.sClass),k.extend(e,n),kt(e,n,"sWidth","sWidthOrig"),n.iDataSort!==E&&(e.aDataSort=[n.iDataSort]),kt(e,n,"aDataSort"));var a=e.mData,s=z(a),l=e.mRender?z(e.mRender):null;n=function(t){return"string"==typeof t&&-1!==t.indexOf("@")},e._bAttrSrc=k.isPlainObject(a)&&(n(a.sort)||n(a.type)||n(a.filter)),e._setter=null,e.fnGetData=function(t,e,n){var i=s(t,e,E,n);return l&&e?l(i,e,t,n):i},e.fnSetData=function(t,e,n){return p(a)(t,e,n)},"number"!=typeof a&&(t._rowReadObject=!0),t.oFeatures.bSort||(e.bSortable=!1,o.addClass(r.sSortableNone)),t=-1!==k.inArray("asc",e.asSorting),n=-1!==k.inArray("desc",e.asSorting),e.bSortable&&(t||n)?t&&!n?(e.sSortingClass=r.sSortableAsc,e.sSortingClassJUI=r.sSortJUIAscAllowed):!t&&n?(e.sSortingClass=r.sSortableDesc,e.sSortingClassJUI=r.sSortJUIDescAllowed):(e.sSortingClass=r.sSortable,e.sSortingClassJUI=r.sSortJUI):(e.sSortingClass=r.sSortableNone,e.sSortingClassJUI="")}function O(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;mt(t);for(var n=0,i=e.length;n<i;n++)e[n].nTh.style.width=e[n].sWidth}""===(e=t.oScroll).sY&&""===e.sX||pt(t),zt(t,null,"column-sizing",[t])}function P(t,e){return"number"==typeof(t=S(t,"bVisible"))[e]?t[e]:null}function u(t,e){return t=S(t,"bVisible"),-1!==(e=k.inArray(e,t))?e:null}function v(t){var n=0;return k.each(t.aoColumns,function(t,e){e.bVisible&&"none"!==k(e.nTh).css("display")&&n++}),n}function S(t,n){var i=[];return k.map(t.aoColumns,function(t,e){t[n]&&i.push(e)}),i}function s(t){for(var e=t.aoColumns,n=t.aoData,i=Qt.ext.type.detect,r=0,o=e.length;r<o;r++){var a=e[r],s=[];if(!a.sType&&a._sManualType)a.sType=a._sManualType;else if(!a.sType){for(var l=0,u=i.length;l<u;l++){for(var c=0,h=n.length;c<h;c++){s[c]===E&&(s[c]=L(t,c,r,"type"));var d=i[l](s[c],t);if(!d&&l!==i.length-1)break;if("html"===d)break}if(d){a.sType=d;break}}a.sType||(a.sType="string")}}}function T(t,e,n,i){var r,o=t.aoColumns;if(e)for(r=e.length-1;0<=r;r--)for(var a=e[r],s=a.targets!==E?a.targets:a.aTargets,l=0,u=(s=!k.isArray(s)?[s]:s).length;l<u;l++)if("number"==typeof s[l]&&0<=s[l]){for(;o.length<=s[l];)I(t);i(s[l],a)}else if("number"==typeof s[l]&&s[l]<0)i(o.length+s[l],a);else if("string"==typeof s[l])for(var c=0,h=o.length;c<h;c++)"_all"!=s[l]&&!k(o[c].nTh).hasClass(s[l])||i(c,a);if(n)for(r=0,t=n.length;r<t;r++)i(r,n[r])}function D(t,e,n,i){var r=t.aoData.length,o=k.extend(!0,{},Qt.models.oRow,{src:n?"dom":"data",idx:r});o._aData=e,t.aoData.push(o);for(var a=t.aoColumns,s=0,l=a.length;s<l;s++)a[s].sType=null;return t.aiDisplayMaster.push(r),(e=t.rowIdFn(e))!==E&&(t.aIds[e]=o),!n&&t.oFeatures.bDeferRender||m(t,r,n,i),r}function N(n,t){var i;return(t=!(t instanceof k)?k(t):t).map(function(t,e){return i=d(n,e),D(n,i.data,e,i.cells)})}function L(t,e,n,i){var r=t.iDraw,o=t.aoColumns[n],a=t.aoData[e]._aData,s=o.sDefaultContent,l=o.fnGetData(a,i,{settings:t,row:e,col:n});if(l===E)return t.iDrawError!=r&&null===s&&(Lt(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=r),s;if(l!==a&&null!==l||null===s||i===E){if("function"==typeof l)return l.call(a)}else l=s;return null===l&&"display"==i?"":l}function i(t,e,n,i){t.aoColumns[n].fnSetData(t.aoData[e]._aData,i,{settings:t,row:e,col:n})}function c(t){return k.map(t.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function z(r){if(k.isPlainObject(r)){var o={};return k.each(r,function(t,e){e&&(o[t]=z(e))}),function(t,e,n,i){var r=o[e]||o._;return r!==E?r(t,e,n,i):t}}if(null===r)return function(t){return t};if("function"==typeof r)return function(t,e,n,i){return r(t,e,n,i)};if("string"!=typeof r||-1===r.indexOf(".")&&-1===r.indexOf("[")&&-1===r.indexOf("("))return function(t,e){return t[r]};function s(t,e,n){if(""!==n)for(var i=c(n),r=0,o=i.length;r<o;r++){n=i[r].match(ue);var a=i[r].match(ce);if(n){if(i[r]=i[r].replace(ue,""),""!==i[r]&&(t=t[i[r]]),a=[],i.splice(0,r+1),i=i.join("."),k.isArray(t))for(r=0,o=t.length;r<o;r++)a.push(s(t[r],e,i));t=""===(t=n[0].substring(1,n[0].length-1))?a:a.join(t);break}if(a)i[r]=i[r].replace(ce,""),t=t[i[r]]();else{if(null===t||t[i[r]]===E)return E;t=t[i[r]]}}return t}return function(t,e){return s(t,e,r)}}function p(i){if(k.isPlainObject(i))return p(i._);if(null===i)return function(){};if("function"==typeof i)return function(t,e,n){i(t,"set",e,n)};if("string"!=typeof i||-1===i.indexOf(".")&&-1===i.indexOf("[")&&-1===i.indexOf("("))return function(t,e){t[i]=e};function l(t,e,n){for(var i,r,o=(n=c(n))[n.length-1],a=0,s=n.length-1;a<s;a++){if(i=n[a].match(ue),r=n[a].match(ce),i){if(n[a]=n[a].replace(ue,""),t[n[a]]=[],(o=n.slice()).splice(0,a+1),i=o.join("."),k.isArray(e))for(r=0,s=e.length;r<s;r++)l(o={},e[r],i),t[n[a]].push(o);else t[n[a]]=e;return}r&&(n[a]=n[a].replace(ce,""),t=t[n[a]](e)),null!==t[n[a]]&&t[n[a]]!==E||(t[n[a]]={}),t=t[n[a]]}o.match(ce)?t[o.replace(ce,"")](e):t[o.replace(ue,"")]=e}return function(t,e){return l(t,e,i)}}function g(t){return ae(t.aoData,"_aData")}function l(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function h(t,e,n){for(var i=-1,r=0,o=t.length;r<o;r++)t[r]==e?i=r:t[r]>e&&t[r]--;-1!=i&&n===E&&t.splice(i,1)}function r(n,i,t,e){var r,o=n.aoData[i],a=function(t,e){for(;t.childNodes.length;)t.removeChild(t.firstChild);t.innerHTML=L(n,i,e,"display")};if("dom"!==t&&(t&&"auto"!==t||"dom"!==o.src)){var s=o.anCells;if(s)if(e!==E)a(s[e],e);else for(t=0,r=s.length;t<r;t++)a(s[t],t)}else o._aData=d(n,o,e,e===E?E:o._aData).data;if(o._aSortData=null,o._aFilterData=null,a=n.aoColumns,e!==E)a[e].sType=null;else{for(t=0,r=a.length;t<r;t++)a[t].sType=null;f(n,o)}}function d(t,e,n,i){var r,o,a=[],s=e.firstChild,l=0,u=t.aoColumns,c=t._rowReadObject;i=i!==E?i:c?{}:[];function h(t,e){var n;"string"!=typeof t||-1!==(n=t.indexOf("@"))&&(n=t.substring(n+1),p(t)(i,e.getAttribute(n)))}function d(t){n!==E&&n!==l||(r=u[l],o=k.trim(t.innerHTML),r&&r._bAttrSrc?(p(r.mData._)(i,o),h(r.mData.sort,t),h(r.mData.type,t),h(r.mData.filter,t)):c?(r._setter||(r._setter=p(r.mData)),r._setter(i,o)):i[l]=o),l++}if(s)for(;s;){var f=s.nodeName.toUpperCase();"TD"!=f&&"TH"!=f||(d(s),a.push(s)),s=s.nextSibling}else for(s=0,f=(a=e.anCells).length;s<f;s++)d(a[s]);return(e=e.firstChild?e:e.nTr)&&(e=e.getAttribute("id"))&&p(t.rowId)(i,e),{data:i,cells:a}}function m(t,e,n,i){var r,o=t.aoData[e],a=o._aData,s=[];if(null===o.nTr){var l=n||x.createElement("tr");o.nTr=l,o.anCells=s,l._DT_RowIndex=e,f(t,o);for(var u=0,c=t.aoColumns.length;u<c;u++){var h=t.aoColumns[u],d=(r=!n)?x.createElement(h.sCellType):i[u];d._DT_CellIndex={row:e,column:u},s.push(d),!r&&(n&&!h.mRender&&h.mData===u||k.isPlainObject(h.mData)&&h.mData._===u+".display")||(d.innerHTML=L(t,e,u,"display")),h.sClass&&(d.className+=" "+h.sClass),h.bVisible&&!n?l.appendChild(d):!h.bVisible&&n&&d.parentNode.removeChild(d),h.fnCreatedCell&&h.fnCreatedCell.call(t.oInstance,d,L(t,e,u),a,e,u)}zt(t,"aoRowCreatedCallback",null,[l,a,e,s])}o.nTr.setAttribute("role","row")}function f(t,e){var n=e.nTr,i=e._aData;n&&((t=t.rowIdFn(i))&&(n.id=t),i.DT_RowClass&&(t=i.DT_RowClass.split(" "),e.__rowc=e.__rowc?se(e.__rowc.concat(t)):t,k(n).removeClass(e.__rowc.join(" ")).addClass(i.DT_RowClass)),i.DT_RowAttr&&k(n).attr(i.DT_RowAttr),i.DT_RowData&&k(n).data(i.DT_RowData))}function j(t){var e,n=t.nTHead,i=t.nTFoot,r=0===k("th, td",n).length,o=t.oClasses,a=t.aoColumns;r&&(e=k("<tr/>").appendTo(n));for(var s=0,l=a.length;s<l;s++){var u=a[s],c=k(u.nTh).addClass(u.sClass);r&&c.appendTo(e),t.oFeatures.bSort&&(c.addClass(u.sSortingClass),!1!==u.bSortable&&(c.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),It(t,u.nTh,s))),u.sTitle!=c[0].innerHTML&&c.html(u.sTitle),Yt(t,"header")(t,c,u,o)}if(r&&H(t.aoHeader,n),k(n).find(">tr").attr("role","row"),k(n).find(">tr>th, >tr>td").addClass(o.sHeaderTH),k(i).find(">tr>th, >tr>td").addClass(o.sFooterTH),null!==i)for(l=(t=t.aoFooter[s=0]).length;s<l;s++)(u=a[s]).nTf=t[s].cell,u.sClass&&k(u.nTf).addClass(u.sClass)}function Y(t,e,n){var i,r=[],o=[],a=t.aoColumns.length;if(e){n===E&&(n=!1);for(var s=0,l=e.length;s<l;s++){for(r[s]=e[s].slice(),r[s].nTr=e[s].nTr,i=a-1;0<=i;i--)t.aoColumns[i].bVisible||n||r[s].splice(i,1);o.push([])}for(s=0,l=r.length;s<l;s++){if(t=r[s].nTr)for(;i=t.firstChild;)t.removeChild(i);for(i=0,e=r[s].length;i<e;i++){var u=a=1;if(o[s][i]===E){for(t.appendChild(r[s][i].cell),o[s][i]=1;r[s+a]!==E&&r[s][i].cell==r[s+a][i].cell;)o[s+a][i]=1,a++;for(;r[s][i+u]!==E&&r[s][i].cell==r[s][i+u].cell;){for(n=0;n<a;n++)o[s+n][i+u]=1;u++}k(r[s][i].cell).attr("rowspan",a).attr("colspan",u)}}}}}function R(t){var e=zt(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==k.inArray(!1,e))dt(t,!1);else{var e=[],n=0,i=t.asStripeClasses,r=i.length,o=t.oLanguage,a=t.iInitDisplayStart,s="ssp"==Rt(t),l=t.aiDisplay;t.bDrawing=!0,a!==E&&-1!==a&&(t._iDisplayStart=!s&&a>=t.fnRecordsDisplay()?0:a,t.iInitDisplayStart=-1);var a=t._iDisplayStart,u=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,dt(t,!1);else if(s){if(!t.bDestroying&&!U(t))return}else t.iDraw++;if(0!==l.length)for(o=s?t.aoData.length:u,s=s?0:a;s<o;s++){var c=l[s],h=t.aoData[c];null===h.nTr&&m(t,c);var d,f=h.nTr;0!==r&&(d=i[n%r],h._sRowStripe!=d&&(k(f).removeClass(h._sRowStripe).addClass(d),h._sRowStripe=d)),zt(t,"aoRowCallback",null,[f,h._aData,n,s,c]),e.push(f),n++}else n=o.sZeroRecords,1==t.iDraw&&"ajax"==Rt(t)?n=o.sLoadingRecords:o.sEmptyTable&&0===t.fnRecordsTotal()&&(n=o.sEmptyTable),e[0]=k("<tr/>",{class:r?i[0]:""}).append(k("<td />",{valign:"top",colSpan:v(t),class:t.oClasses.sRowEmpty}).html(n))[0];zt(t,"aoHeaderCallback","header",[k(t.nTHead).children("tr")[0],g(t),a,u,l]),zt(t,"aoFooterCallback","footer",[k(t.nTFoot).children("tr")[0],g(t),a,u,l]),(i=k(t.nTBody)).children().detach(),i.append(k(e)),zt(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function B(t,e){var n=t.oFeatures,i=n.bFilter;n.bSort&&wt(t),i?X(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,R(t),t._drawHold=!1}function F(t){var e=t.oClasses,n=k(t.nTable),n=k("<div/>").insertBefore(n),i=t.oFeatures,r=k("<div/>",{id:t.sTableId+"_wrapper",class:e.sWrapper+(t.nTFoot?"":" "+e.sNoFooter)});t.nHolding=n[0],t.nTableWrapper=r[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var o,a,s,l,u,c,h=t.sDom.split(""),d=0;d<h.length;d++){if(o=null,"<"==(a=h[d])){if(s=k("<div/>")[0],"'"==(l=h[d+1])||'"'==l){for(u="",c=2;h[d+c]!=l;)u+=h[d+c],c++;"H"==u?u=e.sJUIHeader:"F"==u&&(u=e.sJUIFooter),-1!=u.indexOf(".")?(l=u.split("."),s.id=l[0].substr(1,l[0].length-1),s.className=l[1]):"#"==u.charAt(0)?s.id=u.substr(1,u.length-1):s.className=u,d+=c}r.append(s),r=k(s)}else if(">"==a)r=r.parent();else if("l"==a&&i.bPaginate&&i.bLengthChange)o=lt(t);else if("f"==a&&i.bFilter)o=V(t);else if("r"==a&&i.bProcessing)o=ht(t);else if("t"==a)o=ft(t);else if("i"==a&&i.bInfo)o=nt(t);else if("p"==a&&i.bPaginate)o=ut(t);else if(0!==Qt.ext.feature.length)for(c=0,l=(s=Qt.ext.feature).length;c<l;c++)if(a==s[c].cFeature){o=s[c].fnInit(t);break}o&&((s=t.aanFeatures)[a]||(s[a]=[]),s[a].push(o),r.append(o))}n.replaceWith(r),t.nHolding=null}function H(t,e){e=k(e).children("tr"),t.splice(0,t.length);for(var n=0,i=e.length;n<i;n++)t.push([]);for(n=0,i=e.length;n<i;n++)for(var r=e[n],o=r.firstChild;o;){if("TD"==o.nodeName.toUpperCase()||"TH"==o.nodeName.toUpperCase()){for(var a=(a=+o.getAttribute("colspan"))&&0!==a&&1!==a?a:1,s=(s=+o.getAttribute("rowspan"))&&0!==s&&1!==s?s:1,l=0,u=t[n];u[l];)l++;var c=l,h=1===a;for(u=0;u<a;u++)for(l=0;l<s;l++)t[n+l][c+u]={cell:o,unique:h},t[n+l].nTr=r}o=o.nextSibling}}function W(t,e,n){var i=[];n||(n=t.aoHeader,e&&H(n=[],e)),e=0;for(var r=n.length;e<r;e++)for(var o=0,a=n[e].length;o<a;o++)!n[e][o].unique||i[o]&&t.bSortCellsTop||(i[o]=n[e][o].cell);return i}function G(i,t,e){var n,r;zt(i,"aoServerParams","serverParams",[t]),t&&k.isArray(t)&&(n={},r=/(.*?)\[\]$/,k.each(t,function(t,e){(t=e.name.match(r))?(t=t[0],n[t]||(n[t]=[]),n[t].push(e.value)):n[e.name]=e.value}),t=n);function o(t){zt(i,null,"xhr",[i,t,i.jqXHR]),e(t)}var a,s,l=i.ajax,u=i.oInstance;k.isPlainObject(l)&&l.data&&(s="function"==typeof(a=l.data)?a(t,i):a,t="function"==typeof a&&s?s:k.extend(!0,t,s),delete l.data),s={data:t,success:function(t){var e=t.error||t.sError;e&&Lt(i,0,e),i.json=t,o(t)},dataType:"json",cache:!1,type:i.sServerMethod,error:function(t,e,n){n=zt(i,null,"xhr",[i,null,i.jqXHR]),-1===k.inArray(!0,n)&&("parsererror"==e?Lt(i,0,"Invalid JSON response",1):4===t.readyState&&Lt(i,0,"Ajax error",7)),dt(i,!1)}},i.oAjaxData=t,zt(i,null,"preXhr",[i,t]),i.fnServerData?i.fnServerData.call(u,i.sAjaxSource,k.map(t,function(t,e){return{name:e,value:t}}),o,i):i.sAjaxSource||"string"==typeof l?i.jqXHR=k.ajax(k.extend(s,{url:l||i.sAjaxSource})):"function"==typeof l?i.jqXHR=l.call(u,t,o,i):(i.jqXHR=k.ajax(k.extend(s,l)),l.data=a)}function U(e){return!e.bAjaxDataGet||(e.iDraw++,dt(e,!0),G(e,t(e),function(t){o(e,t)}),!1)}function t(t){function n(t,e){s.push({name:t,value:e})}var e=t.aoColumns,i=e.length,r=t.oFeatures,o=t.oPreviousSearch,a=t.aoPreSearchCols,s=[],l=bt(t),u=t._iDisplayStart,c=!1!==r.bPaginate?t._iDisplayLength:-1;n("sEcho",t.iDraw),n("iColumns",i),n("sColumns",ae(e,"sName").join(",")),n("iDisplayStart",u),n("iDisplayLength",c);for(var h={draw:t.iDraw,columns:[],order:[],start:u,length:c,search:{value:o.sSearch,regex:o.bRegex}},u=0;u<i;u++){var d=e[u],f=a[u],c="function"==typeof d.mData?"function":d.mData;h.columns.push({data:c,name:d.sName,searchable:d.bSearchable,orderable:d.bSortable,search:{value:f.sSearch,regex:f.bRegex}}),n("mDataProp_"+u,c),r.bFilter&&(n("sSearch_"+u,f.sSearch),n("bRegex_"+u,f.bRegex),n("bSearchable_"+u,d.bSearchable)),r.bSort&&n("bSortable_"+u,d.bSortable)}return r.bFilter&&(n("sSearch",o.sSearch),n("bRegex",o.bRegex)),r.bSort&&(k.each(l,function(t,e){h.order.push({column:e.col,dir:e.dir}),n("iSortCol_"+t,e.col),n("sSortDir_"+t,e.dir)}),n("iSortingCols",l.length)),null===(e=Qt.ext.legacy.ajax)?t.sAjaxSource?s:h:e?s:h}function o(t,n){var e=function(t,e){return n[t]!==E?n[t]:n[e]},i=Z(t,n),r=e("sEcho","draw"),o=e("iTotalRecords","recordsTotal"),e=e("iTotalDisplayRecords","recordsFiltered");if(r){if(+r<t.iDraw)return;t.iDraw=+r}for(l(t),t._iRecordsTotal=parseInt(o,10),t._iRecordsDisplay=parseInt(e,10),r=0,o=i.length;r<o;r++)D(t,i[r]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,R(t),t._bInitComplete||at(t,n),t.bAjaxDataGet=!0,dt(t,!1)}function Z(t,e){return"data"===(t=k.isPlainObject(t.ajax)&&t.ajax.dataSrc!==E?t.ajax.dataSrc:t.sAjaxDataProp)?e.aaData||e[t]:""!==t?z(t)(e):e}function V(n){var t=n.oClasses,e=n.sTableId,i=n.oLanguage,r=n.oPreviousSearch,o=n.aanFeatures,a='<input type="search" class="'+t.sFilterInput+'"/>',s=(s=i.sSearch).match(/_INPUT_/)?s.replace("_INPUT_",a):s+a,t=k("<div/>",{id:o.f?null:e+"_filter",class:t.sFilter}).append(k("<label/>").append(s)),o=function(){var t=this.value||"";t!=r.sSearch&&(X(n,{sSearch:t,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),n._iDisplayStart=0,R(n))},a=null!==n.searchDelay?n.searchDelay:"ssp"===Rt(n)?400:0,l=k("input",t).val(r.sSearch).attr("placeholder",i.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",a?ge(o,a):o).on("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",e);return k(n.nTable).on("search.dt.DT",function(t,e){if(n===e)try{l[0]!==x.activeElement&&l.val(r.sSearch)}catch(t){}}),t[0]}function X(t,e,n){function i(t){o.sSearch=t.sSearch,o.bRegex=t.bRegex,o.bSmart=t.bSmart,o.bCaseInsensitive=t.bCaseInsensitive}function r(t){return t.bEscapeRegex!==E?!t.bEscapeRegex:t.bRegex}var o=t.oPreviousSearch,a=t.aoPreSearchCols;if(s(t),"ssp"!=Rt(t)){for($(t,e.sSearch,n,r(e),e.bSmart,e.bCaseInsensitive),i(e),e=0;e<a.length;e++)J(t,a[e].sSearch,e,r(a[e]),a[e].bSmart,a[e].bCaseInsensitive);q(t)}else i(e);t.bFiltered=!0,zt(t,null,"search",[t])}function q(t){for(var e,n,i=Qt.ext.search,r=t.aiDisplay,o=0,a=i.length;o<a;o++){for(var s=[],l=0,u=r.length;l<u;l++)n=r[l],e=t.aoData[n],i[o](t,e._aFilterData,n,e._aData,l)&&s.push(n);r.length=0,k.merge(r,s)}}function J(t,e,n,i,r,o){if(""!==e){var a=[],s=t.aiDisplay;for(i=Q(e,i,r,o),r=0;r<s.length;r++)e=t.aoData[s[r]]._aFilterData[n],i.test(e)&&a.push(s[r]);t.aiDisplay=a}}function $(t,e,n,i,r,o){r=Q(e,i,r,o);var a=t.oPreviousSearch.sSearch,s=t.aiDisplayMaster;o=[],0!==Qt.ext.search.length&&(n=!0);var l=K(t);if(e.length<=0)t.aiDisplay=s.slice();else{for((l||n||i||a.length>e.length||0!==e.indexOf(a)||t.bSorted)&&(t.aiDisplay=s.slice()),e=t.aiDisplay,n=0;n<e.length;n++)r.test(t.aoData[e[n]]._sFilterRow)&&o.push(e[n]);t.aiDisplay=o}}function Q(t,e,n,i){return t=e?t:he(t),n&&(t="^(?=.*?"+k.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(t){var e;return(t='"'===t.charAt(0)?(e=t.match(/^"(.*)"$/))?e[1]:t:t).replace('"',"")}).join(")(?=.*?")+").*$"),new RegExp(t,i?"i":"")}function K(t){for(var e=t.aoColumns,n=Qt.ext.type.search,i=!1,r=0,o=t.aoData.length;r<o;r++){var a=t.aoData[r];if(!a._aFilterData){for(var s,l=[],u=0,c=e.length;u<c;u++)(i=e[u]).bSearchable?(s=L(t,r,u,"filter"),"string"!=typeof(s=null===(s=n[i.sType]?n[i.sType](s):s)?"":s)&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(de.innerHTML=s,s=fe?de.textContent:de.innerText),s.replace&&(s=s.replace(/[\r\n\u2028]/g,"")),l.push(s);a._aFilterData=l,a._sFilterRow=l.join("  "),i=!0}}return i}function tt(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function et(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function nt(t){var e=t.sTableId,n=t.aanFeatures.i,i=k("<div/>",{class:t.oClasses.sInfo,id:n?null:e+"_info"});return n||(t.aoDrawCallback.push({fn:it,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),k(t.nTable).attr("aria-describedby",e+"_info")),i[0]}function it(t){var e,n,i,r,o,a,s=t.aanFeatures.i;0!==s.length&&(e=t.oLanguage,n=t._iDisplayStart+1,i=t.fnDisplayEnd(),r=t.fnRecordsTotal(),a=(o=t.fnRecordsDisplay())?e.sInfo:e.sInfoEmpty,o!==r&&(a+=" "+e.sInfoFiltered),a=rt(t,a+=e.sInfoPostFix),null!==(e=e.fnInfoCallback)&&(a=e.call(t.oInstance,t,n,i,r,o,a)),k(s).html(a))}function rt(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,r=t._iDisplayLength,o=t.fnRecordsDisplay(),a=-1===r;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,o)).replace(/_PAGE_/g,n.call(t,a?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(t,a?1:Math.ceil(o/r)))}function ot(n){var i=n.iInitDisplayStart,t=n.aoColumns,e=n.oFeatures,r=n.bDeferLoading;if(n.bInitialised){F(n),j(n),Y(n,n.aoHeader),Y(n,n.aoFooter),dt(n,!0),e.bAutoWidth&&mt(n);for(var o=0,e=t.length;o<e;o++){var a=t[o];a.sWidth&&(a.nTh.style.width=_t(a.sWidth))}zt(n,null,"preInit",[n]),B(n),"ssp"==(t=Rt(n))&&!r||("ajax"==t?G(n,[],function(t){var e=Z(n,t);for(o=0;o<e.length;o++)D(n,e[o]);n.iInitDisplayStart=i,B(n),dt(n,!1),at(n,t)}):(dt(n,!1),at(n)))}else setTimeout(function(){ot(n)},200)}function at(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&O(t),zt(t,null,"plugin-init",[t,e]),zt(t,"aoInitComplete","init",[t,e])}function st(t,e){e=parseInt(e,10),t._iDisplayLength=e,jt(t),zt(t,null,"length",[t,e])}function lt(i){for(var t=i.oClasses,e=i.sTableId,n=i.aLengthMenu,r=(o=k.isArray(n[0]))?n[0]:n,n=o?n[1]:n,o=k("<select/>",{name:e+"_length","aria-controls":e,class:t.sLengthSelect}),a=0,s=r.length;a<s;a++)o[0][a]=new Option("number"==typeof n[a]?i.fnFormatNumber(n[a]):n[a],r[a]);var l=k("<div><label/></div>").addClass(t.sLength);return i.aanFeatures.l||(l[0].id=e+"_length"),l.children().append(i.oLanguage.sLengthMenu.replace("_MENU_",o[0].outerHTML)),k("select",l).val(i._iDisplayLength).on("change.DT",function(t){st(i,k(this).val()),R(i)}),k(i.nTable).on("length.dt.DT",function(t,e,n){i===e&&k("select",l).val(n)}),l[0]}function ut(t){function a(t){R(t)}var e=t.sPaginationType,s=Qt.ext.pager[e],l="function"==typeof s,e=k("<div/>").addClass(t.oClasses.sPaging+e)[0],u=t.aanFeatures;return l||s.fnInit(t,e,a),u.p||(e.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(t){if(l)for(var e=t._iDisplayStart,n=t._iDisplayLength,i=t.fnRecordsDisplay(),e=(r=-1===n)?0:Math.ceil(e/n),n=r?1:Math.ceil(i/n),i=s(e,n),r=0,o=u.p.length;r<o;r++)Yt(t,"pageButton")(t,u.p[r],r,i,e,n);else s.fnUpdate(t,a)},sName:"pagination"})),e}function ct(t,e,n){var i=t._iDisplayStart,r=t._iDisplayLength,o=t.fnRecordsDisplay();return 0===o||-1===r?i=0:"number"==typeof e?o<(i=e*r)&&(i=0):"first"==e?i=0:"previous"==e?(i=0<=r?i-r:0)<0&&(i=0):"next"==e?i+r<o&&(i+=r):"last"==e?i=Math.floor((o-1)/r)*r:Lt(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==i,t._iDisplayStart=i,e&&(zt(t,null,"page",[t]),n&&R(t)),e}function ht(t){return k("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function dt(t,e){t.oFeatures.bProcessing&&k(t.aanFeatures.r).css("display",e?"block":"none"),zt(t,null,"processing",[t,e])}function ft(t){var e=k(t.nTable);e.attr("role","grid");var n=t.oScroll;if(""===n.sX&&""===n.sY)return t.nTable;var i=n.sX,r=n.sY,o=t.oClasses,a=e.children("caption"),s=a.length?a[0]._captionSide:null,l=k(e[0].cloneNode(!1)),u=k(e[0].cloneNode(!1)),c=e.children("tfoot");c.length||(c=null),l=k("<div/>",{class:o.sScrollWrapper}).append(k("<div/>",{class:o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?_t(i):"100%"}).append(k("<div/>",{class:o.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append("top"===s?a:null).append(e.children("thead"))))).append(k("<div/>",{class:o.sScrollBody}).css({position:"relative",overflow:"auto",width:i?_t(i):null}).append(e)),c&&l.append(k("<div/>",{class:o.sScrollFoot}).css({overflow:"hidden",border:0,width:i?_t(i):"100%"}).append(k("<div/>",{class:o.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===s?a:null).append(e.children("tfoot")))));var h=(e=l.children())[0],o=e[1],d=c?e[2]:null;return i&&k(o).on("scroll.DT",function(t){t=this.scrollLeft,h.scrollLeft=t,c&&(d.scrollLeft=t)}),k(o).css(r&&n.bCollapse?"max-height":"height",r),t.nScrollHead=h,t.nScrollBody=o,t.nScrollFoot=d,t.aoDrawCallback.push({fn:pt,sName:"scrolling"}),l[0]}function pt(n){function t(t){(t=t.style).paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0}var i,e,r,o,a=(u=n.oScroll).sX,s=u.sXInner,l=u.sY,u=u.iBarWidth,c=k(n.nScrollHead),h=c[0].style,d=(p=c.children("div"))[0].style,f=p.children("table"),p=n.nScrollBody,g=k(p),m=p.style,y=k(n.nScrollFoot).children("div"),v=y.children("table"),x=k(n.nTHead),_=k(n.nTable),b=_[0],w=b.style,M=n.nTFoot?k(n.nTFoot):null,A=n.oBrowser,I=A.bScrollOversize,C=ae(n.aoColumns,"nTh"),S=[],T=[],D=[],N=[],L=p.scrollHeight>p.clientHeight;n.scrollBarVis!==L&&n.scrollBarVis!==E?(n.scrollBarVis=L,O(n)):(n.scrollBarVis=L,_.children("thead, tfoot").remove(),M&&(r=M.clone().prependTo(_),e=M.find("tr"),r=r.find("tr")),o=x.clone().prependTo(_),x=x.find("tr"),L=o.find("tr"),o.find("th, td").removeAttr("tabindex"),a||(m.width="100%",c[0].style.width="100%"),k.each(W(n,o),function(t,e){i=P(n,t),e.style.width=n.aoColumns[i].sWidth}),M&&gt(function(t){t.style.width=""},r),c=_.outerWidth(),""===a?(w.width="100%",I&&(_.find("tbody").height()>p.offsetHeight||"scroll"==g.css("overflow-y"))&&(w.width=_t(_.outerWidth()-u)),c=_.outerWidth()):""!==s&&(w.width=_t(s),c=_.outerWidth()),gt(t,L),gt(function(t){D.push(t.innerHTML),S.push(_t(k(t).css("width")))},L),gt(function(t,e){-1!==k.inArray(t,C)&&(t.style.width=S[e])},x),k(L).height(0),M&&(gt(t,r),gt(function(t){N.push(t.innerHTML),T.push(_t(k(t).css("width")))},r),gt(function(t,e){t.style.width=T[e]},e),k(r).height(0)),gt(function(t,e){t.innerHTML='<div class="dataTables_sizing">'+D[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=S[e]},L),M&&gt(function(t,e){t.innerHTML='<div class="dataTables_sizing">'+N[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=T[e]},r),_.outerWidth()<c?(e=p.scrollHeight>p.offsetHeight||"scroll"==g.css("overflow-y")?c+u:c,I&&(p.scrollHeight>p.offsetHeight||"scroll"==g.css("overflow-y"))&&(w.width=_t(e-u)),""!==a&&""===s||Lt(n,1,"Possible column misalignment",6)):e="100%",m.width=_t(e),h.width=_t(e),M&&(n.nScrollFoot.style.width=_t(e)),!l&&I&&(m.height=_t(b.offsetHeight+u)),a=_.outerWidth(),f[0].style.width=_t(a),d.width=_t(a),s=_.height()>p.clientHeight||"scroll"==g.css("overflow-y"),d[l="padding"+(A.bScrollbarLeft?"Left":"Right")]=s?u+"px":"0px",M&&(v[0].style.width=_t(a),y[0].style.width=_t(a),y[0].style[l]=s?u+"px":"0px"),_.children("colgroup").insertBefore(_.children("thead")),g.trigger("scroll"),!n.bSorted&&!n.bFiltered||n._drawHold||(p.scrollTop=0))}function gt(t,e,n){for(var i,r,o=0,a=0,s=e.length;a<s;){for(i=e[a].firstChild,r=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?t(i,r,o):t(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;a++}}function mt(t){var e,n=t.nTable,i=t.aoColumns,r=(p=t.oScroll).sY,o=p.sX,a=p.sXInner,s=i.length,l=S(t,"bVisible"),u=k("th",t.nTHead),c=n.getAttribute("width"),h=n.parentNode,d=!1,f=t.oBrowser,p=f.bScrollOversize;for((e=n.style.width)&&-1!==e.indexOf("%")&&(c=e),e=0;e<l.length;e++){var g=i[l[e]];null!==g.sWidth&&(g.sWidth=yt(g.sWidthOrig,h),d=!0)}if(p||!d&&!o&&!r&&s==v(t)&&s==u.length)for(e=0;e<s;e++)null!==(l=P(t,e))&&(i[l].sWidth=_t(u.eq(e).width()));else{(s=k(n).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var m=k("<tr/>").appendTo(s.find("tbody"));for(s.find("thead, tfoot").remove(),s.append(k(t.nTHead).clone()).append(k(t.nTFoot).clone()),s.find("tfoot th, tfoot td").css("width",""),u=W(t,s.find("thead")[0]),e=0;e<l.length;e++)g=i[l[e]],u[e].style.width=null!==g.sWidthOrig&&""!==g.sWidthOrig?_t(g.sWidthOrig):"",g.sWidthOrig&&o&&k(u[e]).append(k("<div/>").css({width:g.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(t.aoData.length)for(e=0;e<l.length;e++)g=i[d=l[e]],k(vt(t,d)).clone(!1).append(g.sContentPadding).appendTo(m);for(k("[name]",s).removeAttr("name"),g=k("<div/>").css(o||r?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(s).appendTo(h),o&&a?s.width(a):o?(s.css("width","auto"),s.removeAttr("width"),s.width()<h.clientWidth&&c&&s.width(h.clientWidth)):r?s.width(h.clientWidth):c&&s.width(c),e=r=0;e<l.length;e++)a=(h=k(u[e])).outerWidth()-h.width(),r+=h=f.bBounding?Math.ceil(u[e].getBoundingClientRect().width):h.outerWidth(),i[l[e]].sWidth=_t(h-a);n.style.width=_t(r),g.remove()}c&&(n.style.width=_t(c)),!c&&!o||t._reszEvt||(n=function(){k(y).on("resize.DT-"+t.sInstance,ge(function(){O(t)}))},p?setTimeout(n,1e3):n(),t._reszEvt=!0)}function yt(t,e){return t?(e=(t=k("<div/>").css("width",_t(t)).appendTo(e||x.body))[0].offsetWidth,t.remove(),e):0}function vt(t,e){var n=xt(t,e);if(n<0)return null;var i=t.aoData[n];return i.nTr?i.anCells[e]:k("<td/>").html(L(t,n,e,"display"))[0]}function xt(t,e){for(var n,i=-1,r=-1,o=0,a=t.aoData.length;o<a;o++)(n=(n=(n=L(t,o,e,"display")+"").replace(pe,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,r=o);return r}function _t(t){return null===t?"0px":"number"==typeof t?t<0?"0px":t+"px":t.match(/\d$/)?t+"px":t}function bt(t){var e=[],n=t.aoColumns,i=t.aaSortingFixed,r=k.isPlainObject(i),o=[],a=function(t){t.length&&!k.isArray(t[0])?o.push(t):k.merge(o,t)};for(k.isArray(i)&&a(i),r&&i.pre&&a(i.pre),a(t.aaSorting),r&&i.post&&a(i.post),t=0;t<o.length;t++)for(var s=o[t][0],i=0,r=(a=n[s].aDataSort).length;i<r;i++){var l=a[i],u=n[l].sType||"string";o[t]._idx===E&&(o[t]._idx=k.inArray(o[t][1],n[l].asSorting)),e.push({src:s,col:l,dir:o[t][1],index:o[t]._idx,type:u,formatter:Qt.ext.type.order[u+"-pre"]})}return e}function wt(t){var u=[],c=Qt.ext.type.order,h=t.aoData,e=0,n=t.aiDisplayMaster;s(t);for(var d=bt(t),i=0,r=d.length;i<r;i++){var o=d[i];o.formatter&&e++,St(t,o.col)}if("ssp"!=Rt(t)&&0!==d.length){for(i=0,r=n.length;i<r;i++)u[n[i]]=i;e===d.length?n.sort(function(t,e){for(var n=d.length,i=h[t]._aSortData,r=h[e]._aSortData,o=0;o<n;o++){var a=d[o],s=i[a.col],l=r[a.col];if(0!==(s=s<l?-1:l<s?1:0))return"asc"===a.dir?s:-s}return(s=u[t])<(l=u[e])?-1:l<s?1:0}):n.sort(function(t,e){for(var n=d.length,i=h[t]._aSortData,r=h[e]._aSortData,o=0;o<n;o++){var a=d[o],s=i[a.col],l=r[a.col];if(0!==(s=(a=c[a.type+"-"+a.dir]||c["string-"+a.dir])(s,l)))return s}return(s=u[t])<(l=u[e])?-1:l<s?1:0})}t.bSorted=!0}function Mt(t){var e=t.aoColumns,n=bt(t);t=t.oLanguage.oAria;for(var i=0,r=e.length;i<r;i++){var o=e[i],a=o.asSorting,s=o.sTitle.replace(/<.*?>/g,""),l=o.nTh;l.removeAttribute("aria-sort"),o.bSortable&&(s+="asc"===(o=0<n.length&&n[0].col==i?(l.setAttribute("aria-sort","asc"==n[0].dir?"ascending":"descending"),a[n[0].index+1]||a[0]):a[0])?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",s)}}function At(t,e,n,i){function r(t,e){var n=t._idx;return(n=n===E?k.inArray(t[1],a):n)+1<a.length?n+1:e?null:0}var o=t.aaSorting,a=t.aoColumns[e].asSorting;"number"==typeof o[0]&&(o=t.aaSorting=[o]),n&&t.oFeatures.bSortMulti?-1!==(n=k.inArray(e,ae(o,"0")))?null===(e=null===(e=r(o[n],!0))&&1===o.length?0:e)?o.splice(n,1):(o[n][1]=a[e],o[n]._idx=e):(o.push([e,a[0],0]),o[o.length-1]._idx=0):o.length&&o[0][0]==e?(e=r(o[0]),o.length=1,o[0][1]=a[e],o[0]._idx=e):(o.length=0,o.push([e,a[0]]),o[0]._idx=0),B(t),"function"==typeof i&&i(t)}function It(e,t,n,i){var r=e.aoColumns[n];Ot(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(dt(e,!0),setTimeout(function(){At(e,n,t.shiftKey,i),"ssp"!==Rt(e)&&dt(e,!1)},0)):At(e,n,t.shiftKey,i))})}function Ct(t){var e,n=t.aLastSort,i=t.oClasses.sSortColumn,r=bt(t),o=t.oFeatures;if(o.bSort&&o.bSortClasses){for(o=0,e=n.length;o<e;o++){var a=n[o].src;k(ae(t.aoData,"anCells",a)).removeClass(i+(o<2?o+1:3))}for(o=0,e=r.length;o<e;o++)a=r[o].src,k(ae(t.aoData,"anCells",a)).addClass(i+(o<2?o+1:3))}t.aLastSort=r}function St(t,e){var n,i=t.aoColumns[e],r=Qt.ext.order[i.sSortDataType];r&&(n=r.call(t.oInstance,t,e,u(t,e)));for(var o,a=Qt.ext.type.order[i.sType+"-pre"],s=0,l=t.aoData.length;s<l;s++)(i=t.aoData[s])._aSortData||(i._aSortData=[]),i._aSortData[e]&&!r||(o=r?n[s]:L(t,s,e,"sort"),i._aSortData[e]=a?a(o):o)}function Tt(n){var t;n.oFeatures.bStateSave&&!n.bDestroying&&(t={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:k.extend(!0,[],n.aaSorting),search:tt(n.oPreviousSearch),columns:k.map(n.aoColumns,function(t,e){return{visible:t.bVisible,search:tt(n.aoPreSearchCols[e])}})},zt(n,"aoStateSaveParams","stateSaveParams",[n,t]),n.oSavedState=t,n.fnStateSaveCallback.call(n.oInstance,n,t))}function Dt(n,t,i){var r,o,e,a=n.aoColumns;t=function(t){if(t&&t.time){var e=zt(n,"aoStateLoadParams","stateLoadParams",[n,t]);if(-1===k.inArray(!1,e)&&!(0<(e=n.iStateDuration)&&t.time<+new Date-1e3*e||t.columns&&a.length!==t.columns.length)){if(n.oLoadedState=k.extend(!0,{},t),t.start!==E&&(n._iDisplayStart=t.start,n.iInitDisplayStart=t.start),t.length!==E&&(n._iDisplayLength=t.length),t.order!==E&&(n.aaSorting=[],k.each(t.order,function(t,e){n.aaSorting.push(e[0]>=a.length?[0,e[1]]:e)})),t.search!==E&&k.extend(n.oPreviousSearch,et(t.search)),t.columns)for(r=0,o=t.columns.length;r<o;r++)(e=t.columns[r]).visible!==E&&(a[r].bVisible=e.visible),e.search!==E&&k.extend(n.aoPreSearchCols[r],et(e.search));zt(n,"aoStateLoaded","stateLoaded",[n,t])}}i()},n.oFeatures.bStateSave?(e=n.fnStateLoadCallback.call(n.oInstance,n,t))!==E&&t(e):i()}function Nt(t){var e=Qt.settings;return-1!==(t=k.inArray(t,ae(e,"nTable")))?e[t]:null}function Lt(t,e,n,i){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,i&&(n+=". For more information about this error, please see http://datatables.net/tn/"+i),e)y.console&&console.log&&console.log(n);else if(e=(e=Qt.ext).sErrMode||e.errMode,t&&zt(t,null,"error",[t,i,n]),"alert"==e)alert(n);else{if("throw"==e)throw Error(n);"function"==typeof e&&e(t,i,n)}}function kt(n,i,t,e){k.isArray(t)?k.each(t,function(t,e){k.isArray(e)?kt(n,i,e[0],e[1]):kt(n,i,e)}):(e===E&&(e=t),i[t]!==E&&(n[e]=i[t]))}function Et(t,e,n){var i,r;for(i in e)e.hasOwnProperty(i)&&(r=e[i],k.isPlainObject(r)?(k.isPlainObject(t[i])||(t[i]={}),k.extend(!0,t[i],r)):n&&"data"!==i&&"aaData"!==i&&k.isArray(r)?t[i]=r.slice():t[i]=r);return t}function Ot(e,t,n){k(e).on("click.DT",t,function(t){k(e).blur(),n(t)}).on("keypress.DT",t,function(t){13===t.which&&(t.preventDefault(),n(t))}).on("selectstart.DT",function(){return!1})}function Pt(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function zt(n,t,e,i){var r=[];return t&&(r=k.map(n[t].slice().reverse(),function(t,e){return t.fn.apply(n.oInstance,i)})),null!==e&&(t=k.Event(e+".dt"),k(n.nTable).trigger(t,i),r.push(t.result)),r}function jt(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;n<=e&&(e=n-i),e-=e%i,t._iDisplayStart=e=-1===i||e<0?0:e}function Yt(t,e){t=t.renderer;var n=Qt.ext.renderer[e];return k.isPlainObject(t)&&t[e]?n[t[e]]||n._:"string"==typeof t&&n[t]||n._}function Rt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Bt(t,e){var n=De.numbers_length,i=Math.floor(n/2);return e<=n?t=Vt(0,e):t<=i?((t=Vt(0,n-2)).push("ellipsis"),t.push(e-1)):(e-1-i<=t?t=Vt(e-(n-2),e):((t=Vt(t-i+2,t+i-1)).push("ellipsis"),t.push(e-1)),t.splice(0,0,"ellipsis"),t.splice(0,0,0)),t.DT_el="span",t}function Ft(n){k.each({num:function(t){return Ne(t,n)},"num-fmt":function(t){return Ne(t,n,re)},"html-num":function(t){return Ne(t,n,ee)},"html-num-fmt":function(t){return Ne(t,n,ee,re)}},function(t,e){qt.type.order[t+n+"-pre"]=e,t.match(/^html\-/)&&(qt.type.search[t+n]=qt.type.search.html)})}function e(e){return function(){var t=[Nt(this[Qt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Qt.ext.internal[e].apply(this,t)}}function Ht(t){return!t||!0===t||"-"===t}function Wt(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null}function Gt(t,e,n){var i="string"==typeof t;return!!Ht(t)||(e&&i&&(t=oe(t,e)),n&&i&&(t=t.replace(re,"")),!isNaN(parseFloat(t))&&isFinite(t))}function Ut(t,e,n){return!!Ht(t)||((Ht(t)||"string"==typeof t)&&!!Gt(t.replace(ee,""),e,n)||null)}function Zt(t,e,n,i){var r=[],o=0,a=e.length;if(i!==E)for(;o<a;o++)t[e[o]][n]&&r.push(t[e[o]][n][i]);else for(;o<a;o++)r.push(t[e[o]][n]);return r}function Vt(t,e){var n,i=[];for(e===E?(e=0,n=t):(n=e,e=t),t=e;t<n;t++)i.push(t);return i}function Xt(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e}var qt,Jt,$t,Qt=function(m){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new ve(t?Nt(this[qt.iApiIndex]):this)},this.fnAddData=function(t,e){var n=this.api(!0);return t=(k.isArray(t)&&(k.isArray(t[0])||k.isPlainObject(t[0]))?n.rows:n.row).add(t),e!==E&&!e||n.draw(),t.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],i=n.oScroll;t===E||t?e.draw(!1):""===i.sX&&""===i.sY||pt(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();t!==E&&!t||e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var i=this.api(!0),r=(t=i.rows(t)).settings()[0],o=r.aoData[t[0][0]];return t.remove(),e&&e.call(this,r,o),n!==E&&!n||i.draw(),o},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,i,r,o){r=this.api(!0),(null===e||e===E?r:r.column(e)).search(t,n,i,o),r.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t===E)return n.data().toArray();var i=t.nodeName?t.nodeName.toLowerCase():"";return e!==E||"td"==i||"th"==i?n.cell(t,e).data():n.row(t).data()||null},this.fnGetNodes=function(t){var e=this.api(!0);return t!==E?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();return"TR"==n?e.row(t).index():"TD"==n||"TH"==n?[(t=e.cell(t).index()).row,t.columnVisible,t.column]:null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){t=this.api(!0).page(t),e!==E&&!e||t.draw(!1)},this.fnSetColumnVis=function(t,e,n){t=this.api(!0).column(t).visible(e),n!==E&&!n||t.columns.adjust().draw()},this.fnSettings=function(){return Nt(this[qt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,i,r){var o=this.api(!0);return(n===E||null===n?o.row(e):o.cell(e,n)).data(t),r!==E&&!r||o.columns.adjust(),i!==E&&!i||o.draw(),0},this.fnVersionCheck=qt.fnVersionCheck;var t,y=this,v=m===E,x=this.length;for(t in v&&(m={}),this.oApi=this.internal=qt.internal,Qt.ext.internal)t&&(this[t]=e(t));return this.each(function(){var t={},n=1<x?Et(t,m,!0):m,i=0;t=this.getAttribute("id");var r=!1,e=Qt.defaults,o=k(this);if("table"!=this.nodeName.toLowerCase())Lt(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{w(e),M(e.column),_(e,e,!0),_(e.column,e.column,!0),_(e,k.extend(n,o.data()),!0);for(var a=Qt.settings,i=0,s=a.length;i<s;i++){var l=a[i];if(l.nTable==this||l.nTHead&&l.nTHead.parentNode==this||l.nTFoot&&l.nTFoot.parentNode==this){var u=(n.bRetrieve!==E?n:e).bRetrieve;if(v||u)return l.oInstance;if((n.bDestroy!==E?n:e).bDestroy){l.oInstance.fnDestroy();break}return void Lt(l,0,"Cannot reinitialise DataTable",3)}if(l.sTableId==this.id){a.splice(i,1);break}}null!==t&&""!==t||(this.id=t="DataTables_Table_"+Qt.ext._unique++);var c=k.extend(!0,{},Qt.models.oSettings,{sDestroyWidth:o[0].style.width,sInstance:t,sTableId:t});c.nTable=this,c.oApi=y.internal,c.oInit=n,a.push(c),c.oInstance=1===y.length?y:o.dataTable(),w(n),b(n.oLanguage),n.aLengthMenu&&!n.iDisplayLength&&(n.iDisplayLength=(k.isArray(n.aLengthMenu[0])?n.aLengthMenu[0]:n.aLengthMenu)[0]),n=Et(k.extend(!0,{},e),n),kt(c.oFeatures,n,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),kt(c,n,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),kt(c.oScroll,n,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),kt(c.oLanguage,n,"fnInfoCallback"),Pt(c,"aoDrawCallback",n.fnDrawCallback,"user"),Pt(c,"aoServerParams",n.fnServerParams,"user"),Pt(c,"aoStateSaveParams",n.fnStateSaveParams,"user"),Pt(c,"aoStateLoadParams",n.fnStateLoadParams,"user"),Pt(c,"aoStateLoaded",n.fnStateLoaded,"user"),Pt(c,"aoRowCallback",n.fnRowCallback,"user"),Pt(c,"aoRowCreatedCallback",n.fnCreatedRow,"user"),Pt(c,"aoHeaderCallback",n.fnHeaderCallback,"user"),Pt(c,"aoFooterCallback",n.fnFooterCallback,"user"),Pt(c,"aoInitComplete",n.fnInitComplete,"user"),Pt(c,"aoPreDrawCallback",n.fnPreDrawCallback,"user"),c.rowIdFn=z(n.rowId),A(c);var h=c.oClasses;k.extend(h,Qt.ext.classes,n.oClasses),o.addClass(h.sTable),c.iInitDisplayStart===E&&(c.iInitDisplayStart=n.iDisplayStart,c._iDisplayStart=n.iDisplayStart),null!==n.iDeferLoading&&(c.bDeferLoading=!0,t=k.isArray(n.iDeferLoading),c._iRecordsDisplay=t?n.iDeferLoading[0]:n.iDeferLoading,c._iRecordsTotal=t?n.iDeferLoading[1]:n.iDeferLoading);var d=c.oLanguage;k.extend(!0,d,n.oLanguage),d.sUrl&&(k.ajax({dataType:"json",url:d.sUrl,success:function(t){b(t),_(e.oLanguage,t),k.extend(!0,d,t),ot(c)},error:function(){ot(c)}}),r=!0),null===n.asStripeClasses&&(c.asStripeClasses=[h.sStripeOdd,h.sStripeEven]);var f,t=c.asStripeClasses,p=o.children("tbody").find("tr").eq(0);if(-1!==k.inArray(!0,k.map(t,function(t,e){return p.hasClass(t)}))&&(k("tbody tr",this).removeClass(t.join(" ")),c.asDestroyStripes=t.slice()),t=[],0!==(a=this.getElementsByTagName("thead")).length&&(H(c.aoHeader,a[0]),t=W(c)),null===n.aoColumns)for(a=[],i=0,s=t.length;i<s;i++)a.push(null);else a=n.aoColumns;for(i=0,s=a.length;i<s;i++)I(c,t?t[i]:null);T(c,n.aoColumnDefs,a,function(t,e){C(c,t,e)}),p.length&&(f=function(t,e){return null!==t.getAttribute("data-"+e)?e:null},k(p[0]).children("th, td").each(function(t,e){var n,i=c.aoColumns[t];i.mData===t&&(n=f(e,"sort")||f(e,"order"),e=f(e,"filter")||f(e,"search"),null===n&&null===e||(i.mData={_:t+".display",sort:null!==n?t+".@data-"+n:E,type:null!==n?t+".@data-"+n:E,filter:null!==e?t+".@data-"+e:E},C(c,t)))}));var g=c.oFeatures;t=function(){if(n.aaSorting===E){var t=c.aaSorting;for(i=0,s=t.length;i<s;i++)t[i][1]=c.aoColumns[i].asSorting[0]}Ct(c),g.bSort&&Pt(c,"aoDrawCallback",function(){var t,n;c.bSorted&&(t=bt(c),n={},k.each(t,function(t,e){n[e.src]=e.dir}),zt(c,null,"order",[c,t,n]),Mt(c))}),Pt(c,"aoDrawCallback",function(){(c.bSorted||"ssp"===Rt(c)||g.bDeferRender)&&Ct(c)},"sc");var t=o.children("caption").each(function(){this._captionSide=k(this).css("caption-side")}),e=o.children("thead");if(0===e.length&&(e=k("<thead/>").appendTo(o)),c.nTHead=e[0],0===(e=o.children("tbody")).length&&(e=k("<tbody/>").appendTo(o)),c.nTBody=e[0],0===(e=0===(e=o.children("tfoot")).length&&0<t.length&&(""!==c.oScroll.sX||""!==c.oScroll.sY)?k("<tfoot/>").appendTo(o):e).length||0===e.children().length?o.addClass(h.sNoFooter):0<e.length&&(c.nTFoot=e[0],H(c.aoFooter,c.nTFoot)),n.aaData)for(i=0;i<n.aaData.length;i++)D(c,n.aaData[i]);else!c.bDeferLoading&&"dom"!=Rt(c)||N(c,k(c.nTBody).children("tr"));c.aiDisplay=c.aiDisplayMaster.slice(),!(c.bInitialised=!0)===r&&ot(c)},n.bStateSave?(g.bStateSave=!0,Pt(c,"aoDrawCallback",Tt,"state_save"),Dt(c,0,t)):t()}}),y=null,this},Kt={},te=/[\r\n\u2028]/g,ee=/<.*?>/g,ne=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,ie=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\|\$|\^|\-)/g,re=/[',$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,oe=function(t,e){return Kt[e]||(Kt[e]=new RegExp(he(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Kt[e],"."):t},ae=function(t,e,n){var i=[],r=0,o=t.length;if(n!==E)for(;r<o;r++)t[r]&&t[r][e]&&i.push(t[r][e][n]);else for(;r<o;r++)t[r]&&i.push(t[r][e]);return i},se=function(t){t:{if(!(t.length<2))for(var e=t.slice().sort(),n=e[0],i=1,r=e.length;i<r;i++){if(e[i]===n){e=!1;break t}n=e[i]}e=!0}if(e)return t.slice();var o,e=[],r=t.length,a=0,i=0;t:for(;i<r;i++){for(n=t[i],o=0;o<a;o++)if(e[o]===n)continue t;e.push(n),a++}return e};Qt.util={throttle:function(i,t){var r,o,a=t!==E?t:200;return function(){var t=this,e=+new Date,n=arguments;r&&e<r+a?(clearTimeout(o),o=setTimeout(function(){r=E,i.apply(t,n)},a)):(r=e,i.apply(t,n))}},escapeRegex:function(t){return t.replace(ie,"\\$1")}};var le=function(t,e,n){t[e]!==E&&(t[n]=t[e])},ue=/\[.*?\]$/,ce=/\(\)$/,he=Qt.util.escapeRegex,de=k("<div>")[0],fe=de.textContent!==E,pe=/<.*?>/g,ge=Qt.util.throttle,me=[],ye=Array.prototype,ve=function(t,e){if(!(this instanceof ve))return new ve(t,e);function n(t){(t=function(t){var e,n=Qt.settings,i=k.map(n,function(t,e){return t.nTable});if(!t)return[];if(t.nTable&&t.oApi)return[t];if(t.nodeName&&"table"===t.nodeName.toLowerCase()){var r=k.inArray(t,i);return-1!==r?[n[r]]:null}return t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?e=k(t):t instanceof k&&(e=t),e?e.map(function(t){return-1!==(r=k.inArray(this,i))?n[r]:null}).toArray():void 0)}(t))&&i.push.apply(i,t)}var i=[];if(k.isArray(t))for(var r=0,o=t.length;r<o;r++)n(t[r]);else n(t);this.context=se(i),e&&k.merge(this,e),this.selector={rows:null,cols:null,opts:null},ve.extend(this,this,me)};Qt.Api=ve,k.extend(ve.prototype,{any:function(){return 0!==this.count()},concat:ye.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new ve(e[t],this[t]):null},filter:function(t){var e=[];if(ye.filter)e=ye.filter.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new ve(this.context,e)},flatten:function(){var t=[];return new ve(this.context,t.concat.apply(t,this.toArray()))},join:ye.join,indexOf:ye.indexOf||function(t,e){e=e||0;for(var n=this.length;e<n;e++)if(this[e]===t)return e;return-1},iterator:function(t,e,n,i){var r,o=[],a=this.context,s=this.selector;"string"==typeof t&&(i=n,n=e,e=t,t=!1);for(var l=0,u=a.length;l<u;l++){var c=new ve(a[l]);if("table"===e){var h=n.call(c,a[l],l);h!==E&&o.push(h)}else if("columns"===e||"rows"===e)(h=n.call(c,a[l],this[l],l))!==E&&o.push(h);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e){var d=this[l];"column-rows"===e&&(r=Me(a[l],s.opts));for(var f=0,p=d.length;f<p;f++)h=d[f],(h="cell"===e?n.call(c,a[l],h.row,h.column,l,f):n.call(c,a[l],h,l,f,r))!==E&&o.push(h)}}return o.length||i?((e=(t=new ve(a,t?o.concat.apply([],o):o)).selector).rows=s.rows,e.cols=s.cols,e.opts=s.opts,t):this},lastIndexOf:ye.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(ye.map)e=ye.map.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)e.push(t.call(this,this[n],n));return new ve(this.context,e)},pluck:function(e){return this.map(function(t){return t[e]})},pop:ye.pop,push:ye.push,reduce:ye.reduce||function(t,e){return n(this,t,e,0,this.length,1)},reduceRight:ye.reduceRight||function(t,e){return n(this,t,e,this.length-1,-1,-1)},reverse:ye.reverse,selector:null,shift:ye.shift,slice:function(){return new ve(this.context,this)},sort:ye.sort,splice:ye.splice,toArray:function(){return ye.slice.call(this)},to$:function(){return k(this)},toJQuery:function(){return k(this)},unique:function(){return new ve(this.context,se(this))},unshift:ye.unshift}),ve.extend=function(t,e,n){if(n.length&&e&&(e instanceof ve||e.__dt_wrapper))for(var i=0,r=n.length;i<r;i++){var o=n[i];e[o.name]="function"===o.type?function(e,n,i){return function(){var t=n.apply(e,arguments);return ve.extend(t,t,i.methodExt),t}}(t,o.val,o):"object"===o.type?{}:o.val,e[o.name].__dt_wrapper=!0,ve.extend(t,e[o.name],o.propExt)}},ve.register=Jt=function(t,e){if(k.isArray(t))for(var n=0,i=t.length;n<i;n++)ve.register(t[n],e);else{var r,i=t.split("."),o=me;for(t=0,n=i.length;t<n;t++){var a=(r=-1!==i[t].indexOf("()"))?i[t].replace("()",""):i[t];t:{for(var s=0,l=o.length;s<l;s++)if(o[s].name===a){s=o[s];break t}s=null}s||o.push(s={name:a,val:{},methodExt:[],propExt:[],type:"object"}),t===n-1?(s.val=e,s.type="function"==typeof e?"function":k.isPlainObject(e)?"object":"other"):o=r?s.methodExt:s.propExt}}},ve.registerPlural=$t=function(t,e,n){ve.register(t,n),ve.register(e,function(){var t=n.apply(this,arguments);return t===this?this:t instanceof ve?t.length?k.isArray(t[0])?new ve(t.context,t[0]):t[0]:E:t})};Jt("tables()",function(t){return t?new ve(function(t,e){if("number"==typeof t)return[e[t]];var n=k.map(e,function(t,e){return t.nTable});return k(n).filter(t).map(function(t){return t=k.inArray(this,n),e[t]}).toArray()}(t,this.context)):this}),Jt("table()",function(t){var e=(t=this.tables(t)).context;return e.length?new ve(e[0]):t}),$t("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),$t("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),$t("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),$t("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),$t("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Jt("draw()",function(e){return this.iterator("table",function(t){"page"===e?R(t):B(t,!1===(e="string"==typeof e?"full-hold"!==e:e))})}),Jt("page()",function(e){return e===E?this.page.info().page:this.iterator("table",function(t){ct(t,e)})}),Jt("page.info()",function(t){if(0===this.context.length)return E;var e=(t=this.context[0])._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,i=t.fnRecordsDisplay(),r=-1===n;return{page:r?0:Math.floor(e/n),pages:r?1:Math.ceil(i/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:i,serverSide:"ssp"===Rt(t)}}),Jt("page.len()",function(e){return e===E?0!==this.context.length?this.context[0]._iDisplayLength:E:this.iterator("table",function(t){st(t,e)})});function xe(i,r,t){var e,n;t&&(e=new ve(i)).one("draw",function(){t(e.ajax.json())}),"ssp"==Rt(i)?B(i,r):(dt(i,!0),(n=i.jqXHR)&&4!==n.readyState&&n.abort(),G(i,[],function(t){l(i);for(var e=0,n=(t=Z(i,t)).length;e<n;e++)D(i,t[e]);B(i,r),dt(i,!1)}))}Jt("ajax.json()",function(){var t=this.context;if(0<t.length)return t[0].json}),Jt("ajax.params()",function(){var t=this.context;if(0<t.length)return t[0].oAjaxData}),Jt("ajax.reload()",function(e,n){return this.iterator("table",function(t){xe(t,!1===n,e)})}),Jt("ajax.url()",function(e){var t=this.context;return e===E?0===t.length?E:(t=t[0]).ajax?k.isPlainObject(t.ajax)?t.ajax.url:t.ajax:t.sAjaxSource:this.iterator("table",function(t){k.isPlainObject(t.ajax)?t.ajax.url=e:t.ajax=e})}),Jt("ajax.url().load()",function(e,n){return this.iterator("table",function(t){xe(t,!1===n,e)})});function _e(t,e,n,i,r){var o,a,s=[],l=typeof e;for(e&&"string"!==l&&"function"!==l&&e.length!==E||(e=[e]),l=0,a=e.length;l<a;l++)for(var u=e[l]&&e[l].split&&!e[l].match(/[\[\(:]/)?e[l].split(","):[e[l]],c=0,h=u.length;c<h;c++)(o=n("string"==typeof u[c]?k.trim(u[c]):u[c]))&&o.length&&(s=s.concat(o));if((t=qt.selector[t]).length)for(l=0,a=t.length;l<a;l++)s=t[l](i,r,s);return se(s)}function be(t){return(t=t||{}).filter&&t.search===E&&(t.search=t.filter),k.extend({search:"none",order:"current",page:"all"},t)}function we(t){for(var e=0,n=t.length;e<n;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t}var Me=function(t,e){var n=[],i=t.aiDisplay,r=t.aiDisplayMaster,o=e.search,a=e.order;if(e=e.page,"ssp"==Rt(t))return"removed"===o?[]:Vt(0,r.length);if("current"==e)for(a=t._iDisplayStart,t=t.fnDisplayEnd();a<t;a++)n.push(i[a]);else if("current"==a||"applied"==a){if("none"==o)n=r.slice();else if("applied"==o)n=i.slice();else if("removed"==o){var s={},a=0;for(t=i.length;a<t;a++)s[i[a]]=null;n=k.map(r,function(t){return s.hasOwnProperty(t)?null:t})}}else if("index"==a||"original"==a)for(a=0,t=t.aoData.length;a<t;a++)"none"==o?n.push(a):(-1===(r=k.inArray(a,i))&&"removed"==o||0<=r&&"applied"==o)&&n.push(a);return n};Jt("rows()",function(e,n){e===E?e="":k.isPlainObject(e)&&(n=e,e=""),n=be(n);var t=this.iterator("table",function(t){return _e("row",e,function(n){var t=Wt(n),i=r.aoData;if(null!==t&&!o)return[t];if(a=a||Me(r,o),null!==t&&-1!==k.inArray(t,a))return[t];if(null===n||n===E||""===n)return a;if("function"==typeof n)return k.map(a,function(t){var e=i[t];return n(t,e._aData,e.nTr)?t:null});if(n.nodeName){var t=n._DT_RowIndex,e=n._DT_CellIndex;return t!==E?i[t]&&i[t].nTr===n?[t]:[]:e?i[e.row]&&i[e.row].nTr===n.parentNode?[e.row]:[]:(t=k(n).closest("*[data-dt-row]")).length?[t.data("dt-row")]:[]}return"string"==typeof n&&"#"===n.charAt(0)&&(t=r.aIds[n.replace(/^#/,"")])!==E?[t.idx]:(t=Xt(Zt(r.aoData,a,"nTr")),k(t).filter(n).map(function(){return this._DT_RowIndex}).toArray())},r=t,o=n);var r,o,a},1);return t.selector.rows=e,t.selector.opts=n,t}),Jt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||E},1)}),Jt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return Zt(t.aoData,e,"_aData")},1)}),$t("rows().cache()","row().cache()",function(n){return this.iterator("row",function(t,e){return t=t.aoData[e],"search"===n?t._aFilterData:t._aSortData},1)}),$t("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(t,e){r(t,e,n)})}),$t("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),$t("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,i=0,r=n.length;i<r;i++)for(var o=0,a=this[i].length;o<a;o++){var s=n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);e.push((!0===t?"#":"")+s)}return new ve(n,e)}),$t("rows().remove()","row().remove()",function(){var c=this;return this.iterator("row",function(t,e,n){var i,r=t.aoData,o=r[e];r.splice(e,1);for(var a=0,s=r.length;a<s;a++){var l=r[a],u=l.anCells;if(null!==l.nTr&&(l.nTr._DT_RowIndex=a),null!==u)for(l=0,i=u.length;l<i;l++)u[l]._DT_CellIndex.row=a}h(t.aiDisplayMaster,e),h(t.aiDisplay,e),h(c[n],e,!1),0<t._iRecordsDisplay&&t._iRecordsDisplay--,jt(t),(e=t.rowIdFn(o._aData))!==E&&delete t.aIds[e]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e}),this}),Jt("rows.add()",function(o){var t=this.iterator("table",function(t){for(var e=[],n=0,i=o.length;n<i;n++){var r=o[n];r.nodeName&&"TR"===r.nodeName.toUpperCase()?e.push(N(t,r)[0]):e.push(D(t,r))}return e},1),e=this.rows(-1);return e.pop(),k.merge(e,t),e}),Jt("row()",function(t,e){return we(this.rows(t,e))}),Jt("row().data()",function(t){var e=this.context;if(t===E)return e.length&&this.length?e[0].aoData[this[0]]._aData:E;var n=e[0].aoData[this[0]];return n._aData=t,k.isArray(t)&&n.nTr.id&&p(e[0].rowId)(t,n.nTr.id),r(e[0],this[0],"data"),this}),Jt("row().node()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null}),Jt("row.add()",function(e){e instanceof k&&e.length&&(e=e[0]);var t=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?N(t,e)[0]:D(t,e)});return this.row(t[0])});function Ae(r,t,e,n){function o(t,e){if(k.isArray(t)||t instanceof k)for(var n=0,i=t.length;n<i;n++)o(t[n],e);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?a.push(t):(n=k("<tr><td/></tr>").addClass(e),k("td",n).addClass(e).html(t)[0].colSpan=v(r),a.push(n[0]))}var a=[];o(e,n),t._details&&t._details.detach(),t._details=k(a),t._detailsShow&&t._details.insertAfter(t.nTr)}function Ie(t,e){var r,n,o,i=t.context;i.length&&t.length&&((t=i[0].aoData[t[0]])._details&&((t._detailsShow=e)?t._details.insertAfter(t.nTr):t._details.detach(),r=i[0],n=new ve(r),o=r.aoData,n.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<ae(o,"_details").length&&(n.on("draw.dt.DT_details",function(t,e){r===e&&n.rows({page:"current"}).eq(0).each(function(t){(t=o[t])._detailsShow&&t._details.insertAfter(t.nTr)})}),n.on("column-visibility.dt.DT_details",function(t,e,n,i){if(r===e)for(e=v(e),n=0,i=o.length;n<i;n++)(t=o[n])._details&&t._details.children("td[colspan]").attr("colspan",e)}),n.on("destroy.dt.DT_details",function(t,e){if(r===e)for(t=0,e=o.length;t<e;t++)o[t]._details&&Ce(n,t)}))))}var Ce=function(t,e){var n=t.context;n.length&&(t=n[0].aoData[e!==E?e:t[0]])&&t._details&&(t._details.remove(),t._detailsShow=E,t._details=E)};Jt("row().child()",function(t,e){var n=this.context;return t===E?n.length&&this.length?n[0].aoData[this[0]]._details:E:(!0===t?this.child.show():!1===t?Ce(this):n.length&&this.length&&Ae(n[0],n[0].aoData[this[0]],t,e),this)}),Jt(["row().child.show()","row().child().show()"],function(t){return Ie(this,!0),this}),Jt(["row().child.hide()","row().child().hide()"],function(){return Ie(this,!1),this}),Jt(["row().child.remove()","row().child().remove()"],function(){return Ce(this),this}),Jt("row().child.isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1});function Se(t,e,n,i,r){n=[],i=0;for(var o=r.length;i<o;i++)n.push(L(t,r[i],e));return n}var Te=/^([^:]+):(name|visIdx|visible)$/;Jt("columns()",function(n,i){n===E?n="":k.isPlainObject(n)&&(i=n,n=""),i=be(i);var t=this.iterator("table",function(t){return e=n,a=i,s=(o=t).aoColumns,l=ae(s,"sName"),u=ae(s,"nTh"),_e("column",e,function(n){var t=Wt(n);if(""===n)return Vt(s.length);if(null!==t)return[0<=t?t:s.length+t];if("function"==typeof n){var i=Me(o,a);return k.map(s,function(t,e){return n(e,Se(o,e,0,0,i),u[e])?e:null})}var r="string"==typeof n?n.match(Te):"";if(r)switch(r[2]){case"visIdx":case"visible":if((t=parseInt(r[1],10))<0){var e=k.map(s,function(t,e){return t.bVisible?e:null});return[e[e.length+t]]}return[P(o,t)];case"name":return k.map(l,function(t,e){return t===r[1]?e:null});default:return[]}return n.nodeName&&n._DT_CellIndex?[n._DT_CellIndex.column]:(t=k(u).filter(n).map(function(){return k.inArray(this,u)}).toArray()).length||!n.nodeName?t:(t=k(n).closest("*[data-dt-column]")).length?[t.data("dt-column")]:[]},o,a);var o,e,a,s,l,u},1);return t.selector.cols=n,t.selector.opts=i,t}),$t("columns().header()","column().header()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),$t("columns().footer()","column().footer()",function(t,e){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),$t("columns().data()","column().data()",function(){return this.iterator("column-rows",Se,1)}),$t("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),$t("columns().cache()","column().cache()",function(o){return this.iterator("column-rows",function(t,e,n,i,r){return Zt(t.aoData,r,"search"===o?"_aFilterData":"_aSortData",e)},1)}),$t("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,r){return Zt(t.aoData,r,"anCells",e)},1)}),$t("columns().visible()","column().visible()",function(l,n){var e=this,t=this.iterator("column",function(t,e){if(l===E)return t.aoColumns[e].bVisible;var n=(o=t.aoColumns)[e],i=t.aoData;if(l!==E&&n.bVisible!==l){if(l)for(var r=k.inArray(!0,ae(o,"bVisible"),e+1),o=0,a=i.length;o<a;o++){var s=i[o].nTr;t=i[o].anCells,s&&s.insertBefore(t[e],t[r]||null)}else k(ae(t.aoData,"anCells",e)).detach();n.bVisible=l}});return l!==E&&this.iterator("table",function(t){Y(t,t.aoHeader),Y(t,t.aoFooter),t.aiDisplay.length||k(t.nTBody).find("td[colspan]").attr("colspan",v(t)),Tt(t),e.iterator("column",function(t,e){zt(t,null,"column-visibility",[t,e,l,n])}),n!==E&&!n||e.columns.adjust()}),t}),$t("columns().indexes()","column().index()",function(n){return this.iterator("column",function(t,e){return"visible"===n?u(t,e):e},1)}),Jt("columns.adjust()",function(){return this.iterator("table",function(t){O(t)},1)}),Jt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];return"fromVisible"===t||"toData"===t?P(n,e):"fromData"===t||"toVisible"===t?u(n,e):void 0}}),Jt("column()",function(t,e){return we(this.columns(t,e))});Jt("cells()",function(g,t,m){if(k.isPlainObject(g)&&(g.row===E?(m=g,g=null):(m=t,t=null)),k.isPlainObject(t)&&(m=t,t=null),null===t||t===E)return this.iterator("table",function(t){return n=t,e=g,i=be(m),h=n.aoData,d=Me(n,i),t=Xt(Zt(h,d,"anCells")),f=k([].concat.apply([],t)),p=n.aoColumns.length,_e("cell",e,function(t){var e="function"==typeof t;if(null===t||t===E||e){for(o=[],a=0,s=d.length;a<s;a++)for(r=d[a],l=0;l<p;l++)u={row:r,column:l},e?(c=h[r],t(u,L(n,r,l),c.anCells?c.anCells[l]:null)&&o.push(u)):o.push(u);return o}return k.isPlainObject(t)?t.column!==E&&t.row!==E&&-1!==k.inArray(t.row,d)?[t]:[]:(e=f.filter(t).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray()).length||!t.nodeName?e:(c=k(t).closest("*[data-dt-row]")).length?[{row:c.data("dt-row"),column:c.data("dt-column")}]:[]},n,i);var n,e,i,r,o,a,s,l,u,c,h,d,f,p});var n,i,r,o,e=m?{page:m.page,order:m.order,search:m.search}:{},a=this.columns(t,e),s=this.rows(g,e),e=this.iterator("table",function(t,e){for(t=[],n=0,i=s[e].length;n<i;n++)for(r=0,o=a[e].length;r<o;r++)t.push({row:s[e][n],column:a[e][r]});return t},1);return e=m&&m.selected?this.cells(e,m):e,k.extend(e.selector,{cols:t,rows:g,opts:m}),e}),$t("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){return(t=t.aoData[e])&&t.anCells?t.anCells[n]:E},1)}),Jt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return L(t,e,n)},1)}),$t("cells().cache()","cell().cache()",function(i){return i="search"===i?"_aFilterData":"_aSortData",this.iterator("cell",function(t,e,n){return t.aoData[e][i][n]},1)}),$t("cells().render()","cell().render()",function(i){return this.iterator("cell",function(t,e,n){return L(t,e,n,i)},1)}),$t("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:u(t,n)}},1)}),$t("cells().invalidate()","cell().invalidate()",function(i){return this.iterator("cell",function(t,e,n){r(t,e,i,n)})}),Jt("cell()",function(t,e,n){return we(this.cells(t,e,n))}),Jt("cell().data()",function(t){var e=this.context,n=this[0];return t===E?e.length&&n.length?L(e[0],n[0].row,n[0].column):E:(i(e[0],n[0].row,n[0].column,t),r(e[0],n[0].row,"data",n[0].column),this)}),Jt("order()",function(e,t){var n=this.context;return e===E?0!==n.length?n[0].aaSorting:E:("number"==typeof e?e=[[e,t]]:e.length&&!k.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Jt("order.listener()",function(e,n,i){return this.iterator("table",function(t){It(t,e,n,i)})}),Jt("order.fixed()",function(e){if(e)return this.iterator("table",function(t){t.aaSortingFixed=k.extend(!0,{},e)});var t=(t=this.context).length?t[0].aaSortingFixed:E;return k.isArray(t)?{pre:t}:t}),Jt(["columns().order()","column().order()"],function(i){var r=this;return this.iterator("table",function(t,e){var n=[];k.each(r[e],function(t,e){n.push([e,i])}),t.aaSorting=n})}),Jt("search()",function(e,n,i,r){var t=this.context;return e===E?0!==t.length?t[0].oPreviousSearch.sSearch:E:this.iterator("table",function(t){t.oFeatures.bFilter&&X(t,k.extend({},t.oPreviousSearch,{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===r||r}),1)})}),$t("columns().search()","column().search()",function(i,r,o,a){return this.iterator("column",function(t,e){var n=t.aoPreSearchCols;if(i===E)return n[e].sSearch;t.oFeatures.bFilter&&(k.extend(n[e],{sSearch:i+"",bRegex:null!==r&&r,bSmart:null===o||o,bCaseInsensitive:null===a||a}),X(t,t.oPreviousSearch,1))})}),Jt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Jt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Jt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Jt("state.save()",function(){return this.iterator("table",function(t){Tt(t)})}),Qt.versionCheck=Qt.fnVersionCheck=function(t){for(var e,n,i=Qt.version.split("."),r=0,o=(t=t.split(".")).length;r<o;r++)if((e=parseInt(i[r],10)||0)!==(n=parseInt(t[r],10)||0))return n<e;return!0},Qt.isDataTable=Qt.fnIsDataTable=function(t){var i=k(t).get(0),r=!1;return t instanceof Qt.Api||(k.each(Qt.settings,function(t,e){t=e.nScrollHead?k("table",e.nScrollHead)[0]:null;var n=e.nScrollFoot?k("table",e.nScrollFoot)[0]:null;e.nTable!==i&&t!==i&&n!==i||(r=!0)}),r)},Qt.tables=Qt.fnTables=function(e){var t=!1;k.isPlainObject(e)&&(t=e.api,e=e.visible);var n=k.map(Qt.settings,function(t){if(!e||k(t.nTable).is(":visible"))return t.nTable});return t?new ve(n):n},Qt.camelToHungarian=_,Jt("$()",function(t,e){return e=this.rows(e).nodes(),e=k(e),k([].concat(e.filter(t).toArray(),e.find(t).toArray()))}),k.each(["on","one","off"],function(t,n){Jt(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=k.map(t[0].split(/\s/),function(t){return t.match(/\.dt\b/)?t:t+".dt"}).join(" ");var e=k(this.tables().nodes());return e[n].apply(e,t),this})}),Jt("clear()",function(){return this.iterator("table",function(t){l(t)})}),Jt("settings()",function(){return new ve(this.context,this.context)}),Jt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Jt("data()",function(){return this.iterator("table",function(t){return ae(t.aoData,"_aData")}).flatten()}),Jt("destroy()",function(h){return h=h||!1,this.iterator("table",function(e){var n,t=e.nTableWrapper.parentNode,i=e.oClasses,r=e.nTable,o=e.nTBody,a=e.nTHead,s=e.nTFoot,l=k(r),o=k(o),u=k(e.nTableWrapper),c=k.map(e.aoData,function(t){return t.nTr});e.bDestroying=!0,zt(e,"aoDestroyCallback","destroy",[e]),h||new ve(e).columns().visible(!0),u.off(".DT").find(":not(tbody *)").off(".DT"),k(y).off(".DT-"+e.sInstance),r!=a.parentNode&&(l.children("thead").detach(),l.append(a)),s&&r!=s.parentNode&&(l.children("tfoot").detach(),l.append(s)),e.aaSorting=[],e.aaSortingFixed=[],Ct(e),k(c).removeClass(e.asStripeClasses.join(" ")),k("th, td",a).removeClass(i.sSortable+" "+i.sSortableAsc+" "+i.sSortableDesc+" "+i.sSortableNone),o.children().detach(),o.append(c),l[a=h?"remove":"detach"](),u[a](),!h&&t&&(t.insertBefore(r,e.nTableReinsertBefore),l.css("width",e.sDestroyWidth).removeClass(i.sTable),(n=e.asDestroyStripes.length)&&o.children().each(function(t){k(this).addClass(e.asDestroyStripes[t%n])})),-1!==(t=k.inArray(e,Qt.settings))&&Qt.settings.splice(t,1)})}),k.each(["column","row","cell"],function(t,l){Jt(l+"s().every()",function(o){var a=this.selector.opts,s=this;return this.iterator(l,function(t,e,n,i,r){o.call(s[l](e,"cell"===l?n:a,"cell"===l?a:E),e,n,i,r)})})}),Jt("i18n()",function(t,e,n){var i=this.context[0];return(t=z(t)(i.oLanguage))===E&&(t=e),(t=n!==E&&k.isPlainObject(t)?t[n]!==E?t[n]:t._:t).replace("%d",n)}),Qt.version="1.10.20",Qt.settings=[],Qt.models={},Qt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Qt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Qt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Qt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:k.extend({},Qt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},a(Qt.defaults),Qt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},a(Qt.defaults.column),Qt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:E,oAjaxData:E,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Rt(this)?+this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Rt(this)?+this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===t?e+i:Math.min(e+t,this._iRecordsDisplay):!o||i<n||-1===t?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Qt.ext=qt={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Qt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Qt.version},k.extend(qt,{afnFiltering:qt.search,aTypes:qt.type.detect,ofnSearch:qt.type.search,oSort:qt.type.order,afnSortData:qt.order,aoFeatures:qt.feature,oApi:qt.internal,oStdClasses:qt.classes,oPagination:qt.pager}),k.extend(Qt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var De=Qt.ext.pager;k.extend(De,{simple:function(t,e){return["previous","next"]},full:function(t,e){return["first","previous","next","last"]},numbers:function(t,e){return[Bt(t,e)]},simple_numbers:function(t,e){return["previous",Bt(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Bt(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Bt(t,e),"last"]},_numbers:Bt,numbers_length:7}),k.extend(!0,Qt.ext.renderer,{pageButton:{_:function(l,t,u,e,c,h){function d(t,e){function n(t){ct(l,t.data.action,!0)}for(var i=g.sPageButtonDisabled,r=0,o=e.length;r<o;r++){var a=e[r];if(k.isArray(a)){var s=k("<"+(a.DT_el||"div")+"/>").appendTo(t);d(s,a)}else{switch(f=null,p=a,s=l.iTabIndex,a){case"ellipsis":t.append('<span class="ellipsis">&#x2026;</span>');break;case"first":f=m.sFirst,0===c&&(s=-1,p+=" "+i);break;case"previous":f=m.sPrevious,0===c&&(s=-1,p+=" "+i);break;case"next":f=m.sNext,c===h-1&&(s=-1,p+=" "+i);break;case"last":f=m.sLast,c===h-1&&(s=-1,p+=" "+i);break;default:f=a+1,p=c===a?g.sPageButtonActive:""}null!==f&&(Ot(s=k("<a>",{class:g.sPageButton+" "+p,"aria-controls":l.sTableId,"aria-label":y[a],"data-dt-idx":v,tabindex:s,id:0===u&&"string"==typeof a?l.sTableId+"_"+a:null}).html(f).appendTo(t),{action:a},n),v++)}}}var f,p,g=l.oClasses,m=l.oLanguage.oPaginate,y=l.oLanguage.oAria.paginate||{},v=0;try{var n=k(t).find(x.activeElement).data("dt-idx")}catch(t){}d(k(t).empty(),e),n!==E&&k(t).find("[data-dt-idx="+n+"]").focus()}}}),k.extend(Qt.ext.type.detect,[function(t,e){return e=e.oLanguage.sDecimal,Gt(t,e)?"num"+e:null},function(t,e){return(!t||t instanceof Date||ne.test(t))&&(null!==(e=Date.parse(t))&&!isNaN(e)||Ht(t))?"date":null},function(t,e){return e=e.oLanguage.sDecimal,Gt(t,e,!0)?"num-fmt"+e:null},function(t,e){return e=e.oLanguage.sDecimal,Ut(t,e)?"html-num"+e:null},function(t,e){return e=e.oLanguage.sDecimal,Ut(t,e,!0)?"html-num-fmt"+e:null},function(t,e){return Ht(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),k.extend(Qt.ext.type.search,{html:function(t){return Ht(t)?t:"string"==typeof t?t.replace(te," ").replace(ee,""):""},string:function(t){return!Ht(t)&&"string"==typeof t?t.replace(te," "):t}});function Ne(t,e,n,i){return 0===t||t&&"-"!==t?((t=e?oe(t,e):t).replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),+t):-1/0}k.extend(qt.type.order,{"date-pre":function(t){return t=Date.parse(t),isNaN(t)?-1/0:t},"html-pre":function(t){return Ht(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return Ht(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:e<t?1:0},"string-desc":function(t,e){return t<e?1:e<t?-1:0}}),Ft(""),k.extend(!0,Qt.ext.renderer,{header:{_:function(r,o,a,s){k(r.nTable).on("order.dt.DT",function(t,e,n,i){r===e&&(t=a.idx,o.removeClass(a.sSortingClass+" "+s.sSortAsc+" "+s.sSortDesc).addClass("asc"==i[t]?s.sSortAsc:"desc"==i[t]?s.sSortDesc:a.sSortingClass))})},jqueryui:function(r,o,a,s){k("<div/>").addClass(s.sSortJUIWrapper).append(o.contents()).append(k("<span/>").addClass(s.sSortIcon+" "+a.sSortingClassJUI)).appendTo(o),k(r.nTable).on("order.dt.DT",function(t,e,n,i){r===e&&(t=a.idx,o.removeClass(s.sSortAsc+" "+s.sSortDesc).addClass("asc"==i[t]?s.sSortAsc:"desc"==i[t]?s.sSortDesc:a.sSortingClass),o.find("span."+s.sSortIcon).removeClass(s.sSortJUIAsc+" "+s.sSortJUIDesc+" "+s.sSortJUI+" "+s.sSortJUIAscAllowed+" "+s.sSortJUIDescAllowed).addClass("asc"==i[t]?s.sSortJUIAsc:"desc"==i[t]?s.sSortJUIDesc:a.sSortingClassJUI))})}}});function Le(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t}return Qt.render={number:function(i,r,o,a,s){return{display:function(t){if("number"!=typeof t&&"string"!=typeof t)return t;var e=t<0?"-":"",n=parseFloat(t);return isNaN(n)?Le(t):(n=n.toFixed(o),t=Math.abs(n),n=parseInt(t,10),t=o?r+(t-n).toFixed(o).substring(2):"",e+(a||"")+n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,i)+t+(s||""))}}},text:function(){return{display:Le,filter:Le}}},k.extend(Qt.ext.internal,{_fnExternApiFunc:e,_fnBuildAjax:G,_fnAjaxUpdate:U,_fnAjaxParameters:t,_fnAjaxUpdateDraw:o,_fnAjaxDataSrc:Z,_fnAddColumn:I,_fnColumnOptions:C,_fnAdjustColumnSizing:O,_fnVisibleToColumnIndex:P,_fnColumnIndexToVisible:u,_fnVisbleColumns:v,_fnGetColumns:S,_fnColumnTypes:s,_fnApplyColumnDefs:T,_fnHungarianMap:a,_fnCamelToHungarian:_,_fnLanguageCompat:b,_fnBrowserDetect:A,_fnAddData:D,_fnAddTr:N,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==E?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,e,n){return k.inArray(n,t.aoData[e].anCells)},_fnGetCellData:L,_fnSetCellData:i,_fnSplitObjNotation:c,_fnGetObjectDataFn:z,_fnSetObjectDataFn:p,_fnGetDataMaster:g,_fnClearTable:l,_fnDeleteIndex:h,_fnInvalidate:r,_fnGetRowElements:d,_fnCreateTr:m,_fnBuildHead:j,_fnDrawHead:Y,_fnDraw:R,_fnReDraw:B,_fnAddOptionsHtml:F,_fnDetectHeader:H,_fnGetUniqueThs:W,_fnFeatureHtmlFilter:V,_fnFilterComplete:X,_fnFilterCustom:q,_fnFilterColumn:J,_fnFilter:$,_fnFilterCreateSearch:Q,_fnEscapeRegex:he,_fnFilterData:K,_fnFeatureHtmlInfo:nt,_fnUpdateInfo:it,_fnInfoMacros:rt,_fnInitialise:ot,_fnInitComplete:at,_fnLengthChange:st,_fnFeatureHtmlLength:lt,_fnFeatureHtmlPaginate:ut,_fnPageChange:ct,_fnFeatureHtmlProcessing:ht,_fnProcessingDisplay:dt,_fnFeatureHtmlTable:ft,_fnScrollDraw:pt,_fnApplyToChildren:gt,_fnCalculateColumnWidths:mt,_fnThrottle:ge,_fnConvertToWidth:yt,_fnGetWidestNode:vt,_fnGetMaxLenString:xt,_fnStringToCss:_t,_fnSortFlatten:bt,_fnSort:wt,_fnSortAria:Mt,_fnSortListener:At,_fnSortAttachListener:It,_fnSortingClasses:Ct,_fnSortData:St,_fnSaveState:Tt,_fnLoadState:Dt,_fnSettingsFromNode:Nt,_fnLog:Lt,_fnMap:kt,_fnBindAction:Ot,_fnCallbackReg:Pt,_fnCallbackFire:zt,_fnLengthOverflow:jt,_fnRenderer:Yt,_fnDataSource:Rt,_fnRowAttributes:f,_fnExtend:Et,_fnCalculateEnd:function(){}}),((k.fn.dataTable=Qt).$=k).fn.dataTableSettings=Qt.settings,k.fn.dataTableExt=Qt.ext,k.fn.DataTable=function(t){return k(this).dataTable(t).api()},k.each(Qt,function(t,e){k.fn.DataTable[t]=e}),k.fn.dataTable});var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(t,e,n){for(var i=(t=t instanceof String?String(t):t).length,r=0;r<i;r++){var o=t[r];if(e.call(n,o,r,t))return{i:r,v:o}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return("undefined"==typeof window||window!==t)&&"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,n,i){if(e){for(n=$jscomp.global,t=t.split("."),i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.find",function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).v}},"es6","es3"),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t=t||window,e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),n(e,t,t.document)}:n(jQuery,window,document)}(function(x,t,i,r){var o=x.fn.dataTable;return x.extend(!0,o.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),x.extend(o.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),o.ext.renderer.pageButton.bootstrap=function(s,t,l,e,u,c){function h(t,e){function n(t){t.preventDefault(),x(t.currentTarget).hasClass("disabled")||p.page()==t.data.action||p.page(t.data.action).draw("page")}for(var i=0,r=e.length;i<r;i++){var o,a=e[i];if(x.isArray(a))h(t,a);else{switch(f=d="",a){case"ellipsis":d="&#x2026;",f="disabled";break;case"first":d=m.sFirst,f=a+(0<u?"":" disabled");break;case"previous":d=m.sPrevious,f=a+(0<u?"":" disabled");break;case"next":d=m.sNext,f=a+(u<c-1?"":" disabled");break;case"last":d=m.sLast,f=a+(u<c-1?"":" disabled");break;default:d=a+1,f=u===a?"active":""}d&&(o=x("<li>",{class:g.sPageButton+" "+f,id:0===l&&"string"==typeof a?s.sTableId+"_"+a:null}).append(x("<a>",{href:"#","aria-controls":s.sTableId,"aria-label":y[a],"data-dt-idx":v,tabindex:s.iTabIndex}).html(d)).appendTo(t),s.oApi._fnBindAction(o,{action:a},n),v++)}}}var d,f,p=new o.Api(s),g=s.oClasses,m=s.oLanguage.oPaginate,y=s.oLanguage.oAria.paginate||{},v=0;try{var n=x(t).find(i.activeElement).data("dt-idx")}catch(t){}h(x(t).empty().html('<ul class="pagination"/>').children("ul"),e),n!==r&&x(t).find("[data-dt-idx="+n+"]").focus()},o});var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(t,e,n){for(var i=(t=t instanceof String?String(t):t).length,r=0;r<i;r++){var o=t[r];if(e.call(n,o,r,t))return{i:r,v:o}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},$jscomp.getGlobal=function(t){return("undefined"==typeof window||window!==t)&&"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(t,e,n,i){if(e){for(n=$jscomp.global,t=t.split("."),i=0;i<t.length-1;i++){var r=t[i];r in n||(n[r]={}),n=n[r]}(e=e(i=n[t=t[t.length-1]]))!=i&&null!=e&&$jscomp.defineProperty(n,t,{configurable:!0,writable:!0,value:e})}},$jscomp.polyfill("Array.prototype.find",function(t){return t||function(t,e){return $jscomp.findInternal(this,t,e).v}},"es6","es3"),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,e){return t=t||window,e&&e.fn.dataTable||(e=require("datatables.net")(t,e).$),n(e,t,t.document)}:n(jQuery,window,document)}(function(m,s,l,y){function u(t,e){var n=this;if(this instanceof u){e!==y&&!0!==e||(e={});var i=m.fn.dataTable.camelToHungarian;if(i&&(i(u.defaults,u.defaults,!0),i(u.defaults,e)),t=new m.fn.dataTable.Api(t).settings()[0],this.s={dt:t,iTableColumns:t.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[],rtl:"rtl"===m(t.nTable).css("direction")},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},t._oFixedColumns)throw"FixedColumns already initialised on this table";t._oFixedColumns=this,t._bInitComplete?this._fnConstruct(e):t.oApi._fnCallbackReg(t,"aoInitComplete",function(){n._fnConstruct(e)},"FixedColumns")}else alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.")}var e,i=m.fn.dataTable;return m.extend(u.prototype,{fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(t){delete t._DTTC_iHeight,t.style.height="auto"},fnSetRowHeight:function(t,e){t.style.height=e+"px"},fnGetPosition:function(t){var e=this.s.dt.oInstance;if(m(t).parents(".DTFC_Cloned").length){if("tr"===t.nodeName.toLowerCase())return t=m(t).index(),e.fnGetPosition(m("tr",this.s.dt.nTBody)[t]);var n=m(t).index();return t=m(t.parentNode).index(),[e.fnGetPosition(m("tr",this.s.dt.nTBody)[t]),n,e.oApi._fnVisibleToColumnIndex(this.s.dt,n)]}return e.fnGetPosition(t)},fnToFixedNode:function(t,e){var n;return e<this.s.iLeftColumns?n=m(this.dom.clone.left.body).find("[data-dt-row="+t+"][data-dt-column="+e+"]"):e>=this.s.iRightColumns&&(n=m(this.dom.clone.right.body).find("[data-dt-row="+t+"][data-dt-column="+e+"]")),n&&n.length?n[0]:new m.fn.dataTable.Api(this.s.dt).cell(t,e).node()},_fnConstruct:function(t){var e,n,i,r,o,a=this;"function"!=typeof this.s.dt.oInstance.fnVersionCheck||!0!==this.s.dt.oInstance.fnVersionCheck("1.8.0")?alert("FixedColumns "+u.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation"):""===this.s.dt.oScroll.sX?this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled"):(this.s=m.extend(!0,this.s,u.defaults,t),t=this.s.dt.oClasses,this.dom.grid.dt=m(this.s.dt.nTable).parents("div."+t.sScrollWrapper)[0],this.dom.scroller=m("div."+t.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup(),n=!1,m(this.s.dt.nTableWrapper).on("mousedown.DTFC",function(t){0===t.button&&(n=!0,m(l).one("mouseup",function(){n=!1}))}),m(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){n||(e="main")}).on("scroll.DTFC",function(t){"main"===(e=!e&&t.originalEvent?"main":e)&&(0<a.s.iLeftColumns&&(a.dom.grid.left.liner.scrollTop=a.dom.scroller.scrollTop),0<a.s.iRightColumns&&(a.dom.grid.right.liner.scrollTop=a.dom.scroller.scrollTop))}),i="onwheel"in l.createElement("div")?"wheel.DTFC":"mousewheel.DTFC",0<a.s.iLeftColumns&&m(a.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){n||(e="left")}).on("scroll.DTFC",function(t){"left"===(e=!e&&t.originalEvent?"left":e)&&(a.dom.scroller.scrollTop=a.dom.grid.left.liner.scrollTop,0<a.s.iRightColumns&&(a.dom.grid.right.liner.scrollTop=a.dom.grid.left.liner.scrollTop))}).on(i,function(t){a.dom.scroller.scrollLeft-="wheel"===t.type?-t.originalEvent.deltaX:t.originalEvent.wheelDeltaX}),0<a.s.iRightColumns&&m(a.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){n||(e="right")}).on("scroll.DTFC",function(t){"right"===(e=!e&&t.originalEvent?"right":e)&&(a.dom.scroller.scrollTop=a.dom.grid.right.liner.scrollTop,0<a.s.iLeftColumns&&(a.dom.grid.left.liner.scrollTop=a.dom.grid.right.liner.scrollTop))}).on(i,function(t){a.dom.scroller.scrollLeft-="wheel"===t.type?-t.originalEvent.deltaX:t.originalEvent.wheelDeltaX}),m(s).on("resize.DTFC",function(){a._fnGridLayout.call(a)}),r=!0,(o=m(this.s.dt.nTable)).on("draw.dt.DTFC",function(){a._fnColCalc(),a._fnDraw.call(a,r),r=!1}).on("column-sizing.dt.DTFC",function(){a._fnColCalc(),a._fnGridLayout(a)}).on("column-visibility.dt.DTFC",function(t,e,n,i,r){r!==y&&!r||(a._fnColCalc(),a._fnGridLayout(a),a._fnDraw(!0))}).on("select.dt.DTFC deselect.dt.DTFC",function(t,e,n,i){"dt"===t.namespace&&a._fnDraw(!1)}).on("destroy.dt.DTFC",function(){o.off(".DTFC"),m(a.dom.scroller).off(".DTFC"),m(s).off(".DTFC"),m(a.s.dt.nTableWrapper).off(".DTFC"),m(a.dom.grid.left.liner).off(".DTFC "+i),m(a.dom.grid.left.wrapper).remove(),m(a.dom.grid.right.liner).off(".DTFC "+i),m(a.dom.grid.right.wrapper).remove()}),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1))},_fnColCalc:function(){var r=this,o=0,a=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],m.each(this.s.dt.aoColumns,function(t,e){var n,i;(e=m(e.nTh)).filter(":visible").length?(n=e.outerWidth(),0===r.s.aiOuterWidths.length&&(n+="string"==typeof(i=m(r.s.dt.nTable).css("border-left-width"))&&-1===i.indexOf("px")?1:parseInt(i,10)),r.s.aiOuterWidths.length===r.s.dt.aoColumns.length-1&&(n+="string"==typeof(i=m(r.s.dt.nTable).css("border-right-width"))&&-1===i.indexOf("px")?1:parseInt(i,10)),r.s.aiOuterWidths.push(n),r.s.aiInnerWidths.push(e.width()),t<r.s.iLeftColumns&&(o+=n),r.s.iTableColumns-r.s.iRightColumns<=t&&(a+=n)):(r.s.aiInnerWidths.push(0),r.s.aiOuterWidths.push(0))}),this.s.iLeftWidth=o,this.s.iRightWidth=a},_fnGridSetup:function(){var t=this._fnDTOverflow();this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var e,n=m('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;" aria-hidden="true"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; height:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; right:0;" aria-hidden="true"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; height:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],i=n.childNodes[0],r=n.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(n,this.dom.grid.dt),n.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=n,0<this.s.iLeftColumns&&(this.dom.grid.left.wrapper=i,this.dom.grid.left.head=i.childNodes[0],this.dom.grid.left.body=i.childNodes[1],this.dom.grid.left.liner=m("div.DTFC_LeftBodyLiner",n)[0],n.appendChild(i)),0<this.s.iRightColumns&&(this.dom.grid.right.wrapper=r,this.dom.grid.right.head=r.childNodes[0],this.dom.grid.right.body=r.childNodes[1],this.dom.grid.right.liner=m("div.DTFC_RightBodyLiner",n)[0],r.style.right=t.bar+"px",(e=m("div.DTFC_RightHeadBlocker",n)[0]).style.width=t.bar+"px",e.style.right=-t.bar+"px",this.dom.grid.right.headBlock=e,(e=m("div.DTFC_RightFootBlocker",n)[0]).style.width=t.bar+"px",e.style.right=-t.bar+"px",this.dom.grid.right.footBlock=e,n.appendChild(r)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,0<this.s.iLeftColumns&&(this.dom.grid.left.foot=i.childNodes[2]),0<this.s.iRightColumns&&(this.dom.grid.right.foot=r.childNodes[2])),this.s.rtl&&m("div.DTFC_RightHeadBlocker",n).css({left:-t.bar+"px",right:""})},_fnGridLayout:function(){var n=this,t=this.dom.grid;m(t.wrapper).width();function e(t,e){o.bar?(!n._firefoxScrollError()||34<m(t).height())&&(t.style.width=e+o.bar+"px"):(t.style.width=e+20+"px",t.style.paddingRight="20px",t.style.boxSizing="border-box")}var i=this.s.dt.nTable.parentNode.offsetHeight,r=this.s.dt.nTable.parentNode.parentNode.offsetHeight,o=this._fnDTOverflow(),a=this.s.iLeftWidth,s=this.s.iRightWidth,l="rtl"===m(this.dom.body).css("direction");o.x&&(i-=o.bar),t.wrapper.style.height=r+"px",0<this.s.iLeftColumns&&((r=t.left.wrapper).style.width=a+"px",r.style.height="1px",l?(r.style.left="",r.style.right=0):(r.style.left=0,r.style.right=""),t.left.body.style.height=i+"px",t.left.foot&&(t.left.foot.style.top=(o.x?o.bar:0)+"px"),e(t.left.liner,a),t.left.liner.style.height=i+"px",t.left.liner.style.maxHeight=i+"px"),0<this.s.iRightColumns&&((r=t.right.wrapper).style.width=s+"px",r.style.height="1px",this.s.rtl?(r.style.left=o.y?o.bar+"px":0,r.style.right=""):(r.style.left="",r.style.right=o.y?o.bar+"px":0),t.right.body.style.height=i+"px",t.right.foot&&(t.right.foot.style.top=(o.x?o.bar:0)+"px"),e(t.right.liner,s),t.right.liner.style.height=i+"px",t.right.liner.style.maxHeight=i+"px",t.right.headBlock.style.display=o.y?"block":"none",t.right.footBlock.style.display=o.y?"block":"none")},_fnDTOverflow:function(){var t=this.s.dt.nTable,e=t.parentNode,n={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return t.offsetWidth>e.clientWidth&&(n.x=!0),t.offsetHeight>e.clientHeight&&(n.y=!0),n},_fnDraw:function(t){this._fnGridLayout(),this._fnCloneLeft(t),this._fnCloneRight(t),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),m(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(t){if(!(this.s.iRightColumns<=0)){for(var e=[],n=this.s.iTableColumns-this.s.iRightColumns;n<this.s.iTableColumns;n++)this.s.dt.aoColumns[n].bVisible&&e.push(n);this._fnClone(this.dom.clone.right,this.dom.grid.right,e,t)}},_fnCloneLeft:function(t){if(!(this.s.iLeftColumns<=0)){for(var e=[],n=0;n<this.s.iLeftColumns;n++)this.s.dt.aoColumns[n].bVisible&&e.push(n);this._fnClone(this.dom.clone.left,this.dom.grid.left,e,t)}},_fnCopyLayout:function(t,e,n){for(var i=[],r=[],o=[],a=0,s=t.length;a<s;a++){var l=[];l.nTr=m(t[a].nTr).clone(n,!1)[0];for(var u,c=0,h=this.s.iTableColumns;c<h;c++)-1!==m.inArray(c,e)&&(-1===(u=m.inArray(t[a][c].cell,o))?(u=m(t[a][c].cell).clone(n,!1)[0],r.push(u),o.push(t[a][c].cell),l.push({cell:u,unique:t[a][c].unique})):l.push({cell:r[u],unique:t[a][c].unique}));i.push(l)}return i},_fnClone:function(t,e,i,n){var r,o=this,a=this.s.dt;if(n){m(t.header).remove(),t.header=m(this.dom.header).clone(!0,!1)[0],t.header.className+=" DTFC_Cloned",t.header.style.width="100%",e.head.appendChild(t.header);var s=this._fnCopyLayout(a.aoHeader,i,!0),l=m(">thead",t.header);l.empty();for(var u=0,c=s.length;u<c;u++)l[0].appendChild(s[u].nTr);a.oApi._fnDrawHead(a,s,!0)}else{var s=this._fnCopyLayout(a.aoHeader,i,!1),h=[];for(a.oApi._fnDetectHeader(h,m(">thead",t.header)[0]),u=0,c=s.length;u<c;u++)for(var d=0,l=s[u].length;d<l;d++)h[u][d].cell.className=s[u][d].cell.className,m("span.DataTables_sort_icon",h[u][d].cell).each(function(){this.className=m("span.DataTables_sort_icon",s[u][d].cell)[0].className})}this._fnEqualiseHeights("thead",this.dom.header,t.header),"auto"==this.s.sHeightMatch&&m(">tbody>tr",o.dom.body).css("height","auto"),null!==t.body&&(m(t.body).remove(),t.body=null),t.body=m(this.dom.body).clone(!0)[0],t.body.className+=" DTFC_Cloned",t.body.style.paddingBottom=a.oScroll.iBarWidth+"px",t.body.style.marginBottom=2*a.oScroll.iBarWidth+"px",null!==t.body.getAttribute("id")&&t.body.removeAttribute("id"),m(">thead>tr",t.body).empty(),m(">tfoot",t.body).remove();var f=m("tbody",t.body)[0];if(m(f).empty(),0<a.aiDisplay.length){for(c=m(">thead>tr",t.body)[0],r=0;r<i.length;r++){var p=i[r],g=m(a.aoColumns[p].nTh).clone(!0)[0];g.innerHTML="",(l=g.style).paddingTop="0",l.paddingBottom="0",l.borderTopWidth="0",l.borderBottomWidth="0",l.height=0,l.width=o.s.aiInnerWidths[p]+"px",c.appendChild(g)}m(">tbody>tr",o.dom.body).each(function(t){t=!1===o.s.dt.oFeatures.bServerSide?o.s.dt.aiDisplay[o.s.dt._iDisplayStart+t]:t;var e=o.s.dt.aoData[t].anCells||m(this).children("td, th"),n=this.cloneNode(!1);for(n.removeAttribute("id"),n.setAttribute("data-dt-row",t),r=0;r<i.length;r++)p=i[r],0<e.length&&((g=m(e[p]).clone(!0,!0)[0]).removeAttribute("id"),g.setAttribute("data-dt-row",t),g.setAttribute("data-dt-column",p),n.appendChild(g));f.appendChild(n)})}else m(">tbody>tr",o.dom.body).each(function(t){(g=this.cloneNode(!0)).className+=" DTFC_NoData",m("td",g).html(""),f.appendChild(g)});if(t.body.style.width="100%",t.body.style.margin="0",t.body.style.padding="0",a.oScroller!==y&&(c=a.oScroller.dom.force,e.forcer?e.forcer.style.height=c.style.height:(e.forcer=c.cloneNode(!0),e.liner.appendChild(e.forcer))),e.liner.appendChild(t.body),this._fnEqualiseHeights("tbody",o.dom.body,t.body),null!==a.nTFoot){if(n){for(null!==t.footer&&t.footer.parentNode.removeChild(t.footer),t.footer=m(this.dom.footer).clone(!0,!0)[0],t.footer.className+=" DTFC_Cloned",t.footer.style.width="100%",e.foot.appendChild(t.footer),s=this._fnCopyLayout(a.aoFooter,i,!0),(e=m(">tfoot",t.footer)).empty(),u=0,c=s.length;u<c;u++)e[0].appendChild(s[u].nTr);a.oApi._fnDrawHead(a,s,!0)}else for(s=this._fnCopyLayout(a.aoFooter,i,!1),a.oApi._fnDetectHeader(e=[],m(">tfoot",t.footer)[0]),u=0,c=s.length;u<c;u++)for(d=0,l=s[u].length;d<l;d++)e[u][d].cell.className=s[u][d].cell.className;this._fnEqualiseHeights("tfoot",this.dom.footer,t.footer)}e=a.oApi._fnGetUniqueThs(a,m(">thead",t.header)[0]),m(e).each(function(t){p=i[t],this.style.width=o.s.aiInnerWidths[p]+"px"}),null!==o.s.dt.nTFoot&&(e=a.oApi._fnGetUniqueThs(a,m(">tfoot",t.footer)[0]),m(e).each(function(t){p=i[t],this.style.width=o.s.aiInnerWidths[p]+"px"}))},_fnGetTrNodes:function(t){for(var e=[],n=0,i=t.childNodes.length;n<i;n++)"TR"==t.childNodes[n].nodeName.toUpperCase()&&e.push(t.childNodes[n]);return e},_fnEqualiseHeights:function(t,e,n){if("none"!=this.s.sHeightMatch||"thead"===t||"tfoot"===t){var i=e.getElementsByTagName(t)[0];n=n.getElementsByTagName(t)[0],(t=m(">"+t+">tr:eq(0)",e).children(":first")).outerHeight(),t.height(),i=this._fnGetTrNodes(i),e=this._fnGetTrNodes(n);var r=[];for(n=0,t=e.length;n<t;n++){var o=i[n].offsetHeight,a=e[n].offsetHeight,o=o<a?a:o;"semiauto"==this.s.sHeightMatch&&(i[n]._DTTC_iHeight=o),r.push(o)}for(n=0,t=e.length;n<t;n++)e[n].style.height=r[n]+"px",i[n].style.height=r[n]+"px"}},_firefoxScrollError:function(){var t;return e===y&&(t=m("<div/>").css({position:"absolute",top:0,left:0,height:10,width:50,overflow:"scroll"}).appendTo("body"),e=t[0].clientWidth===t[0].offsetWidth&&0!==this._fnDTOverflow().bar,t.remove()),e}}),u.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},u.version="3.3.0",i.Api.register("fixedColumns()",function(){return this}),i.Api.register("fixedColumns().update()",function(){return this.iterator("table",function(t){t._oFixedColumns&&t._oFixedColumns.fnUpdate()})}),i.Api.register("fixedColumns().relayout()",function(){return this.iterator("table",function(t){t._oFixedColumns&&t._oFixedColumns.fnRedrawLayout()})}),i.Api.register("rows().recalcHeight()",function(){return this.iterator("row",function(t,e){t._oFixedColumns&&t._oFixedColumns.fnRecalculateHeight(this.row(e).node())})}),i.Api.register("fixedColumns().rowIndex()",function(t){return(t=m(t)).parents(".DTFC_Cloned").length?this.rows({page:"current"}).indexes()[t.index()]:this.row(t).index()}),i.Api.register("fixedColumns().cellIndex()",function(t){if((t=m(t)).parents(".DTFC_Cloned").length){var e=t.parent().index(),e=this.rows({page:"current"}).indexes()[e];return t=t.parents(".DTFC_LeftWrapper").length?t.index():this.columns().flatten().length-this.context[0]._oFixedColumns.s.iRightColumns+t.index(),{row:e,column:this.column.index("toData",t),columnVisible:t}}return this.cell(t).index()}),i.Api.registerPlural("cells().fixedNodes()","cell().fixedNode()",function(){return this.iterator("cell",function(t,e,n){return t._oFixedColumns?t._oFixedColumns.fnToFixedNode(e,n):this.node()},1)}),m(l).on("init.dt.fixedColumns",function(t,e){var n;"dt"===t.namespace&&(t=e.oInit.fixedColumns,n=i.defaults.fixedColumns,(t||n)&&(n=m.extend({},t,n),!1!==t&&new u(e,n)))}),m.fn.dataTable.FixedColumns=u,m.fn.DataTable.FixedColumns=u}),function(m,r){function i(){var n=this;n.id=null,n.busy=!1,n.start=function(t,e){n.busy||(n.stop(),n.id=setTimeout(function(){t(),n.id=null,n.busy=!1},e),n.busy=!0)},n.stop=function(){null!==n.id&&(clearTimeout(n.id),n.id=null,n.busy=!1)}}function n(t,e,n){var d=this;d.id=n,d.table=t,d.options=e,d.breakpoints=[],d.breakpointNames="",d.columns={},d.plugins=r.footable.plugins.load(d);var f=d.options,s=f.classes,p=f.events,u=f.triggers,g=0;return d.timers={resize:new i,register:function(t){return d.timers[t]=new i,d.timers[t]}},d.init=function(){var t=m(r),e=m(d.table);if(r.footable.plugins.init(d),e.hasClass(s.loaded))d.raise(p.alreadyInitialized);else{for(var n in d.raise(p.initializing),e.addClass(s.loading),e.find(f.columnDataSelector).each(function(){var t=d.getColumnData(this);d.columns[t.index]=t}),f.breakpoints)d.breakpoints.push({name:n,width:f.breakpoints[n]}),d.breakpointNames+=n+" ";d.breakpoints.sort(function(t,e){return t.width-e.width}),e.unbind(u.initialize).bind(u.initialize,function(){e.removeData("footable_info"),e.data("breakpoint",""),e.trigger(u.resize),e.removeClass(s.loading),e.addClass(s.loaded).addClass(s.main),d.raise(p.initialized)}).unbind(u.redraw).bind(u.redraw,function(){d.redraw()}).unbind(u.resize).bind(u.resize,function(){d.resize()}).unbind(u.expandFirstRow).bind(u.expandFirstRow,function(){e.find(f.toggleSelector).first().not("."+s.detailShow).trigger(u.toggleRow)}).unbind(u.expandAll).bind(u.expandAll,function(){e.find(f.toggleSelector).not("."+s.detailShow).trigger(u.toggleRow)}).unbind(u.collapseAll).bind(u.collapseAll,function(){e.find("."+s.detailShow).trigger(u.toggleRow)}),e.trigger(u.initialize),t.bind("resize.footable",function(){d.timers.resize.stop(),d.timers.resize.start(function(){d.raise(u.resize)},f.delay)})}},d.addRowToggle=function(){if(f.addRowToggle){var t,e=m(d.table),n=!1;for(t in e.find("span."+s.toggle).remove(),d.columns){var i=d.columns[t];if(i.toggle){n=!0,i="> tbody > tr:not(."+s.detail+",."+s.disabled+") > td:nth-child("+(parseInt(i.index,10)+1)+"),> tbody > tr:not(."+s.detail+",."+s.disabled+") > th:nth-child("+(parseInt(i.index,10)+1)+")";return void e.find(i).not("."+s.detailCell).prepend(m(f.toggleHTMLElement).addClass(s.toggle))}}n||e.find("> tbody > tr:not(."+s.detail+",."+s.disabled+") > td:first-child").add("> tbody > tr:not(."+s.detail+",."+s.disabled+") > th:first-child").not("."+s.detailCell).prepend(m(f.toggleHTMLElement).addClass(s.toggle))}},d.setColumnClasses=function(){var t,e=m(d.table);for(t in d.columns){var n,i,r=d.columns[t];null!==r.className&&(i=!(n=""),m.each(r.matches,function(t,e){i||(n+=", "),n+="> tbody > tr:not(."+s.detail+") > td:nth-child("+(parseInt(e,10)+1)+")",i=!1}),e.find(n).not("."+s.detailCell).addClass(r.className))}},d.bindToggleSelectors=function(){var e=m(d.table);d.hasAnyBreakpointColumn()&&(e.find(f.toggleSelector).unbind(u.toggleRow).bind(u.toggleRow,function(){var t=m(this).is("tr")?m(this):m(this).parents("tr:first");d.toggleDetail(t)}),e.find(f.toggleSelector).unbind("click.footable").bind("click.footable",function(t){e.is(".breakpoint")&&m(t.target).is("td,th,."+s.toggle)&&m(this).trigger(u.toggleRow)}))},d.parse=function(t,e){return(f.parsers[e.type]||f.parsers.alpha)(t)},d.getColumnData=function(t){var e=m(t),n=e.data("hide"),i=e.index(),n=n||"";n=jQuery.map(n.split(","),function(t){return jQuery.trim(t)});var r={index:i,hide:{},type:e.data("type")||"alpha",name:e.data("name")||m.trim(e.text()),ignore:e.data("ignore")||!1,toggle:e.data("toggle")||!1,className:e.data("class")||null,matches:[],names:{},group:e.data("group")||null,groupName:null,isEditable:e.data("editable")};null!==r.group&&(o=m(d.table).find('> thead > tr.footable-group-row > th[data-group="'+r.group+'"], > thead > tr.footable-group-row > td[data-group="'+r.group+'"]').first(),r.groupName=d.parse(o,{type:"alpha"}));var o=parseInt(e.prev().attr("colspan")||0,10);g+=1<o?o-1:0;var a=parseInt(e.attr("colspan")||0,10),s=r.index+g;if(1<a){var l=e.data("names");l=(l=l||"").split(",");for(var u=0;u<a;u++)r.matches.push(u+s),l.length>u&&(r.names[u+s]=l[u])}else r.matches.push(s);r.hide.default="all"===e.data("hide")||0<=m.inArray("default",n);var c,h=!1;for(c in f.breakpoints)r.hide[c]="all"===e.data("hide")||0<=m.inArray(c,n),h=h||r.hide[c];return r.hasBreakpoint=h,d.raise(p.columnData,{column:{data:r,th:t}}).column.data},d.getViewportWidth=function(){return window.innerWidth||(document.body?document.body.offsetWidth:0)},d.calculateWidth=function(t,e){return jQuery.isFunction(f.calculateWidthOverride)?f.calculateWidthOverride(t,e):(e.viewportWidth<e.width&&(e.width=e.viewportWidth),e.parentWidth<e.width&&(e.width=e.parentWidth),e)},d.hasBreakpointColumn=function(t){for(var e in d.columns)if(d.columns[e].hide[t]){if(d.columns[e].ignore)continue;return!0}return!1},d.hasAnyBreakpointColumn=function(){for(var t in d.columns)if(d.columns[t].hasBreakpoint)return!0;return!1},d.resize=function(){var t=m(d.table);if(t.is(":visible"))if(d.hasAnyBreakpointColumn()){var e={width:t.width(),viewportWidth:d.getViewportWidth(),parentWidth:t.parent().width()},e=d.calculateWidth(t,e),n=t.data("footable_info");if(t.data("footable_info",e),d.raise(p.resizing,{old:n,info:e}),!n||n.width&&n.width!==e.width){for(var i,r=null,o=0;d.breakpoints.length>o;o++)if((i=d.breakpoints[o])&&i.width&&e.width<=i.width){r=i;break}var a=null===r?"default":r.name,s=d.hasBreakpointColumn(a),l=t.data("breakpoint");t.data("breakpoint",a).removeClass("default breakpoint").removeClass(d.breakpointNames).addClass(a+(s?" breakpoint":"")),a!==l&&(t.trigger(u.redraw),d.raise(p.breakpoint,{breakpoint:a,info:e}))}d.raise(p.resized,{old:n,info:e})}else t.trigger(u.redraw)},d.redraw=function(){d.addRowToggle(),d.bindToggleSelectors(),d.setColumnClasses();var o=m(d.table),a=o.data("breakpoint"),e=d.hasBreakpointColumn(a);o.find("> tbody > tr:not(."+s.detail+")").data("detail_created",!1).end().find("> thead > tr:last-child > th").each(function(){var t=d.columns[m(this).index()],n="",i=!0;m.each(t.matches,function(t,e){i||(n+=", ");e+=1;n+="> tbody > tr:not(."+s.detail+") > td:nth-child("+e+")",n+=", > tfoot > tr:not(."+s.detail+") > td:nth-child("+e+")",n+=", > colgroup > col:nth-child("+e+")",i=!1}),n+=', > thead > tr[data-group-row="true"] > th[data-group="'+t.group+'"]';var e,r=o.find(n).add(this);""!==a&&(!1===t.hide[a]?r.addClass("footable-visible").show():r.removeClass("footable-visible").hide()),1===o.find("> thead > tr.footable-group-row").length&&(r=o.find('> thead > tr:last-child > th[data-group="'+t.group+'"]:visible, > thead > tr:last-child > th[data-group="'+t.group+'"]:visible'),t=o.find('> thead > tr.footable-group-row > th[data-group="'+t.group+'"], > thead > tr.footable-group-row > td[data-group="'+t.group+'"]'),e=0,m.each(r,function(){e+=parseInt(m(this).attr("colspan")||1,10)}),0<e?t.attr("colspan",e).show():t.hide())}).end().find("> tbody > tr."+s.detailShow).each(function(){d.createOrUpdateDetailRow(this)}),o.find("[data-bind-name]").each(function(){d.toggleInput(this)}),o.find("> tbody > tr."+s.detailShow+":visible").each(function(){var t=m(this).next();t.hasClass(s.detail)&&(e?t.show():t.hide())}),o.find("> thead > tr > th.footable-last-column, > tbody > tr > td.footable-last-column").removeClass("footable-last-column"),o.find("> thead > tr > th.footable-first-column, > tbody > tr > td.footable-first-column").removeClass("footable-first-column"),o.find("> thead > tr, > tbody > tr").find("> th.footable-visible:last, > td.footable-visible:last").addClass("footable-last-column").end().find("> th.footable-visible:first, > td.footable-visible:first").addClass("footable-first-column"),d.raise(p.redrawn)},d.toggleDetail=function(t){var e=t.jquery?t:m(t),t=e.next();e.hasClass(s.detailShow)?(e.removeClass(s.detailShow),t.hasClass(s.detail)&&t.hide(),d.raise(p.rowCollapsed,{row:e[0]})):(d.createOrUpdateDetailRow(e[0]),e.addClass(s.detailShow).next().show(),d.raise(p.rowExpanded,{row:e[0]}))},d.removeRow=function(t){var e=t.jquery?t:m(t),t=(e=e.hasClass(s.detail)?e.prev():e).next();!0===e.data("detail_created")&&t.remove(),e.remove(),d.raise(p.rowRemoved)},d.appendRow=function(t){t=t.jquery?t:m(t);m(d.table).find("tbody").append(t),d.redraw()},d.getColumnFromTdIndex=function(t){var e,n=null;for(e in d.columns)if(0<=m.inArray(t,d.columns[e].matches)){n=d.columns[e];break}return n},d.createOrUpdateDetailRow=function(t){var e=m(t),n=e.next(),a=[];if(!0===e.data("detail_created"))return!0;if(e.is(":hidden"))return!1;if(d.raise(p.rowDetailUpdating,{row:e,detail:n}),e.find("> td:hidden").each(function(){var t=m(this).index(),e=d.getColumnFromTdIndex(t),n=e.name;if(!0===e.ignore)return!0;t in e.names&&(n=e.names[t]);var i,r,o=m(this).attr("data-bind-name");return null!=o&&m(this).is(":empty")&&(i=m("."+s.detailInnerValue+'[data-bind-value="'+o+'"]'),m(this).html(m(i).contents().detach())),!1!==e.isEditable&&(e.isEditable||0<m(this).find(":input").length)&&(null==o&&(o="bind-"+m.now()+"-"+t,m(this).attr("data-bind-name",o)),r=m(this).contents().detach()),r=r||m(this).contents().clone(!0,!0),a.push({name:n,value:d.parse(this,e),display:r,group:e.group,groupName:e.groupName,bindName:o}),!0}),0===a.length)return!1;var i=e.find("> td:visible").length,t=n.hasClass(s.detail);return t||(n=m('<tr class="'+s.detail+'"><td class="'+s.detailCell+'"><div class="'+s.detailInner+'"></div></td></tr>'),e.after(n)),n.find("> td:first").attr("colspan",i),i=n.find("."+s.detailInner).empty(),f.createDetail(i,a,f.createGroupedDetail,f.detailSeparator,s),e.data("detail_created",!0),d.raise(p.rowDetailUpdated,{row:e,detail:n}),!t},d.raise=function(t,e){!0===d.options.debug&&m.isFunction(d.options.log)&&d.options.log(t,"event");var n={ft:d};m.extend(!0,n,e=e||{});t=m.Event(t,n);return t.ft||m.extend(!0,t,n),m(d.table).trigger(t),t},d.reset=function(){var t=m(d.table);t.removeData("footable_info").data("breakpoint","").removeClass(s.loading).removeClass(s.loaded),t.find(f.toggleSelector).unbind(u.toggleRow).unbind("click.footable"),t.find("> tbody > tr").removeClass(s.detailShow),t.find("> tbody > tr."+s.detail).remove(),d.raise(p.reset)},d.toggleInput=function(t){var e=m(t).attr("data-bind-name");null==e||null!=(e=m("."+s.detailInnerValue+'[data-bind-value="'+e+'"]'))&&(m(t).is(":visible")?m(e).is(":empty")||m(t).html(m(e).contents().detach()):m(t).is(":empty")||m(e).html(m(t).contents().detach()))},d.init(),d}r.footable={options:{delay:100,breakpoints:{phone:480,tablet:1024},parsers:{alpha:function(t){return m(t).data("value")||m.trim(m(t).text())},numeric:function(t){t=m(t).data("value")||m(t).text().replace(/[^0-9.\-]/g,""),t=parseFloat(t);return t=isNaN(t)?0:t}},addRowToggle:!0,calculateWidthOverride:null,toggleSelector:" > tbody > tr:not(.footable-row-detail)",columnDataSelector:"> thead > tr:last-child > th, > thead > tr:last-child > td",detailSeparator:":",toggleHTMLElement:"<span />",createGroupedDetail:function(t){for(var e={_none:{name:null,data:[]}},n=0;t.length>n;n++){var i=t[n].group;null!==i?(i in e||(e[i]={name:t[n].groupName||t[n].group,data:[]}),e[i].data.push(t[n])):e._none.data.push(t[n])}return e},createDetail:function(t,e,n,i,r){var o,a=n(e);for(o in a)if(0!==a[o].data.length){"_none"!==o&&t.append('<div class="'+r.detailInnerGroup+'">'+a[o].name+"</div>");for(var s=0;a[o].data.length>s;s++){var l=a[o].data[s].name?i:"";t.append(m("<div></div>").addClass(r.detailInnerRow).append(m("<div></div>").addClass(r.detailInnerName).append(a[o].data[s].name+l)).append(m("<div></div>").addClass(r.detailInnerValue).attr("data-bind-value",a[o].data[s].bindName).append(a[o].data[s].display)))}}},classes:{main:"footable",loading:"footable-loading",loaded:"footable-loaded",toggle:"footable-toggle",disabled:"footable-disabled",detail:"footable-row-detail",detailCell:"footable-row-detail-cell",detailInner:"footable-row-detail-inner",detailInnerRow:"footable-row-detail-row",detailInnerGroup:"footable-row-detail-group",detailInnerName:"footable-row-detail-name",detailInnerValue:"footable-row-detail-value",detailShow:"footable-detail-show"},triggers:{initialize:"footable_initialize",resize:"footable_resize",redraw:"footable_redraw",toggleRow:"footable_toggle_row",expandFirstRow:"footable_expand_first_row",expandAll:"footable_expand_all",collapseAll:"footable_collapse_all"},events:{alreadyInitialized:"footable_already_initialized",initializing:"footable_initializing",initialized:"footable_initialized",resizing:"footable_resizing",resized:"footable_resized",redrawn:"footable_redrawn",breakpoint:"footable_breakpoint",columnData:"footable_column_data",rowDetailUpdating:"footable_row_detail_updating",rowDetailUpdated:"footable_row_detail_updated",rowCollapsed:"footable_row_collapsed",rowExpanded:"footable_row_expanded",rowRemoved:"footable_row_removed",reset:"footable_reset"},debug:!1,log:null},version:{major:0,minor:5,toString:function(){return r.footable.version.major+"."+r.footable.version.minor},parse:function(t){t=/(\d+)\.?(\d+)?\.?(\d+)?/.exec(t);return{major:parseInt(t[1],10)||0,minor:parseInt(t[2],10)||0,patch:parseInt(t[3],10)||0}}},plugins:{_validate:function(t){if(!m.isFunction(t))return!0===r.footable.options.debug&&console.error('Validation failed, expected type "function", received type "{0}".',typeof t),!1;t=new t;return"string"!=typeof t.name?(!0===r.footable.options.debug&&console.error('Validation failed, plugin does not implement a string property called "name".',t),!1):m.isFunction(t.init)?(!0===r.footable.options.debug&&console.log('Validation succeeded for plugin "'+t.name+'".',t),!0):(!0===r.footable.options.debug&&console.error('Validation failed, plugin "'+t.name+'" does not implement a function called "init".',t),!1)},registered:[],register:function(t,e){r.footable.plugins._validate(t)&&(r.footable.plugins.registered.push(t),"object"==typeof e&&m.extend(!0,r.footable.options,e))},load:function(t){for(var e,n=[],i=0;r.footable.plugins.registered.length>i;i++)try{e=r.footable.plugins.registered[i],n.push(new e(t))}catch(t){!0===r.footable.options.debug&&console.error(t)}return n},init:function(t){for(var e=0;t.plugins.length>e;e++)try{t.plugins[e].init(t)}catch(t){!0===r.footable.options.debug&&console.error(t)}}}};var o=0;m.fn.footable=function(t){var e=m.extend(!0,{},r.footable.options,t=t||{});return this.each(function(){var t=new n(this,e,++o);m(this).data("footable",t)})}}(jQuery,window),function(h,t,u){function d(t,e){var n=t.find("thead");0===n.size()&&(n=h("<thead>").appendTo(t));for(var i,r,o=h("<tr>").appendTo(n),a=0,s=e.cols.length;a<s;a++)o.append((i=e.cols[a],r=void 0,r=h("<th>"+i.title+"</th>"),h.isPlainObject(i.data)&&r.data(i.data),h.isPlainObject(i.style)&&r.css(i.style),i.className&&r.addClass(i.className),r))}function l(t,r,e,o){t.find("tr:not(."+e+")").each(function(){var t=h(this),e=r.data("index"),n=parseInt(t.data("index"),0),i=n+o;e<=n&&this!==r.get(0)&&t.attr("data-index",i).data("index",i)})}if(t.footable===u||null===t.foobox)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");t.footable.plugins.register(function(){var c=this;c.name="Footable Grid",c.init=function(e){var i,t,n,r,o,a=e.options.classes.toggle,s=e.options.classes.detail,l=e.options.grid;l.cols&&(c.footable=e,(i=h(e.table)).data("grid",c),h.isPlainObject(l.data)&&i.data(l.data),c._items=[],function(t){for(var e=t[0],n=0,i=t.length;n<i;n++){var r=t[n];if(r.data&&(!0===r.data.toggle||"true"===r.data.toggle))return}e.data=h.extend(e.data,{toggle:!0})}(l.cols),l.showCheckbox&&(l.multiSelect=!0,l.cols.unshift({title:l.checkboxFormatter(!0),name:"",data:{"sort-ignore":!0},formatter:l.checkboxFormatter})),l.showIndex&&l.cols.unshift({title:"#",name:"index",data:{"sort-ignore":!0},formatter:l.indexFormatter}),d(i,l),0===(o=i).find("tbody").size()&&h("<tbody>").appendTo(o),t=i,n=l.cols,(r=l.pagination)&&(t.attr("data-page-size",r["page-size"]),(o=0===(o=t.find("tfoot")).size()?h('<tfoot class="hide-if-no-paging"></tfoot>').appendTo(t):o).append("<tr><td colspan="+n.length+"></td></tr>"),h("<div>").appendTo(o.find("tr:last-child td")).addClass(r["pagination-class"])),i.off(".grid").on({"footable_initialized.grid":function(){l.url||l.ajax?h.ajax(l.ajax||{url:l.url}).then(function(t){c.newItem(t),e.raise(l.events.loaded)},function(){throw"load data from "+(l.url||l.ajax.url)+" fail"}):(c.newItem(l.items||[]),e.raise(l.events.loaded))},"footable_sorted.grid footable_grid_created.grid footable_grid_removed.grid":function(){l.showIndex&&0<c.getItem().length&&i.find("tbody tr:not(."+s+")").each(function(t){var e=h(this).find("td:first");e.html(l.indexFormatter(null,e,t))})},"footable_redrawn.grid footable_row_removed.grid":function(){var t,e,n;0===c.getItem().length&&l.showEmptyInfo&&(t=i,e=l.cols,n=l.emptyInfo,0===t.find("tr.emptyInfo").size()&&t.find("tbody").append('<tr class="emptyInfo"><td colspan="'+e.length+'">'+n+"</td></tr>"))}}).on({"click.grid":function(n){if(0<h(n.target).closest("td").find(">."+a).size())return!0;var t=h(n.currentTarget);return!!t.hasClass(s)||(l.multiSelect||t.hasClass(l.activeClass)||i.find("tbody tr."+l.activeClass).removeClass(l.activeClass),t.toggleClass(l.activeClass),l.showCheckbox&&t.find("input:checkbox.check").prop("checked",function(t,e){return n.target===this?e:!e}),e.toggleDetail(t),u)}},"tbody tr").on("click.grid","thead input:checkbox.checkAll",function(t){t=!!t.currentTarget.checked;t?i.find("tbody tr").addClass(l.activeClass):i.find("tbody tr").removeClass(l.activeClass),i.find("tbody input:checkbox.check").prop("checked",t)}))},c.getSelected=function(){var t=c.footable.options.grid;return h(c.footable.table).find("tbody>tr."+t.activeClass).map(function(){return h(this).data("index")})},c.getItem=function(t){return t!==u?h.isArray(t)?h.map(t,function(t){return c._items[t]}):c._items[t]:c._items},c._makeRow=function(t,e){var n,i,r,o=c.footable.options.grid;if(h.isFunction(o.template))a=h(o.template(h.extend({},{__index:e},t)));else for(var a=h("<tr>"),s=0,l=o.cols.length;s<l;s++){var u=o.cols[s];a.append((i=t[(n=u).name]||"",r=e,u=void 0,u=h("<td>"),n.formatter?u.html(n.formatter(i,u,r)):u.html(i||""),u))}return a.attr("data-index",e),a},c.newItem=function(t,e,n){var i,r,o,a=h(c.footable.table).find("tbody"),s=c.footable.options.classes.detail;if(a.find("tr.emptyInfo").remove(),h.isArray(t)){for(;i=t.pop();)c.newItem(i,e,!0);return c.footable.redraw(),c.footable.raise(c.footable.options.grid.events.created,{item:t,index:e}),u}h.isPlainObject(t)&&(r=c._items.length,e===u||e<0||r<e?(o=c._makeRow(t,r++),c._items.push(t),a.append(o)):(o=c._makeRow(t,e),0===e?(c._items.unshift(t),a.prepend(o)):(r=a.find("tr[data-index="+(e-1)+"]"),c._items.splice(e,0,t),(r=!0===r.data("detail_created")?r.next():r).after(o)),l(a,o,s,1)),n||(c.footable.redraw(),c.footable.raise(c.footable.options.grid.events.created,{item:t,index:e})))},c.setItem=function(t,e){var n,i;h.isPlainObject(t)&&(n=h(c.footable.table).find("tbody"),i=c._makeRow(t,e),h.extend(c._items[e],t),n.find("tr").eq(e).html(i.html()),c.footable.redraw(),c.footable.raise(c.footable.options.grid.events.updated,{item:t,index:e}))},c.removeItem=function(t){var e,n,i=h(c.footable.table).find("tbody"),r=c.footable.options.classes.detail,o=[];if(h.isArray(t)){for(;e=t.pop();)o.push(c.removeItem(e));return c.footable.raise(c.footable.options.grid.events.removed,{item:o,index:t}),o}return t===u?i.find("tr").each(function(){o.push(c._items.shift()),c.footable.removeRow(this)}):(n=i.find("tr[data-index="+t+"]"),o=c._items.splice(t,1)[0],c.footable.removeRow(n),l(i,n,r,-1)),c.footable.raise(c.footable.options.grid.events.removed,{item:o,index:t}),o}},{grid:{enabled:!0,data:null,template:null,cols:null,items:null,url:null,ajax:null,activeClass:"active",multiSelect:!1,showIndex:!1,showCheckbox:!1,showEmptyInfo:!1,emptyInfo:'<p class="text-center text-warning">No Data</p>',pagination:{"page-size":20,"pagination-class":"pagination pagination-centered"},indexFormatter:function(t,e,n){return n+1},checkboxFormatter:function(t){return'<input type="checkbox" class="'+(t?"checkAll":"check")+'">'},events:{loaded:"footable_grid_loaded",created:"footable_grid_created",removed:"footable_grid_removed",updated:"footable_grid_updated"}}})}(jQuery,window),function(a,t){if(void 0===t.footable||null===t.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var e={filter:{enabled:!0,input:".footable-filter",timeout:300,minimum:2,disableEnter:!1,filterFunction:function(){var t=a(this),e=t.parents("table:first"),n=e.data("current-filter").toUpperCase(),i=t.find("td").text();return e.data("filter-text-only")||t.find("td[data-value]").each(function(){i+=a(this).data("value")}),0<=i.toUpperCase().indexOf(n)}}};t.footable.plugins.register(function(){var o=this;o.name="Footable Filter",o.init=function(n){!0!==(o.footable=n).options.filter.enabled||!1!==a(n.table).data("filter")&&(n.timers.register("filter"),a(n.table).unbind(".filtering").bind({"footable_initialized.filtering":function(){var t=a(n.table),e={input:t.data("filter")||n.options.filter.input,timeout:t.data("filter-timeout")||n.options.filter.timeout,minimum:t.data("filter-minimum")||n.options.filter.minimum,disableEnter:t.data("filter-disable-enter")||n.options.filter.disableEnter};e.disableEnter&&a(e.input).keypress(function(t){return window.event?13!==window.event.keyCode:13!==t.which}),t.bind("footable_clear_filter",function(){a(e.input).val(""),o.clearFilter()}),t.bind("footable_filter",function(t,e){o.filter(e.filter)}),a(e.input).keyup(function(t){n.timers.filter.stop(),27===t.which&&a(e.input).val(""),n.timers.filter.start(function(){var t=a(e.input).val()||"";o.filter(t)},e.timeout)})},"footable_redrawn.filtering":function(){var t=a(n.table).data("filter-string");t&&o.filter(t)}}).data("footable-filter",o))},o.filter=function(t){var n,i=o.footable,r=a(i.table),e=r.data("filter-minimum")||i.options.filter.minimum,t=i.raise("footable_filtering",{filter:t,clear:!t});t&&!1===t.result||t.filter&&e>t.filter.length||(t.clear?o.clearFilter():(e=t.filter.split(" "),r.find("> tbody > tr").hide().addClass("footable-filtered"),n=r.find("> tbody > tr:not(.footable-row-detail)"),a.each(e,function(t,e){e&&0<e.length&&(r.data("current-filter",e),n=n.filter(i.options.filter.filterFunction))}),n.each(function(){o.showRow(this,i),a(this).removeClass("footable-filtered")}),r.data("filter-string",t.filter),i.raise("footable_filtered",{filter:t.filter,clear:!1})))},o.clearFilter=function(){var t=o.footable,e=a(t.table);e.find("> tbody > tr:not(.footable-row-detail)").removeClass("footable-filtered").each(function(){o.showRow(this,t)}),e.removeData("filter-string"),t.raise("footable_filtered",{clear:!0})},o.showRow=function(t,e){var n=a(t),i=n.next(),r=a(e.table);n.is(":visible")||(r.hasClass("breakpoint")&&n.hasClass("footable-detail-show")&&i.hasClass("footable-row-detail")?(n.add(i).show(),e.createOrUpdateDetailRow(t)):n.show())}},e)}(jQuery,window),function(l,t){function n(t){var e=l(t.table).data();this.pageNavigation=e.pageNavigation||t.options.pageNavigation,this.pageSize=e.pageSize||t.options.pageSize,this.firstText=e.firstText||t.options.firstText,this.previousText=e.previousText||t.options.previousText,this.nextText=e.nextText||t.options.nextText,this.lastText=e.lastText||t.options.lastText,this.limitNavigation=parseInt(e.limitNavigation||t.options.limitNavigation||i.limitNavigation,10),this.limitPreviousText=e.limitPreviousText||t.options.limitPreviousText,this.limitNextText=e.limitNextText||t.options.limitNextText,this.limit=0<this.limitNavigation,this.currentPage=e.currentPage||0,this.pages=[],this.control=!1}if(void 0===t.footable||null===t.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");var i={paginate:!0,pageSize:10,pageNavigation:".pagination",firstText:"&laquo;",previousText:"&lsaquo;",nextText:"&rsaquo;",lastText:"&raquo;",limitNavigation:0,limitPreviousText:"...",limitNextText:"..."};t.footable.plugins.register(function(){var s=this;s.name="Footable Paginate",s.init=function(t){!0===t.options.paginate&&!1!==l(t.table).data("page")&&(s.footable=t,l(t.table).unbind(".paging").bind({"footable_initialized.paging footable_row_removed.paging footable_redrawn.paging footable_sorted.paging footable_filtered.paging":function(){s.setupPaging()}}).data("footable-paging",s))},s.setupPaging=function(){var t=s.footable,e=l(t.table).find("> tbody");t.pageInfo=new n(t),s.createPages(t,e),s.createNavigation(t,e),s.fillPage(t,e,t.pageInfo.currentPage)},s.createPages=function(t,e){var n=1,i=t.pageInfo,r=n*i.pageSize,o=[],a=[];i.pages=[];var s=e.find("> tr:not(.footable-filtered,.footable-row-detail)");s.each(function(t,e){o.push(e),t===r-1?(i.pages.push(o),r=++n*i.pageSize,o=[]):t>=s.length-s.length%i.pageSize&&a.push(e)}),0<a.length&&i.pages.push(a),i.currentPage>=i.pages.length&&(i.currentPage=i.pages.length-1),i.currentPage<0&&(i.currentPage=0),1===i.pages.length?l(t.table).addClass("no-paging"):l(t.table).removeClass("no-paging")},s.createNavigation=function(r){var o,a=l(r.table).find(r.pageInfo.pageNavigation);if(0===a.length){if(0<(a=l(r.pageInfo.pageNavigation)).parents("table:first").length&&a.parents("table:first")!==l(r.table))return;1<a.length&&!0===r.options.debug&&console.error("More than one pagination control was found!")}0!==a.length&&(a.is("ul")||(0===a.find("ul:first").length&&a.append("<ul />"),a=a.find("ul")),a.find("li").remove(),(o=r.pageInfo).control=a,0<o.pages.length&&(a.append('<li class="footable-page-arrow"><a data-page="first" href="#first">'+r.pageInfo.firstText+"</a>"),a.append('<li class="footable-page-arrow"><a data-page="prev" href="#prev">'+r.pageInfo.previousText+"</a></li>"),o.limit&&a.append('<li class="footable-page-arrow"><a data-page="limit-prev" href="#limit-prev">'+r.pageInfo.limitPreviousText+"</a></li>"),o.limit||l.each(o.pages,function(t,e){0<e.length&&a.append('<li class="footable-page"><a data-page="'+t+'" href="#">'+(t+1)+"</a></li>")}),o.limit&&(a.append('<li class="footable-page-arrow"><a data-page="limit-next" href="#limit-next">'+r.pageInfo.limitNextText+"</a></li>"),s.createLimited(a,o,0)),a.append('<li class="footable-page-arrow"><a data-page="next" href="#next">'+r.pageInfo.nextText+"</a></li>"),a.append('<li class="footable-page-arrow"><a data-page="last" href="#last">'+r.pageInfo.lastText+"</a></li>")),a.off("click","a[data-page]").on("click","a[data-page]",function(t){t.preventDefault();var e,n=l(this).data("page"),t=o.currentPage;if("first"===n?t=0:"prev"===n?0<t&&t--:"next"===n?o.pages.length-1>t&&t++:"last"===n?t=o.pages.length-1:"limit-prev"===n?(t=-1,e=a.find(".footable-page:first a").data("page"),s.createLimited(a,o,e-o.limitNavigation),s.setPagingClasses(a,o.currentPage,o.pages.length)):"limit-next"===n?(t=-1,e=a.find(".footable-page:last a").data("page"),s.createLimited(a,o,e+1),s.setPagingClasses(a,o.currentPage,o.pages.length)):t=n,0<=t){if(o.limit&&o.currentPage!=t){for(var i=t;0!=i%o.limitNavigation;)--i;s.createLimited(a,o,i)}s.paginate(r,t)}}),s.setPagingClasses(a,o.currentPage,o.pages.length))},s.createLimited=function(t,e,n){n=n||0,t.find("li.footable-page").remove();for(var i,r=t.find('li.footable-page-arrow > a[data-page="limit-prev"]').parent(),t=t.find('li.footable-page-arrow > a[data-page="limit-next"]').parent(),o=e.pages.length-1;0<=o;o--)i=e.pages[o],n<=o&&n+e.limitNavigation>o&&0<i.length&&r.after('<li class="footable-page"><a data-page="'+o+'" href="#">'+(o+1)+"</a></li>");0===n?r.hide():r.show(),n+e.limitNavigation>=e.pages.length?t.hide():t.show()},s.paginate=function(t,e){var n,i,r=t.pageInfo;r.currentPage!==e&&(n=l(t.table).find("> tbody"),(i=t.raise("footable_paging",{page:e,size:r.pageSize}))&&!1===i.result||(s.fillPage(t,n,e),r.control.find("li").removeClass("active disabled"),s.setPagingClasses(r.control,r.currentPage,r.pages.length)))},s.setPagingClasses=function(t,e,n){t.find("li.footable-page > a[data-page="+e+"]").parent().addClass("active"),n-1<=e&&(t.find('li.footable-page-arrow > a[data-page="next"]').parent().addClass("disabled"),t.find('li.footable-page-arrow > a[data-page="last"]').parent().addClass("disabled")),e<1&&(t.find('li.footable-page-arrow > a[data-page="first"]').parent().addClass("disabled"),t.find('li.footable-page-arrow > a[data-page="prev"]').parent().addClass("disabled"))},s.fillPage=function(t,e,n){t.pageInfo.currentPage=n,l(t.table).data("currentPage",n),e.find("> tr").hide(),l(t.pageInfo.pages[n]).each(function(){s.showRow(this,t)}),t.raise("footable_page_filled")},s.showRow=function(t,e){var n=l(t),i=n.next();l(e.table).hasClass("breakpoint")&&n.hasClass("footable-detail-show")&&i.hasClass("footable-row-detail")?(n.add(i).show(),e.createOrUpdateDetailRow(t)):n.show()}},i)}(jQuery,window),function(c,t,h){if(t.footable===h||null===t.footable)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");t.footable.plugins.register(function(){var u=this;u.name="Footable Sortable",u.init=function(a){!0===(u.footable=a).options.sort&&c(a.table).unbind(".sorting").bind({"footable_initialized.sorting":function(){var t,e,n=c(a.table),i=(n.find("> tbody"),a.options.classes.sort);if(!1!==n.data("sort")){n.find("> thead > tr:last-child > th, > thead > tr:last-child > td").each(function(){var t=c(this);!0===a.columns[t.index()].sort.ignore||t.hasClass(i.sortable)||(t.addClass(i.sortable),c("<span />").addClass(i.indicator).appendTo(t))}),n.find("> thead > tr:last-child > th."+i.sortable+", > thead > tr:last-child > td."+i.sortable).unbind("click.footable").bind("click.footable",function(t){t.preventDefault();t=!(e=c(this)).hasClass(i.sorted);return u.doSort(e.index(),t),!1});for(var r in a.columns)if(t=a.columns[r],t.sort.initial){var o="descending"!==t.sort.initial;u.doSort(t.index,o);break}}},"footable_redrawn.sorting":function(){var t=c(a.table),n=a.options.classes.sort;0<=t.data("sorted")&&t.find("> thead > tr:last-child > th").each(function(t){var e=c(this);return(e.hasClass(n.sorted)||e.hasClass(n.descending))&&u.doSort(t),h})},"footable_column_data.sorting":function(t){var e=c(t.column.th);t.column.data.sort=t.column.data.sort||{},t.column.data.sort.initial=e.data("sort-initial")||!1,t.column.data.sort.ignore=e.data("sort-ignore")||!1,t.column.data.sort.selector=e.data("sort-selector")||null;e=e.data("sort-match")||0;e>=t.column.data.matches.length&&(e=0),t.column.data.sort.match=t.column.data.matches[e]}}).data("footable-sort",u)},u.doSort=function(t,e){var n=u.footable;if(!1!==c(n.table).data("sort")){var i=c(n.table),r=i.find("> tbody"),o=n.columns[t],a=i.find("> thead > tr:last-child > th:eq("+t+")"),s=n.options.classes.sort,l=n.options.events.sort;if(e=e===h?a.hasClass(s.sorted):"toggle"===e?!a.hasClass(s.sorted):e,!0===o.sort.ignore)return!0;t=n.raise(l.sorting,{column:o,direction:e?"ASC":"DESC"});t&&!1===t.result||(i.data("sorted",o.index),i.find("> thead > tr:last-child > th, > thead > tr:last-child > td").not(a).removeClass(s.sorted+" "+s.descending),(e=e===h?a.hasClass(s.sorted):e)?a.removeClass(s.descending).addClass(s.sorted):a.removeClass(s.sorted).addClass(s.descending),u.sort(n,r,o,e),n.bindToggleSelectors(),n.raise(l.sorted,{column:o,direction:e?"ASC":"DESC"}))}},u.rows=function(n,t,i){var r=[];return t.find("> tr").each(function(){var t=c(this),e=null;if(t.hasClass(n.options.classes.detail))return!0;t.next().hasClass(n.options.classes.detail)&&(e=t.next().get(0));e={row:t,detail:e};return i!==h&&(e.value=n.parse(this.cells[i.sort.match],i)),r.push(e),!0}).detach(),r},u.sort=function(t,e,n,i){var r=u.rows(t,e,n),o=t.options.sorters[n.type]||t.options.sorters.alpha;r.sort(function(t,e){return i?o(t.value,e.value):o(e.value,t.value)});for(var a=0;r.length>a;a++)e.append(r[a].row),null!==r[a].detail&&e.append(r[a].detail)}},{sort:!0,sorters:{alpha:function(t,e){return(t="string"==typeof t?t.toLowerCase():t)===(e="string"==typeof e?e.toLowerCase():e)?0:t<e?-1:1},numeric:function(t,e){return t-e}},classes:{sort:{sortable:"footable-sortable",sorted:"footable-sorted",descending:"footable-sorted-desc",indicator:"footable-sort-indicator"}},events:{sort:{sorting:"footable_sorting",sorted:"footable_sorted"}}})}(jQuery,window),function(i,t){if(void 0===t.footable||null===t.foobox)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");t.footable.plugins.register(function(){var e=this;e.name="Footable Striping",e.init=function(t){e.footable=t,i(t.table).unbind("striping").bind({"footable_initialized.striping footable_row_removed.striping footable_redrawn.striping footable_sorted.striping footable_filtered.striping":function(){!1!==i(this).data("striping")&&e.setupStriping(t)}})},e.setupStriping=function(e){var n=0;i(e.table).find("> tbody > tr:not(.footable-row-detail)").each(function(){var t=i(this);t.removeClass(e.options.classes.striping.even).removeClass(e.options.classes.striping.odd),0==n%2?t.addClass(e.options.classes.striping.even):t.addClass(e.options.classes.striping.odd),n++})}},{striping:{enabled:!0},classes:{striping:{odd:"footable-odd",even:"footable-even"}}})}(jQuery,window),function(f,t,p){function l(t,e){e=e||location.hash;t=RegExp("&"+t+"(?:=([^&]*))?(?=&|$)","i");return(e=e.replace(/^\#/,"&").match(t))?e[1]===p?"":decodeURIComponent(e[1]):p}if(t.footable===p||null===t.foobox)throw Error("Please check and make sure footable.js is included in the page and is loaded prior to this script.");t.footable.plugins.register(function(){this.name="Footable LucidBookmarkable",this.init=function(d){d.options.bookmarkable.enabled&&f(d.table).bind({footable_initialized:function(){var t=d.table.id,e=l(t+"_f"),n=l(t+"_p"),i=l(t+"_s"),r=l(t+"_d"),o=l(t+"_e");if(e&&(t=f(d.table).data("filter"),f(t).val(e),f(d.table).trigger("footable_filter",{filter:e})),n&&f(d.table).data("currentPage",n),i!==p?(r="true"!=r,f(d.table).data("footable-sort").doSort(i,r)):f(d.table).trigger("footable_setup_paging"),o){var a,s=o.split(",");for(a in s)f(d.table.rows[s[a]]).find("> td:first").trigger("footable_toggle_row")}d.lucid_bookmark_read=!0},"footable_page_filled footable_redrawn footable_filtered footable_sorted footable_row_expanded footable_row_collapsed":function(t){if(function(t,e){var n=f(t.table).find("tbody").find("tr:not(.footable-row-detail, .footable-filtered)").length;f(t.table).data("status_num_total",n),n=f(t.table).find("tbody").find("tr:not(.footable-row-detail)").filter(":visible").length,f(t.table).data("status_num_shown",n),n=f(t.table).data("sorted"),n=f(t.table).find("th")[n],n=f(n).hasClass("footable-sorted-desc"),f(t.table).data("status_descending",n),t.pageInfo&&(o=t.pageInfo.currentPage,f(t.table).data("status_pagenum",o));var i,r,n="",o=f(t.table).data("filter");if(f(o).length&&(n=f(o).val()),f(t.table).data("status_filter_val",n),"footable_row_expanded"==e.type&&((i=e.row)&&(s=[],(s=(r=f(t.table).data("expanded_rows"))?r.split(","):s).push(i.rowIndex),f(t.table).data("expanded_rows",s.join(",")))),"footable_row_collapsed"==e.type&&(i=e.row)){var a,s=[],l=[];for(a in s=(r=f(t.table).data("expanded_rows"))?r.split(","):s)if(s[a]==i.rowIndex){l=s.splice(a,1);break}f(t.table).data("expanded_rows",l.join(","))}}(d,t),d.lucid_bookmark_read){var e,n=d.table.id,i=n+"_f",r=n+"_p",o=n+"_s",t=n+"_d",n=n+"_e",a=location.hash.replace(/^\#/,"&"),s=[i,r,o,t,n];for(e in s)var l=RegExp("&"+s[e]+"=([^&]*)","g"),a=a.replace(l,"");var u={};u[i]=f(d.table).data("status_filter_val"),u[r]=f(d.table).data("status_pagenum"),u[o]=f(d.table).data("sorted"),u[t]=f(d.table).data("status_descending"),u[n]=f(d.table).data("expanded_rows");var c,h=[];for(c in u)u[c]!==p&&h.push(c+"="+encodeURIComponent(u[c]));a.length&&h.push(a),location.hash=h.join("&")}}})}},{bookmarkable:{enabled:!1}})}(jQuery,window),function(n){function i(t,e,n){2===arguments.length&&(n=e,e=null),r(e||[],function(){o(t,n,arguments)})}function t(t){return n.__dollar=t,function(t){var e,n,i,r,o,a=function(t){return t&&t.charAt(0).toUpperCase()+t.substr(1)};for(e in s)if(n=t,s.hasOwnProperty(e)){for(o=a((i=e.split("/")).pop());r=a(i.shift());)n[r]=n[r]||{},n=n[r];n[o]=s[e]}return t}((f=n,e=r,(t=i)("dollar-third",[],function(){var t=f.require,t=f.__dollar||f.jQuery||f.Zepto||t("jquery")||t("zepto");if(!t)throw new Error("jQuery or Zepto not found!");return t}),t("dollar",["dollar-third"],function(t){return t}),t("promise-third",["dollar"],function(t){return{Deferred:t.Deferred,when:t.when,isPromise:function(t){return t&&"function"==typeof t.then}}}),t("promise",["promise-third"],function(t){return t}),t("base",["dollar","promise"],function(o,t){function e(t,e){return function(){return t.apply(e,arguments)}}function n(){}var i,r,a,s,l,u,c,h,d=Function.call;return{version:"0.1.6",$:o,Deferred:t.Deferred,isPromise:t.isPromise,when:t.when,browser:(a=navigator.userAgent,s={},l=a.match(/WebKit\/([\d.]+)/),u=a.match(/Chrome\/([\d.]+)/)||a.match(/CriOS\/([\d.]+)/),c=a.match(/MSIE\s([\d\.]+)/)||a.match(/(?:trident)(?:.*rv:([\w.]+))?/i),h=a.match(/Firefox\/([\d.]+)/),t=a.match(/Safari\/([\d.]+)/),a=a.match(/OPR\/([\d.]+)/),l&&(s.webkit=parseFloat(l[1])),u&&(s.chrome=parseFloat(u[1])),c&&(s.ie=parseFloat(c[1])),h&&(s.firefox=parseFloat(h[1])),t&&(s.safari=parseFloat(t[1])),a&&(s.opera=parseFloat(a[1])),s),os:(t=navigator.userAgent,a={},s=t.match(/(?:Android);?[\s\/]+([\d.]+)?/),t=t.match(/(?:iPad|iPod|iPhone).*OS\s([\d_]+)/),s&&(a.android=parseFloat(s[1])),t&&(a.ios=parseFloat(t[1].replace(/_/g,"."))),a),inherits:function(t,e,n){var i,r;return"function"==typeof e?(i=e,e=null):i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},o.extend(!0,i,t,n||{}),i.__super__=t.prototype,i.prototype=(r=t.prototype,Object.create?Object.create(r):((n=function(){}).prototype=r,new n)),e&&o.extend(!0,i.prototype,e),i},noop:n,bindFn:e,log:f.console?e(console.log,console):n,nextTick:function(t){setTimeout(t,1)},slice:(r=[].slice,function(){return d.apply(r,arguments)}),guid:(i=0,function(t){for(var e=(+new Date).toString(32),n=0;n<5;n++)e+=Math.floor(65535*Math.random()).toString(32);return(t||"wu_")+e+(i++).toString(32)}),formatSize:function(t,e,n){var i;for(n=n||["B","K","M","G","TB"];(i=n.shift())&&1024<t;)t/=1024;return("B"===i?t:t.toFixed(e||2))+i}}}),t("mediator",["base"],function(t){function r(t,e,n,i){return s.grep(t,function(t){return!(!t||e&&t.e!==e||n&&t.cb!==n&&t.cb._cb!==n||i&&t.ctx!==i)})}function o(t,n,i){s.each((t||"").split(e),function(t,e){i(e,n)})}function a(t,e){for(var n,i=!1,r=-1,o=t.length;++r<o;)if(!1===(n=t[r]).cb.apply(n.ctx2,e)){i=!0;break}return!i}var s=t.$,l=[].slice,e=/\s+/,n={on:function(t,e,n){var i,r=this;return e&&(i=this._events||(this._events=[]),o(t,e,function(t,e){t={e:t};t.cb=e,t.ctx=n,t.ctx2=n||r,t.id=i.length,i.push(t)})),this},once:function(t,e,i){var r=this;return e&&o(t,e,function(t,e){function n(){return r.off(t,n),e.apply(i||r,arguments)}n._cb=e,r.on(t,n,i)}),r},off:function(t,e,n){var i=this._events;return i&&(t||e||n?o(t,e,function(t,e){s.each(r(i,t,e,n),function(){delete i[this.id]})}):this._events=[]),this},trigger:function(t){var e,n,i;return this._events&&t?(e=l.call(arguments,1),n=r(this._events,t),i=r(this._events,"all"),a(n,e)&&a(i,arguments)):this}};return s.extend({installTo:function(t){return s.extend(t,n)}},n)}),t("uploader",["base","mediator"],function(t,r){function n(t){this.options=o.extend(!0,{},n.options,t),this._init(this.options)}var o=t.$;return n.options={},r.installTo(n.prototype),o.each({upload:"start-upload",stop:"stop-upload",getFile:"get-file",getFiles:"get-files",addFile:"add-file",addFiles:"add-file",sort:"sort-files",removeFile:"remove-file",cancelFile:"cancel-file",skipFile:"skip-file",retry:"retry",isInProgress:"is-in-progress",makeThumb:"make-thumb",md5File:"md5-file",getDimension:"get-dimension",addButton:"add-btn",predictRuntimeType:"predict-runtime-type",refresh:"refresh",disable:"disable",enable:"enable",reset:"reset"},function(t,e){n.prototype[t]=function(){return this.request(e,arguments)}}),o.extend(n.prototype,{state:"pending",_init:function(t){var e=this;e.request("init",t,function(){e.state="ready",e.trigger("ready")})},option:function(t,e){var n=this.options;return 1<arguments.length?void(o.isPlainObject(e)&&o.isPlainObject(n[t])?o.extend(n[t],e):n[t]=e):t?n[t]:n},getStats:function(){var t=this.request("get-stats");return t?{successNum:t.numOfSuccess,progressNum:t.numOfProgress,cancelNum:t.numOfCancel,invalidNum:t.numOfInvalid,uploadFailNum:t.numOfUploadFailed,queueNum:t.numOfQueue,interruptNum:t.numofInterrupt}:{}},trigger:function(t){var e=[].slice.call(arguments,1),n=this.options,i="on"+t.substring(0,1).toUpperCase()+t.substring(1);return!(!1===r.trigger.apply(this,arguments)||o.isFunction(n[i])&&!1===n[i].apply(this,e)||o.isFunction(this[i])&&!1===this[i].apply(this,e)||!1===r.trigger.apply(r,[this,t].concat(e)))},destroy:function(){this.request("destroy",arguments),this.off()},request:t.noop}),t.create=n.create=function(t){return new n(t)},t.Uploader=n}),t("runtime/runtime",["base","mediator"],function(e,t){function i(t){this.options=o.extend({container:document.body},t),this.uid=e.guid("rt_")}function r(t){for(var e in t)if(t.hasOwnProperty(e))return e;return null}var o=e.$,a={};return o.extend(i.prototype,{getContainer:function(){var t,e=this.options;return this._container||(t=o(e.container||document.body),(e=o(document.createElement("div"))).attr("id","rt_"+this.uid),e.css({position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),t.append(e),t.addClass("webuploader-container"),this._container=e,this._parent=t,e)},init:e.noop,exec:e.noop,destroy:function(){this._container&&this._container.remove(),this._parent&&this._parent.removeClass("webuploader-container"),this.off()}}),i.orders="html5,flash",i.addRuntime=function(t,e){a[t]=e},i.hasRuntime=function(t){return!!(t?a[t]:r(a))},i.create=function(t,e){var n;if(o.each((e=e||i.orders).split(/\s*,\s*/g),function(){return a[this]?(n=this,!1):void 0}),!(n=n||r(a)))throw new Error("Runtime Error");return new a[n](t)},t.installTo(i.prototype),i}),t("runtime/client",["base","mediator","runtime/runtime"],function(o,t,a){function e(e,n){var i,t,r=o.Deferred();this.uid=o.guid("client_"),this.runtimeReady=function(t){return r.done(t)},this.connectRuntime=function(t,e){if(i)throw new Error("already connected!");return r.done(e),(i=(i="string"==typeof t&&s.get(t)?s.get(t):i)||s.get(null,n))?(o.$.extend(i.options,t),i.__promise.then(r.resolve),i.__client++):((i=a.create(t,t.runtimeOrder)).__promise=r.promise(),i.once("ready",r.resolve),i.init(),s.add(i),i.__client=1),n&&(i.__standalone=n),i},this.getRuntime=function(){return i},this.disconnectRuntime=function(){i&&(i.__client--,i.__client<=0&&(s.remove(i),delete i.__promise,i.destroy()),i=null)},this.exec=function(){if(i){var t=o.slice(arguments);return e&&t.unshift(e),i.exec.apply(this,t)}},this.getRuid=function(){return i&&i.uid},this.destroy=(t=this.destroy,function(){t&&t.apply(this,arguments),this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()})}var s,i;return i={},s={add:function(t){i[t.uid]=t},get:function(t,e){if(t)return i[t];for(var n in i)if(!e||!i[n].__standalone)return i[n];return null},remove:function(t){delete i[t.uid]}},t.installTo(e.prototype),e}),t("lib/dnd",["base","mediator","runtime/client"],function(t,e,n){function i(t){(t=this.options=r.extend({},i.options,t)).container=r(t.container),t.container.length&&n.call(this,"DragAndDrop")}var r=t.$;return i.options={accept:null,disableGlobalDnd:!1},t.inherits(n,{constructor:i,init:function(){var t=this;t.connectRuntime(t.options,function(){t.exec("init"),t.trigger("ready")})}}),e.installTo(i.prototype),i}),t("widgets/widget",["base","uploader"],function(c,t){function r(t){this.owner=t,this.options=t.options}var h=c.$,e=t.prototype._init,n=t.prototype.destroy,d={},o=[];return h.extend(r.prototype,{init:c.noop,invoke:function(t,e){var n=this.responseMap;return n&&t in n&&n[t]in this&&h.isFunction(this[n[t]])?this[n[t]].apply(this,e):d},request:function(){return this.owner.request.apply(this.owner,arguments)}}),h.extend(t.prototype,{_init:function(){var n=this,i=n._widgets=[],r=n.options.disableWidgets||"";return h.each(o,function(t,e){r&&~r.indexOf(e._name)||i.push(new e(n))}),e.apply(n,arguments)},request:function(t,e,n){var i,r,o=0,a=this._widgets,s=a&&a.length,l=[],u=[];for(e=function(t){if(t){var e=t.length,n=h.type(t);return 1===t.nodeType&&e||("array"===n||"function"!==n&&"string"!==n&&(0===e||"number"==typeof e&&0<e&&e-1 in t))}}(e)?e:[e];o<s;o++)(i=a[o].invoke(t,e))!==d&&(c.isPromise(i)?u:l).push(i);return n||u.length?(r=c.when.apply(c,u))[r=r.pipe?"pipe":"then"](function(){var t=c.Deferred(),e=arguments;return 1===e.length&&(e=e[0]),setTimeout(function(){t.resolve(e)},1),t.promise()})[n?r:"done"](n||c.noop):l[0]},destroy:function(){n.apply(this,arguments),this._widgets=null}}),t.register=r.register=function(t,e){var n,i={init:"init",destroy:"destroy",name:"anonymous"};return 1===arguments.length?(e=t,h.each(e,function(t){return"_"===t[0]||"name"===t?void("name"===t&&(i.name=e.name)):void(i[t.replace(/[A-Z]/g,"-$&").toLowerCase()]=t)})):i=h.extend(i,t),e.responseMap=i,(n=c.inherits(r,e))._name=i.name,o.push(n),n},t.unRegister=r.unRegister=function(t){if(t&&"anonymous"!==t)for(var e=o.length;e--;)o[e]._name===t&&o.splice(e,1)},r}),t("widgets/filednd",["base","uploader","lib/dnd","widgets/widget"],function(i,t,r){var o=i.$;return t.options.dnd="",t.register({name:"dnd",init:function(t){if(t.dnd&&"html5"===this.request("predict-runtime-type")){var e=this,n=i.Deferred(),t=o.extend({},{disableGlobalDnd:t.disableGlobalDnd,container:t.dnd,accept:t.accept});return this.dnd=t=new r(t),t.once("ready",n.resolve),t.on("drop",function(t){e.request("add-file",[t])}),t.on("accept",function(t){return e.owner.trigger("dndAccept",t)}),t.init(),n.promise()}},destroy:function(){this.dnd&&this.dnd.destroy()}})}),t("lib/filepaste",["base","mediator","runtime/client"],function(t,e,n){function i(t){(t=this.options=r.extend({},t)).container=r(t.container||document.body),n.call(this,"FilePaste")}var r=t.$;return t.inherits(n,{constructor:i,init:function(){var t=this;t.connectRuntime(t.options,function(){t.exec("init"),t.trigger("ready")})}}),e.installTo(i.prototype),i}),t("widgets/filepaste",["base","uploader","lib/filepaste","widgets/widget"],function(i,t,r){var o=i.$;return t.register({name:"paste",init:function(t){if(t.paste&&"html5"===this.request("predict-runtime-type")){var e=this,n=i.Deferred(),t=o.extend({},{container:t.paste,accept:t.accept});return this.paste=t=new r(t),t.once("ready",n.resolve),t.on("paste",function(t){e.owner.request("add-file",[t])}),t.init(),n.promise()}},destroy:function(){this.paste&&this.paste.destroy()}})}),t("lib/blob",["base","runtime/client"],function(t,n){function e(t,e){this.source=e,this.ruid=t,this.size=e.size||0,this.type=!e.type&&this.ext&&~"jpg,jpeg,png,gif,bmp".indexOf(this.ext)?"image/"+("jpg"===this.ext?"jpeg":this.ext):e.type||"application/octet-stream",n.call(this,"Blob"),this.uid=e.uid||this.uid,t&&this.connectRuntime(t)}return t.inherits(n,{constructor:e,slice:function(t,e){return this.exec("slice",t,e)},getSource:function(){return this.source}}),e}),t("lib/file",["base","lib/blob"],function(t,i){var r=1,o=/\.([^.]+)$/;return t.inherits(i,function(t,e){var n;this.name=e.name||"untitled"+r++,!(n=o.exec(e.name)?RegExp.$1.toLowerCase():"")&&e.type&&(n=/\/(jpg|jpeg|png|gif|bmp)$/i.exec(e.type)?RegExp.$1.toLowerCase():"",this.name+="."+n),this.ext=n,this.lastModifiedDate=e.lastModifiedDate||(new Date).toLocaleString(),i.apply(this,arguments)})}),t("lib/filepicker",["base","runtime/client","lib/file"],function(t,e,a){function n(t){if((t=this.options=s.extend({},n.options,t)).container=s(t.id),!t.container.length)throw new Error("");t.innerHTML=t.innerHTML||t.label||t.container.html()||"",t.button=s(t.button||document.createElement("div")),t.button.html(t.innerHTML),t.container.html(t.button),e.call(this,"FilePicker",!0)}var s=t.$;return n.options={button:null,container:null,label:null,innerHTML:null,multiple:!0,accept:null,name:"file",style:"webuploader-pick"},t.inherits(e,{constructor:n,init:function(){var n=this,i=n.options,r=i.button,o=i.style;o&&r.addClass("webuploader-pick"),n.on("all",function(t){var e;switch(t){case"mouseenter":o&&r.addClass("webuploader-pick-hover");break;case"mouseleave":o&&r.removeClass("webuploader-pick-hover");break;case"change":e=n.exec("getFiles"),n.trigger("select",s.map(e,function(t){return(t=new a(n.getRuid(),t))._refer=i.container,t}),i.container)}}),n.connectRuntime(i,function(){n.refresh(),n.exec("init",i),n.trigger("ready")}),this._resizeHandler=t.bindFn(this.refresh,this),s(f).on("resize",this._resizeHandler)},refresh:function(){var t=this.getRuntime().getContainer(),e=this.options.button,n=e.outerWidth?e.outerWidth():e.width(),i=e.outerHeight?e.outerHeight():e.height(),e=e.offset();n&&i&&t.css({bottom:"auto",right:"auto",width:n+"px",height:i+"px"}).offset(e)},enable:function(){this.options.button.removeClass("webuploader-pick-disable"),this.refresh()},disable:function(){var t=this.options.button;this.getRuntime().getContainer().css({top:"-99999px"}),t.addClass("webuploader-pick-disable")},destroy:function(){var t=this.options.button;s(f).off("resize",this._resizeHandler),t.removeClass("webuploader-pick-disable webuploader-pick-hover webuploader-pick")}}),n}),t("widgets/filepicker",["base","uploader","lib/filepicker","widgets/widget"],function(l,t,u){var c=l.$;return c.extend(t.options,{pick:null,accept:null}),t.register({name:"picker",init:function(t){return this.pickers=[],t.pick&&this.addBtn(t.pick)},refresh:function(){c.each(this.pickers,function(){this.refresh()})},addBtn:function(i){var r=this,o=r.options,a=o.accept,s=[];if(i)return c.isPlainObject(i)||(i={id:i}),c(i.id).each(function(){var t=l.Deferred(),e=c.extend({},i,{accept:c.isPlainObject(a)?[a]:a,swf:o.swf,runtimeOrder:o.runtimeOrder,id:this}),n=new u(e);n.once("ready",t.resolve),n.on("select",function(t){r.owner.request("add-file",[t])}),n.on("dialogopen",function(){r.owner.trigger("dialogOpen",n.button)}),n.init(),r.pickers.push(n),s.push(t.promise())}),l.when.apply(l,s)},disable:function(){c.each(this.pickers,function(){this.disable()})},enable:function(){c.each(this.pickers,function(){this.enable()})},destroy:function(){c.each(this.pickers,function(){this.destroy()}),this.pickers=null}})}),t("lib/image",["base","runtime/client","lib/blob"],function(e,n,i){function r(t){this.options=o.extend({},r.options,t),n.call(this,"Image"),this.on("load",function(){this._info=this.exec("info"),this._meta=this.exec("meta")})}var o=e.$;return r.options={quality:90,crop:!1,preserveHeaders:!1,allowMagnify:!1},e.inherits(n,{constructor:r,info:function(t){return t?(this._info=t,this):this._info},meta:function(t){return t?(this._meta=t,this):this._meta},loadFromBlob:function(t){var e=this,n=t.getRuid();this.connectRuntime(n,function(){e.exec("init",e.options),e.exec("loadFromBlob",t)})},resize:function(){var t=e.slice(arguments);return this.exec.apply(this,["resize"].concat(t))},crop:function(){var t=e.slice(arguments);return this.exec.apply(this,["crop"].concat(t))},getAsDataUrl:function(t){return this.exec("getAsDataUrl",t)},getAsBlob:function(t){t=this.exec("getAsBlob",t);return new i(this.getRuid(),t)}}),r}),t("widgets/image",["base","uploader","lib/image","widgets/widget"],function(e,t,s){var a,i,r,l=e.$;return i=0,r=[],a=function(t,e,n){r.push([e,n]),t.once("destroy",function(){i-=e,setTimeout(o,1)}),setTimeout(o,1)},l.extend(t.options,{thumb:{width:110,height:110,quality:70,allowMagnify:!0,crop:!0,preserveHeaders:!1,type:"image/jpeg"},compress:{width:1600,height:1600,quality:90,allowMagnify:!1,crop:!1,preserveHeaders:!0}}),t.register({name:"image",makeThumb:function(t,e,n,i){var r,o;return(t=this.request("get-file",t)).type.match(/^image/)?(r=l.extend({},this.options.thumb),l.isPlainObject(n)&&(r=l.extend(r,n),n=null),n=n||r.width,i=i||r.height,(o=new s(r)).once("load",function(){t._info=t._info||o.info(),t._meta=t._meta||o.meta(),n<=1&&0<n&&(n=t._info.width*n),i<=1&&0<i&&(i=t._info.height*i),o.resize(n,i)}),o.once("complete",function(){e(!1,o.getAsDataUrl(r.type)),o.destroy()}),o.once("error",function(t){e(t||!0),o.destroy()}),void a(o,t.source.size,function(){t._info&&o.info(t._info),t._meta&&o.meta(t._meta),o.loadFromBlob(t.source)})):void e(!0)},beforeSendFile:function(n){var i,r,o=this.options.compress||this.options.resize,t=o&&o.compressSize||0,a=o&&o.noCompressIfLarger||!1;return n=this.request("get-file",n),!o||!~"image/jpeg,image/jpg".indexOf(n.type)||n.size<t||n._compressed?void 0:(o=l.extend({},o),r=e.Deferred(),i=new s(o),r.always(function(){i.destroy(),i=null}),i.once("error",r.reject),i.once("load",function(){var t=o.width,e=o.height;n._info=n._info||i.info(),n._meta=n._meta||i.meta(),t<=1&&0<t&&(t=n._info.width*t),e<=1&&0<e&&(e=n._info.height*e),i.resize(t,e)}),i.once("complete",function(){var t,e;try{t=i.getAsBlob(o.type),e=n.size,(!a||t.size<e)&&(n.source=t,n.size=t.size,n.trigger("resize",t.size,e)),n._compressed=!0,r.resolve()}catch(t){r.resolve()}}),n._info&&i.info(n._info),n._meta&&i.meta(n._meta),i.loadFromBlob(n.source),r.promise())}});function o(){for(var t;r.length&&i<5242880;)t=r.shift(),i+=t[0],t[1]()}}),t("file",["base","mediator"],function(t,e){function n(t){this.name=t.name||"Untitled",this.size=t.size||0,this.type=t.type||"application/octet-stream",this.lastModifiedDate=t.lastModifiedDate||+new Date,this.id=i+r++,this.ext=o.exec(this.name)?RegExp.$1:"",this.statusText="",a[this.id]=n.Status.INITED,this.source=t,this.loaded=0,this.on("error",function(t){this.setStatus(n.Status.ERROR,t)})}var t=t.$,i="WU_FILE_",r=0,o=/\.([^.]+)$/,a={};return t.extend(n.prototype,{setStatus:function(t,e){var n=a[this.id];void 0!==e&&(this.statusText=e),t!==n&&(a[this.id]=t,this.trigger("statuschange",t,n))},getStatus:function(){return a[this.id]},getSource:function(){return this.source},destroy:function(){this.off(),delete a[this.id]}}),e.installTo(n.prototype),n.Status={INITED:"inited",QUEUED:"queued",PROGRESS:"progress",ERROR:"error",COMPLETE:"complete",CANCELLED:"cancelled",INTERRUPT:"interrupt",INVALID:"invalid"},n}),t("queue",["base","mediator","file"],function(t,e,n){function i(){this.stats={numOfQueue:0,numOfSuccess:0,numOfCancel:0,numOfProgress:0,numOfUploadFailed:0,numOfInvalid:0,numofDeleted:0,numofInterrupt:0},this._queue=[],this._map={}}var o=t.$,r=n.Status;return o.extend(i.prototype,{append:function(t){return this._queue.push(t),this._fileAdded(t),this},prepend:function(t){return this._queue.unshift(t),this._fileAdded(t),this},getFile:function(t){return"string"!=typeof t?t:this._map[t]},fetch:function(t){var e,n,i=this._queue.length;for(t=t||r.QUEUED,e=0;e<i;e++)if(t===(n=this._queue[e]).getStatus())return n;return null},sort:function(t){"function"==typeof t&&this._queue.sort(t)},getFiles:function(){for(var t,e=[].slice.call(arguments,0),n=[],i=0,r=this._queue.length;i<r;i++)t=this._queue[i],e.length&&!~o.inArray(t.getStatus(),e)||n.push(t);return n},removeFile:function(t){this._map[t.id]&&(delete this._map[t.id],t.destroy(),this.stats.numofDeleted++)},_fileAdded:function(t){var n=this;this._map[t.id]||(this._map[t.id]=t).on("statuschange",function(t,e){n._onFileStatusChange(t,e)})},_onFileStatusChange:function(t,e){var n=this.stats;switch(e){case r.PROGRESS:n.numOfProgress--;break;case r.QUEUED:n.numOfQueue--;break;case r.ERROR:n.numOfUploadFailed--;break;case r.INVALID:n.numOfInvalid--;break;case r.INTERRUPT:n.numofInterrupt--}switch(t){case r.QUEUED:n.numOfQueue++;break;case r.PROGRESS:n.numOfProgress++;break;case r.ERROR:n.numOfUploadFailed++;break;case r.COMPLETE:n.numOfSuccess++;break;case r.CANCELLED:n.numOfCancel++;break;case r.INVALID:n.numOfInvalid++;break;case r.INTERRUPT:n.numofInterrupt++}}}),e.installTo(i.prototype),i}),t("widgets/queue",["base","uploader","queue","file","lib/file","runtime/client","widgets/widget"],function(u,t,c,e,n,h){var d=u.$,i=/\.\w+$/,o=e.Status;return t.register({name:"queue",init:function(t){var e,n,i,r,o,a,s,l=this;if(d.isPlainObject(t.accept)&&(t.accept=[t.accept]),t.accept){for(o=[],i=0,n=t.accept.length;i<n;i++)(r=t.accept[i].extensions)&&o.push(r);o.length&&(a="\\."+o.join(",").replace(/,/g,"$|\\.").replace(/\*/g,".*")+"$"),l.accept=new RegExp(a,"i")}return l.queue=new c,l.stats=l.queue.stats,"html5"===this.request("predict-runtime-type")?(e=u.Deferred(),this.placeholder=s=new h("Placeholder"),s.connectRuntime({runtimeOrder:"html5"},function(){l._ruid=s.getRuid(),e.resolve()}),e.promise()):void 0},_wrapFile:function(t){if(!(t instanceof e)){if(!(t instanceof n)){if(!this._ruid)throw new Error("Can't add external files.");t=new n(this._ruid,t)}t=new e(t)}return t},acceptFile:function(t){return!(!t||!t.size||this.accept&&i.exec(t.name)&&!this.accept.test(t.name))},_addFile:function(t){return t=this._wrapFile(t),this.owner.trigger("beforeFileQueued",t)?this.acceptFile(t)?(this.queue.append(t),this.owner.trigger("fileQueued",t),t):void this.owner.trigger("error","Q_TYPE_DENIED",t):void 0},getFile:function(t){return this.queue.getFile(t)},addFile:function(t){var e=this;t.length||(t=[t]),(t=d.map(t,function(t){return e._addFile(t)})).length&&(e.owner.trigger("filesQueued",t),e.options.auto&&setTimeout(function(){e.request("start-upload")},20))},getStats:function(){return this.stats},removeFile:function(t,e){t=t.id?t:this.queue.getFile(t),this.request("cancel-file",t),e&&this.queue.removeFile(t)},getFiles:function(){return this.queue.getFiles.apply(this.queue,arguments)},fetchFile:function(){return this.queue.fetch.apply(this.queue,arguments)},retry:function(t,e){var n,i,r;if(t)return(t=t.id?t:this.queue.getFile(t)).setStatus(o.QUEUED),void(e||this.request("start-upload"));for(i=0,r=(n=this.queue.getFiles(o.ERROR)).length;i<r;i++)(t=n[i]).setStatus(o.QUEUED);this.request("start-upload")},sortFiles:function(){return this.queue.sort.apply(this.queue,arguments)},reset:function(){this.owner.trigger("reset"),this.queue=new c,this.stats=this.queue.stats},destroy:function(){this.reset(),this.placeholder&&this.placeholder.destroy()}})}),t("widgets/runtime",["uploader","runtime/runtime","widgets/widget"],function(t,r){return t.support=function(){return r.hasRuntime.apply(r,arguments)},t.register({name:"runtime",init:function(){if(!this.predictRuntimeType())throw Error("Runtime Error")},predictRuntimeType:function(){var t,e,n=this.options.runtimeOrder||r.orders,i=this.type;if(!i)for(t=0,e=(n=n.split(/\s*,\s*/g)).length;t<e;t++)if(r.hasRuntime(n[t])){this.type=i=n[t];break}return i}})}),t("lib/transport",["base","runtime/client","mediator"],function(t,n,e){function i(t){var e=this;t=e.options=r.extend(!0,{},i.options,t||{}),n.call(this,"Transport"),this._blob=null,this._formData=t.formData||{},this._headers=t.headers||{},this.on("progress",this._timeout),this.on("load error",function(){e.trigger("progress",1),clearTimeout(e._timer)})}var r=t.$;return i.options={server:"",method:"POST",withCredentials:!1,fileVal:"file",timeout:12e4,formData:{},headers:{},sendAsBinary:!1},r.extend(i.prototype,{appendBlob:function(t,e,n){var i=this,r=i.options;i.getRuid()&&i.disconnectRuntime(),i.connectRuntime(e.ruid,function(){i.exec("init")}),i._blob=e,r.fileVal=t||r.fileVal,r.filename=n||r.filename},append:function(t,e){"object"==typeof t?r.extend(this._formData,t):this._formData[t]=e},setRequestHeader:function(t,e){"object"==typeof t?r.extend(this._headers,t):this._headers[t]=e},send:function(t){this.exec("send",t),this._timeout()},abort:function(){return clearTimeout(this._timer),this.exec("abort")},destroy:function(){this.trigger("destroy"),this.off(),this.exec("destroy"),this.disconnectRuntime()},getResponse:function(){return this.exec("getResponse")},getResponseAsJson:function(){return this.exec("getResponseAsJson")},getStatus:function(){return this.exec("getStatus")},_timeout:function(){var t=this,e=t.options.timeout;e&&(clearTimeout(t._timer),t._timer=setTimeout(function(){t.abort(),t.trigger("error","timeout")},e))}}),e.installTo(i.prototype),i}),t("widgets/upload",["base","uploader","file","lib/transport","widgets/widget"],function(c,t,e,h){var d=c.$,a=c.isPromise,f=e.Status;d.extend(t.options,{prepareNextFile:!1,chunked:!1,chunkSize:5242880,chunkRetry:2,threads:3,formData:{}}),t.register({name:"upload",init:function(){var t=this.owner,e=this;this.runing=!1,this.progress=!1,t.on("startUpload",function(){e.progress=!0}).on("uploadFinished",function(){e.progress=!1}),this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this.__tick=c.bindFn(this._tick,this),t.on("uploadComplete",function(t){t.blocks&&d.each(t.blocks,function(t,e){e.transport&&(e.transport.abort(),e.transport.destroy()),delete e.transport}),delete t.blocks,delete t.remaning})},reset:function(){this.request("stop-upload",!0),this.runing=!1,this.pool=[],this.stack=[],this.pending=[],this.remaning=0,this._trigged=!1,this._promise=null},startUpload:function(n){var i=this;if(d.each(i.request("get-files",f.INVALID),function(){i.request("remove-file",this)}),n?(n=n.id?n:i.request("get-file",n)).getStatus()===f.INTERRUPT?(n.setStatus(f.QUEUED),d.each(i.pool,function(t,e){e.file===n&&(e.transport&&e.transport.send(),n.setStatus(f.PROGRESS))})):n.getStatus()!==f.PROGRESS&&n.setStatus(f.QUEUED):d.each(i.request("get-files",[f.INITED]),function(){this.setStatus(f.QUEUED)}),i.runing)return c.nextTick(i.__tick);i.runing=!0;var r=[];n||d.each(i.pool,function(t,e){var n=e.file;n.getStatus()===f.INTERRUPT&&(i._trigged=!1,r.push(n),e.transport&&e.transport.send())}),d.each(r,function(){this.setStatus(f.PROGRESS)}),n||d.each(i.request("get-files",f.INTERRUPT),function(){this.setStatus(f.PROGRESS)}),i._trigged=!1,c.nextTick(i.__tick),i.owner.trigger("startUpload")},stopUpload:function(n,t){var i;if(!0===n&&(t=n,n=null),!1!==this.runing){if(n)return(n=n.id?n:this.request("get-file",n)).getStatus()!==f.PROGRESS&&n.getStatus()!==f.QUEUED?void 0:(n.setStatus(f.INTERRUPT),d.each(this.pool,function(t,e){return e.file===n?(i=e,!1):void 0}),i.transport&&i.transport.abort(),t&&(this._putback(i),this._popBlock(i)),c.nextTick(this.__tick));this.runing=!1,this._promise&&this._promise.file&&this._promise.file.setStatus(f.INTERRUPT),t&&d.each(this.pool,function(t,e){e.transport&&e.transport.abort(),e.file.setStatus(f.INTERRUPT)}),this.owner.trigger("stopUpload")}},cancelFile:function(t){(t=t.id?t:this.request("get-file",t)).blocks&&d.each(t.blocks,function(t,e){var n=e.transport;n&&(n.abort(),n.destroy(),delete e.transport)}),t.setStatus(f.CANCELLED),this.owner.trigger("fileDequeued",t)},isInProgress:function(){return!!this.progress},_getStats:function(){return this.request("get-stats")},skipFile:function(t,e){(t=t.id?t:this.request("get-file",t)).setStatus(e||f.COMPLETE),t.skipped=!0,t.blocks&&d.each(t.blocks,function(t,e){var n=e.transport;n&&(n.abort(),n.destroy(),delete e.transport)}),this.owner.trigger("uploadSkip",t)},_tick:function(){var t,e=this,n=e.options;return e._promise?e._promise.always(e.__tick):void(e.pool.length<n.threads&&(t=e._nextBlock())?(e._trigged=!1,n=function(t){e._promise=null,t&&t.file&&e._startSend(t),c.nextTick(e.__tick)},e._promise=a(t)?t.always(n):n(t)):e.remaning||e._getStats().numOfQueue||e._getStats().numofInterrupt||(e.runing=!1,e._trigged||c.nextTick(function(){e.owner.trigger("uploadFinished")}),e._trigged=!0))},_putback:function(t){t.cuted.unshift(t),~this.stack.indexOf(t.cuted)||this.stack.unshift(t.cuted)},_getStack:function(){for(var t,e=0;t=this.stack[e++];){if(t.has()&&t.file.getStatus()===f.PROGRESS)return t;t.has()&&(t.file.getStatus()===f.PROGRESS||t.file.getStatus()===f.INTERRUPT)||this.stack.splice(--e,1)}return null},_nextBlock:function(){var e,t,n,i,r=this,o=r.options;return(e=this._getStack())?(o.prepareNextFile&&!r.pending.length&&r._prepareNextFile(),e.shift()):r.runing?(!r.pending.length&&r._getStats().numOfQueue&&r._prepareNextFile(),t=r.pending.shift(),n=function(t){return t?(e=function(t,e){for(var n,i=[],r=t.source.size,o=e?Math.ceil(r/e):1,a=0,s=0,l={file:t,has:function(){return!!i.length},shift:function(){return i.shift()},unshift:function(t){i.unshift(t)}};s<o;)n=Math.min(e,r-a),i.push({file:t,start:a,end:e?a+n:r,total:r,chunks:o,chunk:s++,cuted:l}),a+=n;return t.blocks=i.concat(),t.remaning=i.length,l}(t,o.chunked?o.chunkSize:0),r.stack.push(e),e.shift()):null},a(t)?(i=t.file,(t=t[t.pipe?"pipe":"then"](n)).file=i,t):n(t)):void 0},_prepareNextFile:function(){var e,n=this,i=n.request("fetch-file"),r=n.pending;i&&(e=n.request("before-send-file",i,function(){return i.getStatus()===f.PROGRESS||i.getStatus()===f.INTERRUPT?i:n._finishFile(i)}),n.owner.trigger("uploadStart",i),i.setStatus(f.PROGRESS),e.file=i,e.done(function(){var t=d.inArray(e,r);~t&&r.splice(t,1,i)}),e.fail(function(t){i.setStatus(f.ERROR,t),n.owner.trigger("uploadError",i,t),n.owner.trigger("uploadComplete",i)}),r.push(e))},_popBlock:function(t){var e=d.inArray(t,this.pool);this.pool.splice(e,1),t.file.remaning--,this.remaning--},_startSend:function(t){var e=this,n=t.file;return n.getStatus()!==f.PROGRESS?void(n.getStatus()===f.INTERRUPT&&e._putback(t)):(e.pool.push(t),e.remaning++,t.blob=1===t.chunks?n.source:n.source.slice(t.start,t.end),void e.request("before-send",t,function(){n.getStatus()===f.PROGRESS?e._doSend(t):(e._popBlock(t),c.nextTick(e.__tick))}).fail(function(){1===n.remaning?e._finishFile(n).always(function(){t.percentage=1,e._popBlock(t),e.owner.trigger("uploadComplete",n),c.nextTick(e.__tick)}):(t.percentage=1,e.updateFileProgress(n),e._popBlock(t),c.nextTick(e.__tick))}))},_doSend:function(n){var i,r,e=this,o=e.owner,a=e.options,s=n.file,l=new h(a),t=d.extend({},a.formData),u=d.extend({},a.headers);(n.transport=l).on("destroy",function(){delete n.transport,e._popBlock(n),c.nextTick(e.__tick)}),l.on("progress",function(t){n.percentage=t,e.updateFileProgress(s)}),i=function(e){var t;return(r=l.getResponseAsJson()||{})._raw=l.getResponse(),t=function(t){e=t},e=!o.trigger("uploadAccept",n,r,t)?e||"server":e},l.on("error",function(t,e){n.retried=n.retried||0,1<n.chunks&&~"http,abort".indexOf(t)&&n.retried<a.chunkRetry?(n.retried++,l.send()):(e||"server"!==t||(t=i(t)),s.setStatus(f.ERROR,t),o.trigger("uploadError",s,t),o.trigger("uploadComplete",s))}),l.on("load",function(){var t;return(t=i())?void l.trigger("error",t,!0):void(1===s.remaning?e._finishFile(s,r):l.destroy())}),t=d.extend(t,{id:s.id,name:s.name,type:s.type,lastModifiedDate:s.lastModifiedDate,size:s.size}),1<n.chunks&&d.extend(t,{chunks:n.chunks,chunk:n.chunk}),o.trigger("uploadBeforeSend",n,t,u),l.appendBlob(a.fileVal,n.blob,s.name),l.append(t),l.setRequestHeader(u),l.send()},_finishFile:function(e,t,n){var i=this.owner;return i.request("after-send-file",arguments,function(){e.setStatus(f.COMPLETE),i.trigger("uploadSuccess",e,t,n)}).fail(function(t){e.getStatus()===f.PROGRESS&&e.setStatus(f.ERROR,t),i.trigger("uploadError",e,t)}).always(function(){i.trigger("uploadComplete",e)})},updateFileProgress:function(t){var e,n=0;t.blocks&&(d.each(t.blocks,function(t,e){n+=(e.percentage||0)*(e.end-e.start)}),e=n/t.size,this.owner.trigger("uploadProgress",t,e||0))}})}),t("widgets/validator",["base","uploader","file","widgets/widget"],function(e,t,n){var i=e.$,r={},o={addValidator:function(t,e){r[t]=e},removeValidator:function(t){delete r[t]}};return t.register({name:"validator",init:function(){var t=this;e.nextTick(function(){i.each(r,function(){this.call(t.owner)})})}}),o.addValidator("fileNumLimit",function(){var t=this.options,e=0,n=parseInt(t.fileNumLimit,10),i=!0;n&&(this.on("beforeFileQueued",function(t){return n<=e&&i&&(i=!1,this.trigger("error","Q_EXCEED_NUM_LIMIT",n,t),setTimeout(function(){i=!0},1)),!(n<=e)}),this.on("fileQueued",function(){e++}),this.on("fileDequeued",function(){e--}),this.on("reset",function(){e=0}))}),o.addValidator("fileSizeLimit",function(){var t=this.options,n=0,i=parseInt(t.fileSizeLimit,10),r=!0;i&&(this.on("beforeFileQueued",function(t){var e=n+t.size>i;return e&&r&&(r=!1,this.trigger("error","Q_EXCEED_SIZE_LIMIT",i,t),setTimeout(function(){r=!0},1)),!e}),this.on("fileQueued",function(t){n+=t.size}),this.on("fileDequeued",function(t){n-=t.size}),this.on("reset",function(){n=0}))}),o.addValidator("fileSingleSizeLimit",function(){var e=this.options.fileSingleSizeLimit;e&&this.on("beforeFileQueued",function(t){return t.size>e?(t.setStatus(n.Status.INVALID,"exceed_size"),this.trigger("error","F_EXCEED_SIZE",e,t),!1):void 0})}),o.addValidator("duplicate",function(){var t=this.options,n={};t.duplicate||(this.on("beforeFileQueued",function(t){var e=t.__hash||(t.__hash=function(t){for(var e=0,n=0,i=t.length;n<i;n++)e=t.charCodeAt(n)+(e<<6)+(e<<16)-e;return e}(t.name+t.size+t.lastModifiedDate));return n[e]?(this.trigger("error","F_DUPLICATE",t),!1):void 0}),this.on("fileQueued",function(t){t=t.__hash;t&&(n[t]=!0)}),this.on("fileDequeued",function(t){t=t.__hash;t&&delete n[t]}),this.on("reset",function(){n={}}))}),o}),t("lib/md5",["runtime/client","mediator"],function(t,e){function n(){t.call(this,"Md5")}return e.installTo(n.prototype),n.prototype.loadFromBlob=function(t){var e=this;e.getRuid()&&e.disconnectRuntime(),e.connectRuntime(t.ruid,function(){e.exec("init"),e.exec("loadFromBlob",t)})},n.prototype.getResult=function(){return this.exec("getResult")},n}),t("widgets/md5",["base","uploader","lib/md5","lib/blob","widgets/widget"],function(a,t,s,l){return t.register({name:"md5",md5File:function(t,e,n){var i=new s,r=a.Deferred(),o=t instanceof l?t:this.request("get-file",t).source;return i.on("progress load",function(t){r.notify((t=t||{}).total?t.loaded/t.total:1)}),i.on("complete",function(){r.resolve(i.getResult())}),i.on("error",function(t){r.reject(t)}),1<arguments.length&&((e=e||0)<0&&(e=o.size+e),(n=n||0)<0&&(n=o.size+n),n=Math.min(n,o.size),o=o.slice(e,n)),i.loadFromBlob(o),r.promise()}})}),t("runtime/compbase",[],function(){return function(t,e){this.owner=t,this.options=t.options,this.getRuntime=function(){return e},this.getRuid=function(){return e.uid},this.trigger=function(){return t.trigger.apply(t,arguments)}}}),t("runtime/html5/runtime",["base","runtime/runtime","runtime/compbase"],function(s,e,n){function t(){var o={},a=this,t=this.destroy;e.apply(a,arguments),a.type="html5",a.exec=function(t,e){var n,i=this.uid,r=s.slice(arguments,2);return l[t]&&(n=o[i]=o[i]||new l[t](this,a))[e]?n[e].apply(n,r):void 0},a.destroy=function(){return t&&t.apply(this,arguments)}}var l={};return s.inherits(e,{constructor:t,init:function(){var t=this;setTimeout(function(){t.trigger("ready")},1)}}),t.register=function(t,e){return l[t]=s.inherits(n,e)},f.Blob&&f.FileReader&&f.DataView&&e.addRuntime("html5",t),t}),t("runtime/html5/blob",["runtime/html5/runtime","lib/blob"],function(t,i){return t.register("Blob",{slice:function(t,e){var n=((n=this.owner.source).slice||n.webkitSlice||n.mozSlice).call(n,t,e);return new i(this.getRuid(),n)}})}),t("runtime/html5/dnd",["base","runtime/html5/runtime","lib/file"],function(h,t,o){var a=h.$,s="webuploader-dnd-";return t.register("DragAndDrop",{init:function(){var t=this.elem=this.options.container;this.dragEnterHandler=h.bindFn(this._dragEnterHandler,this),this.dragOverHandler=h.bindFn(this._dragOverHandler,this),this.dragLeaveHandler=h.bindFn(this._dragLeaveHandler,this),this.dropHandler=h.bindFn(this._dropHandler,this),this.dndOver=!1,t.on("dragenter",this.dragEnterHandler),t.on("dragover",this.dragOverHandler),t.on("dragleave",this.dragLeaveHandler),t.on("drop",this.dropHandler),this.options.disableGlobalDnd&&(a(document).on("dragover",this.dragOverHandler),a(document).on("drop",this.dropHandler))},_dragEnterHandler:function(t){var e,n=this._denied||!1;return t=t.originalEvent||t,this.dndOver||(this.dndOver=!0,(e=t.dataTransfer.items)&&e.length&&(this._denied=n=!this.trigger("accept",e)),this.elem.addClass(s+"over"),this.elem[n?"addClass":"removeClass"](s+"denied")),t.dataTransfer.dropEffect=n?"none":"copy",!1},_dragOverHandler:function(t){var e=this.elem.parent().get(0);return e&&!a.contains(e,t.currentTarget)||(clearTimeout(this._leaveTimer),this._dragEnterHandler.call(this,t)),!1},_dragLeaveHandler:function(){var t=this,e=function(){t.dndOver=!1,t.elem.removeClass(s+"over "+s+"denied")};return clearTimeout(t._leaveTimer),t._leaveTimer=setTimeout(e,100),!1},_dropHandler:function(t){var e,n=this,i=n.getRuid(),r=n.elem.parent().get(0);if(r&&!a.contains(r,t.currentTarget))return!1;t=(t=t.originalEvent||t).dataTransfer;try{e=t.getData("text/html")}catch(t){}return n.dndOver=!1,n.elem.removeClass(s+"over"),e?void 0:(n._getTansferFiles(t,function(t){n.trigger("drop",a.map(t,function(t){return new o(i,t)}))}),!1)},_getTansferFiles:function(t,e){for(var n,i,r=[],o=[],a=t.items,s=t.files,l=!(!a||!a[0].webkitGetAsEntry),u=0,c=s.length;u<c;u++)n=s[u],i=a&&a[u],l&&i.webkitGetAsEntry().isDirectory?o.push(this._traverseDirectoryTree(i.webkitGetAsEntry(),r)):r.push(n);h.when.apply(h,o).done(function(){r.length&&e(r)})},_traverseDirectoryTree:function(t,o){var a=h.Deferred(),s=this;return t.isFile?t.file(function(t){o.push(t),a.resolve()}):t.isDirectory&&t.createReader().readEntries(function(t){for(var e=t.length,n=[],i=[],r=0;r<e;r++)n.push(s._traverseDirectoryTree(t[r],i));h.when.apply(h,n).then(function(){o.push.apply(o,i),a.resolve()},a.reject)}),a.promise()},destroy:function(){var t=this.elem;t&&(t.off("dragenter",this.dragEnterHandler),t.off("dragover",this.dragOverHandler),t.off("dragleave",this.dragLeaveHandler),t.off("drop",this.dropHandler),this.options.disableGlobalDnd&&(a(document).off("dragover",this.dragOverHandler),a(document).off("drop",this.dropHandler)))}})}),t("runtime/html5/filepaste",["base","runtime/html5/runtime","lib/file"],function(s,t,l){return t.register("FilePaste",{init:function(){var t,e,n,i,r=this.options,o=this.elem=r.container,a=".*";if(r.accept){for(t=[],e=0,n=r.accept.length;e<n;e++)(i=r.accept[e].mimeTypes)&&t.push(i);t.length&&(a=(a=t.join(",")).replace(/,/g,"|").replace(/\*/g,".*"))}this.accept=a=new RegExp(a,"i"),this.hander=s.bindFn(this._pasteHander,this),o.on("paste",this.hander)},_pasteHander:function(t){for(var e,n,i,r=[],o=this.getRuid(),a=0,s=(e=(t=t.originalEvent||t).clipboardData.items).length;a<s;a++)"file"===(n=e[a]).kind&&(i=n.getAsFile())&&r.push(new l(o,i));r.length&&(t.preventDefault(),t.stopPropagation(),this.trigger("paste",r))},destroy:function(){this.elem.off("paste",this.hander)}})}),t("runtime/html5/filepicker",["base","runtime/html5/runtime"],function(t,e){var c=t.$;return e.register("FilePicker",{init:function(){var t,e,n,i,r=this.getRuntime().getContainer(),o=this,a=o.owner,s=o.options,l=this.label=c(document.createElement("label")),u=this.input=c(document.createElement("input"));if(u.attr("type","file"),u.attr("capture","camera"),u.attr("name",s.name),u.addClass("webuploader-element-invisible"),l.on("click",function(t){u.trigger("click"),t.stopPropagation(),a.trigger("dialogopen")}),l.css({opacity:0,width:"100%",height:"100%",display:"block",cursor:"pointer",background:"#ffffff"}),s.multiple&&u.attr("multiple","multiple"),s.accept&&0<s.accept.length){for(t=[],e=0,n=s.accept.length;e<n;e++)t.push(s.accept[e].mimeTypes);u.attr("accept",t.join(","))}r.append(u),r.append(l),i=function(t){a.trigger(t.type)},u.on("change",function(t){var e,n=arguments.callee;o.files=t.target.files,(e=this.cloneNode(!0)).value=null,this.parentNode.replaceChild(e,this),u.off(),u=c(e).on("change",n).on("mouseenter mouseleave",i),a.trigger("change")}),l.on("mouseenter mouseleave",i)},getFiles:function(){return this.files},destroy:function(){this.input.off(),this.label.off()}})}),t("runtime/html5/util",["base"],function(t){var e=f.createObjectURL&&f||f.URL&&URL.revokeObjectURL&&URL||f.webkitURL,n=t.noop,t=n;return e&&(n=function(){return e.createObjectURL.apply(e,arguments)},t=function(){return e.revokeObjectURL.apply(e,arguments)}),{createObjectURL:n,revokeObjectURL:t,dataURL2Blob:function(t){for(var e=t.split(","),n=(~e[0].indexOf("base64")?atob:decodeURIComponent)(e[1]),t=new ArrayBuffer(n.length),i=new Uint8Array(t),r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return e=e[0].split(":")[1].split(";")[0],this.arrayBufferToBlob(t,e)},dataURL2ArrayBuffer:function(t){for(var t=t.split(","),e=(~t[0].indexOf("base64")?atob:decodeURIComponent)(t[1]),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n.buffer},arrayBufferToBlob:function(t,e){var n=f.BlobBuilder||f.WebKitBlobBuilder;return n?((n=new n).append(t),n.getBlob(e)):new Blob([t],e?{type:e}:{})},canvasToDataUrl:function(t,e,n){return t.toDataURL(e,n/100)},parseMeta:function(t,e){e(!1,{})},updateImageHead:function(t){return t}}}),t("runtime/html5/imagemeta",["runtime/html5/util"],function(t){var h={parsers:{65505:[]},maxMetaDataSize:262144,parse:function(t,e){var n=this,i=new FileReader;i.onload=function(){e(!1,n._parse(this.result)),i=i.onload=i.onerror=null},i.onerror=function(t){e(t.message),i=i.onload=i.onerror=null},t=t.slice(0,n.maxMetaDataSize),i.readAsArrayBuffer(t.getSource())},_parse:function(t,e){if(!(t.byteLength<6)){var n,i,r,o,a=new DataView(t),s=2,l=a.byteLength-4,u=s,c={};if(65496===a.getUint16(0)){for(;s<l&&(65504<=(n=a.getUint16(s))&&n<=65519||65534===n)&&!(s+(i=a.getUint16(s+2)+2)>a.byteLength);){if(r=h.parsers[n],!e&&r)for(o=0;o<r.length;o+=1)r[o].call(h,a,s,i,c);u=s+=i}6<u&&(c.imageHead=t.slice?t.slice(2,u):new Uint8Array(t).subarray(2,u))}return c}},updateImageHead:function(t,e){var n=this._parse(t,!0),i=2;return n.imageHead&&(i=2+n.imageHead.byteLength),t=t.slice?t.slice(i):new Uint8Array(t).subarray(i),(i=new Uint8Array(e.byteLength+2+t.byteLength))[0]=255,i[1]=216,i.set(new Uint8Array(e),2),i.set(new Uint8Array(t),e.byteLength+2),i.buffer}};return t.parseMeta=function(){return h.parse.apply(h,arguments)},t.updateImageHead=function(){return h.updateImageHead.apply(h,arguments)},h}),t("runtime/html5/imagemeta/exif",["base","runtime/html5/imagemeta"],function(d,t){var f={ExifMap:function(){return this}};return f.ExifMap.prototype.map={Orientation:274},f.ExifMap.prototype.get=function(t){return this[t]||this[this.map[t]]},f.exifTagTypes={1:{getValue:function(t,e){return t.getUint8(e)},size:1},2:{getValue:function(t,e){return String.fromCharCode(t.getUint8(e))},size:1,ascii:!0},3:{getValue:function(t,e,n){return t.getUint16(e,n)},size:2},4:{getValue:function(t,e,n){return t.getUint32(e,n)},size:4},5:{getValue:function(t,e,n){return t.getUint32(e,n)/t.getUint32(e+4,n)},size:8},9:{getValue:function(t,e,n){return t.getInt32(e,n)},size:4},10:{getValue:function(t,e,n){return t.getInt32(e,n)/t.getInt32(e+4,n)},size:8}},f.exifTagTypes[7]=f.exifTagTypes[1],f.getExifValue=function(t,e,n,i,r,o){var a,s,l,u,c,h=f.exifTagTypes[i];if(h){if(!((a=4<(i=h.size*r)?e+t.getUint32(n+8,o):n+8)+i>t.byteLength)){if(1===r)return h.getValue(t,a,o);for(s=[],l=0;l<r;l+=1)s[l]=h.getValue(t,a+l*h.size,o);if(h.ascii){for(u="",l=0;l<s.length&&"\0"!==(c=s[l]);l+=1)u+=c;return u}return s}d.log("Invalid Exif data: Invalid data offset.")}else d.log("Invalid Exif data: Invalid tag type.")},f.parseExifTag=function(t,e,n,i,r){var o=t.getUint16(n,i);r.exif[o]=f.getExifValue(t,e,n,t.getUint16(n+2,i),t.getUint32(n+4,i),i)},f.parseExifTags=function(t,e,n,i,r){var o,a,s;if(n+6>t.byteLength)d.log("Invalid Exif data: Invalid directory offset.");else{if(!((a=n+2+12*(o=t.getUint16(n,i)))+4>t.byteLength)){for(s=0;s<o;s+=1)this.parseExifTag(t,e,n+2+12*s,i,r);return t.getUint32(a,i)}d.log("Invalid Exif data: Invalid directory size.")}},f.parseExifData=function(t,e,n,i){var r,o=e+10;if(1165519206===t.getUint32(e+4))if(o+8>t.byteLength)d.log("Invalid Exif data: Invalid segment size.");else if(0===t.getUint16(e+8)){switch(t.getUint16(o)){case 18761:r=!0;break;case 19789:r=!1;break;default:return void d.log("Invalid Exif data: Invalid byte alignment marker.")}42===t.getUint16(o+2,r)?(e=t.getUint32(o+4,r),i.exif=new f.ExifMap,f.parseExifTags(t,o,o+e,r,i)):d.log("Invalid Exif data: Missing TIFF marker.")}else d.log("Invalid Exif data: Missing byte alignment offset.")},t.parsers[65505].push(f.parseExifData),f}),t("runtime/html5/jpegencoder",[],function(){function n(t){function e(t,e){for(var n=0,i=0,r=new Array,o=1;o<=16;o++){for(var a=1;a<=t[o];a++)r[e[i]]=[],r[e[i]][0]=n,r[e[i]][1]=o,i++,n++;n*=2}return r}function _(t){for(var e=t[0],n=t[1]-1;0<=n;)e&1<<n&&(P|=1<<z),n--,--z<0&&(255==P?(b(255),b(0)):b(P),z=7,P=0)}function b(t){O.push(i[t])}function w(t){b(255&t>>8),b(255&t)}function M(t,e,n,i,r){for(var o,a=r[0],s=r[240],l=function(t,e){for(var n,i=0,r=0;r<8;++r){var o,a=t[i],s=t[i+1],l=t[i+2],u=t[i+3],c=t[i+4],h=t[i+5],d=t[i+6],f=a+(o=t[i+7]),p=a-o,g=s+d,m=s-d,y=l+h,v=l-h,x=u+c,_=u-c,b=f+x,f=f-x,x=g+y,g=g-y;t[i]=b+x,t[i+4]=b-x;y=.707106781*(g+f);t[i+2]=f+y,t[i+6]=f-y;_=.382683433*((b=_+v)-(g=m+p)),b=.5411961*b+_,_=1.306562965*g+_,m=.707106781*(x=v+m),x=p+m,m=p-m;t[i+5]=m+b,t[i+3]=m-b,t[i+1]=x+_,t[i+7]=x-_,i+=8}for(r=i=0;r<8;++r){a=t[i],s=t[i+8],l=t[i+16],u=t[i+24],c=t[i+32],h=t[i+40],d=t[i+48];var w=a+(o=t[i+56]),M=a-o,A=s+d,I=s-d,C=l+h,S=l-h,T=u+c,D=u-c,N=w+T,w=w-T,T=A+C,A=A-C;t[i]=N+T,t[i+32]=N-T;C=.707106781*(A+w);t[i+16]=w+C,t[i+48]=w-C;D=.382683433*((N=D+S)-(A=I+M)),N=.5411961*N+D,D=1.306562965*A+D,I=.707106781*(T=S+I),T=M+I,I=M-I;t[i+40]=I+N,t[i+24]=I-N,t[i+8]=T+D,t[i+56]=T-D,i++}for(r=0;r<64;++r)n=t[r]*e[r],E[r]=0<n?0|.5+n:0|n-.5;return E}(t,e),u=0;u<64;++u)y[v[u]]=l[u];e=y[0]-n;n=y[0],0==e?_(i[0]):(_(i[m[o=32767+e]]),_(g[o]));for(var c=63;0<c&&0==y[c];c--);if(0==c)return _(a),n;for(var h=1;h<=c;){for(var d=h;0==y[h]&&h<=c;++h);d=h-d;if(16<=d){for(var f=d>>4,p=1;p<=f;++p)_(s);d&=15}o=32767+y[h],_(r[(d<<4)+m[o]]),_(g[o]),h++}return 63!=c&&_(a),n}function A(t){n!=(t=100<(t=t<=0?1:t)?100:t)&&(function(t){for(var e=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var i=h((e[n]*t+50)/100);i<1?i=1:255<i&&(i=255),D[v[n]]=i}for(var r=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],o=0;o<64;o++){var a=h((r[o]*t+50)/100);a<1?a=1:255<a&&(a=255),N[v[o]]=a}for(var s=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],l=0,u=0;u<8;u++)for(var c=0;c<8;c++)L[l]=1/(8*D[v[l]]*s[u]*s[c]),k[l]=1/(8*N[v[l]]*s[u]*s[c]),l++}(t<50?Math.floor(5e3/t):Math.floor(200-2*t)),n=t)}Math.round;var I,C,S,T,n,h=Math.floor,D=new Array(64),N=new Array(64),L=new Array(64),k=new Array(64),g=new Array(65535),m=new Array(65535),E=new Array(64),y=new Array(64),O=[],P=0,z=7,j=new Array(64),Y=new Array(64),R=new Array(64),i=new Array(256),B=new Array(2048),v=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],G=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],U=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],X=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];this.encode=function(t,e){e&&A(e),O=new Array,P=0,z=7,w(65496),w(65504),w(16),b(74),b(70),b(73),b(70),b(0),b(1),b(1),b(0),w(1),w(1),b(0),b(0),function(){w(65499),w(132),b(0);for(var t=0;t<64;t++)b(D[t]);b(1);for(var e=0;e<64;e++)b(N[e])}(),g=t.width,e=t.height,w(65472),w(17),b(8),w(e),w(g),b(3),b(1),b(17),b(0),b(2),b(17),b(1),b(3),b(17),b(1),function(){w(65476),w(418),b(0);for(var t=0;t<16;t++)b(F[t+1]);for(var e=0;e<=11;e++)b(H[e]);b(16);for(var n=0;n<16;n++)b(W[n+1]);for(var i=0;i<=161;i++)b(G[i]);b(1);for(var r=0;r<16;r++)b(U[r+1]);for(var o=0;o<=11;o++)b(Z[o]);b(17);for(var a=0;a<16;a++)b(V[a+1]);for(var s=0;s<=161;s++)b(X[s])}(),w(65498),w(12),b(3),b(1),b(0),b(2),b(17),b(3),b(17),b(0),b(63),b(0);var n=0,i=0,r=0;P=0,z=7,this.encode.displayName="_encode_";for(var o,a,s,l,u,c,h,d,f,p=t.data,g=t.width,m=t.height,y=4*g,v=0;v<m;){for(o=0;o<y;){for(c=u=y*v+o,f=0;f<64;f++)c=u+(d=f>>3)*y+(h=4*(7&f)),m<=v+d&&(c-=y*(v+1+d-m)),y<=o+h&&(c-=o+h-y+4),a=p[c++],s=p[c++],l=p[c++],j[f]=(B[a]+B[s+256>>0]+B[l+512>>0]>>16)-128,Y[f]=(B[a+768>>0]+B[s+1024>>0]+B[l+1280>>0]>>16)-128,R[f]=(B[a+1280>>0]+B[s+1536>>0]+B[l+1792>>0]>>16)-128;n=M(j,L,n,I,S),i=M(Y,k,i,C,T),r=M(R,k,r,C,T),o+=32}v+=8}0<=z&&((x=[])[1]=z+1,x[0]=(1<<z+1)-1,_(x)),w(65497);var x="data:image/jpeg;base64,"+btoa(O.join(""));return O=[],x},t=t||50,function(){for(var t=String.fromCharCode,e=0;e<256;e++)i[e]=t(e)}(),I=e(F,H),C=e(U,Z),S=e(W,G),T=e(V,X),function(){for(var t=1,e=2,n=1;n<=15;n++){for(var i=t;i<e;i++)m[32767+i]=n,g[32767+i]=[],g[32767+i][1]=n,g[32767+i][0]=i;for(var r=-(e-1);r<=-t;r++)m[32767+r]=n,g[32767+r]=[],g[32767+r][1]=n,g[32767+r][0]=e-1+r;t<<=1,e<<=1}}(),function(){for(var t=0;t<256;t++)B[t]=19595*t,B[t+256>>0]=38470*t,B[t+512>>0]=7471*t+32768,B[t+768>>0]=-11059*t,B[t+1024>>0]=-21709*t,B[t+1280>>0]=32768*t+8421375,B[t+1536>>0]=-27439*t,B[t+1792>>0]=-5329*t}(),A(t)}return n.encode=function(t,e){return new n(e).encode(t)},n}),t("runtime/html5/androidpatch",["runtime/html5/util","runtime/html5/jpegencoder","base"],function(t,a,s){var l,u=t.canvasToDataUrl;t.canvasToDataUrl=function(t,e,n){var i,r,o;return s.os.android?("image/jpeg"===e&&void 0===l&&(r=(r=(~(o=(r=u.apply(null,arguments)).split(","))[0].indexOf("base64")?atob:decodeURIComponent)(o[1])).substring(0,2),l=255===r.charCodeAt(0)&&216===r.charCodeAt(1)),"image/jpeg"!==e||l?u.apply(null,arguments):(i=t.width,o=t.height,r=t.getContext("2d"),a.encode(r.getImageData(0,0,i,o),n))):u.apply(null,arguments)}}),t("runtime/html5/image",["base","runtime/html5/runtime","runtime/html5/util"],function(i,t,r){return t.register("Image",{modified:!1,init:function(){var n=this,t=new Image;t.onload=function(){n._info={type:n.type,width:this.width,height:this.height},n._metas||"image/jpeg"!==n.type?n.owner.trigger("load"):r.parseMeta(n._blob,function(t,e){n._metas=e,n.owner.trigger("load")})},t.onerror=function(){n.owner.trigger("error")},n._img=t},loadFromBlob:function(t){var e=this._img;this._blob=t,this.type=t.type,e.src=r.createObjectURL(t.getSource()),this.owner.once("load",function(){r.revokeObjectURL(e.src)})},resize:function(t,e){var n=this._canvas||(this._canvas=document.createElement("canvas"));this._resize(this._img,n,t,e),this._blob=null,this.modified=!0,this.owner.trigger("complete","resize")},crop:function(t,e,n,i,r){var o=this._canvas||(this._canvas=document.createElement("canvas")),a=this.options,s=this._img,l=s.naturalWidth,u=s.naturalHeight,c=this.getOrientation();r=r||1,o.width=n,o.height=i,a.preserveHeaders||this._rotate2Orientaion(o,c),this._renderImageToCanvas(o,s,-t,-e,l*r,u*r),this._blob=null,this.modified=!0,this.owner.trigger("complete","crop")},getAsBlob:function(t){var e,n=this._blob,i=this.options;if(t=t||this.type,this.modified||this.type!==t){if(e=this._canvas,"image/jpeg"===t){if(n=r.canvasToDataUrl(e,t,i.quality),i.preserveHeaders&&this._metas&&this._metas.imageHead)return n=r.dataURL2ArrayBuffer(n),n=r.updateImageHead(n,this._metas.imageHead),r.arrayBufferToBlob(n,t)}else n=r.canvasToDataUrl(e,t);n=r.dataURL2Blob(n)}return n},getAsDataUrl:function(t){var e=this.options;return"image/jpeg"===(t=t||this.type)?r.canvasToDataUrl(this._canvas,t,e.quality):this._canvas.toDataURL(t)},getOrientation:function(){return this._metas&&this._metas.exif&&this._metas.exif.get("Orientation")||1},info:function(t){return t?(this._info=t,this):this._info},meta:function(t){return t?(this._metas=t,this):this._metas},destroy:function(){var t=this._canvas;this._img.onload=null,t&&(t.getContext("2d").clearRect(0,0,t.width,t.height),t.width=t.height=0,this._canvas=null),this._img.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs%3D",this._img=this._blob=null},_resize:function(t,e,n,i){var r,o=this.options,a=t.width,s=t.height,l=this.getOrientation();~[5,6,7,8].indexOf(l)&&(n^=i,n^=i^=n),r=Math[o.crop?"max":"min"](n/a,i/s),a=a*(r=!o.allowMagnify?Math.min(1,r):r),r=s*r,o.crop?(e.width=n,e.height=i):(e.width=a,e.height=r),n=(e.width-a)/2,i=(e.height-r)/2,o.preserveHeaders||this._rotate2Orientaion(e,l),this._renderImageToCanvas(e,t,n,i,a,r)},_rotate2Orientaion:function(t,e){var n=t.width,i=t.height,r=t.getContext("2d");switch(e){case 5:case 6:case 7:case 8:t.width=i,t.height=n}switch(e){case 2:r.translate(n,0),r.scale(-1,1);break;case 3:r.translate(n,i),r.rotate(Math.PI);break;case 4:r.translate(0,i),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-i);break;case 7:r.rotate(.5*Math.PI),r.translate(n,-i),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-n,0)}},_renderImageToCanvas:i.os.ios?7<=i.os.ios?function(t,e,n,i,r,o){var a=e.naturalWidth,s=e.naturalHeight,l=x(e,0,s);return t.getContext("2d").drawImage(e,0,0,a*l,s*l,n,i,r,o)}:function(t,e,n,i,r,o){var a,s,l,u,c,h,d,f=e.naturalWidth,p=e.naturalHeight,g=t.getContext("2d"),t=1048576<(t=(d=e).naturalWidth)*d.naturalHeight&&((m=document.createElement("canvas")).width=m.height=1,(m=m.getContext("2d")).drawImage(d,1-t,0),0===m.getImageData(0,0,1,1).data[3]),m="image/jpeg"===this.type,y=0,v=0;for(t&&(f/=2,p/=2),g.save(),(a=document.createElement("canvas")).width=a.height=1024,s=a.getContext("2d"),m=m?x(e,0,p):1,l=Math.ceil(1024*r/f),u=Math.ceil(1024*o/p/m);y<p;){for(h=c=0;c<f;)s.clearRect(0,0,1024,1024),s.drawImage(e,-c,-y),g.drawImage(a,0,0,1024,1024,n+h,i+v,l,u),c+=1024,h+=l;y+=1024,v+=u}g.restore()}:function(t){var e=i.slice(arguments,1),n=t.getContext("2d");n.drawImage.apply(n,e)}});function x(t,e,n){var i,r=document.createElement("canvas"),o=r.getContext("2d"),a=0,s=n,l=n;for(r.width=1,r.height=n,o.drawImage(t,0,0),i=o.getImageData(0,0,1,n).data;a<l;)0===i[4*(l-1)+3]?s=l:a=l,l=s+a>>1;return 0==(n=l/n)?1:n}}),t("runtime/html5/transport",["base","runtime/html5/runtime"],function(l,t){var i=l.noop,u=l.$;return t.register("Transport",{init:function(){this._status=0,this._response=null},send:function(){var n,t,e,i=this.owner,r=this.options,o=this._initAjax(),a=i._blob,s=r.server;r.sendAsBinary?(s+=(/\?/.test(s)?"&":"?")+u.param(i._formData),t=a.getSource()):(n=new FormData,u.each(i._formData,function(t,e){n.append(t,e)}),n.append(r.fileVal,a.getSource(),r.filename||i._formData.name||"")),r.withCredentials&&"withCredentials"in o?(o.open(r.method,s,!0),o.withCredentials=!0):o.open(r.method,s),this._setRequestHeader(o,r.headers),t?(o.overrideMimeType&&o.overrideMimeType("application/octet-stream"),l.os.android?((e=new FileReader).onload=function(){o.send(this.result),e=e.onload=null},e.readAsArrayBuffer(t)):o.send(t)):o.send(n)},getResponse:function(){return this._response},getResponseAsJson:function(){return this._parseJson(this._response)},getStatus:function(){return this._status},abort:function(){var t=this._xhr;t&&(t.upload.onprogress=i,t.onreadystatechange=i,t.abort(),this._xhr=t=null)},destroy:function(){this.abort()},_initAjax:function(){var n=this,t=new XMLHttpRequest,e=this.options;return(t=e.withCredentials&&!("withCredentials"in t)&&"undefined"!=typeof XDomainRequest?new XDomainRequest:t).upload.onprogress=function(t){var e=0;return t.lengthComputable&&(e=t.loaded/t.total),n.trigger("progress",e)},t.onreadystatechange=function(){return 4===t.readyState?(t.upload.onprogress=i,t.onreadystatechange=i,n._xhr=null,n._status=t.status,200<=t.status&&t.status<300?(n._response=t.responseText,n.trigger("load")):500<=t.status&&t.status<600?(n._response=t.responseText,n.trigger("error","server")):n.trigger("error",n._status?"http":"abort")):void 0},n._xhr=t},_setRequestHeader:function(n,t){u.each(t,function(t,e){n.setRequestHeader(t,e)})},_parseJson:function(t){var e;try{e=JSON.parse(t)}catch(t){e={}}return e}})}),t("runtime/html5/md5",["runtime/html5/runtime"],function(t){function a(t,e,n,i,r,o,a){return d(e&n|~e&i,t,e,r,o,a)}function s(t,e,n,i,r,o,a){return d(e&i|n&~i,t,e,r,o,a)}function l(t,e,n,i,r,o,a){return d(e^n^i,t,e,r,o,a)}function u(t,e,n,i,r,o,a){return d(n^(e|~i),t,e,r,o,a)}function c(t){for(var e=[],n=0;n<64;n+=4)e[n>>2]=t[n]+(t[n+1]<<8)+(t[n+2]<<16)+(t[n+3]<<24);return e}function n(t){for(var e,n,i,r,o=t.length,a=[1732584193,-271733879,-1732584194,271733878],s=64;s<=o;s+=64)f(a,p(t.substring(s-64,s)));for(e=(t=t.substring(s-64)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<e;s+=1)n[s>>2]|=t.charCodeAt(s)<<(s%4<<3);if(n[s>>2]|=128<<(s%4<<3),55<s)for(f(a,n),s=0;s<16;s+=1)n[s]=0;return r=(r=8*o).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),r=parseInt(r[1],16)||0,n[14]=i,n[15]=r,f(a,n),a}function o(t){for(var e=0;e<t.length;e+=1)t[e]=r(t[e]);return t.join("")}function e(){this.reset()}var h=function(t,e){return 4294967295&t+e},d=function(t,e,n,i,r,o){return e=h(h(e,t),h(i,o)),h(e<<r|e>>>32-r,n)},f=function(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],n=a(n,i,r,o,e[0],7,-680876936),o=a(o,n,i,r,e[1],12,-389564586),r=a(r,o,n,i,e[2],17,606105819),i=a(i,r,o,n,e[3],22,-1044525330);n=a(n,i,r,o,e[4],7,-176418897),o=a(o,n,i,r,e[5],12,1200080426),r=a(r,o,n,i,e[6],17,-1473231341),i=a(i,r,o,n,e[7],22,-45705983),n=a(n,i,r,o,e[8],7,1770035416),o=a(o,n,i,r,e[9],12,-1958414417),r=a(r,o,n,i,e[10],17,-42063),i=a(i,r,o,n,e[11],22,-1990404162),n=a(n,i,r,o,e[12],7,1804603682),o=a(o,n,i,r,e[13],12,-40341101),r=a(r,o,n,i,e[14],17,-1502002290),i=a(i,r,o,n,e[15],22,1236535329),n=s(n,i,r,o,e[1],5,-165796510),o=s(o,n,i,r,e[6],9,-1069501632),r=s(r,o,n,i,e[11],14,643717713),i=s(i,r,o,n,e[0],20,-373897302),n=s(n,i,r,o,e[5],5,-701558691),o=s(o,n,i,r,e[10],9,38016083),r=s(r,o,n,i,e[15],14,-660478335),i=s(i,r,o,n,e[4],20,-405537848),n=s(n,i,r,o,e[9],5,568446438),o=s(o,n,i,r,e[14],9,-1019803690),r=s(r,o,n,i,e[3],14,-187363961),i=s(i,r,o,n,e[8],20,1163531501),n=s(n,i,r,o,e[13],5,-1444681467),o=s(o,n,i,r,e[2],9,-51403784),r=s(r,o,n,i,e[7],14,1735328473),i=s(i,r,o,n,e[12],20,-1926607734),n=l(n,i,r,o,e[5],4,-378558),o=l(o,n,i,r,e[8],11,-2022574463),r=l(r,o,n,i,e[11],16,1839030562),i=l(i,r,o,n,e[14],23,-35309556),n=l(n,i,r,o,e[1],4,-1530992060),o=l(o,n,i,r,e[4],11,1272893353),r=l(r,o,n,i,e[7],16,-155497632),i=l(i,r,o,n,e[10],23,-1094730640),n=l(n,i,r,o,e[13],4,681279174),o=l(o,n,i,r,e[0],11,-358537222),r=l(r,o,n,i,e[3],16,-722521979),i=l(i,r,o,n,e[6],23,76029189),n=l(n,i,r,o,e[9],4,-640364487),o=l(o,n,i,r,e[12],11,-421815835),r=l(r,o,n,i,e[15],16,530742520),i=l(i,r,o,n,e[2],23,-995338651),n=u(n,i,r,o,e[0],6,-198630844),o=u(o,n,i,r,e[7],10,1126891415),r=u(r,o,n,i,e[14],15,-1416354905),i=u(i,r,o,n,e[5],21,-57434055),n=u(n,i,r,o,e[12],6,1700485571),o=u(o,n,i,r,e[3],10,-1894986606),r=u(r,o,n,i,e[10],15,-1051523),i=u(i,r,o,n,e[1],21,-2054922799),n=u(n,i,r,o,e[8],6,1873313359),o=u(o,n,i,r,e[15],10,-30611744),r=u(r,o,n,i,e[6],15,-1560198380),i=u(i,r,o,n,e[13],21,1309151649),n=u(n,i,r,o,e[4],6,-145523070),o=u(o,n,i,r,e[11],10,-1120210379),r=u(r,o,n,i,e[2],15,718787259),i=u(i,r,o,n,e[9],21,-343485551),t[0]=h(n,t[0]),t[1]=h(i,t[1]),t[2]=h(r,t[2]),t[3]=h(o,t[3])},p=function(t){for(var e=[],n=0;n<64;n+=4)e[n>>2]=t.charCodeAt(n)+(t.charCodeAt(n+1)<<8)+(t.charCodeAt(n+2)<<16)+(t.charCodeAt(n+3)<<24);return e},i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r=function(t){for(var e="",n=0;n<4;n+=1)e+=i[15&t>>8*n+4]+i[15&t>>8*n];return e};return"5d41402abc4b2a76b9719d911017c592"!==o(n("hello"))&&(h=function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}),e.prototype.append=function(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),this.appendBinary(t),this},e.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;for(var e=this._buff.length,n=64;n<=e;n+=64)f(this._state,p(this._buff.substring(n-64,n)));return this._buff=this._buff.substr(n-64),this},e.prototype.end=function(t){for(var e=this._buff,n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<n;r+=1)i[r>>2]|=e.charCodeAt(r)<<(r%4<<3);return this._finish(i,n),t=t?this._state:o(this._state),this.reset(),t},e.prototype._finish=function(t,e){var n,i=e;if(t[i>>2]|=128<<(i%4<<3),55<i)for(f(this._state,t),i=0;i<16;i+=1)t[i]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),e=parseInt(n[2],16),n=parseInt(n[1],16)||0,t[14]=e,t[15]=n,f(this._state,t)},e.prototype.reset=function(){return this._buff="",this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},e.prototype.destroy=function(){delete this._state,delete this._buff,delete this._length},e.hash=function(t,e){/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t)));t=n(t);return e?t:o(t)},e.hashBinary=function(t,e){t=n(t);return e?t:o(t)},(e.ArrayBuffer=function(){this.reset()}).prototype.append=function(t){var e,n=this._concatArrayBuffer(this._buff,t),i=n.length;for(this._length+=t.byteLength,e=64;e<=i;e+=64)f(this._state,c(n.subarray(e-64,e)));return this._buff=e-64<i?n.subarray(e-64):new Uint8Array(0),this},e.ArrayBuffer.prototype.end=function(t){for(var e=this._buff,n=e.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<n;r+=1)i[r>>2]|=e[r]<<(r%4<<3);return this._finish(i,n),t=t?this._state:o(this._state),this.reset(),t},e.ArrayBuffer.prototype._finish=e.prototype._finish,e.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._state=[1732584193,-271733879,-1732584194,271733878],this},e.ArrayBuffer.prototype.destroy=e.prototype.destroy,e.ArrayBuffer.prototype._concatArrayBuffer=function(t,e){var n=t.length,i=new Uint8Array(n+e.byteLength);return i.set(t),i.set(new Uint8Array(e),n),i},e.ArrayBuffer.hash=function(t,e){t=function(t){for(var e,n,i,r,o=t.length,a=[1732584193,-271733879,-1732584194,271733878],s=64;s<=o;s+=64)f(a,c(t.subarray(s-64,s)));for(e=(t=s-64<o?t.subarray(s-64):new Uint8Array(0)).length,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=0;s<e;s+=1)n[s>>2]|=t[s]<<(s%4<<3);if(n[s>>2]|=128<<(s%4<<3),55<s)for(f(a,n),s=0;s<16;s+=1)n[s]=0;return r=(r=8*o).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(r[2],16),r=parseInt(r[1],16)||0,n[14]=i,n[15]=r,f(a,n),a}(new Uint8Array(t));return e?t:o(t)},t.register("Md5",{init:function(){},loadFromBlob:function(n){var i=n.getSource(),r=2097152,o=Math.ceil(i.size/r),a=0,s=this.owner,l=new e.ArrayBuffer,u=this,c=i.mozSlice||i.webkitSlice||i.slice,h=new FileReader,d=function(){var t=a*r,e=Math.min(t+r,i.size);h.onload=function(t){l.append(t.target.result),s.trigger("progress",{total:n.size,loaded:e})},h.onloadend=function(){h.onloadend=h.onload=null,++a<o?setTimeout(d,1):setTimeout(function(){s.trigger("load"),u.result=l.end(),d=n=i=l=null,s.trigger("complete")},50)},h.readAsArrayBuffer(c.call(i,t,e))};d()},getResult:function(){return this.result}})}),t("runtime/flash/runtime",["base","runtime/runtime","runtime/compbase"],function(l,n,i){function t(){var o={},a={},t=this.destroy,s=this,e=l.guid("webuploader_");n.apply(s,arguments),s.type="flash",s.exec=function(t,e){var n,i=this.uid,r=l.slice(arguments,2);return a[i]=this,u[t]&&(o[i]||(o[i]=new u[t](this,s)),(n=o[i])[e])?n[e].apply(n,r):s.flashExec.apply(this,arguments)},f[e]=function(){var t=arguments;setTimeout(function(){!function(t,e){var n=t.type||t,i=n.split("::"),r=i[0];"Ready"===(n=i[1])&&r===s.uid?s.trigger("ready"):a[r]&&a[r].trigger(n.toLowerCase(),t,e)}.apply(null,t)},1)},this.jsreciver=e,this.destroy=function(){return t&&t.apply(this,arguments)},this.flashExec=function(t,e){var n=s.getFlash(),i=l.slice(arguments,2);return n.exec(this.uid,t,e,i)}}var r=l.$,u={};return l.inherits(n,{constructor:t,init:function(){var t,e=this.getContainer(),n=this.options;e.css({position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),t='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+n.swf+'" ',l.browser.ie&&(t+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),t+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+n.swf+'" /><param name="flashvars" value="uid='+this.uid+"&jsreciver="+this.jsreciver+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',e.html(t)},getFlash:function(){return this._flash||(this._flash=r("#"+this.uid).get(0),this._flash)}}),t.register=function(t,e){return u[t]=l.inherits(i,r.extend({flashExec:function(){var t=this.owner;return this.getRuntime().flashExec.apply(t,arguments)}},e))},11.4<=function(){var e;try{e=(e=navigator.plugins["Shockwave Flash"]).description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(t){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1],10)}()&&n.addRuntime("flash",t),t}),t("runtime/flash/filepicker",["base","runtime/flash/runtime"],function(t,e){var r=t.$;return e.register("FilePicker",{init:function(t){for(var e=r.extend({},t),n=e.accept&&e.accept.length,i=0;i<n;i++)e.accept[i].title||(e.accept[i].title="Files");delete e.button,delete e.id,delete e.container,this.flashExec("FilePicker","init",e)},destroy:function(){this.flashExec("FilePicker","destroy")}})}),t("runtime/flash/image",["runtime/flash/runtime"],function(t){return t.register("Image",{loadFromBlob:function(t){var e=this.owner;e.info()&&this.flashExec("Image","info",e.info()),e.meta()&&this.flashExec("Image","meta",e.meta()),this.flashExec("Image","loadFromBlob",t.uid)}})}),t("runtime/flash/transport",["base","runtime/flash/runtime","runtime/client"],function(t,e,n){var a=t.$;return e.register("Transport",{init:function(){this._status=0,this._response=null,this._responseJson=null},send:function(){var t,e=this.owner,n=this.options,i=this._initAjax(),r=e._blob,o=n.server;i.connectRuntime(r.ruid),n.sendAsBinary?(o+=(/\?/.test(o)?"&":"?")+a.param(e._formData),t=r.uid):(a.each(e._formData,function(t,e){i.exec("append",t,e)}),i.exec("appendBlob",n.fileVal,r.uid,n.filename||e._formData.name||"")),this._setRequestHeader(i,n.headers),i.exec("send",{method:n.method,url:o,forceURLStream:n.forceURLStream,mimeType:"application/octet-stream"},t)},getStatus:function(){return this._status},getResponse:function(){return this._response||""},getResponseAsJson:function(){return this._responseJson},abort:function(){var t=this._xhr;t&&(t.exec("abort"),t.destroy(),this._xhr=t=null)},destroy:function(){this.abort()},_initAjax:function(){var i=this,r=new n("XMLHttpRequest");return r.on("uploadprogress progress",function(t){t=t.loaded/t.total,t=Math.min(1,Math.max(0,t));return i.trigger("progress",t)}),r.on("load",function(){var t=r.exec("getStatus"),e=!1,n="";return r.off(),i._xhr=null,200<=t&&t<300?e=!0:n=500<=t&&t<600?(e=!0,"server"):"http",e&&(i._response=r.exec("getResponse"),i._response=decodeURIComponent(i._response),i._responseJson=i._response?function(t){try{return f.JSON&&f.JSON.parse?JSON.parse(t):new Function("return "+t).call()}catch(t){return{}}}(i._response):{}),r.destroy(),r=null,n?i.trigger("error",n):i.trigger("load")}),r.on("error",function(){r.off(),i._xhr=null,i.trigger("error","http")}),i._xhr=r},_setRequestHeader:function(n,t){a.each(t,function(t,e){n.exec("setRequestHeader",t,e)})}})}),t("runtime/flash/blob",["runtime/flash/runtime","lib/blob"],function(t,n){return t.register("Blob",{slice:function(t,e){e=this.flashExec("Blob","slice",t,e);return new n(this.getRuid(),e)}})}),t("runtime/flash/md5",["runtime/flash/runtime"],function(t){return t.register("Md5",{init:function(){},loadFromBlob:function(t){return this.flashExec("Md5","loadFromBlob",t.uid)}})}),t("preset/all",["base","widgets/filednd","widgets/filepaste","widgets/filepicker","widgets/image","widgets/queue","widgets/runtime","widgets/upload","widgets/validator","widgets/md5","runtime/html5/blob","runtime/html5/dnd","runtime/html5/filepaste","runtime/html5/filepicker","runtime/html5/imagemeta/exif","runtime/html5/androidpatch","runtime/html5/image","runtime/html5/transport","runtime/html5/md5","runtime/flash/filepicker","runtime/flash/image","runtime/flash/transport","runtime/flash/blob","runtime/flash/md5"],function(t){return t}),t("webuploader",["preset/all"],function(t){return t}),e("webuploader")));var f,e}var e,s={},r=function(t,e){var n,i,r;if("string"==typeof t)return a(t);for(n=[],i=t.length,r=0;r<i;r++)n.push(a(t[r]));return e.apply(null,n)},o=function(t,e,n){var i={exports:e};"function"==typeof e&&(n.length||(n=[r,i.exports,i]),void 0!==(n=e.apply(null,n))&&(i.exports=n)),s[t]=i.exports},a=function(t){var e=s[t]||n[t];if(!e)throw new Error("`"+t+"` is undefined");return e};"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define(["jquery"],t):(e=n.WebUploader,n.WebUploader=t(),n.WebUploader.noConflict=function(){n.WebUploader=e})}(window);